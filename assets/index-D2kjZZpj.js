(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function r(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(n){if(n.ep)return;n.ep=!0;const o=r(n);fetch(n.href,o)}})();/**
* @vue/shared v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function cv(t){const e=Object.create(null);for(const r of t.split(","))e[r]=1;return r=>r in e}const ze={},ss=[],di=()=>{},gC=()=>!1,Zd=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),dv=t=>t.startsWith("onUpdate:"),bt=Object.assign,uv=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},vC=Object.prototype.hasOwnProperty,xe=(t,e)=>vC.call(t,e),ue=Array.isArray,as=t=>eu(t)==="[object Map]",eS=t=>eu(t)==="[object Set]",ye=t=>typeof t=="function",ut=t=>typeof t=="string",Tn=t=>typeof t=="symbol",Ve=t=>t!==null&&typeof t=="object",tS=t=>(Ve(t)||ye(t))&&ye(t.then)&&ye(t.catch),rS=Object.prototype.toString,eu=t=>rS.call(t),mC=t=>eu(t).slice(8,-1),iS=t=>eu(t)==="[object Object]",hv=t=>ut(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,ma=cv(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),tu=t=>{const e=Object.create(null);return r=>e[r]||(e[r]=t(r))},yC=/-(\w)/g,bn=tu(t=>t.replace(yC,(e,r)=>r?r.toUpperCase():"")),bC=/\B([A-Z])/g,bo=tu(t=>t.replace(bC,"-$1").toLowerCase()),nS=tu(t=>t.charAt(0).toUpperCase()+t.slice(1)),hh=tu(t=>t?`on${nS(t)}`:""),cn=(t,e)=>!Object.is(t,e),fh=(t,...e)=>{for(let r=0;r<t.length;r++)t[r](...e)},oS=(t,e,r,i=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:i,value:r})},$C=t=>{const e=parseFloat(t);return isNaN(e)?t:e},wC=t=>{const e=ut(t)?Number(t):NaN;return isNaN(e)?t:e};let ay;const ru=()=>ay||(ay=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function kr(t){if(ue(t)){const e={};for(let r=0;r<t.length;r++){const i=t[r],n=ut(i)?EC(i):kr(i);if(n)for(const o in n)e[o]=n[o]}return e}else if(ut(t)||Ve(t))return t}const _C=/;(?![^(]*\))/g,SC=/:([^]+)/,IC=/\/\*[^]*?\*\//g;function EC(t){const e={};return t.replace(IC,"").split(_C).forEach(r=>{if(r){const i=r.split(SC);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function Hr(t){let e="";if(ut(t))e=t;else if(ue(t))for(let r=0;r<t.length;r++){const i=Hr(t[r]);i&&(e+=i+" ")}else if(Ve(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}const TC="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",OC=cv(TC);function sS(t){return!!t||t===""}const aS=t=>!!(t&&t.__v_isRef===!0),Te=t=>ut(t)?t:t==null?"":ue(t)||Ve(t)&&(t.toString===rS||!ye(t.toString))?aS(t)?Te(t.value):JSON.stringify(t,lS,2):String(t),lS=(t,e)=>aS(e)?lS(t,e.value):as(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[i,n],o)=>(r[ph(i,o)+" =>"]=n,r),{})}:eS(e)?{[`Set(${e.size})`]:[...e.values()].map(r=>ph(r))}:Tn(e)?ph(e):Ve(e)&&!ue(e)&&!iS(e)?String(e):e,ph=(t,e="")=>{var r;return Tn(t)?`Symbol(${(r=t.description)!=null?r:e})`:t};/**
* @vue/reactivity v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Nt;class cS{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Nt,!e&&Nt&&(this.index=(Nt.scopes||(Nt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].pause();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].resume();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].resume()}}run(e){if(this._active){const r=Nt;try{return Nt=this,e()}finally{Nt=r}}}on(){++this._on===1&&(this.prevScope=Nt,Nt=this)}off(){this._on>0&&--this._on===0&&(Nt=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let r,i;for(r=0,i=this.effects.length;r<i;r++)this.effects[r].stop();for(this.effects.length=0,r=0,i=this.cleanups.length;r<i;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,i=this.scopes.length;r<i;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function dS(t){return new cS(t)}function uS(){return Nt}function kC(t,e=!1){Nt&&Nt.cleanups.push(t)}let Be;const gh=new WeakSet;class hS{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Nt&&Nt.active&&Nt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,gh.has(this)&&(gh.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||pS(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,ly(this),gS(this);const e=Be,r=zr;Be=this,zr=!0;try{return this.fn()}finally{vS(this),Be=e,zr=r,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)gv(e);this.deps=this.depsTail=void 0,ly(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?gh.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Lp(this)&&this.run()}get dirty(){return Lp(this)}}let fS=0,ya,ba;function pS(t,e=!1){if(t.flags|=8,e){t.next=ba,ba=t;return}t.next=ya,ya=t}function fv(){fS++}function pv(){if(--fS>0)return;if(ba){let e=ba;for(ba=void 0;e;){const r=e.next;e.next=void 0,e.flags&=-9,e=r}}let t;for(;ya;){let e=ya;for(ya=void 0;e;){const r=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(i){t||(t=i)}e=r}}if(t)throw t}function gS(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function vS(t){let e,r=t.depsTail,i=r;for(;i;){const n=i.prevDep;i.version===-1?(i===r&&(r=n),gv(i),xC(i)):e=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=n}t.deps=e,t.depsTail=r}function Lp(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(mS(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function mS(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Na)||(t.globalVersion=Na,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!Lp(t))))return;t.flags|=2;const e=t.dep,r=Be,i=zr;Be=t,zr=!0;try{gS(t);const n=t.fn(t._value);(e.version===0||cn(n,t._value))&&(t.flags|=128,t._value=n,e.version++)}catch(n){throw e.version++,n}finally{Be=r,zr=i,vS(t),t.flags&=-3}}function gv(t,e=!1){const{dep:r,prevSub:i,nextSub:n}=t;if(i&&(i.nextSub=n,t.prevSub=void 0),n&&(n.prevSub=i,t.nextSub=void 0),r.subs===t&&(r.subs=i,!i&&r.computed)){r.computed.flags&=-5;for(let o=r.computed.deps;o;o=o.nextDep)gv(o,!0)}!e&&!--r.sc&&r.map&&r.map.delete(r.key)}function xC(t){const{prevDep:e,nextDep:r}=t;e&&(e.nextDep=r,t.prevDep=void 0),r&&(r.prevDep=e,t.nextDep=void 0)}let zr=!0;const yS=[];function Di(){yS.push(zr),zr=!1}function Mi(){const t=yS.pop();zr=t===void 0?!0:t}function ly(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const r=Be;Be=void 0;try{e()}finally{Be=r}}}let Na=0;class AC{constructor(e,r){this.sub=e,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class vv{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Be||!zr||Be===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==Be)r=this.activeLink=new AC(Be,this),Be.deps?(r.prevDep=Be.depsTail,Be.depsTail.nextDep=r,Be.depsTail=r):Be.deps=Be.depsTail=r,bS(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const i=r.nextDep;i.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=i),r.prevDep=Be.depsTail,r.nextDep=void 0,Be.depsTail.nextDep=r,Be.depsTail=r,Be.deps===r&&(Be.deps=i)}return r}trigger(e){this.version++,Na++,this.notify(e)}notify(e){fv();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{pv()}}}function bS(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let i=e.deps;i;i=i.nextDep)bS(i)}const r=t.dep.subs;r!==t&&(t.prevSub=r,r&&(r.nextSub=t)),t.dep.subs=t}}const md=new WeakMap,Gn=Symbol(""),jp=Symbol(""),Fa=Symbol("");function Ft(t,e,r){if(zr&&Be){let i=md.get(t);i||md.set(t,i=new Map);let n=i.get(r);n||(i.set(r,n=new vv),n.map=i,n.key=r),n.track()}}function wi(t,e,r,i,n,o){const s=md.get(t);if(!s){Na++;return}const a=l=>{l&&l.trigger()};if(fv(),e==="clear")s.forEach(a);else{const l=ue(t),c=l&&hv(r);if(l&&r==="length"){const d=Number(i);s.forEach((u,h)=>{(h==="length"||h===Fa||!Tn(h)&&h>=d)&&a(u)})}else switch((r!==void 0||s.has(void 0))&&a(s.get(r)),c&&a(s.get(Fa)),e){case"add":l?c&&a(s.get("length")):(a(s.get(Gn)),as(t)&&a(s.get(jp)));break;case"delete":l||(a(s.get(Gn)),as(t)&&a(s.get(jp)));break;case"set":as(t)&&a(s.get(Gn));break}}pv()}function CC(t,e){const r=md.get(t);return r&&r.get(e)}function Do(t){const e=Ie(t);return e===t?e:(Ft(e,"iterate",Fa),xr(t)?e:e.map(At))}function iu(t){return Ft(t=Ie(t),"iterate",Fa),t}const PC={__proto__:null,[Symbol.iterator](){return vh(this,Symbol.iterator,At)},concat(...t){return Do(this).concat(...t.map(e=>ue(e)?Do(e):e))},entries(){return vh(this,"entries",t=>(t[1]=At(t[1]),t))},every(t,e){return bi(this,"every",t,e,void 0,arguments)},filter(t,e){return bi(this,"filter",t,e,r=>r.map(At),arguments)},find(t,e){return bi(this,"find",t,e,At,arguments)},findIndex(t,e){return bi(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return bi(this,"findLast",t,e,At,arguments)},findLastIndex(t,e){return bi(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return bi(this,"forEach",t,e,void 0,arguments)},includes(...t){return mh(this,"includes",t)},indexOf(...t){return mh(this,"indexOf",t)},join(t){return Do(this).join(t)},lastIndexOf(...t){return mh(this,"lastIndexOf",t)},map(t,e){return bi(this,"map",t,e,void 0,arguments)},pop(){return ra(this,"pop")},push(...t){return ra(this,"push",t)},reduce(t,...e){return cy(this,"reduce",t,e)},reduceRight(t,...e){return cy(this,"reduceRight",t,e)},shift(){return ra(this,"shift")},some(t,e){return bi(this,"some",t,e,void 0,arguments)},splice(...t){return ra(this,"splice",t)},toReversed(){return Do(this).toReversed()},toSorted(t){return Do(this).toSorted(t)},toSpliced(...t){return Do(this).toSpliced(...t)},unshift(...t){return ra(this,"unshift",t)},values(){return vh(this,"values",At)}};function vh(t,e,r){const i=iu(t),n=i[e]();return i!==t&&!xr(t)&&(n._next=n.next,n.next=()=>{const o=n._next();return o.value&&(o.value=r(o.value)),o}),n}const DC=Array.prototype;function bi(t,e,r,i,n,o){const s=iu(t),a=s!==t&&!xr(t),l=s[e];if(l!==DC[e]){const u=l.apply(t,o);return a?At(u):u}let c=r;s!==t&&(a?c=function(u,h){return r.call(this,At(u),h,t)}:r.length>2&&(c=function(u,h){return r.call(this,u,h,t)}));const d=l.call(s,c,i);return a&&n?n(d):d}function cy(t,e,r,i){const n=iu(t);let o=r;return n!==t&&(xr(t)?r.length>3&&(o=function(s,a,l){return r.call(this,s,a,l,t)}):o=function(s,a,l){return r.call(this,s,At(a),l,t)}),n[e](o,...i)}function mh(t,e,r){const i=Ie(t);Ft(i,"iterate",Fa);const n=i[e](...r);return(n===-1||n===!1)&&bv(r[0])?(r[0]=Ie(r[0]),i[e](...r)):n}function ra(t,e,r=[]){Di(),fv();const i=Ie(t)[e].apply(t,r);return pv(),Mi(),i}const MC=cv("__proto__,__v_isRef,__isVue"),$S=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Tn));function RC(t){Tn(t)||(t=String(t));const e=Ie(this);return Ft(e,"has",t),e.hasOwnProperty(t)}class wS{constructor(e=!1,r=!1){this._isReadonly=e,this._isShallow=r}get(e,r,i){if(r==="__v_skip")return e.__v_skip;const n=this._isReadonly,o=this._isShallow;if(r==="__v_isReactive")return!n;if(r==="__v_isReadonly")return n;if(r==="__v_isShallow")return o;if(r==="__v_raw")return i===(n?o?VC:ES:o?IS:SS).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(i)?e:void 0;const s=ue(e);if(!n){let l;if(s&&(l=PC[r]))return l;if(r==="hasOwnProperty")return RC}const a=Reflect.get(e,r,ct(e)?e:i);return(Tn(r)?$S.has(r):MC(r))||(n||Ft(e,"get",r),o)?a:ct(a)?s&&hv(r)?a:a.value:Ve(a)?n?TS(a):nu(a):a}}class _S extends wS{constructor(e=!1){super(!1,e)}set(e,r,i,n){let o=e[r];if(!this._isShallow){const l=$n(o);if(!xr(i)&&!$n(i)&&(o=Ie(o),i=Ie(i)),!ue(e)&&ct(o)&&!ct(i))return l?!1:(o.value=i,!0)}const s=ue(e)&&hv(r)?Number(r)<e.length:xe(e,r),a=Reflect.set(e,r,i,ct(e)?e:n);return e===Ie(n)&&(s?cn(i,o)&&wi(e,"set",r,i):wi(e,"add",r,i)),a}deleteProperty(e,r){const i=xe(e,r);e[r];const n=Reflect.deleteProperty(e,r);return n&&i&&wi(e,"delete",r,void 0),n}has(e,r){const i=Reflect.has(e,r);return(!Tn(r)||!$S.has(r))&&Ft(e,"has",r),i}ownKeys(e){return Ft(e,"iterate",ue(e)?"length":Gn),Reflect.ownKeys(e)}}class NC extends wS{constructor(e=!1){super(!0,e)}set(e,r){return!0}deleteProperty(e,r){return!0}}const FC=new _S,qC=new NC,BC=new _S(!0);const zp=t=>t,sc=t=>Reflect.getPrototypeOf(t);function LC(t,e,r){return function(...i){const n=this.__v_raw,o=Ie(n),s=as(o),a=t==="entries"||t===Symbol.iterator&&s,l=t==="keys"&&s,c=n[t](...i),d=r?zp:e?yd:At;return!e&&Ft(o,"iterate",l?jp:Gn),{next(){const{value:u,done:h}=c.next();return h?{value:u,done:h}:{value:a?[d(u[0]),d(u[1])]:d(u),done:h}},[Symbol.iterator](){return this}}}}function ac(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function jC(t,e){const r={get(n){const o=this.__v_raw,s=Ie(o),a=Ie(n);t||(cn(n,a)&&Ft(s,"get",n),Ft(s,"get",a));const{has:l}=sc(s),c=e?zp:t?yd:At;if(l.call(s,n))return c(o.get(n));if(l.call(s,a))return c(o.get(a));o!==s&&o.get(n)},get size(){const n=this.__v_raw;return!t&&Ft(Ie(n),"iterate",Gn),Reflect.get(n,"size",n)},has(n){const o=this.__v_raw,s=Ie(o),a=Ie(n);return t||(cn(n,a)&&Ft(s,"has",n),Ft(s,"has",a)),n===a?o.has(n):o.has(n)||o.has(a)},forEach(n,o){const s=this,a=s.__v_raw,l=Ie(a),c=e?zp:t?yd:At;return!t&&Ft(l,"iterate",Gn),a.forEach((d,u)=>n.call(o,c(d),c(u),s))}};return bt(r,t?{add:ac("add"),set:ac("set"),delete:ac("delete"),clear:ac("clear")}:{add(n){!e&&!xr(n)&&!$n(n)&&(n=Ie(n));const o=Ie(this);return sc(o).has.call(o,n)||(o.add(n),wi(o,"add",n,n)),this},set(n,o){!e&&!xr(o)&&!$n(o)&&(o=Ie(o));const s=Ie(this),{has:a,get:l}=sc(s);let c=a.call(s,n);c||(n=Ie(n),c=a.call(s,n));const d=l.call(s,n);return s.set(n,o),c?cn(o,d)&&wi(s,"set",n,o):wi(s,"add",n,o),this},delete(n){const o=Ie(this),{has:s,get:a}=sc(o);let l=s.call(o,n);l||(n=Ie(n),l=s.call(o,n)),a&&a.call(o,n);const c=o.delete(n);return l&&wi(o,"delete",n,void 0),c},clear(){const n=Ie(this),o=n.size!==0,s=n.clear();return o&&wi(n,"clear",void 0,void 0),s}}),["keys","values","entries",Symbol.iterator].forEach(n=>{r[n]=LC(n,t,e)}),r}function mv(t,e){const r=jC(t,e);return(i,n,o)=>n==="__v_isReactive"?!t:n==="__v_isReadonly"?t:n==="__v_raw"?i:Reflect.get(xe(r,n)&&n in i?r:i,n,o)}const zC={get:mv(!1,!1)},HC={get:mv(!1,!0)},WC={get:mv(!0,!1)};const SS=new WeakMap,IS=new WeakMap,ES=new WeakMap,VC=new WeakMap;function UC(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function YC(t){return t.__v_skip||!Object.isExtensible(t)?0:UC(mC(t))}function nu(t){return $n(t)?t:yv(t,!1,FC,zC,SS)}function GC(t){return yv(t,!1,BC,HC,IS)}function TS(t){return yv(t,!0,qC,WC,ES)}function yv(t,e,r,i,n){if(!Ve(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=YC(t);if(o===0)return t;const s=n.get(t);if(s)return s;const a=new Proxy(t,o===2?i:r);return n.set(t,a),a}function dn(t){return $n(t)?dn(t.__v_raw):!!(t&&t.__v_isReactive)}function $n(t){return!!(t&&t.__v_isReadonly)}function xr(t){return!!(t&&t.__v_isShallow)}function bv(t){return t?!!t.__v_raw:!1}function Ie(t){const e=t&&t.__v_raw;return e?Ie(e):t}function $v(t){return!xe(t,"__v_skip")&&Object.isExtensible(t)&&oS(t,"__v_skip",!0),t}const At=t=>Ve(t)?nu(t):t,yd=t=>Ve(t)?TS(t):t;function ct(t){return t?t.__v_isRef===!0:!1}function It(t){return KC(t,!1)}function KC(t,e){return ct(t)?t:new XC(t,e)}class XC{constructor(e,r){this.dep=new vv,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?e:Ie(e),this._value=r?e:At(e),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(e){const r=this._rawValue,i=this.__v_isShallow||xr(e)||$n(e);e=i?e:Ie(e),cn(e,r)&&(this._rawValue=e,this._value=i?e:At(e),this.dep.trigger())}}function U(t){return ct(t)?t.value:t}const JC={get:(t,e,r)=>e==="__v_raw"?t:U(Reflect.get(t,e,r)),set:(t,e,r,i)=>{const n=t[e];return ct(n)&&!ct(r)?(n.value=r,!0):Reflect.set(t,e,r,i)}};function OS(t){return dn(t)?t:new Proxy(t,JC)}function QC(t){const e=ue(t)?new Array(t.length):{};for(const r in t)e[r]=eP(t,r);return e}class ZC{constructor(e,r,i){this._object=e,this._key=r,this._defaultValue=i,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return CC(Ie(this._object),this._key)}}function eP(t,e,r){const i=t[e];return ct(i)?i:new ZC(t,e,r)}class tP{constructor(e,r,i){this.fn=e,this.setter=r,this._value=void 0,this.dep=new vv(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Na-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&Be!==this)return pS(this,!0),!0}get value(){const e=this.dep.track();return mS(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function rP(t,e,r=!1){let i,n;return ye(t)?i=t:(i=t.get,n=t.set),new tP(i,n,r)}const lc={},bd=new WeakMap;let zn;function iP(t,e=!1,r=zn){if(r){let i=bd.get(r);i||bd.set(r,i=[]),i.push(t)}}function nP(t,e,r=ze){const{immediate:i,deep:n,once:o,scheduler:s,augmentJob:a,call:l}=r,c=_=>n?_:xr(_)||n===!1||n===0?nn(_,1):nn(_);let d,u,h,f,p=!1,v=!1;if(ct(t)?(u=()=>t.value,p=xr(t)):dn(t)?(u=()=>c(t),p=!0):ue(t)?(v=!0,p=t.some(_=>dn(_)||xr(_)),u=()=>t.map(_=>{if(ct(_))return _.value;if(dn(_))return c(_);if(ye(_))return l?l(_,2):_()})):ye(t)?e?u=l?()=>l(t,2):t:u=()=>{if(h){Di();try{h()}finally{Mi()}}const _=zn;zn=d;try{return l?l(t,3,[f]):t(f)}finally{zn=_}}:u=di,e&&n){const _=u,E=n===!0?1/0:n;u=()=>nn(_(),E)}const y=uS(),m=()=>{d.stop(),y&&y.active&&uv(y.effects,d)};if(o&&e){const _=e;e=(...E)=>{_(...E),m()}}let $=v?new Array(t.length).fill(lc):lc;const S=_=>{if(!(!(d.flags&1)||!d.dirty&&!_))if(e){const E=d.run();if(n||p||(v?E.some((W,X)=>cn(W,$[X])):cn(E,$))){h&&h();const W=zn;zn=d;try{const X=[E,$===lc?void 0:v&&$[0]===lc?[]:$,f];$=E,l?l(e,3,X):e(...X)}finally{zn=W}}}else d.run()};return a&&a(S),d=new hS(u),d.scheduler=s?()=>s(S,!1):S,f=_=>iP(_,!1,d),h=d.onStop=()=>{const _=bd.get(d);if(_){if(l)l(_,4);else for(const E of _)E();bd.delete(d)}},e?i?S(!0):$=d.run():s?s(S.bind(null,!0),!0):d.run(),m.pause=d.pause.bind(d),m.resume=d.resume.bind(d),m.stop=m,m}function nn(t,e=1/0,r){if(e<=0||!Ve(t)||t.__v_skip||(r=r||new Set,r.has(t)))return t;if(r.add(t),e--,ct(t))nn(t.value,e,r);else if(ue(t))for(let i=0;i<t.length;i++)nn(t[i],e,r);else if(eS(t)||as(t))t.forEach(i=>{nn(i,e,r)});else if(iS(t)){for(const i in t)nn(t[i],e,r);for(const i of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,i)&&nn(t[i],e,r)}return t}/**
* @vue/runtime-core v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function al(t,e,r,i){try{return i?t(...i):t()}catch(n){ou(n,e,r)}}function Wr(t,e,r,i){if(ye(t)){const n=al(t,e,r,i);return n&&tS(n)&&n.catch(o=>{ou(o,e,r)}),n}if(ue(t)){const n=[];for(let o=0;o<t.length;o++)n.push(Wr(t[o],e,r,i));return n}}function ou(t,e,r,i=!0){const n=e?e.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:s}=e&&e.appContext.config||ze;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${r}`;for(;a;){const d=a.ec;if(d){for(let u=0;u<d.length;u++)if(d[u](t,l,c)===!1)return}a=a.parent}if(o){Di(),al(o,null,10,[t,l,c]),Mi();return}}oP(t,r,n,i,s)}function oP(t,e,r,i=!0,n=!1){if(n)throw t;console.error(t)}const Vt=[];let ni=-1;const ls=[];let Qi=null,Yo=0;const kS=Promise.resolve();let $d=null;function wv(t){const e=$d||kS;return t?e.then(this?t.bind(this):t):e}function sP(t){let e=ni+1,r=Vt.length;for(;e<r;){const i=e+r>>>1,n=Vt[i],o=qa(n);o<t||o===t&&n.flags&2?e=i+1:r=i}return e}function _v(t){if(!(t.flags&1)){const e=qa(t),r=Vt[Vt.length-1];!r||!(t.flags&2)&&e>=qa(r)?Vt.push(t):Vt.splice(sP(e),0,t),t.flags|=1,xS()}}function xS(){$d||($d=kS.then(CS))}function aP(t){ue(t)?ls.push(...t):Qi&&t.id===-1?Qi.splice(Yo+1,0,t):t.flags&1||(ls.push(t),t.flags|=1),xS()}function dy(t,e,r=ni+1){for(;r<Vt.length;r++){const i=Vt[r];if(i&&i.flags&2){if(t&&i.id!==t.uid)continue;Vt.splice(r,1),r--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function AS(t){if(ls.length){const e=[...new Set(ls)].sort((r,i)=>qa(r)-qa(i));if(ls.length=0,Qi){Qi.push(...e);return}for(Qi=e,Yo=0;Yo<Qi.length;Yo++){const r=Qi[Yo];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}Qi=null,Yo=0}}const qa=t=>t.id==null?t.flags&2?-1:1/0:t.id;function CS(t){try{for(ni=0;ni<Vt.length;ni++){const e=Vt[ni];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),al(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;ni<Vt.length;ni++){const e=Vt[ni];e&&(e.flags&=-2)}ni=-1,Vt.length=0,AS(),$d=null,(Vt.length||ls.length)&&CS()}}let Or=null,PS=null;function wd(t){const e=Or;return Or=t,PS=t&&t.type.__scopeId||null,e}function Ri(t,e=Or,r){if(!e||t._n)return t;const i=(...n)=>{i._d&&$y(-1);const o=wd(e);let s;try{s=t(...n)}finally{wd(o),i._d&&$y(1)}return s};return i._n=!0,i._c=!0,i._d=!0,i}function Nn(t,e,r,i){const n=t.dirs,o=e&&e.dirs;for(let s=0;s<n.length;s++){const a=n[s];o&&(a.oldValue=o[s].value);let l=a.dir[i];l&&(Di(),Wr(l,r,8,[t.el,a,t,e]),Mi())}}const lP=Symbol("_vte"),DS=t=>t.__isTeleport,Zi=Symbol("_leaveCb"),cc=Symbol("_enterCb");function MS(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return As(()=>{t.isMounted=!0}),zS(()=>{t.isUnmounting=!0}),t}const Sr=[Function,Array],RS={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Sr,onEnter:Sr,onAfterEnter:Sr,onEnterCancelled:Sr,onBeforeLeave:Sr,onLeave:Sr,onAfterLeave:Sr,onLeaveCancelled:Sr,onBeforeAppear:Sr,onAppear:Sr,onAfterAppear:Sr,onAppearCancelled:Sr},NS=t=>{const e=t.subTree;return e.component?NS(e.component):e},cP={name:"BaseTransition",props:RS,setup(t,{slots:e}){const r=cI(),i=MS();return()=>{const n=e.default&&Sv(e.default(),!0);if(!n||!n.length)return;const o=FS(n),s=Ie(t),{mode:a}=s;if(i.isLeaving)return yh(o);const l=uy(o);if(!l)return yh(o);let c=Ba(l,s,i,r,u=>c=u);l.type!==Yt&&ao(l,c);let d=r.subTree&&uy(r.subTree);if(d&&d.type!==Yt&&!Wn(l,d)&&NS(r).type!==Yt){let u=Ba(d,s,i,r);if(ao(d,u),a==="out-in"&&l.type!==Yt)return i.isLeaving=!0,u.afterLeave=()=>{i.isLeaving=!1,r.job.flags&8||r.update(),delete u.afterLeave,d=void 0},yh(o);a==="in-out"&&l.type!==Yt?u.delayLeave=(h,f,p)=>{const v=qS(i,d);v[String(d.key)]=d,h[Zi]=()=>{f(),h[Zi]=void 0,delete c.delayedLeave,d=void 0},c.delayedLeave=()=>{p(),delete c.delayedLeave,d=void 0}}:d=void 0}else d&&(d=void 0);return o}}};function FS(t){let e=t[0];if(t.length>1){for(const r of t)if(r.type!==Yt){e=r;break}}return e}const dP=cP;function qS(t,e){const{leavingVNodes:r}=t;let i=r.get(e.type);return i||(i=Object.create(null),r.set(e.type,i)),i}function Ba(t,e,r,i,n){const{appear:o,mode:s,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:d,onEnterCancelled:u,onBeforeLeave:h,onLeave:f,onAfterLeave:p,onLeaveCancelled:v,onBeforeAppear:y,onAppear:m,onAfterAppear:$,onAppearCancelled:S}=e,_=String(t.key),E=qS(r,t),W=(R,x)=>{R&&Wr(R,i,9,x)},X=(R,x)=>{const D=x[1];W(R,x),ue(R)?R.every(P=>P.length<=1)&&D():R.length<=1&&D()},z={mode:s,persisted:a,beforeEnter(R){let x=l;if(!r.isMounted)if(o)x=y||l;else return;R[Zi]&&R[Zi](!0);const D=E[_];D&&Wn(t,D)&&D.el[Zi]&&D.el[Zi](),W(x,[R])},enter(R){let x=c,D=d,P=u;if(!r.isMounted)if(o)x=m||c,D=$||d,P=S||u;else return;let oe=!1;const me=R[cc]=ve=>{oe||(oe=!0,ve?W(P,[R]):W(D,[R]),z.delayedLeave&&z.delayedLeave(),R[cc]=void 0)};x?X(x,[R,me]):me()},leave(R,x){const D=String(t.key);if(R[cc]&&R[cc](!0),r.isUnmounting)return x();W(h,[R]);let P=!1;const oe=R[Zi]=me=>{P||(P=!0,x(),me?W(v,[R]):W(p,[R]),R[Zi]=void 0,E[D]===t&&delete E[D])};E[D]=t,f?X(f,[R,oe]):oe()},clone(R){const x=Ba(R,e,r,i,n);return n&&n(x),x}};return z}function yh(t){if(su(t))return t=wn(t),t.children=null,t}function uy(t){if(!su(t))return DS(t.type)&&t.children?FS(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:e,children:r}=t;if(r){if(e&16)return r[0];if(e&32&&ye(r.default))return r.default()}}function ao(t,e){t.shapeFlag&6&&t.component?(t.transition=e,ao(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Sv(t,e=!1,r){let i=[],n=0;for(let o=0;o<t.length;o++){let s=t[o];const a=r==null?s.key:String(r)+String(s.key!=null?s.key:o);s.type===_e?(s.patchFlag&128&&n++,i=i.concat(Sv(s.children,e,a))):(e||s.type!==Yt)&&i.push(a!=null?wn(s,{key:a}):s)}if(n>1)for(let o=0;o<i.length;o++)i[o].patchFlag=-2;return i}/*! #__NO_SIDE_EFFECTS__ */function We(t,e){return ye(t)?bt({name:t.name},e,{setup:t}):t}function BS(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function _d(t,e,r,i,n=!1){if(ue(t)){t.forEach((p,v)=>_d(p,e&&(ue(e)?e[v]:e),r,i,n));return}if($a(i)&&!n){i.shapeFlag&512&&i.type.__asyncResolved&&i.component.subTree.component&&_d(t,e,r,i.component.subTree);return}const o=i.shapeFlag&4?Ov(i.component):i.el,s=n?null:o,{i:a,r:l}=t,c=e&&e.r,d=a.refs===ze?a.refs={}:a.refs,u=a.setupState,h=Ie(u),f=u===ze?()=>!1:p=>xe(h,p);if(c!=null&&c!==l&&(ut(c)?(d[c]=null,f(c)&&(u[c]=null)):ct(c)&&(c.value=null)),ye(l))al(l,a,12,[s,d]);else{const p=ut(l),v=ct(l);if(p||v){const y=()=>{if(t.f){const m=p?f(l)?u[l]:d[l]:l.value;n?ue(m)&&uv(m,o):ue(m)?m.includes(o)||m.push(o):p?(d[l]=[o],f(l)&&(u[l]=d[l])):(l.value=[o],t.k&&(d[t.k]=l.value))}else p?(d[l]=s,f(l)&&(u[l]=s)):v&&(l.value=s,t.k&&(d[t.k]=s))};s?(y.id=-1,gr(y,r)):y()}}}ru().requestIdleCallback;ru().cancelIdleCallback;const $a=t=>!!t.type.__asyncLoader,su=t=>t.type.__isKeepAlive;function uP(t,e){LS(t,"a",e)}function hP(t,e){LS(t,"da",e)}function LS(t,e,r=Ct){const i=t.__wdc||(t.__wdc=()=>{let n=r;for(;n;){if(n.isDeactivated)return;n=n.parent}return t()});if(au(e,i,r),r){let n=r.parent;for(;n&&n.parent;)su(n.parent.vnode)&&fP(i,e,r,n),n=n.parent}}function fP(t,e,r,i){const n=au(e,t,i,!0);HS(()=>{uv(i[e],n)},r)}function au(t,e,r=Ct,i=!1){if(r){const n=r[t]||(r[t]=[]),o=e.__weh||(e.__weh=(...s)=>{Di();const a=ll(r),l=Wr(e,r,t,s);return a(),Mi(),l});return i?n.unshift(o):n.push(o),o}}const Li=t=>(e,r=Ct)=>{(!ja||t==="sp")&&au(t,(...i)=>e(...i),r)},pP=Li("bm"),As=Li("m"),gP=Li("bu"),jS=Li("u"),zS=Li("bum"),HS=Li("um"),vP=Li("sp"),mP=Li("rtg"),yP=Li("rtc");function bP(t,e=Ct){au("ec",t,e)}const $P=Symbol.for("v-ndc");function br(t,e,r,i){let n;const o=r,s=ue(t);if(s||ut(t)){const a=s&&dn(t);let l=!1,c=!1;a&&(l=!xr(t),c=$n(t),t=iu(t)),n=new Array(t.length);for(let d=0,u=t.length;d<u;d++)n[d]=e(l?c?yd(At(t[d])):At(t[d]):t[d],d,void 0,o)}else if(typeof t=="number"){n=new Array(t);for(let a=0;a<t;a++)n[a]=e(a+1,a,void 0,o)}else if(Ve(t))if(t[Symbol.iterator])n=Array.from(t,(a,l)=>e(a,l,void 0,o));else{const a=Object.keys(t);n=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const d=a[l];n[l]=e(t[d],d,l,o)}}else n=[];return n}const Hp=t=>t?dI(t)?Ov(t):Hp(t.parent):null,wa=bt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Hp(t.parent),$root:t=>Hp(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>VS(t),$forceUpdate:t=>t.f||(t.f=()=>{_v(t.update)}),$nextTick:t=>t.n||(t.n=wv.bind(t.proxy)),$watch:t=>HP.bind(t)}),bh=(t,e)=>t!==ze&&!t.__isScriptSetup&&xe(t,e),wP={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:r,setupState:i,data:n,props:o,accessCache:s,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const f=s[e];if(f!==void 0)switch(f){case 1:return i[e];case 2:return n[e];case 4:return r[e];case 3:return o[e]}else{if(bh(i,e))return s[e]=1,i[e];if(n!==ze&&xe(n,e))return s[e]=2,n[e];if((c=t.propsOptions[0])&&xe(c,e))return s[e]=3,o[e];if(r!==ze&&xe(r,e))return s[e]=4,r[e];Wp&&(s[e]=0)}}const d=wa[e];let u,h;if(d)return e==="$attrs"&&Ft(t.attrs,"get",""),d(t);if((u=a.__cssModules)&&(u=u[e]))return u;if(r!==ze&&xe(r,e))return s[e]=4,r[e];if(h=l.config.globalProperties,xe(h,e))return h[e]},set({_:t},e,r){const{data:i,setupState:n,ctx:o}=t;return bh(n,e)?(n[e]=r,!0):i!==ze&&xe(i,e)?(i[e]=r,!0):xe(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(o[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:i,appContext:n,propsOptions:o}},s){let a;return!!r[s]||t!==ze&&xe(t,s)||bh(e,s)||(a=o[0])&&xe(a,s)||xe(i,s)||xe(wa,s)||xe(n.config.globalProperties,s)},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:xe(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}};function hy(t){return ue(t)?t.reduce((e,r)=>(e[r]=null,e),{}):t}let Wp=!0;function _P(t){const e=VS(t),r=t.proxy,i=t.ctx;Wp=!1,e.beforeCreate&&fy(e.beforeCreate,t,"bc");const{data:n,computed:o,methods:s,watch:a,provide:l,inject:c,created:d,beforeMount:u,mounted:h,beforeUpdate:f,updated:p,activated:v,deactivated:y,beforeDestroy:m,beforeUnmount:$,destroyed:S,unmounted:_,render:E,renderTracked:W,renderTriggered:X,errorCaptured:z,serverPrefetch:R,expose:x,inheritAttrs:D,components:P,directives:oe,filters:me}=e;if(c&&SP(c,i,null),s)for(const Q in s){const ae=s[Q];ye(ae)&&(i[Q]=ae.bind(r))}if(n){const Q=n.call(r,r);Ve(Q)&&(t.data=nu(Q))}if(Wp=!0,o)for(const Q in o){const ae=o[Q],Me=ye(ae)?ae.bind(r,r):ye(ae.get)?ae.get.bind(r,r):di,Xe=!ye(ae)&&ye(ae.set)?ae.set.bind(r):di,Ot=we({get:Me,set:Xe});Object.defineProperty(i,Q,{enumerable:!0,configurable:!0,get:()=>Ot.value,set:st=>Ot.value=st})}if(a)for(const Q in a)WS(a[Q],i,r,Q);if(l){const Q=ye(l)?l.call(r):l;Reflect.ownKeys(Q).forEach(ae=>{xP(ae,Q[ae])})}d&&fy(d,t,"c");function te(Q,ae){ue(ae)?ae.forEach(Me=>Q(Me.bind(r))):ae&&Q(ae.bind(r))}if(te(pP,u),te(As,h),te(gP,f),te(jS,p),te(uP,v),te(hP,y),te(bP,z),te(yP,W),te(mP,X),te(zS,$),te(HS,_),te(vP,R),ue(x))if(x.length){const Q=t.exposed||(t.exposed={});x.forEach(ae=>{Object.defineProperty(Q,ae,{get:()=>r[ae],set:Me=>r[ae]=Me})})}else t.exposed||(t.exposed={});E&&t.render===di&&(t.render=E),D!=null&&(t.inheritAttrs=D),P&&(t.components=P),oe&&(t.directives=oe),R&&BS(t)}function SP(t,e,r=di){ue(t)&&(t=Vp(t));for(const i in t){const n=t[i];let o;Ve(n)?"default"in n?o=_a(n.from||i,n.default,!0):o=_a(n.from||i):o=_a(n),ct(o)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>o.value,set:s=>o.value=s}):e[i]=o}}function fy(t,e,r){Wr(ue(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,r)}function WS(t,e,r,i){let n=i.includes(".")?nI(r,i):()=>r[i];if(ut(t)){const o=e[t];ye(o)&&sr(n,o)}else if(ye(t))sr(n,t.bind(r));else if(Ve(t))if(ue(t))t.forEach(o=>WS(o,e,r,i));else{const o=ye(t.handler)?t.handler.bind(r):e[t.handler];ye(o)&&sr(n,o,t)}}function VS(t){const e=t.type,{mixins:r,extends:i}=e,{mixins:n,optionsCache:o,config:{optionMergeStrategies:s}}=t.appContext,a=o.get(e);let l;return a?l=a:!n.length&&!r&&!i?l=e:(l={},n.length&&n.forEach(c=>Sd(l,c,s,!0)),Sd(l,e,s)),Ve(e)&&o.set(e,l),l}function Sd(t,e,r,i=!1){const{mixins:n,extends:o}=e;o&&Sd(t,o,r,!0),n&&n.forEach(s=>Sd(t,s,r,!0));for(const s in e)if(!(i&&s==="expose")){const a=IP[s]||r&&r[s];t[s]=a?a(t[s],e[s]):e[s]}return t}const IP={data:py,props:gy,emits:gy,methods:ha,computed:ha,beforeCreate:jt,created:jt,beforeMount:jt,mounted:jt,beforeUpdate:jt,updated:jt,beforeDestroy:jt,beforeUnmount:jt,destroyed:jt,unmounted:jt,activated:jt,deactivated:jt,errorCaptured:jt,serverPrefetch:jt,components:ha,directives:ha,watch:TP,provide:py,inject:EP};function py(t,e){return e?t?function(){return bt(ye(t)?t.call(this,this):t,ye(e)?e.call(this,this):e)}:e:t}function EP(t,e){return ha(Vp(t),Vp(e))}function Vp(t){if(ue(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function jt(t,e){return t?[...new Set([].concat(t,e))]:e}function ha(t,e){return t?bt(Object.create(null),t,e):e}function gy(t,e){return t?ue(t)&&ue(e)?[...new Set([...t,...e])]:bt(Object.create(null),hy(t),hy(e??{})):e}function TP(t,e){if(!t)return e;if(!e)return t;const r=bt(Object.create(null),t);for(const i in e)r[i]=jt(t[i],e[i]);return r}function US(){return{app:null,config:{isNativeTag:gC,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let OP=0;function kP(t,e){return function(i,n=null){ye(i)||(i=bt({},i)),n!=null&&!Ve(n)&&(n=null);const o=US(),s=new WeakSet,a=[];let l=!1;const c=o.app={_uid:OP++,_component:i,_props:n,_container:null,_context:o,_instance:null,version:uD,get config(){return o.config},set config(d){},use(d,...u){return s.has(d)||(d&&ye(d.install)?(s.add(d),d.install(c,...u)):ye(d)&&(s.add(d),d(c,...u))),c},mixin(d){return o.mixins.includes(d)||o.mixins.push(d),c},component(d,u){return u?(o.components[d]=u,c):o.components[d]},directive(d,u){return u?(o.directives[d]=u,c):o.directives[d]},mount(d,u,h){if(!l){const f=c._ceVNode||Ne(i,n);return f.appContext=o,h===!0?h="svg":h===!1&&(h=void 0),t(f,d,h),l=!0,c._container=d,d.__vue_app__=c,Ov(f.component)}},onUnmount(d){a.push(d)},unmount(){l&&(Wr(a,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(d,u){return o.provides[d]=u,c},runWithContext(d){const u=Kn;Kn=c;try{return d()}finally{Kn=u}}};return c}}let Kn=null;function xP(t,e){if(Ct){let r=Ct.provides;const i=Ct.parent&&Ct.parent.provides;i===r&&(r=Ct.provides=Object.create(i)),r[t]=e}}function _a(t,e,r=!1){const i=Ct||Or;if(i||Kn){let n=Kn?Kn._context.provides:i?i.parent==null||i.ce?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(n&&t in n)return n[t];if(arguments.length>1)return r&&ye(e)?e.call(i&&i.proxy):e}}function AP(){return!!(Ct||Or||Kn)}const YS={},GS=()=>Object.create(YS),KS=t=>Object.getPrototypeOf(t)===YS;function CP(t,e,r,i=!1){const n={},o=GS();t.propsDefaults=Object.create(null),XS(t,e,n,o);for(const s in t.propsOptions[0])s in n||(n[s]=void 0);r?t.props=i?n:GC(n):t.type.props?t.props=n:t.props=o,t.attrs=o}function PP(t,e,r,i){const{props:n,attrs:o,vnode:{patchFlag:s}}=t,a=Ie(n),[l]=t.propsOptions;let c=!1;if((i||s>0)&&!(s&16)){if(s&8){const d=t.vnode.dynamicProps;for(let u=0;u<d.length;u++){let h=d[u];if(lu(t.emitsOptions,h))continue;const f=e[h];if(l)if(xe(o,h))f!==o[h]&&(o[h]=f,c=!0);else{const p=bn(h);n[p]=Up(l,a,p,f,t,!1)}else f!==o[h]&&(o[h]=f,c=!0)}}}else{XS(t,e,n,o)&&(c=!0);let d;for(const u in a)(!e||!xe(e,u)&&((d=bo(u))===u||!xe(e,d)))&&(l?r&&(r[u]!==void 0||r[d]!==void 0)&&(n[u]=Up(l,a,u,void 0,t,!0)):delete n[u]);if(o!==a)for(const u in o)(!e||!xe(e,u))&&(delete o[u],c=!0)}c&&wi(t.attrs,"set","")}function XS(t,e,r,i){const[n,o]=t.propsOptions;let s=!1,a;if(e)for(let l in e){if(ma(l))continue;const c=e[l];let d;n&&xe(n,d=bn(l))?!o||!o.includes(d)?r[d]=c:(a||(a={}))[d]=c:lu(t.emitsOptions,l)||(!(l in i)||c!==i[l])&&(i[l]=c,s=!0)}if(o){const l=Ie(r),c=a||ze;for(let d=0;d<o.length;d++){const u=o[d];r[u]=Up(n,l,u,c[u],t,!xe(c,u))}}return s}function Up(t,e,r,i,n,o){const s=t[r];if(s!=null){const a=xe(s,"default");if(a&&i===void 0){const l=s.default;if(s.type!==Function&&!s.skipFactory&&ye(l)){const{propsDefaults:c}=n;if(r in c)i=c[r];else{const d=ll(n);i=c[r]=l.call(null,e),d()}}else i=l;n.ce&&n.ce._setProp(r,i)}s[0]&&(o&&!a?i=!1:s[1]&&(i===""||i===bo(r))&&(i=!0))}return i}const DP=new WeakMap;function JS(t,e,r=!1){const i=r?DP:e.propsCache,n=i.get(t);if(n)return n;const o=t.props,s={},a=[];let l=!1;if(!ye(t)){const d=u=>{l=!0;const[h,f]=JS(u,e,!0);bt(s,h),f&&a.push(...f)};!r&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}if(!o&&!l)return Ve(t)&&i.set(t,ss),ss;if(ue(o))for(let d=0;d<o.length;d++){const u=bn(o[d]);vy(u)&&(s[u]=ze)}else if(o)for(const d in o){const u=bn(d);if(vy(u)){const h=o[d],f=s[u]=ue(h)||ye(h)?{type:h}:bt({},h),p=f.type;let v=!1,y=!0;if(ue(p))for(let m=0;m<p.length;++m){const $=p[m],S=ye($)&&$.name;if(S==="Boolean"){v=!0;break}else S==="String"&&(y=!1)}else v=ye(p)&&p.name==="Boolean";f[0]=v,f[1]=y,(v||xe(f,"default"))&&a.push(u)}}const c=[s,a];return Ve(t)&&i.set(t,c),c}function vy(t){return t[0]!=="$"&&!ma(t)}const Iv=t=>t[0]==="_"||t==="$stable",Ev=t=>ue(t)?t.map(oi):[oi(t)],MP=(t,e,r)=>{if(e._n)return e;const i=Ri((...n)=>Ev(e(...n)),r);return i._c=!1,i},QS=(t,e,r)=>{const i=t._ctx;for(const n in t){if(Iv(n))continue;const o=t[n];if(ye(o))e[n]=MP(n,o,i);else if(o!=null){const s=Ev(o);e[n]=()=>s}}},ZS=(t,e)=>{const r=Ev(e);t.slots.default=()=>r},eI=(t,e,r)=>{for(const i in e)(r||!Iv(i))&&(t[i]=e[i])},RP=(t,e,r)=>{const i=t.slots=GS();if(t.vnode.shapeFlag&32){const n=e._;n?(eI(i,e,r),r&&oS(i,"_",n,!0)):QS(e,i)}else e&&ZS(t,e)},NP=(t,e,r)=>{const{vnode:i,slots:n}=t;let o=!0,s=ze;if(i.shapeFlag&32){const a=e._;a?r&&a===1?o=!1:eI(n,e,r):(o=!e.$stable,QS(e,n)),s=e}else e&&(ZS(t,e),s={default:1});if(o)for(const a in n)!Iv(a)&&s[a]==null&&delete n[a]},gr=XP;function FP(t){return qP(t)}function qP(t,e){const r=ru();r.__VUE__=!0;const{insert:i,remove:n,patchProp:o,createElement:s,createText:a,createComment:l,setText:c,setElementText:d,parentNode:u,nextSibling:h,setScopeId:f=di,insertStaticContent:p}=t,v=(g,b,w,O=null,T=null,k=null,G=void 0,j=null,L=!!b.dynamicChildren)=>{if(g===b)return;g&&!Wn(g,b)&&(O=Vi(g),st(g,T,k,!0),g=null),b.patchFlag===-2&&(L=!1,b.dynamicChildren=null);const{type:F,ref:le,shapeFlag:Z}=b;switch(F){case cu:y(g,b,w,O);break;case Yt:m(g,b,w,O);break;case Jc:g==null&&$(b,w,O,G);break;case _e:P(g,b,w,O,T,k,G,j,L);break;default:Z&1?E(g,b,w,O,T,k,G,j,L):Z&6?oe(g,b,w,O,T,k,G,j,L):(Z&64||Z&128)&&F.process(g,b,w,O,T,k,G,j,L,M)}le!=null&&T&&_d(le,g&&g.ref,k,b||g,!b)},y=(g,b,w,O)=>{if(g==null)i(b.el=a(b.children),w,O);else{const T=b.el=g.el;b.children!==g.children&&c(T,b.children)}},m=(g,b,w,O)=>{g==null?i(b.el=l(b.children||""),w,O):b.el=g.el},$=(g,b,w,O)=>{[g.el,g.anchor]=p(g.children,b,w,O,g.el,g.anchor)},S=({el:g,anchor:b},w,O)=>{let T;for(;g&&g!==b;)T=h(g),i(g,w,O),g=T;i(b,w,O)},_=({el:g,anchor:b})=>{let w;for(;g&&g!==b;)w=h(g),n(g),g=w;n(b)},E=(g,b,w,O,T,k,G,j,L)=>{b.type==="svg"?G="svg":b.type==="math"&&(G="mathml"),g==null?W(b,w,O,T,k,G,j,L):R(g,b,T,k,G,j,L)},W=(g,b,w,O,T,k,G,j)=>{let L,F;const{props:le,shapeFlag:Z,transition:se,dirs:ge}=g;if(L=g.el=s(g.type,k,le&&le.is,le),Z&8?d(L,g.children):Z&16&&z(g.children,L,null,O,T,$h(g,k),G,j),ge&&Nn(g,null,O,"created"),X(L,g,g.scopeId,G,O),le){for(const qe in le)qe!=="value"&&!ma(qe)&&o(L,qe,null,le[qe],k,O);"value"in le&&o(L,"value",null,le.value,k),(F=le.onVnodeBeforeMount)&&Zr(F,O,g)}ge&&Nn(g,null,O,"beforeMount");const Se=BP(T,se);Se&&se.beforeEnter(L),i(L,b,w),((F=le&&le.onVnodeMounted)||Se||ge)&&gr(()=>{F&&Zr(F,O,g),Se&&se.enter(L),ge&&Nn(g,null,O,"mounted")},T)},X=(g,b,w,O,T)=>{if(w&&f(g,w),O)for(let k=0;k<O.length;k++)f(g,O[k]);if(T){let k=T.subTree;if(b===k||sI(k.type)&&(k.ssContent===b||k.ssFallback===b)){const G=T.vnode;X(g,G,G.scopeId,G.slotScopeIds,T.parent)}}},z=(g,b,w,O,T,k,G,j,L=0)=>{for(let F=L;F<g.length;F++){const le=g[F]=j?en(g[F]):oi(g[F]);v(null,le,b,w,O,T,k,G,j)}},R=(g,b,w,O,T,k,G)=>{const j=b.el=g.el;let{patchFlag:L,dynamicChildren:F,dirs:le}=b;L|=g.patchFlag&16;const Z=g.props||ze,se=b.props||ze;let ge;if(w&&Fn(w,!1),(ge=se.onVnodeBeforeUpdate)&&Zr(ge,w,b,g),le&&Nn(b,g,w,"beforeUpdate"),w&&Fn(w,!0),(Z.innerHTML&&se.innerHTML==null||Z.textContent&&se.textContent==null)&&d(j,""),F?x(g.dynamicChildren,F,j,w,O,$h(b,T),k):G||ae(g,b,j,null,w,O,$h(b,T),k,!1),L>0){if(L&16)D(j,Z,se,w,T);else if(L&2&&Z.class!==se.class&&o(j,"class",null,se.class,T),L&4&&o(j,"style",Z.style,se.style,T),L&8){const Se=b.dynamicProps;for(let qe=0;qe<Se.length;qe++){const Ce=Se[qe],fr=Z[Ce],Jt=se[Ce];(Jt!==fr||Ce==="value")&&o(j,Ce,fr,Jt,T,w)}}L&1&&g.children!==b.children&&d(j,b.children)}else!G&&F==null&&D(j,Z,se,w,T);((ge=se.onVnodeUpdated)||le)&&gr(()=>{ge&&Zr(ge,w,b,g),le&&Nn(b,g,w,"updated")},O)},x=(g,b,w,O,T,k,G)=>{for(let j=0;j<b.length;j++){const L=g[j],F=b[j],le=L.el&&(L.type===_e||!Wn(L,F)||L.shapeFlag&198)?u(L.el):w;v(L,F,le,null,O,T,k,G,!0)}},D=(g,b,w,O,T)=>{if(b!==w){if(b!==ze)for(const k in b)!ma(k)&&!(k in w)&&o(g,k,b[k],null,T,O);for(const k in w){if(ma(k))continue;const G=w[k],j=b[k];G!==j&&k!=="value"&&o(g,k,j,G,T,O)}"value"in w&&o(g,"value",b.value,w.value,T)}},P=(g,b,w,O,T,k,G,j,L)=>{const F=b.el=g?g.el:a(""),le=b.anchor=g?g.anchor:a("");let{patchFlag:Z,dynamicChildren:se,slotScopeIds:ge}=b;ge&&(j=j?j.concat(ge):ge),g==null?(i(F,w,O),i(le,w,O),z(b.children||[],w,le,T,k,G,j,L)):Z>0&&Z&64&&se&&g.dynamicChildren?(x(g.dynamicChildren,se,w,T,k,G,j),(b.key!=null||T&&b===T.subTree)&&tI(g,b,!0)):ae(g,b,w,le,T,k,G,j,L)},oe=(g,b,w,O,T,k,G,j,L)=>{b.slotScopeIds=j,g==null?b.shapeFlag&512?T.ctx.activate(b,w,O,G,L):me(b,w,O,T,k,G,L):ve(g,b,L)},me=(g,b,w,O,T,k,G)=>{const j=g.component=nD(g,O,T);if(su(g)&&(j.ctx.renderer=M),oD(j,!1,G),j.asyncDep){if(T&&T.registerDep(j,te,G),!g.el){const L=j.subTree=Ne(Yt);m(null,L,b,w)}}else te(j,g,b,w,T,k,G)},ve=(g,b,w)=>{const O=b.component=g.component;if(GP(g,b,w))if(O.asyncDep&&!O.asyncResolved){Q(O,b,w);return}else O.next=b,O.update();else b.el=g.el,O.vnode=b},te=(g,b,w,O,T,k,G)=>{const j=()=>{if(g.isMounted){let{next:Z,bu:se,u:ge,parent:Se,vnode:qe}=g;{const Jr=rI(g);if(Jr){Z&&(Z.el=qe.el,Q(g,Z,G)),Jr.asyncDep.then(()=>{g.isUnmounted||j()});return}}let Ce=Z,fr;Fn(g,!1),Z?(Z.el=qe.el,Q(g,Z,G)):Z=qe,se&&fh(se),(fr=Z.props&&Z.props.onVnodeBeforeUpdate)&&Zr(fr,Se,Z,qe),Fn(g,!0);const Jt=yy(g),Xr=g.subTree;g.subTree=Jt,v(Xr,Jt,u(Xr.el),Vi(Xr),g,T,k),Z.el=Jt.el,Ce===null&&KP(g,Jt.el),ge&&gr(ge,T),(fr=Z.props&&Z.props.onVnodeUpdated)&&gr(()=>Zr(fr,Se,Z,qe),T)}else{let Z;const{el:se,props:ge}=b,{bm:Se,m:qe,parent:Ce,root:fr,type:Jt}=g,Xr=$a(b);Fn(g,!1),Se&&fh(Se),!Xr&&(Z=ge&&ge.onVnodeBeforeMount)&&Zr(Z,Ce,b),Fn(g,!0);{fr.ce&&fr.ce._injectChildStyle(Jt);const Jr=g.subTree=yy(g);v(null,Jr,w,O,g,T,k),b.el=Jr.el}if(qe&&gr(qe,T),!Xr&&(Z=ge&&ge.onVnodeMounted)){const Jr=b;gr(()=>Zr(Z,Ce,Jr),T)}(b.shapeFlag&256||Ce&&$a(Ce.vnode)&&Ce.vnode.shapeFlag&256)&&g.a&&gr(g.a,T),g.isMounted=!0,b=w=O=null}};g.scope.on();const L=g.effect=new hS(j);g.scope.off();const F=g.update=L.run.bind(L),le=g.job=L.runIfDirty.bind(L);le.i=g,le.id=g.uid,L.scheduler=()=>_v(le),Fn(g,!0),F()},Q=(g,b,w)=>{b.component=g;const O=g.vnode.props;g.vnode=b,g.next=null,PP(g,b.props,O,w),NP(g,b.children,w),Di(),dy(g),Mi()},ae=(g,b,w,O,T,k,G,j,L=!1)=>{const F=g&&g.children,le=g?g.shapeFlag:0,Z=b.children,{patchFlag:se,shapeFlag:ge}=b;if(se>0){if(se&128){Xe(F,Z,w,O,T,k,G,j,L);return}else if(se&256){Me(F,Z,w,O,T,k,G,j,L);return}}ge&8?(le&16&&yi(F,T,k),Z!==F&&d(w,Z)):le&16?ge&16?Xe(F,Z,w,O,T,k,G,j,L):yi(F,T,k,!0):(le&8&&d(w,""),ge&16&&z(Z,w,O,T,k,G,j,L))},Me=(g,b,w,O,T,k,G,j,L)=>{g=g||ss,b=b||ss;const F=g.length,le=b.length,Z=Math.min(F,le);let se;for(se=0;se<Z;se++){const ge=b[se]=L?en(b[se]):oi(b[se]);v(g[se],ge,w,null,T,k,G,j,L)}F>le?yi(g,T,k,!0,!1,Z):z(b,w,O,T,k,G,j,L,Z)},Xe=(g,b,w,O,T,k,G,j,L)=>{let F=0;const le=b.length;let Z=g.length-1,se=le-1;for(;F<=Z&&F<=se;){const ge=g[F],Se=b[F]=L?en(b[F]):oi(b[F]);if(Wn(ge,Se))v(ge,Se,w,null,T,k,G,j,L);else break;F++}for(;F<=Z&&F<=se;){const ge=g[Z],Se=b[se]=L?en(b[se]):oi(b[se]);if(Wn(ge,Se))v(ge,Se,w,null,T,k,G,j,L);else break;Z--,se--}if(F>Z){if(F<=se){const ge=se+1,Se=ge<le?b[ge].el:O;for(;F<=se;)v(null,b[F]=L?en(b[F]):oi(b[F]),w,Se,T,k,G,j,L),F++}}else if(F>se)for(;F<=Z;)st(g[F],T,k,!0),F++;else{const ge=F,Se=F,qe=new Map;for(F=Se;F<=se;F++){const pr=b[F]=L?en(b[F]):oi(b[F]);pr.key!=null&&qe.set(pr.key,F)}let Ce,fr=0;const Jt=se-Se+1;let Xr=!1,Jr=0;const ta=new Array(Jt);for(F=0;F<Jt;F++)ta[F]=0;for(F=ge;F<=Z;F++){const pr=g[F];if(fr>=Jt){st(pr,T,k,!0);continue}let Qr;if(pr.key!=null)Qr=qe.get(pr.key);else for(Ce=Se;Ce<=se;Ce++)if(ta[Ce-Se]===0&&Wn(pr,b[Ce])){Qr=Ce;break}Qr===void 0?st(pr,T,k,!0):(ta[Qr-Se]=F+1,Qr>=Jr?Jr=Qr:Xr=!0,v(pr,b[Qr],w,null,T,k,G,j,L),fr++)}const oy=Xr?LP(ta):ss;for(Ce=oy.length-1,F=Jt-1;F>=0;F--){const pr=Se+F,Qr=b[pr],sy=pr+1<le?b[pr+1].el:O;ta[F]===0?v(null,Qr,w,sy,T,k,G,j,L):Xr&&(Ce<0||F!==oy[Ce]?Ot(Qr,w,sy,2):Ce--)}}},Ot=(g,b,w,O,T=null)=>{const{el:k,type:G,transition:j,children:L,shapeFlag:F}=g;if(F&6){Ot(g.component.subTree,b,w,O);return}if(F&128){g.suspense.move(b,w,O);return}if(F&64){G.move(g,b,w,M);return}if(G===_e){i(k,b,w);for(let Z=0;Z<L.length;Z++)Ot(L[Z],b,w,O);i(g.anchor,b,w);return}if(G===Jc){S(g,b,w);return}if(O!==2&&F&1&&j)if(O===0)j.beforeEnter(k),i(k,b,w),gr(()=>j.enter(k),T);else{const{leave:Z,delayLeave:se,afterLeave:ge}=j,Se=()=>{g.ctx.isUnmounted?n(k):i(k,b,w)},qe=()=>{Z(k,()=>{Se(),ge&&ge()})};se?se(k,Se,qe):qe()}else i(k,b,w)},st=(g,b,w,O=!1,T=!1)=>{const{type:k,props:G,ref:j,children:L,dynamicChildren:F,shapeFlag:le,patchFlag:Z,dirs:se,cacheIndex:ge}=g;if(Z===-2&&(T=!1),j!=null&&(Di(),_d(j,null,w,g,!0),Mi()),ge!=null&&(b.renderCache[ge]=void 0),le&256){b.ctx.deactivate(g);return}const Se=le&1&&se,qe=!$a(g);let Ce;if(qe&&(Ce=G&&G.onVnodeBeforeUnmount)&&Zr(Ce,b,g),le&6)uh(g.component,w,O);else{if(le&128){g.suspense.unmount(w,O);return}Se&&Nn(g,null,b,"beforeUnmount"),le&64?g.type.remove(g,b,w,M,O):F&&!F.hasOnce&&(k!==_e||Z>0&&Z&64)?yi(F,b,w,!1,!0):(k===_e&&Z&384||!T&&le&16)&&yi(L,b,w),O&&Po(g)}(qe&&(Ce=G&&G.onVnodeUnmounted)||Se)&&gr(()=>{Ce&&Zr(Ce,b,g),Se&&Nn(g,null,b,"unmounted")},w)},Po=g=>{const{type:b,el:w,anchor:O,transition:T}=g;if(b===_e){oc(w,O);return}if(b===Jc){_(g);return}const k=()=>{n(w),T&&!T.persisted&&T.afterLeave&&T.afterLeave()};if(g.shapeFlag&1&&T&&!T.persisted){const{leave:G,delayLeave:j}=T,L=()=>G(w,k);j?j(g.el,k,L):L()}else k()},oc=(g,b)=>{let w;for(;g!==b;)w=h(g),n(g),g=w;n(b)},uh=(g,b,w)=>{const{bum:O,scope:T,job:k,subTree:G,um:j,m:L,a:F,parent:le,slots:{__:Z}}=g;my(L),my(F),O&&fh(O),le&&ue(Z)&&Z.forEach(se=>{le.renderCache[se]=void 0}),T.stop(),k&&(k.flags|=8,st(G,g,b,w)),j&&gr(j,b),gr(()=>{g.isUnmounted=!0},b),b&&b.pendingBranch&&!b.isUnmounted&&g.asyncDep&&!g.asyncResolved&&g.suspenseId===b.pendingId&&(b.deps--,b.deps===0&&b.resolve())},yi=(g,b,w,O=!1,T=!1,k=0)=>{for(let G=k;G<g.length;G++)st(g[G],b,w,O,T)},Vi=g=>{if(g.shapeFlag&6)return Vi(g.component.subTree);if(g.shapeFlag&128)return g.suspense.next();const b=h(g.anchor||g.el),w=b&&b[lP];return w?h(w):b};let Rn=!1;const K=(g,b,w)=>{g==null?b._vnode&&st(b._vnode,null,null,!0):v(b._vnode||null,g,b,null,null,null,w),b._vnode=g,Rn||(Rn=!0,dy(),AS(),Rn=!1)},M={p:v,um:st,m:Ot,r:Po,mt:me,mc:z,pc:ae,pbc:x,n:Vi,o:t};return{render:K,hydrate:void 0,createApp:kP(K)}}function $h({type:t,props:e},r){return r==="svg"&&t==="foreignObject"||r==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:r}function Fn({effect:t,job:e},r){r?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function BP(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function tI(t,e,r=!1){const i=t.children,n=e.children;if(ue(i)&&ue(n))for(let o=0;o<i.length;o++){const s=i[o];let a=n[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[o]=en(n[o]),a.el=s.el),!r&&a.patchFlag!==-2&&tI(s,a)),a.type===cu&&(a.el=s.el),a.type===Yt&&!a.el&&(a.el=s.el)}}function LP(t){const e=t.slice(),r=[0];let i,n,o,s,a;const l=t.length;for(i=0;i<l;i++){const c=t[i];if(c!==0){if(n=r[r.length-1],t[n]<c){e[i]=n,r.push(i);continue}for(o=0,s=r.length-1;o<s;)a=o+s>>1,t[r[a]]<c?o=a+1:s=a;c<t[r[o]]&&(o>0&&(e[i]=r[o-1]),r[o]=i)}}for(o=r.length,s=r[o-1];o-- >0;)r[o]=s,s=e[s];return r}function rI(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:rI(e)}function my(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const jP=Symbol.for("v-scx"),zP=()=>_a(jP);function sr(t,e,r){return iI(t,e,r)}function iI(t,e,r=ze){const{immediate:i,deep:n,flush:o,once:s}=r,a=bt({},r),l=e&&i||!e&&o!=="post";let c;if(ja){if(o==="sync"){const f=zP();c=f.__watcherHandles||(f.__watcherHandles=[])}else if(!l){const f=()=>{};return f.stop=di,f.resume=di,f.pause=di,f}}const d=Ct;a.call=(f,p,v)=>Wr(f,d,p,v);let u=!1;o==="post"?a.scheduler=f=>{gr(f,d&&d.suspense)}:o!=="sync"&&(u=!0,a.scheduler=(f,p)=>{p?f():_v(f)}),a.augmentJob=f=>{e&&(f.flags|=4),u&&(f.flags|=2,d&&(f.id=d.uid,f.i=d))};const h=nP(t,e,a);return ja&&(c?c.push(h):l&&h()),h}function HP(t,e,r){const i=this.proxy,n=ut(t)?t.includes(".")?nI(i,t):()=>i[t]:t.bind(i,i);let o;ye(e)?o=e:(o=e.handler,r=e);const s=ll(this),a=iI(n,o.bind(i),r);return s(),a}function nI(t,e){const r=e.split(".");return()=>{let i=t;for(let n=0;n<r.length&&i;n++)i=i[r[n]];return i}}const WP=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${bn(e)}Modifiers`]||t[`${bo(e)}Modifiers`];function VP(t,e,...r){if(t.isUnmounted)return;const i=t.vnode.props||ze;let n=r;const o=e.startsWith("update:"),s=o&&WP(i,e.slice(7));s&&(s.trim&&(n=r.map(d=>ut(d)?d.trim():d)),s.number&&(n=r.map($C)));let a,l=i[a=hh(e)]||i[a=hh(bn(e))];!l&&o&&(l=i[a=hh(bo(e))]),l&&Wr(l,t,6,n);const c=i[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Wr(c,t,6,n)}}function oI(t,e,r=!1){const i=e.emitsCache,n=i.get(t);if(n!==void 0)return n;const o=t.emits;let s={},a=!1;if(!ye(t)){const l=c=>{const d=oI(c,e,!0);d&&(a=!0,bt(s,d))};!r&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!o&&!a?(Ve(t)&&i.set(t,null),null):(ue(o)?o.forEach(l=>s[l]=null):bt(s,o),Ve(t)&&i.set(t,s),s)}function lu(t,e){return!t||!Zd(e)?!1:(e=e.slice(2).replace(/Once$/,""),xe(t,e[0].toLowerCase()+e.slice(1))||xe(t,bo(e))||xe(t,e))}function yy(t){const{type:e,vnode:r,proxy:i,withProxy:n,propsOptions:[o],slots:s,attrs:a,emit:l,render:c,renderCache:d,props:u,data:h,setupState:f,ctx:p,inheritAttrs:v}=t,y=wd(t);let m,$;try{if(r.shapeFlag&4){const _=n||i,E=_;m=oi(c.call(E,_,d,u,f,h,p)),$=a}else{const _=e;m=oi(_.length>1?_(u,{attrs:a,slots:s,emit:l}):_(u,null)),$=e.props?a:UP(a)}}catch(_){Sa.length=0,ou(_,t,1),m=Ne(Yt)}let S=m;if($&&v!==!1){const _=Object.keys($),{shapeFlag:E}=S;_.length&&E&7&&(o&&_.some(dv)&&($=YP($,o)),S=wn(S,$,!1,!0))}return r.dirs&&(S=wn(S,null,!1,!0),S.dirs=S.dirs?S.dirs.concat(r.dirs):r.dirs),r.transition&&ao(S,r.transition),m=S,wd(y),m}const UP=t=>{let e;for(const r in t)(r==="class"||r==="style"||Zd(r))&&((e||(e={}))[r]=t[r]);return e},YP=(t,e)=>{const r={};for(const i in t)(!dv(i)||!(i.slice(9)in e))&&(r[i]=t[i]);return r};function GP(t,e,r){const{props:i,children:n,component:o}=t,{props:s,children:a,patchFlag:l}=e,c=o.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return i?by(i,s,c):!!s;if(l&8){const d=e.dynamicProps;for(let u=0;u<d.length;u++){const h=d[u];if(s[h]!==i[h]&&!lu(c,h))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:i===s?!1:i?s?by(i,s,c):!0:!!s;return!1}function by(t,e,r){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let n=0;n<i.length;n++){const o=i[n];if(e[o]!==t[o]&&!lu(r,o))return!0}return!1}function KP({vnode:t,parent:e},r){for(;e;){const i=e.subTree;if(i.suspense&&i.suspense.activeBranch===t&&(i.el=t.el),i===t)(t=e.vnode).el=r,e=e.parent;else break}}const sI=t=>t.__isSuspense;function XP(t,e){e&&e.pendingBranch?ue(t)?e.effects.push(...t):e.effects.push(t):aP(t)}const _e=Symbol.for("v-fgt"),cu=Symbol.for("v-txt"),Yt=Symbol.for("v-cmt"),Jc=Symbol.for("v-stc"),Sa=[];let mr=null;function N(t=!1){Sa.push(mr=t?null:[])}function JP(){Sa.pop(),mr=Sa[Sa.length-1]||null}let La=1;function $y(t,e=!1){La+=t,t<0&&mr&&e&&(mr.hasOnce=!0)}function aI(t){return t.dynamicChildren=La>0?mr||ss:null,JP(),La>0&&mr&&mr.push(t),t}function J(t,e,r,i,n,o){return aI(re(t,e,r,i,n,o,!0))}function lt(t,e,r,i,n){return aI(Ne(t,e,r,i,n,!0))}function Id(t){return t?t.__v_isVNode===!0:!1}function Wn(t,e){return t.type===e.type&&t.key===e.key}const lI=({key:t})=>t??null,Qc=({ref:t,ref_key:e,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?ut(t)||ct(t)||ye(t)?{i:Or,r:t,k:e,f:!!r}:t:null);function re(t,e=null,r=null,i=0,n=null,o=t===_e?0:1,s=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&lI(e),ref:e&&Qc(e),scopeId:PS,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:i,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:Or};return a?(Tv(l,r),o&128&&t.normalize(l)):r&&(l.shapeFlag|=ut(r)?8:16),La>0&&!s&&mr&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&mr.push(l),l}const Ne=QP;function QP(t,e=null,r=null,i=0,n=null,o=!1){if((!t||t===$P)&&(t=Yt),Id(t)){const a=wn(t,e,!0);return r&&Tv(a,r),La>0&&!o&&mr&&(a.shapeFlag&6?mr[mr.indexOf(t)]=a:mr.push(a)),a.patchFlag=-2,a}if(cD(t)&&(t=t.__vccOpts),e){e=ZP(e);let{class:a,style:l}=e;a&&!ut(a)&&(e.class=Hr(a)),Ve(l)&&(bv(l)&&!ue(l)&&(l=bt({},l)),e.style=kr(l))}const s=ut(t)?1:sI(t)?128:DS(t)?64:Ve(t)?4:ye(t)?2:0;return re(t,e,r,i,n,s,o,!0)}function ZP(t){return t?bv(t)||KS(t)?bt({},t):t:null}function wn(t,e,r=!1,i=!1){const{props:n,ref:o,patchFlag:s,children:a,transition:l}=t,c=e?tD(n||{},e):n,d={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&lI(c),ref:e&&e.ref?r&&o?ue(o)?o.concat(Qc(e)):[o,Qc(e)]:Qc(e):o,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==_e?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&wn(t.ssContent),ssFallback:t.ssFallback&&wn(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&i&&ao(d,l.clone(d)),d}function Rr(t=" ",e=0){return Ne(cu,null,t,e)}function eD(t,e){const r=Ne(Jc,null,t);return r.staticCount=e,r}function Re(t="",e=!1){return e?(N(),lt(Yt,null,t)):Ne(Yt,null,t)}function oi(t){return t==null||typeof t=="boolean"?Ne(Yt):ue(t)?Ne(_e,null,t.slice()):Id(t)?en(t):Ne(cu,null,String(t))}function en(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:wn(t)}function Tv(t,e){let r=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(ue(e))r=16;else if(typeof e=="object")if(i&65){const n=e.default;n&&(n._c&&(n._d=!1),Tv(t,n()),n._c&&(n._d=!0));return}else{r=32;const n=e._;!n&&!KS(e)?e._ctx=Or:n===3&&Or&&(Or.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ye(e)?(e={default:e,_ctx:Or},r=32):(e=String(e),i&64?(r=16,e=[Rr(e)]):r=8);t.children=e,t.shapeFlag|=r}function tD(...t){const e={};for(let r=0;r<t.length;r++){const i=t[r];for(const n in i)if(n==="class")e.class!==i.class&&(e.class=Hr([e.class,i.class]));else if(n==="style")e.style=kr([e.style,i.style]);else if(Zd(n)){const o=e[n],s=i[n];s&&o!==s&&!(ue(o)&&o.includes(s))&&(e[n]=o?[].concat(o,s):s)}else n!==""&&(e[n]=i[n])}return e}function Zr(t,e,r,i=null){Wr(t,e,7,[r,i])}const rD=US();let iD=0;function nD(t,e,r){const i=t.type,n=(e?e.appContext:t.appContext)||rD,o={uid:iD++,vnode:t,type:i,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new cS(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:JS(i,n),emitsOptions:oI(i,n),emit:null,emitted:null,propsDefaults:ze,inheritAttrs:i.inheritAttrs,ctx:ze,data:ze,props:ze,attrs:ze,slots:ze,refs:ze,setupState:ze,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=VP.bind(null,o),t.ce&&t.ce(o),o}let Ct=null;const cI=()=>Ct||Or;let Ed,Yp;{const t=ru(),e=(r,i)=>{let n;return(n=t[r])||(n=t[r]=[]),n.push(i),o=>{n.length>1?n.forEach(s=>s(o)):n[0](o)}};Ed=e("__VUE_INSTANCE_SETTERS__",r=>Ct=r),Yp=e("__VUE_SSR_SETTERS__",r=>ja=r)}const ll=t=>{const e=Ct;return Ed(t),t.scope.on(),()=>{t.scope.off(),Ed(e)}},wy=()=>{Ct&&Ct.scope.off(),Ed(null)};function dI(t){return t.vnode.shapeFlag&4}let ja=!1;function oD(t,e=!1,r=!1){e&&Yp(e);const{props:i,children:n}=t.vnode,o=dI(t);CP(t,i,o,e),RP(t,n,r||e);const s=o?sD(t,e):void 0;return e&&Yp(!1),s}function sD(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,wP);const{setup:i}=r;if(i){Di();const n=t.setupContext=i.length>1?lD(t):null,o=ll(t),s=al(i,t,0,[t.props,n]),a=tS(s);if(Mi(),o(),(a||t.sp)&&!$a(t)&&BS(t),a){if(s.then(wy,wy),e)return s.then(l=>{_y(t,l)}).catch(l=>{ou(l,t,0)});t.asyncDep=s}else _y(t,s)}else uI(t)}function _y(t,e,r){ye(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ve(e)&&(t.setupState=OS(e)),uI(t)}function uI(t,e,r){const i=t.type;t.render||(t.render=i.render||di);{const n=ll(t);Di();try{_P(t)}finally{Mi(),n()}}}const aD={get(t,e){return Ft(t,"get",""),t[e]}};function lD(t){const e=r=>{t.exposed=r||{}};return{attrs:new Proxy(t.attrs,aD),slots:t.slots,emit:t.emit,expose:e}}function Ov(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(OS($v(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in wa)return wa[r](t)},has(e,r){return r in e||r in wa}})):t.proxy}function cD(t){return ye(t)&&"__vccOpts"in t}const we=(t,e)=>rP(t,e,ja);function dD(t,e,r){const i=arguments.length;return i===2?Ve(e)&&!ue(e)?Id(e)?Ne(t,null,[e]):Ne(t,e):Ne(t,null,e):(i>3?r=Array.prototype.slice.call(arguments,2):i===3&&Id(r)&&(r=[r]),Ne(t,e,r))}const uD="3.5.16";/**
* @vue/runtime-dom v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Gp;const Sy=typeof window<"u"&&window.trustedTypes;if(Sy)try{Gp=Sy.createPolicy("vue",{createHTML:t=>t})}catch{}const hI=Gp?t=>Gp.createHTML(t):t=>t,hD="http://www.w3.org/2000/svg",fD="http://www.w3.org/1998/Math/MathML",$i=typeof document<"u"?document:null,Iy=$i&&$i.createElement("template"),pD={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,i)=>{const n=e==="svg"?$i.createElementNS(hD,t):e==="mathml"?$i.createElementNS(fD,t):r?$i.createElement(t,{is:r}):$i.createElement(t);return t==="select"&&i&&i.multiple!=null&&n.setAttribute("multiple",i.multiple),n},createText:t=>$i.createTextNode(t),createComment:t=>$i.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>$i.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,i,n,o){const s=r?r.previousSibling:e.lastChild;if(n&&(n===o||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),r),!(n===o||!(n=n.nextSibling)););else{Iy.innerHTML=hI(i==="svg"?`<svg>${t}</svg>`:i==="mathml"?`<math>${t}</math>`:t);const a=Iy.content;if(i==="svg"||i==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,r)}return[s?s.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}},Ui="transition",ia="animation",gs=Symbol("_vtc"),fI={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},pI=bt({},RS,fI),gD=t=>(t.displayName="Transition",t.props=pI,t),lo=gD((t,{slots:e})=>dD(dP,gI(t),e)),qn=(t,e=[])=>{ue(t)?t.forEach(r=>r(...e)):t&&t(...e)},Ey=t=>t?ue(t)?t.some(e=>e.length>1):t.length>1:!1;function gI(t){const e={};for(const P in t)P in fI||(e[P]=t[P]);if(t.css===!1)return e;const{name:r="v",type:i,duration:n,enterFromClass:o=`${r}-enter-from`,enterActiveClass:s=`${r}-enter-active`,enterToClass:a=`${r}-enter-to`,appearFromClass:l=o,appearActiveClass:c=s,appearToClass:d=a,leaveFromClass:u=`${r}-leave-from`,leaveActiveClass:h=`${r}-leave-active`,leaveToClass:f=`${r}-leave-to`}=t,p=vD(n),v=p&&p[0],y=p&&p[1],{onBeforeEnter:m,onEnter:$,onEnterCancelled:S,onLeave:_,onLeaveCancelled:E,onBeforeAppear:W=m,onAppear:X=$,onAppearCancelled:z=S}=e,R=(P,oe,me,ve)=>{P._enterCancelled=ve,Gi(P,oe?d:a),Gi(P,oe?c:s),me&&me()},x=(P,oe)=>{P._isLeaving=!1,Gi(P,u),Gi(P,f),Gi(P,h),oe&&oe()},D=P=>(oe,me)=>{const ve=P?X:$,te=()=>R(oe,P,me);qn(ve,[oe,te]),Ty(()=>{Gi(oe,P?l:o),ii(oe,P?d:a),Ey(ve)||Oy(oe,i,v,te)})};return bt(e,{onBeforeEnter(P){qn(m,[P]),ii(P,o),ii(P,s)},onBeforeAppear(P){qn(W,[P]),ii(P,l),ii(P,c)},onEnter:D(!1),onAppear:D(!0),onLeave(P,oe){P._isLeaving=!0;const me=()=>x(P,oe);ii(P,u),P._enterCancelled?(ii(P,h),Kp()):(Kp(),ii(P,h)),Ty(()=>{P._isLeaving&&(Gi(P,u),ii(P,f),Ey(_)||Oy(P,i,y,me))}),qn(_,[P,me])},onEnterCancelled(P){R(P,!1,void 0,!0),qn(S,[P])},onAppearCancelled(P){R(P,!0,void 0,!0),qn(z,[P])},onLeaveCancelled(P){x(P),qn(E,[P])}})}function vD(t){if(t==null)return null;if(Ve(t))return[wh(t.enter),wh(t.leave)];{const e=wh(t);return[e,e]}}function wh(t){return wC(t)}function ii(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.add(r)),(t[gs]||(t[gs]=new Set)).add(e)}function Gi(t,e){e.split(/\s+/).forEach(i=>i&&t.classList.remove(i));const r=t[gs];r&&(r.delete(e),r.size||(t[gs]=void 0))}function Ty(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let mD=0;function Oy(t,e,r,i){const n=t._endId=++mD,o=()=>{n===t._endId&&i()};if(r!=null)return setTimeout(o,r);const{type:s,timeout:a,propCount:l}=vI(t,e);if(!s)return i();const c=s+"end";let d=0;const u=()=>{t.removeEventListener(c,h),o()},h=f=>{f.target===t&&++d>=l&&u()};setTimeout(()=>{d<l&&u()},a+1),t.addEventListener(c,h)}function vI(t,e){const r=window.getComputedStyle(t),i=p=>(r[p]||"").split(", "),n=i(`${Ui}Delay`),o=i(`${Ui}Duration`),s=ky(n,o),a=i(`${ia}Delay`),l=i(`${ia}Duration`),c=ky(a,l);let d=null,u=0,h=0;e===Ui?s>0&&(d=Ui,u=s,h=o.length):e===ia?c>0&&(d=ia,u=c,h=l.length):(u=Math.max(s,c),d=u>0?s>c?Ui:ia:null,h=d?d===Ui?o.length:l.length:0);const f=d===Ui&&/\b(transform|all)(,|$)/.test(i(`${Ui}Property`).toString());return{type:d,timeout:u,propCount:h,hasTransform:f}}function ky(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((r,i)=>xy(r)+xy(t[i])))}function xy(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Kp(){return document.body.offsetHeight}function yD(t,e,r){const i=t[gs];i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}const Ay=Symbol("_vod"),bD=Symbol("_vsh"),$D=Symbol(""),wD=/(^|;)\s*display\s*:/;function _D(t,e,r){const i=t.style,n=ut(r);let o=!1;if(r&&!n){if(e)if(ut(e))for(const s of e.split(";")){const a=s.slice(0,s.indexOf(":")).trim();r[a]==null&&Zc(i,a,"")}else for(const s in e)r[s]==null&&Zc(i,s,"");for(const s in r)s==="display"&&(o=!0),Zc(i,s,r[s])}else if(n){if(e!==r){const s=i[$D];s&&(r+=";"+s),i.cssText=r,o=wD.test(r)}}else e&&t.removeAttribute("style");Ay in t&&(t[Ay]=o?i.display:"",t[bD]&&(i.display="none"))}const Cy=/\s*!important$/;function Zc(t,e,r){if(ue(r))r.forEach(i=>Zc(t,e,i));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const i=SD(t,e);Cy.test(r)?t.setProperty(bo(i),r.replace(Cy,""),"important"):t[i]=r}}const Py=["Webkit","Moz","ms"],_h={};function SD(t,e){const r=_h[e];if(r)return r;let i=bn(e);if(i!=="filter"&&i in t)return _h[e]=i;i=nS(i);for(let n=0;n<Py.length;n++){const o=Py[n]+i;if(o in t)return _h[e]=o}return e}const Dy="http://www.w3.org/1999/xlink";function My(t,e,r,i,n,o=OC(e)){i&&e.startsWith("xlink:")?r==null?t.removeAttributeNS(Dy,e.slice(6,e.length)):t.setAttributeNS(Dy,e,r):r==null||o&&!sS(r)?t.removeAttribute(e):t.setAttribute(e,o?"":Tn(r)?String(r):r)}function Ry(t,e,r,i,n){if(e==="innerHTML"||e==="textContent"){r!=null&&(t[e]=e==="innerHTML"?hI(r):r);return}const o=t.tagName;if(e==="value"&&o!=="PROGRESS"&&!o.includes("-")){const a=o==="OPTION"?t.getAttribute("value")||"":t.value,l=r==null?t.type==="checkbox"?"on":"":String(r);(a!==l||!("_value"in t))&&(t.value=l),r==null&&t.removeAttribute(e),t._value=r;return}let s=!1;if(r===""||r==null){const a=typeof t[e];a==="boolean"?r=sS(r):r==null&&a==="string"?(r="",s=!0):a==="number"&&(r=0,s=!0)}try{t[e]=r}catch{}s&&t.removeAttribute(n||e)}function ID(t,e,r,i){t.addEventListener(e,r,i)}function ED(t,e,r,i){t.removeEventListener(e,r,i)}const Ny=Symbol("_vei");function TD(t,e,r,i,n=null){const o=t[Ny]||(t[Ny]={}),s=o[e];if(i&&s)s.value=i;else{const[a,l]=OD(e);if(i){const c=o[e]=AD(i,n);ID(t,a,c,l)}else s&&(ED(t,a,s,l),o[e]=void 0)}}const Fy=/(?:Once|Passive|Capture)$/;function OD(t){let e;if(Fy.test(t)){e={};let i;for(;i=t.match(Fy);)t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):bo(t.slice(2)),e]}let Sh=0;const kD=Promise.resolve(),xD=()=>Sh||(kD.then(()=>Sh=0),Sh=Date.now());function AD(t,e){const r=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=r.attached)return;Wr(CD(i,r.value),e,5,[i])};return r.value=t,r.attached=xD(),r}function CD(t,e){if(ue(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(i=>n=>!n._stopped&&i&&i(n))}else return e}const qy=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,PD=(t,e,r,i,n,o)=>{const s=n==="svg";e==="class"?yD(t,i,s):e==="style"?_D(t,r,i):Zd(e)?dv(e)||TD(t,e,r,i,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):DD(t,e,i,s))?(Ry(t,e,i),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&My(t,e,i,s,o,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!ut(i))?Ry(t,bn(e),i,o,e):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),My(t,e,i,s))};function DD(t,e,r,i){if(i)return!!(e==="innerHTML"||e==="textContent"||e in t&&qy(e)&&ye(r));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const n=t.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return qy(e)&&ut(r)?!1:e in t}const mI=new WeakMap,yI=new WeakMap,Td=Symbol("_moveCb"),By=Symbol("_enterCb"),MD=t=>(delete t.props.mode,t),RD=MD({name:"TransitionGroup",props:bt({},pI,{tag:String,moveClass:String}),setup(t,{slots:e}){const r=cI(),i=MS();let n,o;return jS(()=>{if(!n.length)return;const s=t.moveClass||`${t.name||"v"}-move`;if(!LD(n[0].el,r.vnode.el,s)){n=[];return}n.forEach(FD),n.forEach(qD);const a=n.filter(BD);Kp(),a.forEach(l=>{const c=l.el,d=c.style;ii(c,s),d.transform=d.webkitTransform=d.transitionDuration="";const u=c[Td]=h=>{h&&h.target!==c||(!h||/transform$/.test(h.propertyName))&&(c.removeEventListener("transitionend",u),c[Td]=null,Gi(c,s))};c.addEventListener("transitionend",u)}),n=[]}),()=>{const s=Ie(t),a=gI(s);let l=s.tag||_e;if(n=[],o)for(let c=0;c<o.length;c++){const d=o[c];d.el&&d.el instanceof Element&&(n.push(d),ao(d,Ba(d,a,i,r)),mI.set(d,d.el.getBoundingClientRect()))}o=e.default?Sv(e.default()):[];for(let c=0;c<o.length;c++){const d=o[c];d.key!=null&&ao(d,Ba(d,a,i,r))}return Ne(l,null,o)}}}),ND=RD;function FD(t){const e=t.el;e[Td]&&e[Td](),e[By]&&e[By]()}function qD(t){yI.set(t,t.el.getBoundingClientRect())}function BD(t){const e=mI.get(t),r=yI.get(t),i=e.left-r.left,n=e.top-r.top;if(i||n){const o=t.el.style;return o.transform=o.webkitTransform=`translate(${i}px,${n}px)`,o.transitionDuration="0s",t}}function LD(t,e,r){const i=t.cloneNode(),n=t[gs];n&&n.forEach(a=>{a.split(/\s+/).forEach(l=>l&&i.classList.remove(l))}),r.split(/\s+/).forEach(a=>a&&i.classList.add(a)),i.style.display="none";const o=e.nodeType===1?e:e.parentNode;o.appendChild(i);const{hasTransform:s}=vI(i);return o.removeChild(i),s}const jD=["ctrl","shift","alt","meta"],zD={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>jD.some(r=>t[`${r}Key`]&&!e.includes(r))},Ee=(t,e)=>{const r=t._withMods||(t._withMods={}),i=e.join(".");return r[i]||(r[i]=(n,...o)=>{for(let s=0;s<e.length;s++){const a=zD[e[s]];if(a&&a(n,e))return}return t(n,...o)})},HD=bt({patchProp:PD},pD);let Ly;function WD(){return Ly||(Ly=FP(HD))}const VD=(...t)=>{const e=WD().createApp(...t),{mount:r}=e;return e.mount=i=>{const n=YD(i);if(!n)return;const o=e._component;!ye(o)&&!o.render&&!o.template&&(o.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const s=r(n,!1,UD(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),s},e};function UD(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function YD(t){return ut(t)?document.querySelector(t):t}/*!
 * pinia v3.0.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let bI;const du=t=>bI=t,$I=Symbol();function Xp(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Ia;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Ia||(Ia={}));function GD(){const t=dS(!0),e=t.run(()=>It({}));let r=[],i=[];const n=$v({install(o){du(n),n._a=o,o.provide($I,n),o.config.globalProperties.$pinia=n,i.forEach(s=>r.push(s)),i=[]},use(o){return this._a?r.push(o):i.push(o),this},_p:r,_a:null,_e:t,_s:new Map,state:e});return n}const wI=()=>{};function jy(t,e,r,i=wI){t.push(e);const n=()=>{const o=t.indexOf(e);o>-1&&(t.splice(o,1),i())};return!r&&uS()&&kC(n),n}function Mo(t,...e){t.slice().forEach(r=>{r(...e)})}const KD=t=>t(),zy=Symbol(),Ih=Symbol();function Jp(t,e){t instanceof Map&&e instanceof Map?e.forEach((r,i)=>t.set(i,r)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const r in e){if(!e.hasOwnProperty(r))continue;const i=e[r],n=t[r];Xp(n)&&Xp(i)&&t.hasOwnProperty(r)&&!ct(i)&&!dn(i)?t[r]=Jp(n,i):t[r]=i}return t}const XD=Symbol();function JD(t){return!Xp(t)||!Object.prototype.hasOwnProperty.call(t,XD)}const{assign:Ki}=Object;function QD(t){return!!(ct(t)&&t.effect)}function ZD(t,e,r,i){const{state:n,actions:o,getters:s}=e,a=r.state.value[t];let l;function c(){a||(r.state.value[t]=n?n():{});const d=QC(r.state.value[t]);return Ki(d,o,Object.keys(s||{}).reduce((u,h)=>(u[h]=$v(we(()=>{du(r);const f=r._s.get(t);return s[h].call(f,f)})),u),{}))}return l=_I(t,c,e,r,i,!0),l}function _I(t,e,r={},i,n,o){let s;const a=Ki({actions:{}},r),l={deep:!0};let c,d,u=[],h=[],f;const p=i.state.value[t];!o&&!p&&(i.state.value[t]={}),It({});let v;function y(z){let R;c=d=!1,typeof z=="function"?(z(i.state.value[t]),R={type:Ia.patchFunction,storeId:t,events:f}):(Jp(i.state.value[t],z),R={type:Ia.patchObject,payload:z,storeId:t,events:f});const x=v=Symbol();wv().then(()=>{v===x&&(c=!0)}),d=!0,Mo(u,R,i.state.value[t])}const m=o?function(){const{state:R}=r,x=R?R():{};this.$patch(D=>{Ki(D,x)})}:wI;function $(){s.stop(),u=[],h=[],i._s.delete(t)}const S=(z,R="")=>{if(zy in z)return z[Ih]=R,z;const x=function(){du(i);const D=Array.from(arguments),P=[],oe=[];function me(Q){P.push(Q)}function ve(Q){oe.push(Q)}Mo(h,{args:D,name:x[Ih],store:E,after:me,onError:ve});let te;try{te=z.apply(this&&this.$id===t?this:E,D)}catch(Q){throw Mo(oe,Q),Q}return te instanceof Promise?te.then(Q=>(Mo(P,Q),Q)).catch(Q=>(Mo(oe,Q),Promise.reject(Q))):(Mo(P,te),te)};return x[zy]=!0,x[Ih]=R,x},_={_p:i,$id:t,$onAction:jy.bind(null,h),$patch:y,$reset:m,$subscribe(z,R={}){const x=jy(u,z,R.detached,()=>D()),D=s.run(()=>sr(()=>i.state.value[t],P=>{(R.flush==="sync"?d:c)&&z({storeId:t,type:Ia.direct,events:f},P)},Ki({},l,R)));return x},$dispose:$},E=nu(_);i._s.set(t,E);const X=(i._a&&i._a.runWithContext||KD)(()=>i._e.run(()=>(s=dS()).run(()=>e({action:S}))));for(const z in X){const R=X[z];if(ct(R)&&!QD(R)||dn(R))o||(p&&JD(R)&&(ct(R)?R.value=p[z]:Jp(R,p[z])),i.state.value[t][z]=R);else if(typeof R=="function"){const x=S(R,z);X[z]=x,a.actions[z]=R}}return Ki(E,X),Ki(Ie(E),X),Object.defineProperty(E,"$state",{get:()=>i.state.value[t],set:z=>{y(R=>{Ki(R,z)})}}),i._p.forEach(z=>{Ki(E,s.run(()=>z({store:E,app:i._a,pinia:i,options:a})))}),p&&o&&r.hydrate&&r.hydrate(E.$state,p),c=!0,d=!0,E}/*! #__NO_SIDE_EFFECTS__ */function On(t,e,r){let i;const n=typeof e=="function";i=n?r:e;function o(s,a){const l=AP();return s=s||(l?_a($I,null):null),s&&du(s),s=bI,s._s.has(t)||(n?_I(t,e,i,s):ZD(t,i,s)),s._s.get(t)}return o.$id=t,o}const eM=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,tM=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,rM=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function iM(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){nM(t);return}return e}function nM(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function oM(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const r=t.trim();if(r.length<=9)switch(r.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!rM.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(eM.test(t)||tM.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,iM)}return JSON.parse(t)}catch(i){if(e.strict)throw i;return t}}function sM(t,e){if(t==null)return;let r=t;for(let i=0;i<e.length;i++){if(r==null||r[e[i]]==null)return;r=r[e[i]]}return r}function kv(t,e,r){if(r.length===0)return e;const i=r[0];return r.length>1&&(e=kv(typeof t!="object"||t===null||!Object.prototype.hasOwnProperty.call(t,i)?Number.isInteger(Number(r[1]))?[]:{}:t[i],e,Array.prototype.slice.call(r,1))),Number.isInteger(Number(i))&&Array.isArray(t)?t.slice()[i]:Object.assign({},t,{[i]:e})}function SI(t,e){if(t==null||e.length===0)return t;if(e.length===1){if(t==null)return t;if(Number.isInteger(e[0])&&Array.isArray(t))return Array.prototype.slice.call(t,0).splice(e[0],1);const r={};for(const i in t)r[i]=t[i];return delete r[e[0]],r}if(t[e[0]]==null){if(Number.isInteger(e[0])&&Array.isArray(t))return Array.prototype.concat.call([],t);const r={};for(const i in t)r[i]=t[i];return r}return kv(t,SI(t[e[0]],Array.prototype.slice.call(e,1)),[e[0]])}function II(t,e){return e.map(r=>r.split(".")).map(r=>[r,sM(t,r)]).filter(r=>r[1]!==void 0).reduce((r,i)=>kv(r,i[1],i[0]),{})}function EI(t,e){return e.map(r=>r.split(".")).reduce((r,i)=>SI(r,i),t)}function Hy(t,{storage:e,serializer:r,key:i,debug:n,pick:o,omit:s,beforeHydrate:a,afterHydrate:l},c,d=!0){try{d&&(a==null||a(c));const u=e.getItem(i);if(u){const h=r.deserialize(u),f=o?II(h,o):h,p=s?EI(f,s):f;t.$patch(p)}d&&(l==null||l(c))}catch(u){n&&console.error("[pinia-plugin-persistedstate]",u)}}function Wy(t,{storage:e,serializer:r,key:i,debug:n,pick:o,omit:s}){try{const a=o?II(t,o):t,l=s?EI(a,s):a,c=r.serialize(l);e.setItem(i,c)}catch(a){n&&console.error("[pinia-plugin-persistedstate]",a)}}function aM(t,e,r){const{pinia:i,store:n,options:{persist:o=r}}=t;if(!o)return;if(!(n.$id in i.state.value)){const l=i._s.get(n.$id.replace("__hot:",""));l&&Promise.resolve().then(()=>l.$persist());return}const a=(Array.isArray(o)?o:o===!0?[{}]:[o]).map(e);n.$hydrate=({runHooks:l=!0}={})=>{a.forEach(c=>{Hy(n,c,t,l)})},n.$persist=()=>{a.forEach(l=>{Wy(n.$state,l)})},a.forEach(l=>{Hy(n,l,t),n.$subscribe((c,d)=>Wy(d,l),{detached:!0})})}function lM(t={}){return function(e){aM(e,r=>({key:(t.key?t.key:i=>i)(r.key??e.store.$id),debug:r.debug??t.debug??!1,serializer:r.serializer??t.serializer??{serialize:i=>JSON.stringify(i),deserialize:i=>oM(i)},storage:r.storage??t.storage??window.localStorage,beforeHydrate:r.beforeHydrate,afterHydrate:r.afterHydrate,pick:r.pick,omit:r.omit}),t.auto??!1)}}var cM=lM();const Ea={"dragon-ring":{id:"dragon-ring",label:"Dragon ring",description:"The dragon is made of stainless steel with ruby red eyes, and in its claws, it holds a swirling planet of turquoise.",actionText:"This ring always makes you feel connected to the Gurpy you never met.",value:0,weight:0,permanent:!0,usable:!1},"patched-coat":{id:"patched-coat",label:"Patched coat",description:"There is an intricately-hooked patch on its back that shows four images: an ancient windmill, an historic longship, a modern wind turbine, and a lobster boat.",actionText:"Smells like Mormor.",value:0,weight:0,permanent:!0,usable:!1},pinecone:{id:"pinecone",label:"Pinecone",description:"A pinecone.",actionText:"It's prickly to the touch.",value:0,weight:1,usable:!0},"pine-needles":{id:"pine-needles",label:"Pine needles",description:"Long, brown and pointy on one end. Some are paired together, others in bunches of three.",actionText:"Pine needly.",value:0,weight:1,usable:!0},mushroom:{id:"mushroom",label:"Mushroom",description:"Spongy, earthy, fungal.",actionText:"Tastes like dirt. You feel funny.",value:0,weight:1,type:"consumable",usable:!0},"hongatar-trash":{id:"hongatar-trash",label:"Hongatar trash",description:"Empty snail shells. Looks like they were licked clean.",actionText:"You roll the shells around in your palm. They emit a delicate clacking sound.",value:0,weight:1,usable:!0},"self-help-book":{id:"self-help-book",label:"Self help book",description:`The book is titled "Sisu". The author's name sounds Finnish. There is an illustration of two hikers at the top of a snowy peak.`,value:0,weight:2,usable:!0},"dog-food":{id:"dog-food",label:"Dog food can",description:"Maybe you'll meet a hungry dog.",value:0,weight:1,usable:!0},cards:{id:"cards",label:"Playing cards",description:"Maybe someone will want to play.",value:0,weight:1,usable:!0},"spray-paint":{id:"spray-paint",label:"Orange spray paint",description:"Maybe you'll spray paint something.",value:0,weight:1,type:"consumable",usable:!0},translator:{id:"translator",label:"Translator",description:"Maybe you'll encounter a language you can't comprehend.",value:0,weight:1,usable:!1},"beest-recording":{id:"beest-recording",label:"Beest recording",description:"",value:0,weight:1,usable:!0},"brain-moss":{id:"brain-moss",label:"Brain moss",description:"Fine, leathery strings of pink stuff.",actionText:"You twirl the moss around above your head like a ribbon dancer.",value:0,weight:1,usable:!0},axe:{id:"axe",label:"Ax",description:"A single-headed carbon-fiber ax.",value:0,weight:5,usable:!0}},dM=[Ea["dragon-ring"],Ea["patched-coat"]];let na;const Xn=On("snackbar",{state:()=>({visible:!1,message:"",timeout:5e3}),actions:{async show(t){this.message=t,this.visible=!0,await new Promise(e=>{na=setTimeout(e,this.timeout)}),na&&na!=0&&(this.visible=!1)},dismiss(){clearTimeout(na),na=0,this.visible=!1}}}),uM="data:audio/mpeg;base64,//uQxAAAAAAAAAAAAAAAAAAAAAAAWGluZwAAAA8AAAAHAAAJeABdXV1dXV1dXV1dXV1dXYSEhISEhISEhISEhISEpqampqampqampqampqbAwMDAwMDAwMDAwMDAwMDb29vb29vb29vb29vb2/Ly8vLy8vLy8vLy8vLy//////////////////8AAAA8TEFNRTMuMTAwBK8AAAAAAAAAABUgJAVBQQABzAAACXijY7FoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//vAxAAAAOADJxQQACt8Qqm3N0SAkQAAAAeHj+9gLG97apJKDQGBgIBDFz0aHjTQcBAZjpQahKMMRjQXBxOYoCG1qKxHUmlAzmU0aBkiYCxcQmA6OED24SIDNnyIgFCBAcDOgQMKlA2q2g0ZsZgfJAwLDwNSJD0CqaILNI7xlBbBPpBxlQuHDbwIhwMqX/QPOtTAFIwMKNAxoEb4GPCg3f/QqY2RNxxh6g5hBAbjBssPv/yfQTam9wsTAyZcCQ8LHw6ALqAAiYjcin//V6TBlsWWRMnGdMvnyKGn//Wvb/ay0y+OA0TJwuHiKEUKhPl//////////dBBifeWUhAUdRCJICeVlGorSSuUqRucpdTSlys5LmgeTLpdD1NTEkxKTlXaTmta5I2BCASVNjZI6SSaTTrXd8tpqKTDYiG9k4dxAKqwcNjAlEo3qoh7769nDu6rc5Jx42JQ8jtDyawVGx51fP/L3LnnJKL333d3//3HbWNf3uc1qKraqY201sta1KD710SayjrKj2mqKR48eU7PwoeUTRZbrJR7PmXAtl2mqkc3YAN9aUCCr5VMjY7aA1rVZ8Wp6yaNFmmkSIjMLCKUJVko2Ws6ZZsz5JLvRbN5+4DlGoy7VSNYa1mYz7rSI5SaGctGccMhCgQ6T+c6qzpFSmRsZf///+wqGX+x1Sb/87nPPVYOGkcsFYoJWqD96nh0YglWRQAol1TdTVQkLjQCuSpU/LEi7ralzVYqm2oNOfqJ0rorJmFsUwuzWqoNTxc+tXlmYL18vM+DKhkHQCcnQEwCGBEiGv/mexluZmReeAAJmGS/aUjdVcoKdaoWHenytiSO4zWUYQAcIh8sYJMWNa54lWxjZLugTDo4ympcDhO9CQUBKhGT5DQOUBkXIn5jvOxoU9e5gNlVW4w8ZxXMtOTVlyjhzJo5//8e8hrhbHVTV/IFp7Lmnz7//ts/7SDlHi1jNCKf/KX/+3DE8AAT+aNj/YWAIdatLP2EjeQOqgYWeARZo7oc5yXCUwpU6smsDlwKJHNbb/O11TiVYDdVOVBt39ShayCNA+PFgU8mEocpRTshTrfW0V1qT9cNn8ZQsx7Kqki4dg9xGVvJ02apqtXby16pc1DLjoHhkZu63M9cf9TPzWzRUSMKUkhYsYlYeSExjxya+nfOrcv3Sg8w4aJkf+soh3IWdTNQUd4QRTLTEBoCc0ovihomUqvxUwExZYgGTrLJBPzjhIzWWSbPQD1X5FRURKvniK1Q2o+aue1miZKOG///b6Vek3G9QeMqxoNVLah6qiUSB89/4sDSk8UPCVVe3o75hwuXgAM7wBKOAcxJlyIaOAh6bFxDTbp0usKrLAuagqCIBy6o74WGXpAhnS51kMxqxwoY7FdlzDQG//tgxPcADtT9V+wwbyG+Hqs88w7cJPv/l/05G9dWKbMDDlpfs9Z7dQMTCx1t3iyvLoARTMrXLaATJaOTKZ4FePw9REkNJjg+Cbboca+oQWjij0dCBYxheMaaMVBh4warOQ0vdEotzDHjRvDLJy0NFj365/+0j69vqVU1HsgcSaJGewDCUBOOpWEhnoUEhmFohlEqbYAJQOkz5qRVGnSl+whky3rLYFyJ9WXimcbkuikQs1HZnlH5OAuypYGbrRTE20hFVrqkFAhaUDRqwUi///yOl5zylYEIhCQlXzJUbjsYKQcrAEaC4BpBIjuEyLmCdOQhor4nj4eSMO9zOgQEiwJQOgR2//tQxPuADUDLT+wxDUF9Gej9hiFQt81lhNajiSt8XTlNAakZVI8PzI2ASasTktIneFW77ZsJOZqwYTAmBBCJjLBcOeqwf0JMQU1FMy4xMGrvpsAGCQQRoelMLRVUAeBYlkUCQpJgNBUo5EuysuyinJJfxiJZSW5gkTckOKqzklpMQU1FMy4xMDCqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqv/7UMT0AArc80OnmHCBcpqo/YegbKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqr/+0DE94AKHNE/7BhwoWcZpjTzDeCqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqv/7EMTug8YYNR0HsSTIAAA0gAAABKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq";let Vy,Uy=0;const Yy=new Map,hM=15e3,zt=It(null),Yi=It(!1),Eh=1e3;function qt(){function t(l,c){if(!Yi.value){const d=Date.now(),u=Yy.get(c)||0;if(d-u<hM)return;Yy.set(c,d),new Audio(l).play().catch(f=>{console.warn("Audio playback failed:",f)})}}function e(l){Yi.value||new Audio(l).play().catch(d=>{console.warn("Audio playback failed:",d)})}function r(l){var d;if(!l){zt.value&&(n(zt.value),zt.value=null);return}if((d=zt.value)!=null&&d.src.includes(l))return;const c=new Audio(l);i(c,zt.value)}function i(l,c){var d;if(c){c.removeEventListener("loadedmetadata",()=>{Qp()}),zt.value=l;const u=c.volume/(Eh/50);l.volume=0,o(l);const h=setInterval(()=>{c.volume>.05?c.volume-=u:(clearInterval(h),c.pause())},50)}else zt.value=l,zt.value.volume=0,o(zt.value);(d=zt.value)==null||d.addEventListener("loadedmetadata",()=>{Qp()})}function n(l){const c=l.volume/(Eh/50),d=setInterval(()=>{l.volume>.05?l.volume-=c:(clearInterval(d),l.pause())},50)}function o(l){if(l.play(),!Yi.value){const c=1/(Eh/100),d=setInterval(()=>{l.volume<.95?l.volume+=c:(l.volume=1,clearInterval(d))},100)}}function s(){e(uM)}function a(){zt.value&&(Yi.value=!Yi.value,zt.value.muted=Yi.value,!Yi.value&&zt.value.volume==0&&o(zt.value))}return{playBackgroundAudio:r,playCharacterSound:t,playGenericSound:e,click:s,mute:a,isMuted:Yi}}function Qp(){const t=zt.value;clearInterval(Vy),t&&(Uy=t.duration-t.currentTime,Vy=setInterval(()=>{!t.paused&&!t.ended&&(t.currentTime=0,Qp())},Uy*1e3))}const fM="/void-leeba/assets/pick-up-item-IP63ZXiY.mp3",ee=On("character",{state:()=>({name:"Adventurer",health:100,blueMagic:{id:"blueMagic",value:0,scenesGained:[],scenesLost:[]},will:{id:"will",value:0,scenesGained:[],scenesLost:[]},shitheadedness:{id:"shitheadedness",value:0,scenesGained:[],scenesLost:[]},athletics:{id:"athletics",value:0,scenesGained:[],scenesLost:[]},inventory:[...dM],flags:{},manners:void 0}),actions:{takeDamage(t){this.health=Math.max(this.health-t,0)},gainStat(t,e,r){this.blueMagic.scenesGained.includes(r)&&(this.blueMagic.value-=1),this.will.scenesGained.includes(r)&&(this.will.value-=1),this.shitheadedness.scenesGained.includes(r)&&(this.shitheadedness.value-=1),this.athletics.scenesGained.includes(r)&&(this.athletics.value-=1);const i=this[t];i.value+=e,i.scenesGained.push(r)},loseStat(t,e,r){this.blueMagic.scenesLost.includes(r)&&(this.blueMagic.value+=1),this.will.scenesLost.includes(r)&&(this.will.value+=1),this.shitheadedness.scenesLost.includes(r)&&(this.shitheadedness.value+=1),this.athletics.scenesLost.includes(r)&&(this.athletics.value+=1);const i=this[t];i.value-=e,i.scenesLost.push(r)},setFlag(t,e){this.flags[t]=e},addToInventory(t,e){qt().playGenericSound(fM);const i=Ea[t];i.pageAcquired=e,this.inventory.push(i),Xn().show(`+1 ${i.label}`)},removeFromInventory(t,e=!0){const r=this.inventory.findIndex(i=>i.id===t);if(r!==-1){const i=Ea[t];this.inventory.splice(r,1);const n=Xn();e&&n.show(`-1 ${i.label}`)}},async useItem(t){const e=Y(),r=Xn();switch(t){case"mushroom":{e.startPsychedelicEffect();break}case"self-help-book":this.hasItem("translator")||r.show("You aren't fluent enough in Finnish to read this.")}Ea[t].type=="consumable"&&this.removeFromInventory(t,!1)},hasItem(t){return this.inventory.some(e=>e.id==t)},setManners(t){this.manners=t}}}),pM="/void-leeba/assets/Landing-Page-BeHrxynY.png",TI="/void-leeba/assets/intro-BFV8Qq9v.mp3",Gy="/void-leeba/assets/wind-tunnel-Dzt3gv-F.mp3",gM={start:A("start",function(t){return{id:this.id,text:"An intro to the Leakyverse",animationRate:250,background:pM,audio:TI,choices:()=>[{text:"New game",next:"intro"},{text:"Credits",next:"credits"}],metadata:{sectionId:"intro",routes:[{label:"New game",redirect:"intro"},{label:"Credits",redirect:"credits"}]}}}),intro:A("intro",function(t){return{id:this.id,text:"I left the home I'd come to know",audio:Gy,animationRate:250,metadata:{sectionId:"intro",routes:[{label:"trigger",redirect:"intro1"}]}}}),intro1:A("intro1",function(t){return{id:this.id,text:"I stayed alive to find a way to grow",audio:Gy,animationRate:250,metadata:{sectionId:"intro",routes:[{label:"trigger",redirect:"home"}]}}}),credits:A("credits",function(t){return{id:this.id,text:"credits"}}),preamble:A("preamble",function(t){return{id:this.id,text:""}})},C="/void-leeba/assets/new-game-DItTJ8YH.png",vM="/void-leeba/assets/morning-birds-BZ71bbnz.mp3",Ro="/void-leeba/assets/home-y2pL3Dq_.mp3",fi=On("aspects",{state:()=>({aspects:[]}),actions:{addAspect(t){this.aspects.find(r=>r.id===t.id)||this.aspects.push({...t,scenesRemaining:t.durationScenes})},removeAspect(t){this.aspects=this.aspects.filter(e=>e.id!==t)},hasAspect(t){return this.aspects.some(e=>e.id===t)},decrementDurations(){this.aspects.forEach(t=>{t.durationScenes>-1&&t.scenesRemaining--}),this.aspects=this.aspects.filter(t=>t.durationScenes<0||t.scenesRemaining>0)}}}),Ky={id:"magic-nosehairs",name:"Magic Nosehairs",description:"",durationScenes:-1,scenesRemaining:0},Xy={id:"tree-murderer",name:"Tree Murderer",description:"",durationScenes:-1,scenesRemaining:0},OI={id:"all-your-bones-are-broken",name:"All Your Bones Are Broken",description:"",durationScenes:-1,scenesRemaining:0},kI={id:"part-bird",name:"Part Bird",description:"",durationScenes:-1,scenesRemaining:0},Jy={id:"ascetic",name:"Ascetic",description:"",durationScenes:-1,scenesRemaining:0},Qy={id:"well-versed",name:"Well-versed",description:"",durationScenes:-1,scenesRemaining:0},Zy={id:"animal-abuser",name:"Animal Abuser",description:"",durationScenes:-1,scenesRemaining:0},mM={home:A("home",function(t){return{id:this.id,background:C,audio:vM,text:"You have just moved away from the countryside, finally. Endless evergreens, oceans and coves, silence and stars, and quiet. People knew you, but you only knew a few. You didn't grow up near the ocean. You're from away. Isolation multiplies where one doesn't belong. Your grandma died recently, removing your last obligation to stay.^^Now you live in the suburbs of the city of Poetland. In the suburbs, you can choose to know your neighbors, or not. No one knows you unless you want them to know you.^^You have on your grandfather's dragon ring. The dragon is made of stainless steel with ruby red eyes, and in its claws, it holds a swirling planet of turquoise. You wear your grandmother's wool coat, with an intricately-hooked patch on its back that shows four images: an ancient windmill, an historic longship, a modern wind turbine, and a lobster boat. {Continue.}",buttonActions:()=>[{action:()=>{Y().goToScene("home1")}}],metadata:{sectionId:"home",routes:[{label:"Continue",redirect:"home1"}]}}}),home1:A("home1",function(t){return{id:this.id,background:C,audio:Ro,text:"Your rented room shares its house with roommates, who are at work. Daylight filters through the blinds of the living room window and spills onto the ceiling in stripes. The view out your window shows a lawn, a small tree speckled with red berries, and a quiet road with cars parked along its length.^^You could go out and explore. Also, no one is home. You might enjoy some quiet time in your room.",choices:()=>[{text:"Go out and explore.",next:"home2"},{text:"Enjoy some quiet time in your room.",next:"room"},{text:"You can do anything! Look at your phone.",drawerView:"phone",onChoose:()=>{ee().gainStat("shitheadedness",1,this.id)}}],metadata:{sectionId:"home",routes:[{label:"Go out and explore",redirect:"home2"},{label:"Enjoy some quiet time in your room",redirect:"room"},{label:"Look at your phone",redirect:"drawer",stat:{id:"shitheadedness",amount:1}}]}}}),home2:A("home2",function(t){return{id:this.id,background:C,audio:Ro,text:"Will you take anything with you?",choices:()=>[{text:"Dog food can",next:"home3",payload:{text:"Maybe you'll meet a hungry dog. {Continue.}"},onChoose:()=>{const e=ee();e.addToInventory("dog-food",this.id),e.gainStat("athletics",1,this.id)}},{text:"Playing cards",next:"home3",payload:{text:"Maybe someone will want to play. {Continue.}"},onChoose:()=>{const e=ee();e.addToInventory("cards",this.id),e.gainStat("blueMagic",1,this.id)}},{text:"Orange spray paint",next:"home3",payload:{text:"Maybe you'll spray paint something. {Continue.}"},onChoose:()=>{const e=ee();e.addToInventory("spray-paint",this.id),e.gainStat("shitheadedness",1,this.id)}},{text:"Translator",next:"home3",payload:{text:"Maybe you'll encounter a language you can't comprehend. {Continue.}"},onChoose:()=>{const e=ee();e.addToInventory("translator",this.id),e.gainStat("blueMagic",1,this.id)}},{text:"Nothing",next:"home3",payload:{text:"Maybe you won't need anything. {Continue.}"},onChoose:()=>{const e=fi(),r=ee();e.addAspect(Jy),r.gainStat("will",1,this.id)}}],metadata:{sectionId:"home",routes:[{label:"Dog food can",redirect:"home3",stat:{id:"athletics",amount:1}},{label:"Playing cards",redirect:"home3",stat:{id:"blueMagic",amount:1}},{label:"Orange spray paint",redirect:"home3",stat:{id:"shitheadedness",amount:1}},{label:"Translator",redirect:"home3",stat:{id:"blueMagic",amount:1}},{label:"Nothing",redirect:"home3",aspect:Jy,stat:{id:"will",amount:1}}]}}}),home3:A("home3",function(t){return{id:this.id,audio:Ro,background:C,text:(t==null?void 0:t.text)??"",buttonActions:()=>[{action:()=>{Y().goToScene("park")}}],metadata:{sectionId:"home",routes:[{label:"Continue",redirect:"park"}]}}}),room:A("room",function(t){return{id:this.id,audio:Ro,background:C,text:"You trudge up the light green carpeted narrow stairs to your room. Your room is festooned with posters, orderly piles of sorted odds and ends, and trinkets. Your bed may be a full, but its puffy yellow comforter looks inviting. {A nap sounds nice}.^^A notebook sits on the little desk, a stiff chair next to it. Drawing utensils rest here. {Settle into the chair to make something}.^^The empty bed and the blank page remind you of fresh snow, a bright day, the smell of morning mud, and afternoon heat. Wait, {I'm going to the park}.",buttonActions:()=>[{action:()=>{Y().goToScene("nap")}},{action:()=>{Y().goToScene("make-something")}},{action:()=>{Y().goToScene("park")}}],metadata:{sectionId:"home",routes:[{label:"A nap sounds nice",redirect:"nap"},{label:"Settle into the chair and make something",redirect:"make-something"},{label:"I'm going to the park",redirect:"park"}]}}}),nap:A("nap",function(t){return{id:this.id,background:C,audio:Ro,text:"You get over to your bed, pull up the sheets, slip in and nestle into the blankets. You're not very tired, but you're so unmotivated it hardly matters.",choices:()=>[{text:"Close your eyes.",next:"dream"},{text:"Noooo!!! I'm not sleepy! I'd rather sit at my desk.",next:"make-something"}],metadata:{sectionId:"home",routes:[{label:"Close your eyes",redirect:"dream"},{label:"rather sit at my desk",redirect:"make-something"}]}}}),"make-something":A("make-something",function(t){return{id:this.id,audio:Ro,text:"You sit down at the desk and open to a fresh page of the pad.^You look down onto the off-white paper. A void to fill. Dimensionless.^The desire to form and create something in that void. It pulls you, amuses you, scares you. You feel like proving your stoicism, resisting the urge to make marks. Go {into the Void}.^^You can feel the spirit rising in you, and the thrill of channeling that spirit! Feelings with no where to go are like idle hands...they animate. Or, no, do they become animate hands!? Nonononono! You pick up the paintbrush, smoosh some acrylic paint into the palette and {paint with your heart}.^^Nah, nevermind, I'm {going to sleep}.",background:C,buttonActions:()=>[{action:()=>{Y().goToScene("void")}},{action:()=>{Y().goToScene("paint")}},{action:()=>{Y().goToScene("nap")}}],metadata:{sectionId:"home",routes:[{label:"into the void",redirect:"void"},{label:"paint with your heart",redirect:"paint"},{label:"going to sleep",redirect:"nap"}]}}})},Bn="/void-leeba/assets/walk-in-the-park-CkW9Tlwr.mp3",yM={park:A("park",function(t){return{id:this.id,background:C,audio:Bn,text:"You are in the park. In the distance, a children's play structure. Behind the play structure, an empty public pool in yellow and light blue. Behind you, a soccer field, basketball court, and extensive skatepark. To your side, a huge snow pile.",choices:()=>[{text:"Still yourself and listen to the sounds.",next:"park-drunks"},{text:"Leave the park and enter the neighborhood.",next:"neighborhood"},{text:"Play on the snowpile.",next:"snow-pile"}],metadata:{sectionId:"park",routes:[{label:"Still yourself and listen to the sounds.",redirect:"park-drunks"},{label:"Leave the park and enter the neighborhood.",redirect:"neighborhood"},{label:"Play on the snowpile.",redirect:"snow-pile"}]}}}),"park-drunks":A("park-drunks",function(t){return{id:this.id,background:C,audio:Bn,text:"The sun sets over the park. A few stars resist the city's lights. The playground and fences now set into silhouettes. As your eyes adjust, the park takes on a dark grey black clarity. The stars and a white crescent illuminate it with a soft whiteness devoid of color.^^You hear two drunks arguing as they walk along, looking up and pointing.",dialogSequence:()=>[{characterId:"drunk1",text:"That's not the Moon! It's the Sun!"},{characterId:"drunk2",text:"That's not the Sun! It's the Moon!",onClick:()=>{Y().goToScene("park-drunks1")}}],metadata:{sectionId:"park",routes:[{label:"drunk dialog click",redirect:"park-drunks1"}]}}}),"park-drunks1":A("park-drunks1",function(t){return{id:this.id,background:C,audio:Bn,text:"In loopy diagonals from either direction, they come up to you.^^The first drunk seizes on the opportunity to accost you, her breath bequeathing hot sick.",dialogSequence:()=>[{characterId:"drunk1",text:"Hey <i>obversant</i> one, settle this for us. <i>*hiccup*</i> You see that thing up there in the sky? Is that the Sun or the Moon?",popUp:!0}],choices:()=>[{text:`"I'm sorry, I'm not from around here."`,next:"park-drunks2a",onChoose:()=>{ee().setFlag("drunk-choice",void 0)}},{text:`"It's the Sun."`,next:"park-drunks2b",onChoose:()=>{ee().setFlag("drunk-choice","drunk1")}},{text:`"It's the Moon."`,next:"park-drunks2b",onChoose:()=>{ee().setFlag("drunk-choice","drunk2")}}],metadata:{sectionId:"park",routes:[{label:"I'm sorry, I'm not from around here.",redirect:"park-drunks2a"},{label:"It's the sun",redirect:"park-drunks2b"},{label:"It's the moon",redirect:"park-drunks2b"}]}}}),"park-drunks2a":A("park-drunks2a",function(t){return{id:this.id,background:C,audio:Bn,text:"",dialogSequence:()=>[{characterId:"drunk1",text:"And you never looked up before neither, huh?",popUp:!0}],choices:()=>[{text:`"I don't have time for this."`,next:"park-drunks3",onChoose:()=>{ee().setManners("rude")}},{text:'"Looking up is for the young and hopeful."',next:"park-drunks3",onChoose:()=>{ee().setManners("depressing")}},{text:"Just laugh.",next:"park-drunks3",onChoose:()=>{ee().setManners("polite")}}],metadata:{sectionId:"park",routes:[{label:"I dont have time for this",redirect:"park-drunks3",manners:"rude"},{label:"Looking up is for the young and hopeful",redirect:"park-drunks3",manners:"depressing"},{label:"Just laugh",redirect:"park-drunks3",manners:"polite"}]}}}),"park-drunks2b":A("park-drunks2b",function(t){return{id:this.id,background:C,audio:Bn,text:"",dialogSequence:()=>{const e=ee();return[{characterId:e.flags["drunk-choice"],text:e.flags["drunk-choice"]=="drunk1"?"THANK YOU!!":"BOOYAH!!"},{characterId:e.flags["drunk-choice"]=="drunk1"?"drunk2":"drunk1",text:".........",onClick:()=>{Y().goToScene("park-drunks2c")}}]},metadata:{sectionId:"park",routes:[{label:"drunk dialog click",redirect:"park-drunks2c"}]}}}),"park-drunks2c":A("park-drunks2c",function(t){return{id:this.id,background:C,audio:Bn,text:"The one celebrates to the other.",dialogSequence:()=>[{characterId:ee().flags["drunk-choice"],text:"HA, EAT IT!",popUp:!0}],choices:()=>[{text:'"Not cool."',next:"park-drunks3",onChoose:()=>{ee().setManners("depressing")}},{text:'"YEAH! EAT IT, YA DOPE!"',next:"park-drunks3",onChoose:()=>{ee().setManners("rude")}},{text:"Just laugh.",next:"park-drunks3",onChoose:()=>{ee().setManners("polite")}}],metadata:{sectionId:"park",routes:[{label:"Not cool",redirect:"park-drunks3",manners:"depressing"},{label:"YEAH! EAT IT, YA DOPE!",redirect:"park-drunks3",manners:"rude"},{label:"Just laugh",redirect:"park-drunks3",manners:"polite"}]}}}),"park-drunks3":A("park-drunks3",function(t){return{id:this.id,background:C,audio:Bn,text:"",dialogSequence:()=>{const e=ee(),r=e.manners,i=e.flags["drunk-choice"],n=r=="rude"?i?"Woah. Easy man, that's my friend you're talking about!":"Rude!":r=="depressing"?"Depressing!":"",o=[];return n!=""&&o.push({characterId:i??"drunk1",text:n}),o.push({characterId:i??"drunk1",text:"Oh dang! A skatepark! Cool! Bye!",onClick:()=>{Y().goToScene("black-dog")}}),o},metadata:{sectionId:"park",routes:[{label:"drunk dialog click",redirect:"black-dog"}]}}})},at="/void-leeba/assets/spooky1-BgNk0ejp.mp3";function eb(){return Array.from({length:4},()=>{const e=Math.floor(Math.random()*3);return e===0?-1:e===1?0:1}).reduce((e,r)=>e+r,0)}function xv(t,e){const r=eb(),i=eb(),n=t+r,o=e+i;return n-o}function bM(t){return t>=2?{text:"You take a running step toward it and fly through the air feet-first in preparation for a two-legged drop kick. The human-faced dog yelps. The dog-bodied human snarls. It looks right into your eyes. You abandon your maneuver mid-air. The creature retreats into the shadows. Something inside you stirs and you start to {feel bad}.",success:!0}:t==1?{text:"With malicious fury, you wind your leg up to your chest to prepare a wanton one-footed stomp. The human-faced dog squeals. The dog-bodied human snarls. It looks right into your eyes. You lower your foot. The creature retreats into the shadows. Something inside you stirs and you start to {feel bad}.",success:!0}:t==0?{text:"You close your eyes and kick out quickly where you think its face is. Your hear its panting as your leg furtively kicks out. You hit nothing. But strangely, you hear it depart. You open your eyes.^^Seeing the human-faced dog scamper away, you wonder if it was wrong to judge it so quickly. You start to {feel bad}.",success:!0}:{text:"As you prepare your attack, you lose your footing. The redblack dog's eyes flicker with an all-to-human violence. It's bared teeth shimmer with the certainty of death. The dog-body rushes toward you. The human-face is inches from yours. {You close your eyes.}",success:!1}}function $M(t){return t>0?{text:"chop-success",success:!0}:t<0?{text:"chop-fail",success:!1}:{text:"chop-neutral",success:!0}}function wM(t){return t>=2?{text:"Sweet synergy! In one fluid motion, you grabbed that sucker! You were so fast, the squirrel didn't even see it coming. OK, Mr. Miyagi!^^It almost squirms free before you can recover from the shock of actually catching it. Overjoyed and triumphant, you shimmy back down to the forest floor with an easy swagger. The squirrel crawls up your sleeve and runs a circle around your neck. You made a friend!^^The squirrel chitters beseechingly. It wants you to follow it.",success:!0}:t==1?{text:"The squirrel is fast, but you are faster... just barely. You manage to snatch the squirrel by its tail. Between the shock of catching the squirrel, and the subsequent frenzy of its struggle to free itself from your grasp, you lose your footing on the tree. Dangling from the tree by one hand, with the squirrel in the other, your feet search to regain the trunk. Phew! The squirrel's frenzy abates to a limp submission. You're able to shimmy back down to the forest floor. Once there, the squirrel crawls up your sleeve and runs a circle around your neck. You made a friend!^^The squirrel chitters beseechingly. It wants you to follow it.",success:!0}:t==0?{text:"You are fast, but the squirrel is faster. You miss, and the momentum of your action causes you to lose your footing. Your other hand loses its grip on the tree. As you're falling back, you flail your hand out in a final desparate attempt. You hit the ground and somehow, the squirrel is in your hand. You're both a bit shaken up from the fall.^^After you both take a moment to regain your senses, the squirrel chitters beseechingly. It wants you to follow it.",success:!0}:{text:"Pfft. Of course you missed. Who catches a squirrel with their bare hands? As a result, you lose your grip and fall backwards like a defeated villain in slow-motion.^^You hit the ground with a soft thud and several pinecones scatter down around you. {Pick up a pinecone.}^^The squirrel wants you to follow it.",success:!1}}function _M(t){switch(t){case"bow":return"The {hongatar} seem giddy at your gracious display and you can feel your nosehairs tingling.";case"lesson":return"The {hongatar} nod solemnly. After a moment of quiet reflection, they all begin to extol the virtues of not littering.";case"thanks":return'"Thanks!".."<i>Thanks!</i>".."tHaNkS!!" The {hongatar} are mocking you ruthlessly in what you tell yourself is all good fun.';case"wink":return"This excites the {hongatar} very much. They start to flip and spin and shout and yip.";case"flatter":return"The {hongatar} blush simultaneously. What you said has them all a-titter!";case"insult":return'"<i>tHaT iS aSiNiNe!</i>" The {hongatar} are mocking you ruthlessly, totally unfazed by your shallow insult.';case"accuse":return"The {hongatar} dismiss you summarily. You simply don't have the proof to back your accusations.";default:return""}}function SM(t){switch(t){case"dream":return"The thuds you were hearing turned out to be very real. Well, for a dream... especially considering you were dreaming twice.^^";case"squirrel":return"As you swat at the pesky vermin you lose your grip and fall backwards like a defeated villain in slow-motion, finally hitting the ground with a thud. ";case"chop-success":return'You slice through the tree with one fell swoop. Wow! Your parking lot dreams just might come true!^^The huge tree creaks ominously as it starts to fall. Just as you are about to yell, "Timber!", you hear strange noises from the depths of the forest. The tree hits the ground with a dull, lifeless thud. ';case"chop-fail":return"The axe bounces off the tree and flies out of your hands, disappearing into the forest. Not even a dent. Lame! Looks like you won't get your parking lot after all. ";case"chop-neutral":return"You manage to slice into the tree, but the axe gets stuck in the trunk. You yank it free, and as you do, it flies out of your hands, disappearing into the forest. ";default:return""}}function IM(t){return t?"The drunk from before stumbles by.":"There are those drunks from before. You cry out for help, but they don't seem to care."}function EM(t){switch(t){case"rude":return"Serves them right. Probably deserve whatever Paul has in mind for them.";case"depressing":return"A good dose of mortal fear should remind them how to appreciate the little things in life.";case"polite":return"We should help them, but only because they were so polite to us earlier.";default:return""}}function TM(t){switch(t){case"where":return'The squirrel has no reply. You rememeber someone telling you: "Travel is about the gorgeous feeling of teetering in the unknown." You suppose this is one of those times.';case"what":return`The squirrel has no reply. You rememeber someone telling you: "It's not a question, but a lesson learned in time." You suppose this is one of those times.`;case"why":return'You remember someone telling you: "Peculiar travel suggestions are dancing lessons from god." You suppose this is one of those times.';default:return""}}function tb(t){switch(t){case"food-dog":return"It whimpers happily as it snarfles the food you gave it. Then it scampers off into the neighborhood.";case"pets-dog":return"It dodges your advance, but its manner is playful. It barks happily and trots away into the neighborhood.";case"nothing-dog":return"Seeing mostly surprise and wonder in your eyes, but no action, it turns tail to traipse across the field, stopping here and there to sniff the ground, but disappearing into the neighborhood.";case"food-human":return"The man eyes the food cautiously, and takes a furtive step toward it. After a suspicious sniff, he recoils in disgust, as if suddenly recalling an unpleasant memory. He darts an accusatory gaze at you and sprints off into the neighborhood.";case"pets-human":return"You reach out your hand and begin to stroke the man's hair. He does not resist but his face is a mix of conflicting emotions, until suddenly as if recalling an unpleasant memory, he recoils in disgust. He darts an accusatory gaze at you and sprints off into the neighborhood.";case"nothing-human":return"The man looks up into your eyes, looking confused and wild, looking down at himself, he covers his gonads, and turns tail to sprint across the field into the neighborhood.";default:return""}}const cs=[{title:"New CDC director: Byron Leakschild."},{title:"CDC director declares sweeping staff cuts."},{title:'"Too many scientists, political bias, living off citizens.", Leakschild says.'},{title:`"Too many maintenance workers and technicians." No one is safe from Leakschild's cuts.`},{title:'"Infectious disease labs overstaffed", staff cuts imminent.'},{title:`CDC director finds 15 employees all whose job it is to maintain watch and status of world's healthiest goblin, "waste of taxpayer money".`},{title:`World's healthiest goblin escapes when the one employee left to maintain facility falls asleep. Leakschild blames "Shleepy Shoshana".`},{title:"Escaped goblin now believed to carry a single deadly disease per reports."},{title:"Block your windows, quarantine in your homes, don't let the disease spread."},{title:"Army deployed to contain outbreak. Shelter in palce."}],OM=["Want me to kick you?","I found their address! DM me for deets","Motherfucker! Throw em in jail!","Vile cretin! Glad they caught you on film to reveal what a toad you are!","Gulp down hot shit dog kicker!","I don't think that was a dog, why did it have a lips?","Dickweaver!","Find this pile of dog dirt and feed him to the pack!","I know who we can throw in Alligator Aushwitz","Arrest them! ","Are they arrested already?","PORKCHOP","we're gonna find you. animal abusers can't escape justice anymore","BOOOOOOO. BOO THIS ORGANISM","Glad he got away, what a cutie","Instant karma at its finest ","Doggo: 1 | Villain: 0","He tried to kick a dog and got kicked by physics.","that's what you get when you mess with the main character's pet.","bro got nerfed by gravity ","POV: You aggro the wrong NPC.","He rolled a natural 1 on aggression.","Curb Your Enthusiasm theme plays"],Zp=On("phone",{state:()=>cs,actions:{markAsRead(){const t=Y(),e=Array.from(new Set(t.scenes)),r=Math.floor(e.length/4);for(let i=0;i<cs.length;i++)i<r&&(cs[i].isRead=!0)}}}),ar=On("drawer",{state:()=>({isDrawerOpen:!1,notificationCount:0,didViewPhone:!1,drawerView:"main",selectedItem:null,selectedDictionaryEntry:null,phoneIsCrazy:!1}),actions:{toggleDrawer(){this.isDrawerOpen=!this.isDrawerOpen,this.didViewPhone&&!this.isDrawerOpen&&(Zp().markAsRead(),this.didViewPhone=!1),this.phoneIsCrazy&&!this.isDrawerOpen&&(this.phoneIsCrazy=!1,Y().goToScene("black-dog-viral1"))},updateNotificationCount(t){this.notificationCount=t},closeDrawer(){this.selectedItem=null,this.selectedDictionaryEntry=null,this.drawerView="main",this.toggleDrawer()},resetDrawerView(){qt().click(),this.drawerView=="phone"&&Zp().markAsRead(),this.drawerView="main"},clearItem(){this.selectedItem=null},setDrawerView(t){this.drawerView=t,t=="phone"&&(this.didViewPhone=!0,this.notificationCount=0)},updateSelectedItem(t){this.selectedItem=t},updateSelectedDictionaryEntry(t){this.selectedDictionaryEntry=t},clearDictionaryEntry(){this.selectedDictionaryEntry=null},togglePhoneIsCrazy(){this.phoneIsCrazy=!this.phoneIsCrazy}}}),kM={"black-dog":A("black-dog",function(t){return{id:this.id,background:C,audio:at,text:"They run past you to the skatepark. As they lope off, you turn around and lean against a tree.^^Your attention shifts to the field as the distant lights of the highway pull your gaze, like shooting stars.^^Below your gaze, you think you can see a form hunched across the field from you. Like a dark and burly bush, you can't make out its features. You are sure that was not there a minute ago.",choices:()=>[{text:"Go closer.",next:"black-dog1",onChoose:()=>{const e=ee();e.setFlag("closer-to-black-dog",!0),e.gainStat("will",1,this.id)}},{text:"Back away.",next:"black-dog1",onChoose:()=>{const e=ee();e.setFlag("closer-to-black-dog",!1),e.loseStat("will",1,this.id)}}],metadata:{sectionId:"black-dog",routes:[{label:"Go closer.",redirect:"black-dog1",stat:{id:"will",amount:1}},{label:"Back away.",redirect:"black-dog1",stat:{id:"will",amount:-1}}]}}}),"black-dog1":A("black-dog1",function(t){return{id:this.id,background:C,audio:at,text:'Before you move a muscle, the dark star advances at a clip. As the distance closes, you notice rust red fur, interspersed with oily black. You feel riveted to the spot, unable to look away.^^You recall the words of your sister the last time she read your fortune using those weird blocks and strings, "You must be careful! There is a Red Dog. And, there is a Black Dog." But...^^...this is both? ^^{You start acting careful.}',buttonActions:()=>[{action:()=>{Y().goToScene("black-dog2")}}],metadata:{sectionId:"black-dog",routes:[{label:"You start acting careful.",redirect:"black-dog2"}]}}}),"black-dog2":A("black-dog2",function(t){return{id:this.id,background:C,audio:at,text:"As the Redblack dog approaches, you observe with rising nausea that it has a humanlike face but with dog flesh, and full dark eyes. The dog snarls, and it sounds like a hungry snarl. As it closes the distance to you, you see that its hair is caught in snarls too. Ungroomed...^^The human-faced dog circles you, growling, barking, with human-like lips that reveal its strong jaw and saliva-wet teeth. The redblack dog lunges at your ankles, its teeth snapping around your heels as you leap back.",dialogSequence:()=>[{characterId:"black-dog",text:"<i>Grrrrrrrrrrr</i>",popUp:!0}],choices:()=>[{text:"Good puppy.",next:"black-dog-good",onChoose:()=>{ee().gainStat("blueMagic",1,this.id)}},{text:"Defend yourself.",next:"black-dog-bad",onChoose:()=>{ee().gainStat("athletics",1,this.id)}}],metadata:{sectionId:"black-dog",routes:[{label:"Good puppy.",redirect:"black-dog-good",stat:{id:"blueMagic",amount:1}},{label:"Defend yourself.",redirect:"black-dog-bad",stat:{id:"athletics",amount:1}}]}}}),"black-dog-good":A("black-dog-good",function(t){return{id:this.id,background:C,audio:at,text:"You remember back to your childhood, to a dog you had, Calla. Calla, so stinky, so sweet, so loyal. The contrast between your childhood pet and this creature is striking. You feel few of the same feelings, despite the bodily similarity. And yet, you just love dogs, and you know that if you follow certain procedures, a mean-seeming dog may flip onto its back.^^The dog submits to your touch, and leans against you. You find a collar with a locket wrapped around its neck. The locket is glowing faintly with a sigul of a crescent moon. The dog does not react to you touching the locket, and you think to {open it}.",buttonActions:()=>[{action:()=>{Y().goToScene("black-dog-good1")}}],metadata:{sectionId:"black-dog",routes:[{label:"open it",redirect:"black-dog-good1"}]}}}),"black-dog-good1":A("black-dog-good1",function(t){return{id:this.id,background:C,audio:at,text:"Inside the locket is a dried bit of plant matter that smells of vanilla, and a taped lock of hair.^^As you hold these items, they dissolve in your palm, and you feel an energy fill you with intention.",choices:()=>{const e=ee();return[{text:"Heal the human-faced dog's face back into a dog's face.",next:"black-dog-heal-dog",onChoose:()=>{e.setFlag("healed-dog","dog")}},{text:"Heal the human-faced dog's body back into a human's body.",next:"black-dog-heal-human",onChoose:()=>{e.setFlag("healed-dog","human")}}]},onPageLoad:()=>{Y().updateShowDisappearingItem(!0)},metadata:{sectionId:"black-dog",routes:[{label:"Heal the human-faced dog's face back into a dog's face.",redirect:"black-dog-heal-dog"},{label:"Heal the human-faced dog's body back into a human's body.",redirect:"black-dog-heal-human"}]}}}),"black-dog-heal-dog":A("black-dog-heal-dog",function(t){return{id:this.id,background:C,audio:at,text:"The creature's body seems to glow blue. Its human features morph and melt into the shape of a regular dog, keeping its general size, shape, and coloration, albeit red and black piebald.^^The dog looks up at you, panting, its eyes searching you cautiously for treats or pets.",choices:()=>{const e=[],r=ee();return r.hasItem("dog-food")&&e.push({text:"Give it some dog food.",onChoose:()=>{r.setFlag("gave-dog-food",!0),r.removeFromInventory("dog-food"),r.setManners("polite")},next:"black-dog-done",payload:{filter:"food-dog"}}),e.push({text:"Give it some pets.",next:"black-dog-done",onChoose:()=>{r.setManners("polite")},payload:{filter:"pets-dog"}},{text:"Do nothing.",next:"black-dog-done",onChoose:()=>{r.setManners("depressing")},payload:{filter:"nothing-dog"}}),e},metadata:{sectionId:"black-dog",routes:[{label:"Give it some dog food.",redirect:"black-dog-done",manners:"polite"},{label:"Give it some pets.",redirect:"black-dog-done",manners:"polite"},{label:"Do nothing.",redirect:"black-dog-done",manners:"depressing"}]}}}),"black-dog-heal-human":A("black-dog-heal-human",function(t){return{id:this.id,background:C,audio:at,text:"The creature's body glows pink. Its dog features seem to morph and melt into the shape of a human, kneeling on the ground, its limbs lengthening and its fur receeding and shifting into a mop of red-black hair on the top of the skull, and faint hairs on the back and arms.",choices:()=>{const e=[],r=ee();return r.hasItem("dog-food")&&e.push({text:"Give it some dog food.",onChoose:()=>{r.gainStat("shitheadedness",1,this.id),r.setManners("rude"),r.setFlag("gave-human-dog-food",!0),r.removeFromInventory("dog-food")},next:"black-dog-done",payload:{filter:"food-human"}}),e.push({text:"Give it some pets.",onChoose:()=>{r.setManners("weird")},next:"black-dog-done",payload:{filter:"pets-human"}},{text:"Do nothing.",onChoose:()=>{r.setManners("polite")},next:"black-dog-done",payload:{filter:"nothing-human"}}),e},metadata:{sectionId:"black-dog",routes:[{label:"Give it some dog food.",redirect:"black-dog-done",stat:{id:"shitheadedness",amount:1},manners:"rude"},{label:"Give it some pets.",redirect:"black-dog-done",manners:"weird"},{label:"Do nothing.",redirect:"black-dog-done",manners:"polite"}]}}}),"black-dog-heal-human-redux":A("black-dog-heal-human-redux",function(t){return{id:this.id,background:C,audio:at,text:"I saw the Moondog again today. Under the empty playground slide in the park. An empty locket hangs around their neck. They contemplate the slide and my hide. I work up the guts to say, You're not a dog now, what the heck!Moondog says, You made me this way, and it's been so long since I've been just one thing. Don't you think you ought to take responsibility?I thought about it, and with my gait, I rose to the top of the slide's deck. I purse my lips, open my chest, and sing. The Moon-former-dog pipes up, You've got real ability! Though, please, could you show me how to be human? I looked the Moondog in its eyes, eyes unchanged through the transformation. Then I took them to a museum. But they wouldn't let the Moondog in. Something about <i>parts flapping in the wind</i>. So I took the Moondog to a Lost and Found full of clothes they could fit into.Then I brought the Moondog to a swamp, the wastewater treatment plant, the grocery store, a shelter, and a job placement agency.The Moondog said, I don't want to be human if I have to be poor, to stop my howling before I get too loud, and keep things I find inside a door, inside a box within a box, in a box. I'm out. I never saw the Moondog again, until I went to buy some used CDs. I heard the Moondog at the counterI stop, I freeze. There they were, winking back at me, bearded, beastly, and barking up the treeof musicit was music to my ease."}}),"black-dog-bad":A("black-dog-bad",function(t){return{id:this.id,background:C,audio:at,text:"Its bloodshot eyes stare into yours with shameless hunger. The smell of stale smoke like the stench of clothing bathed in campfire fills your nostrils. It begins to howl. The sound is eerily human, distincly <i>evil</i> in its gleeful exuberance. Its lips purse, and its cheeks tighen around its jaw, baring a mouth filled with human teeth. A stomach-seizing terror builds in you and you know...^^<i>This kind of creature feeds on fear.</i>^^You shall try a gambit, or it may best ye. You must latch onto a solid wavelength, to stabilize, secure your base.",dialogSequence:()=>[{characterId:"black-dog-scary",text:"AWOOOOOOOOOOO!!!!",onClick:()=>{const e=ee(),r=3,i=e.athletics.value+(e.flags["closer-to-black-dog"]?0:1),n=xv(i,r),o=bM(n),s=Y();o.success?s.goToScene("black-dog-bad-success",{text:o.text}):s.goToScene("black-dog-bad-fail",{text:o.text})}}],metadata:{sectionId:"black-dog",routes:[{label:"getBlackDogOutcome success",redirect:"black-dog-bad-success"},{label:"getBlackDogOutcome fail",redirect:"black-dog-bad-fail"}]}}}),"black-dog-bad-success":A("black-dog-bad-success",function(t){return{id:this.id,background:C,audio:at,text:(t==null?void 0:t.text)??"",buttonActions:()=>[{action:()=>{const e=Y();fi().addAspect(Zy),e.goToScene("black-dog-feel-bad")}}],metadata:{sectionId:"black-dog",routes:[{label:"feel bad",redirect:"black-dog-feel-bad",aspect:Zy}]}}}),"black-dog-bad-fail":A("black-dog-bad-fail",function(t){return{id:this.id,background:C,audio:at,text:(t==null?void 0:t.text)??"",buttonActions:()=>[{action:()=>{const e=Y(),r=ee(),i=r.inventory.some(o=>o.id=="dog-food"),n=r.flags["drunk-choice"];i?e.goToScene("black-dog-bad-fail-food"):e.goToScene("black-dog-bad-fail-drunks",{filter:n})}}],metadata:{sectionId:"black-dog",routes:[{label:"has dog food",redirect:"black-dog-bad-fail-food"},{label:"does not have dog food",redirect:"black-dog-bad-fail-drunks"}]}}}),"black-dog-bad-fail-food":A("black-dog-bad-fail-food",function(t){return{id:this.id,background:C,audio:at,text:"...^^But wait! You're still here... You open your eyes. The redblack dog is harmlessly sniffing around your pack. That's when you remember -- the dog food! Sweet serendiptity! Cautiously, you open your pack and {let the creature take the food}.",buttonActions:()=>[{action:()=>{const e=ee(),r=Y();e.removeFromInventory("dog-food"),r.goToScene("black-dog-done",{filter:"food-dog"})}}],metadata:{sectionId:"black-dog",routes:[{label:"let the creature take the food",redirect:"black-dog-done"}]}}}),"black-dog-bad-fail-drunks":A("black-dog-bad-fail-drunks",function(t){return{id:this.id,background:C,audio:at,text:IM(t==null?void 0:t.filter),dialogSequence:()=>{if(t!=null&&t.filter)return[{characterId:t.filter,text:"Hey, my friend! I see you've met Paul. He's not as scary as he looks. The little fella's jus' hangry. Don't you have any dog food? No worries. I owe you one from before!",onClick:()=>{Y().goToScene("black-dog-bad-fail-drunks-help",{filter:t.filter})}}];{const r=ee().manners;return[{characterId:"drunk2",text:`Look! It's Mr. <i>"Not-from-around-here"</i>!`},{characterId:"drunk1",text:"HAHAHA!! Looks like they made a new friend!"},{characterId:"drunk2",text:`They were awfully <i>${r}</i> for someone who's <i>not from around here</i>.`},{characterId:"drunk1",text:`Facts. ${EM(r)}`,onClick:()=>{const i=Y();r=="polite"?i.goToScene("black-dog-bad-fail-drunks-help"):i.goToScene("black-dog-bad-fail-drunks-leave")}}]}},metadata:{sectionId:"black-dog",routes:[{label:"sided with a drunk or is polite",redirect:"black-dog-bad-fail-drunks-help"},{label:"not from around here and not polite",redirect:"black-dog-bad-fail-drunks-leave"}]}}}),"black-dog-bad-fail-drunks-help":A("black-dog-bad-fail-drunks-help",function(t){return{id:this.id,background:C,audio:at,text:`The ${t!=null&&t.filter?"drunk sets":"drunks set"}  a can of dog food on the ground. The redblack dog retreats and busies itself with the food.`,dialogSequence:()=>[{characterId:t!=null&&t.filter?t==null?void 0:t.filter:"drunk1",text:`Now you owe <i>${t!=null&&t.filter?"me":"us"}</i> one!`}],choices:()=>[{text:'"Thanks a lot!"',next:"black-dog-done-drunks",payload:{filter:t==null?void 0:t.filter},onChoose:()=>{ee().setManners("polite")}},{text:`"I didn't ask for your help..."`,next:"black-dog-done-drunks",payload:{filter:t==null?void 0:t.filter},onChoose:()=>{ee().setManners("rude")}},{text:'"I wish you had just let it have me..."',next:"black-dog-done-drunks",payload:{filter:t==null?void 0:t.filter},onChoose:()=>{ee().setManners("depressing")}},{text:"Go in for a hug.",next:"black-dog-done-drunks",payload:{filter:t==null?void 0:t.filter},onChoose:()=>{ee().setManners("weird")}}],metadata:{sectionId:"black-dog",routes:[{label:'"Thanks a lot!"',redirect:"black-dog-done-drunks",manners:"polite"},{label:`"I didn't ask for your help..."`,redirect:"black-dog-done-drunks",manners:"rude"},{label:'"I wish you had just let it have me..."',redirect:"black-dog-done-drunks",manners:"depressing"},{label:"Go in for a hug.",redirect:"black-dog-done-drunks",manners:"weird"}]}}}),"black-dog-bad-fail-drunks-leave":A("black-dog-bad-fail-drunks-leave",function(t){return{id:this.id,background:C,audio:at,text:"They leave. And miracualously, so does the redblack dog. It seems to recognize the drunks, and follows them happily.^^You feel embarassed for what just happened. {And alone}.",buttonActions:()=>[{action:()=>{Y().goToScene("black-dog-feel-bad1")}}],metadata:{sectionId:"black-dog",routes:[{label:"And alone",redirect:"black-dog-feel-bad1"}]}}}),"black-dog-feel-bad":A("black-dog-feel-bad",function(t){return{id:this.id,background:C,audio:at,dialogSequence:()=>[{characterId:ee().flags["drunk-choice"]??"drunk1",text:"Animal abuser!!",onClick:()=>{Y().goToScene("black-dog-feel-bad1")}}],text:"",metadata:{sectionId:"black-dog",routes:[{label:"drunk dialog click",redirect:"black-dog-feel-bad1"}]}}}),"black-dog-feel-bad1":A("black-dog-feel-bad1",function(t){return{id:this.id,background:C,audio:at,text:"But...its face is human, you say. Does that make it okay?^^Does that make you want to kick it?^^Do you hate the human-faced dog because it's pieces of you?^^Or was it because it was {so scary}?",buttonActions:()=>[{action:()=>{Y().goToScene("black-dog-viral")}}],metadata:{sectionId:"black-dog",routes:[{label:"so scary",redirect:"black-dog-viral"}]}}}),"black-dog-viral":A("black-dog-viral",function(t){return{id:this.id,background:C,audio:at,text:"It doesn't matter how you spin it. One of the drunks recorded it all on their phone, and they've already posted to social media.^^Your phone is flooded with new notifications. You've {gone viral}.",onPageLoad:()=>{ar().togglePhoneIsCrazy()},buttonActions:()=>[{action:()=>{const e=ar();e.toggleDrawer(),e.setDrawerView("phone")}}],metadata:{sectionId:"black-dog",routes:[{label:"viewed viral comments",redirect:"black-dog-viral1"}]}}}),"black-dog-viral1":A("black-dog-viral1",function(t){return{id:this.id,background:C,audio:at,text:`Brutal... you try to console yourself with the Oscar Wilde quip you conveniently memorized.^^<i>There's only one thing in the world worse than being talked about, and that is not being talked about."</i>^^It's not helping... You're done with this park. Part of you wishes you could find those drunks to give them a piece of your mind. Maybe they went {into the neighborhood}. Or you could {check by that snow pile}.^^Another part of you just wants to {go home to your room} and forget about today.`,buttonActions:()=>[{action:()=>{Y().goToScene("neighborhood")}},{action:()=>{Y().goToScene("snow-pile")}},{action:()=>{Y().goToScene("room")}}],metadata:{sectionId:"black-dog",routes:[{label:"into the neighborhood",redirect:"neighborhood"},{label:"check by that snow pile",redirect:"snow-pile"},{label:"go home to your room",redirect:"room"}]}}}),"black-dog-done-drunks":A("black-dog-done-drunks",function(t){return{id:this.id,background:C,audio:at,text:tb((t==null?void 0:t.filter)??""),dialogSequence:()=>{const r=ee().manners,i=r=="rude"?"Rude!":r=="weird"?"Weird!":r=="depressing"?"Depressing! ":"",n=[];return i!=""&&n.push({characterId:t!=null&&t.filter?t.filter:"drunk2",text:i}),n.push({characterId:t!=null&&t.filter?t.filter:"drunk2",text:"Oh dang! A snowpile! Cool! Bye!"}),n},choices:()=>[{text:"Go into the neighborhood.",next:"neighborhood",payload:{filter:"black-dog"}},{text:`Follow the drunk${t!=null&&t.filter?"":"s"}.`,next:"snow-pile"},{text:"Go back home.",next:"room"}],metadata:{sectionId:"black-dog",routes:[{label:"Go into the neighborhood.",redirect:"neighborhood"},{label:`Follow the drunk${t!=null&&t.filter?"":"s"}.`,redirect:"snow-pile"},{label:"Go back home.",redirect:"room"}]}}}),"black-dog-done":A("black-dog-done",function(t){return{id:this.id,background:C,audio:at,text:tb((t==null?void 0:t.filter)??""),choices:()=>[{text:"Follow it.",next:"neighborhood",payload:{filter:"black-dog"}},{text:"Play on the snowpile.",next:"snow-pile"},{text:"Go back home.",next:"room"}],metadata:{sectionId:"black-dog",routes:[{label:"Follow it.",redirect:"neighborhood"},{label:"Play on the snowpile.",redirect:"snow-pile"},{label:"Go back home.",redirect:"room"}]}}})},xM="/void-leeba/assets/crunchy-walking-BbTHyqJ5.mp3",AM={dream:A("dream",function(t){return{id:this.id,background:C,text:'"Ah, to sleep, perchance to dream."^^...^^A great forest towers over you. The ground is layered with pine needles. The stacked needles must be at least 40cm deep! It feels like this bed of needles is just barely supporting your weight and if you were any heavier, you might start to sink. Your progress is slow while you focus on balance. {Pick up a handful of pine needles.}',choices:()=>[{text:"Admire the trees.",next:"dream1"}],buttonActions:()=>[{isItem:!0,action:()=>{ee().addToInventory("pine-needles",this.id)}}],onPageLoad:()=>{qt().playGenericSound(xM)},metadata:{sectionId:"dream",routes:[{label:"Admire the trees",redirect:"dream1"}]}}}),dream1:A("dream1",function(t){const e=ee(),r=e.flags["did-faeries"],i=e.flags["did-nap"];return{id:this.id,background:C,text:`${r||i?"You find your way back to where you started.^^":""}Trees! Grand, huge, awe-inspiring trees! The crisp, beautiful pine scent cuts through the pervading damp of the forest. ${(t==null?void 0:t.filter)=="noSquirrel"?"":"There are squirrels and spiders scurrying and spindling. {Try to catch one}. "}Above, the pines' trunks creak. Their creaky columns bend into the sky. You gaze at the trees, taking them in like a worshipper at the shrine. The woody deities are set in bas-relief against the backdrop of clear sky.${r?"":"^^A group of {pine faeries} emerge from the knot of a nearby tree. They circle around you, teasing you, plucking your eyelashes and spitting in your nostril holes. They swirl away off to your left. {Follow them}."}^^Dad-gum forest faeries. Yep, if you had you an ax, you'd {start chopping} down all these trees, right this second. If you don't, someone else surely will. A place like this? Prime real estate. Goodbye paradise, hello parking lot!${i?"":"^^Forget the faeries, forget the trees, forget the parking lot... look at that brain-colored moss over there! Mmm, awww.... you wanna curl up and {take a nap}."}^^{Pick up a handful of pine needles.}`,buttonActions:()=>{const n=ee(),o=Y();let s=[{id:"squirrel",action:()=>{n.gainStat("athletics",1,"dream1"),o.goToScene("dream-squirrel")}},{id:"faeries",dictionaryEntryId:"hongatar"},{id:"faeries",action:()=>{n.gainStat("blueMagic",1,"dream1"),o.goToScene("dream-faeries")}},{id:"chop",action:()=>{n.gainStat("shitheadedness",1,"dream1"),o.goToScene("dream-chop")}},{id:"nap",action:()=>{n.gainStat("will",1,"dream1"),o.goToScene("dream-within-a-dream")}},{isItem:!0,action:()=>{n.addToInventory("pine-needles",this.id)}}];return s=s.filter(a=>(!n.flags["did-faeries"]||a.id!="faeries")&&(!n.flags["did-nap"]||a.id!="nap")),s},metadata:{sectionId:"dream",routes:[{label:"Try to catch one",redirect:"dream-squirrel",stat:{id:"athletics",amount:1}},{label:"Follow them",redirect:"dream-faeries",stat:{id:"blueMagic",amount:1}},{label:"start chopping",redirect:"dream-chop",stat:{id:"shitheadedness",amount:1}},{label:"take a nap",redirect:"dream-within-a-dream",stat:{id:"will",amount:1}}]}}}),"dream-within-a-dream":A("dream-within-a-dream",function(t){return{id:this.id,background:C,text:"It's so serene and beautiful here. It would be funny if you could go to sleep again when you are already dreaming. You pick a spot to nap on the brain moss, sinking into it, supple and cozy.^^{Pick up a handful of brain moss.}",buttonActions:()=>[{isItem:!0,action:()=>{ee().addToInventory("brain-moss",this.id)}}],choices:()=>[{text:"Fall asleep.",next:"dream-within-a-dream1"},{text:"Nevermind.",next:"dream1",payload:{filter:"nap"},onChoose:()=>{ee().setFlag("did-nap",!0)}}],metadata:{sectionId:"dream",routes:[{label:"Fall asleep",redirect:"dream-within-a-dream1"},{label:"Nevermind",redirect:"dream1"}]}}}),"dream-within-a-dream1":A("dream-within-a-dream1",function(t){return{id:this.id,background:C,text:"You fell asleep on some brain moss. Now you are dreaming twice.",choices:()=>[{text:"Wait... will I fall asleep <i>forever</i>?",next:"dream-within-a-dream2"},{text:"No, that's silly. Don't entertain that worry.",next:"dream-within-a-dream-refuse"}],metadata:{sectionId:"dream",routes:[{label:"Wait... will I fall asleep forever?",redirect:"dream-within-a-dream2"},{label:"Nevermind",redirect:"dream-within-a-dream-refuse"}]}}}),"dream-within-a-dream-refuse":A("dream-within-a-dream-refuse",function(t){return{id:this.id,background:C,text:`The concept of dreaming twice is so scary! What if you don't wake up? ^^Too late, you fell asleep anyway. Radiating anxiety, your raw nerves attack you.^^After a spiral of overthinking, you notice that you are hugging a brightly colored mushroom. You can tell because your face is right up against it and your arms are surrounding it. The mushroom smells like marshmallows, pencil shavings, sad carnivals and tests. Its flesh is soft, like a rotting orange. You recoil. What a gross mushroom! What a cruddy day! You feel off.^^You hear yourself say aloud, "Eugh! What a wash."^^You lean back for a while just admiring the mushroom's disgustingness, worrying that you'll never wake up again.^^{Grab up a handful of the mushroom's flesh.}^^You begin to hear a faint thudding noise like the labored heartbeat of some distant goliath. Oh no. Your dreaming was weak, filled with worry. A foreboding sense of doom cuts forces you to {awaken back into the first dream}.`,buttonActions:()=>[{isItem:!0,action:()=>{ee().addToInventory("mushroom",this.id)}},{action:()=>{Y().goToScene("dream-tree-chase",{filter:"dream"})}}],metadata:{sectionId:"dream",routes:[{label:"awaken back into the first dream",redirect:"dream-tree-chase"}]}}}),"dream-within-a-dream2":A("dream-within-a-dream2",function(t){return{id:this.id,background:C,text:`Completely serene, without a worry in your mind, you fall asleep in your dream. You breathe in.^^A new dream! You notice that you are hugging a brightly colored mushroom! You can tell because your face is right up against it and your arms are embracing it. The mushroom smells like a marshmallow pencil, graphite and sugar. Its flesh is soft, yet springy. What a special mushroom! What a special day! You feel content.^^You hear yourself say aloud, "Wow! What a colorful mushroom."^^You lean back for a while just admiring the mushroom's shape.^^{Grab up a handful of the mushroom's flesh.}^^Looking up from the shroom, {a hilly landscape sprawls out before you}.`,buttonActions:()=>[{isItem:!0,action:()=>{ee().addToInventory("mushroom",this.id)}},{action:()=>{Y().goToScene("dream-within-a-dream3")}}],metadata:{sectionId:"dream",routes:[{label:"a hilly landscape sprawls out before you",redirect:"dream-within-a-dream3"}]}}}),"dream-within-a-dream3":A("dream-within-a-dream3",function(t){return{id:this.id,background:C,text:"The landscape expands into a void panorama, filling every corner of the emptiness as you inhale deeper. Day, night, day, night. Seasons cycle and time dutifully carves the terrain with imperceptible changes.^^You've never had a dream like this before. Usually it's packing, or missing busses.^^Settlements form. Clusters of huts dot the hillsides. Farms appear in patchwork sewn around the huts.^^You begin to exhale and as you do, the huts morph into vinyl-sided cookie-cutter houses. Spidery networks of highways fan out and spread upon the landscape like mycelia exploring a forest floor.^^A hill flattens here, a plain rises into a mountain there. The houses multiply and spread out along the roads, and from their coverage, large buildings and the grey of steel and asphalt overtake the vegetative green. The stars in the night sky become less, the clarity of day is obscured by haze. The quiet is consumed by an ever-surmounting hum.^^{Breathe in.}",buttonActions:()=>[{action:()=>{Y().goToScene("dream-within-a-dream4")}}],metadata:{sectionId:"dream",routes:[{label:"Breathe in",redirect:"dream-within-a-dream4"}]}}}),"dream-within-a-dream4":A("dream-within-a-dream4",function(t){return{id:this.id,background:C,text:"The hum intensifies until it almost becomes unbearable, making you wince. It reaches a cresecendo and slowly begins its ebb back into entropic silence, leaving a ghostly impression of its power in your memory.^^With each milliliter of breath that exits your lungs, the pervading artifical glow diminishes and the stars return to their former glory, one by one.^^Buildings topple and decay as trees and fields reclaim the landscape. The highways wither like wisps of smoke disintegrating into the hills. The once imposing grids of farms and neighborhoods fade into amorphous wilderness.^^Day, night, day, night. Seasons cycle and time dutifully carves the terrain with imperceptible changes. All is as it was before.^^{Open your eyes}.",buttonActions:()=>[{action:()=>{Y().goToScene("hypno")}}],metadata:{sectionId:"dream",routes:[{label:"Open your eyes",redirect:"hypno"}]}}}),"dream-chop":A("dream-chop",function(t){return{id:this.id,background:C,text:"You have chosen to swing a dream ax at a dream tree.^^Looking down, you see a single-headed carbon-fiber ax in your left hand. Heh. Hefty!^^You spit into each of your palms and aiming at the nearest tree, you get a good look at its bark. The brown armor is thick and full of a maze of paths, following the pine's vertical growth. You position the ax over your left shoulder, and closing one eye, take a swing at a healthy angle to hit the tree.",onPageLoad:()=>{const e=ee();e.hasItem("axe")||e.addToInventory("axe",this.id)},choices:()=>[{text:"THUNK",onChoose:()=>{const e=ee(),i=xv(e.athletics.value,0),n=$M(i);n.success&&fi().addAspect(Xy),Y().goToScene("dream-tree-chase",{filter:n.text}),i<=0&&e.removeFromInventory("axe")}}],metadata:{sectionId:"dream",routes:[{label:"THUNK",redirect:"dream-tree-chase",aspect:Xy}]}}})},CM="/void-leeba/assets/falling-out-of-tree-Cs0IR8nx.mp3",PM={"dream-squirrel":A("dream-squirrel",function(t){return{id:this.id,background:C,text:"You lock in on a squirrel. Its grey body is a corkscrew streak around the trunk. It's time to give chase. You straddle the trunk, feeling the roughness of the bark tugging at your turtleneck as you shimmy up. Just a little closer... The squirrel is right there! Its little face, filled with alarm (or is it amusement?), fills you with determination.",choices:()=>[{text:"Reach for the closest branch.",next:"dream-squirrel1a"},{text:"Keep shimmying up.",next:"dream-squirrel1b",onChoose:()=>{ee().gainStat("athletics",1,this.id)}}],metadata:{sectionId:"dream-squirrel",routes:[{label:"Reach for the closest branch.",redirect:"dream-squirrel1a"},{label:"Keep shimmying up.",redirect:"dream-squirrel1b",stat:{id:"athletics",amount:1}}]}}}),"dream-squirrel1a":A("dream-squirrel1a",function(t){return{id:this.id,background:C,text:"You reach for a nearby branch. It breaks, but your thighs remain firmly clenched on the trunk. {Keep shimmying up}.",buttonActions:()=>[{action:()=>{Y().goToScene("dream-squirrel1b")}}],metadata:{sectionId:"dream-squirrel",routes:[{label:"Keep shimmying up",redirect:"dream-squirrel1b"}]}}}),"dream-squirrel1b":A("dream-squirrel1b",function(t){return{id:this.id,background:C,text:"You keep shimmying up the trunk, past the first branch. Your arms and legs are giving out. The squirrel hasn't moved. The way it watches you, vacillating between tepid curiosity and utter indifference, suggests the thought of you as a threat could not be further from its mind.",choices:()=>{const e=ee();return[{text:"Push yourself even harder.",next:"dream-squirrel2",onChoose:()=>{e.gainStat("will",1,this.id)}},{text:"This was a bad idea. Shimmy back down before you get hurt.",next:"dream-squirrel-give-up",onChoose:()=>{e.loseStat("will",1,this.id)}}]},metadata:{sectionId:"dream-squirrel",routes:[{label:"Push yourself even harder.",redirect:"dream-squirrel2",stat:{id:"will",amount:1}},{label:"This was a bad idea. Shimmy back down before you get hurt.",redirect:"dream-squirrel-give-up",stat:{id:"will",amount:-1}}]}}}),"dream-squirrel2":A("dream-squirrel2",function(t){return{id:this.id,background:C,text:"Atta boy! Quitters never win. Your brow is wet with dream sweat. Your hands and limbs are all scraped up from climbing. You feel sappy bits on your clothes and face. The squirrel comes a little closer to you.^^Your muscles start to tremble. The squirrel gets up in your grill.",dialogSequence:()=>[{characterId:"squirrel",text:"Putoat! Putoat!",onClick:()=>{Y().goToScene("dream-squirrel3")}}],metadata:{sectionId:"dream-squirrel",routes:[{label:"squirrel dialog click",redirect:"dream-squirrel3"}]}}}),"dream-squirrel3":A("dream-squirrel3",function(t){return{id:this.id,background:C,text:"The little vermin is taunting you!^^In a last ditch effort, you dart your hand out to {snatch the furball}.",buttonActions:()=>[{action:()=>{const e=ee(),r=Y(),n=xv(e.athletics.value,2);n<=0?e.setFlag("fell-from-tree",!0):e.setFlag("fell-from-tree",!1);const o=wM(n);o.success?(e.setFlag("caught-squirrel",!0),r.goToScene("dream-squirrel4-success",{filter:o.text})):(e.setFlag("caught-squirrel",!1),r.goToScene("dream-squirrel4-fail",{filter:o.text}))}}],metadata:{sectionId:"dream-squirrel",routes:[{label:"snatch the furball success",redirect:"dream-squirrel4-success"},{label:"snatch the furball fail",redirect:"dream-squirrel4-fail"}]}}}),"dream-squirrel4-success":A("dream-squirrel4-success",function(t){return{id:this.id,background:C,text:(t==null?void 0:t.text)??"",dialogSequence:()=>[{characterId:"squirrel",text:"Puolue! Puolue!",onClick:()=>{Y().goToScene("dream-squirrel5")}}],metadata:{sectionId:"dream-squirrel",routes:[{label:"squirrel dialog click",redirect:"dream-squirrel5"}]}}}),"dream-squirrel4-fail":A("dream-squirrel4-fail",function(t){return{id:this.id,background:C,text:(t==null?void 0:t.text)??"",buttonActions:()=>[{isItem:!0,action:()=>{ee().addToInventory("pinecone",this.id)}}],dialogSequence:()=>[{characterId:"squirrel",text:"Puolue! Puolue!",onClick:()=>{Y().goToScene("dream-squirrel5")}}],onPageLoad:()=>{qt().playGenericSound(CM)},metadata:{sectionId:"dream-squirrel",routes:[{label:"squirrel dialog click",redirect:"dream-squirrel5"}]}}}),"dream-squirrel5":A("dream-squirrel5",function(t){return{id:this.id,background:C,text:"As you follow the squirrel, it is obvious the creature is very excited about something. You faintly hear what might be voices in unison like a sing-song chant, growing louder as you progress. This must be where the squirrel is leading you.",choices:()=>{const e=ee();return[{text:'"Where are we going?"',next:"dream-squirrel6",payload:{filter:"where"},onChoose:()=>{e.setManners("polite")}},{text:'"What is that infernal chanting?"',next:"dream-squirrel6",payload:{filter:"what"},onChoose:()=>{e.setManners("depressing")}},{text:'"Are we there yet?"',next:"dream-squirrel6",payload:{filter:"what"},onChoose:()=>{e.setManners("rude")}},{text:"Why am I following a squirrel?",next:"dream-squirrel6",payload:{filter:"why"},onChoose:()=>{e.setManners("weird")}},{text:"Don't speak. Don't think. Just follow.",next:"dream-squirrel6",onChoose:()=>{e.setManners("weird"),e.gainStat("blueMagic",1,"dream-squirrel5")}}]},metadata:{sectionId:"dream-squirrel",routes:[{label:'"Where are we going?"',redirect:"dream-squirrel6",manners:"polite"},{label:'"What is that infernal chanting"',redirect:"dream-squirrel6",manners:"depressing"},{label:'"Are we there yet?"',redirect:"dream-squirrel6",manners:"rude"},{label:"Why am I following a squirrel?",redirect:"dream-squirrel6",manners:"weird"},{label:"Don't speak. Don't think. Just follow.",redirect:"dream-squirrel6",manners:"weird",stat:{id:"blueMagic",amount:1}}]}}}),"dream-squirrel6":A("dream-squirrel6",function(t){return{id:this.id,background:C,text:TM(t==null?void 0:t.filter)+`^^All the while the chanting is growing louder. You're sure it's voices now. It sounds like they are chanting, "We're going to a party! We're going to a party!" From time to time, the squirrel turns around, egging you on.`,dialogSequence:()=>[{characterId:"squirrel",text:"Puolue! Puolue!",onClick:()=>{Y().goToScene("dream-squirrel7")}}],metadata:{sectionId:"dream-squirrel",routes:[{label:"squirrel dialog click",redirect:"dream-squirrel7"}]}}}),"dream-squirrel7":A("dream-squirrel7",function(t){return{id:this.id,background:C,text:"You arrive at a clearing. The {pine faeries} you saw earlier are all laying about on the ground, apparently unconscious.^^The squirrel is darting here and there, sniffing the hongatar and chittering excitedly.",buttonActions:()=>[{dictionaryEntryId:"hongatar"}],dialogSequence:()=>[{characterId:"squirrel",text:"Puolue! Puolue!",onClick:()=>{Y().goToScene("dream-squirrel8")}}],metadata:{sectionId:"dream-squirrel",routes:[{label:"squirrel dialog click",redirect:"dream-squirrel8"}]}}}),"dream-squirrel8":A("dream-squirrel8",function(t){return{id:this.id,background:C,text:"The squirrel finds an eggcorn and begins to nibble it. Suddenly, its whiskers twitch a few times and it swoons until it falls to ground unconcsious, just like the hongatar.",dialogSequence:()=>[{characterId:"squirrel",text:"Pu...o..lue.... Puo....."}],choices:()=>[{text:"Inspect the hongatar.",next:"dream-squirrel9",payload:{filter:"hongatar"}},{text:"Inspect the squirrel.",next:"dream-squirrel9"}],metadata:{sectionId:"dream-squirrel",routes:[{label:"Inspect the hongatar",redirect:"dream-squirrel9"},{label:"Inspect the squirrel",redirect:"dream-squirrel9"}]}}}),"dream-squirrel9":A("dream-squirrel9",function(t){return{id:this.id,background:C,text:`${(t==null?void 0:t.filter)=="hongatar"?"Yep. They're definitely unconscious, but they're breathing regularly.":"Poor little fella. It's actually snoring softly with eggcorn crumbs on its furry chest."} You notice eggcorns scattered about near where all the hongatar lay, just like the one you saw the squirrel eat. You see an uneaten one by your foot. {Inspect the eggcorn.}`,buttonActions:()=>[{action:()=>{Y().goToScene("dream-squirrel10")}}],metadata:{sectionId:"dream-squirrel",routes:[{label:"Inspect the eggcorn",redirect:"dream-squirrel10"}]}}}),"dream-squirrel10":A("dream-squirrel10",function(t){return{id:this.id,background:C,text:"The eggcorn's skin is a luscious, lacquered brown. It has a neat little cap and a fine pointy bottom. In fact, you've never found an eggcorn to be so... tantalizing. Definitely something odd about these eggcorns.",choices:()=>[{text:"YOLO! Eat the eggcorn.",next:"party-eggcorn",payload:{filter:"squirrel"}},{text:"On second thought...",next:"party-eggcorn-check",payload:{filter:"squirrel"}}],metadata:{sectionId:"dream-squirrel",routes:[{label:"YOLO! Eat the eggcorn.",redirect:"party-eggcorn"},{label:"On second thought...",redirect:"party-eggcorn-check"}]}}}),"dream-squirrel-give-up":A("dream-squirrel-give-up",function(t){return{id:this.id,background:C,text:"The squirrel is right. You could never expect to be compete with its arboreal superiority. Better to slide back down the tree before you get hurt.",dialogSequence:()=>[{characterId:"squirrel",text:"Putoat! Putoat!",onClick:()=>{Y().goToScene("dream-squirrel-give-up1")}}],metadata:{sectionId:"dream-squirrel",routes:[{label:"squirrel dialog click",redirect:"dream-squirrel-give-up1"}]}}}),"dream-squirrel-give-up1":A("dream-squirrel-give-up1",function(t){return{id:this.id,background:C,text:"Dang squirrel! It's becoming aggressive, jumping on and off your head and yanking your hair.",dialogSequence:()=>[{characterId:"squirrel",text:"PUTOAT! PUTOAT!",onClick:()=>{Y().goToScene("dream-tree-chase",{filter:"squirrel"})}}],metadata:{sectionId:"dream-squirrel",routes:[{label:"squirrel dialog click",redirect:"dream-tree-chase"}]}}})},Qt="/void-leeba/assets/faeries-NhACxVvu.mp3",DM={"dream-faeries":A("dream-faeries",function(t){return{id:this.id,background:C,audio:Qt,text:"You follow after the {hongatar}. They all have the same dutch boy haircut and cro-magnon facial features. The wings look like fly's wings. The pack flies through the air, leaving rapidly fading trails of light in their wake. They seem to be eating small snails, and then casting their shells to the forest floor.^^{Pick up a handful of hongatar trash.}^^The faeries are excitedly chattering amongst themselves.",buttonActions:()=>[{dictionaryEntryId:"hongatar"},{isItem:!0,action:()=>{ee().addToInventory("hongatar-trash",this.id)}}],dialogSequence:()=>[{characterId:"faerie1",text:"Mun muru, if you're with me, I can endure any frat party without crying."},{characterId:"faerie2",text:"Aww kullannuppu, that's so sweet. Are you gonna do a Keg stand this time?"},{characterId:"faerie1",text:"Muru, I would do it, but I would have to cry first."},{characterId:"faerie3",text:"Hey funny faces, let's see if the Keg can do an us-stand!"},{characterId:"faerie2",text:"Spt pikku puput, a thingy is following us.",onClick:()=>{Y().goToScene("dream-faeries1")}}],metadata:{sectionId:"dream-faeries",routes:[{label:"faerie dialog click",redirect:"dream-faeries1"}]}}}),"dream-faeries1":A("dream-faeries1",function(t){return{id:this.id,background:C,audio:Qt,text:"The group of {hongatar} turn to look at you.",buttonActions:()=>[{dictionaryEntryId:"hongatar"}],choices:()=>[{text:'Bow graciously. "Thanks for spitting in my nostril holes."',next:"dream-faeries2",payload:{filter:"bow"},onChoose:()=>{fi().addAspect(Ky)}},{text:"Get on their case about littering.",next:"dream-faeries-litter"},{text:"There's that squirrel again! Try to catch it.",next:"dream-squirrel",onChoose:()=>{ee().gainStat("athletics",1,"dream-faeries1")}}],metadata:{sectionId:"dream-faeries",routes:[{label:'Bow graciously. "Thanks for spitting in my nostril holes."',redirect:"dream-faeries2",aspect:Ky},{label:"Get on their case about littering.",redirect:"dream-faeries-litter"},{label:"There's that squirrel again! Try to catch it.",redirect:"dream-squirrel",stat:{id:"athletics",amount:1}}]}}}),"dream-faeries2":A("dream-faeries2",function(t){return{id:this.id,background:C,audio:Qt,text:`${_M(t==null?void 0:t.filter)} Their excited chattering finds a rhythmic unison in a sing-song chant.`,buttonActions:()=>[{dictionaryEntryId:"hongatar"}],dialogSequence:()=>[{characterId:"faerie1",text:"We're going to a party!"},{characterId:"faerie2",text:"We're going to a party!"},{characterId:"faerie1",text:"We want to sing and drink and eat!"},{characterId:"faerie3",text:"A party is the thing we need!"},{characterId:"faerie2",text:"Heed the call!"},{characterId:"faerie1",text:"Come one, come all!"},{characterId:"faerie3",text:"We're going to a party!"},{characterId:"faerie1",text:"We're going to a party!",onClick:()=>{Y().goToScene("dream-faeries3")}}],metadata:{sectionId:"dream-faeries",routes:[{label:"faerie dialog click",redirect:"dream-faeries3"}]}}}),"dream-faeries3":A("dream-faeries3",function(t){return{id:this.id,background:C,audio:Qt,text:"The {hongatar} with the coolest outfit addresses you.",buttonActions:()=>[{dictionaryEntryId:"hongatar"}],dialogSequence:()=>[{characterId:"faerie2",text:"Wow, a human that understands Faerie etiquette, how amusing, how rare! What a find! Will you join us? We are headed to a Leak Party.",popUp:!0}],choices:()=>[{text:'"Um..."',next:"dream-faeries-party-check"},{text:'"PARTY!!!"',next:"dream-faeries4"}],metadata:{sectionId:"dream-faeries",routes:[{label:'"Um..."',redirect:"dream-faeries-party-check"},{label:'"PARTY!!!"',redirect:"dream-faeries4"}]}}}),"dream-faeries4":A("dream-faeries4",function(t){return{id:this.id,background:C,audio:Qt,text:"You follow them into a clearing where the hongatar with the dullest outfit starts handing out eggcorns. He hands you one.",dialogSequence:()=>[{characterId:"faerie3",text:"See you soon raccoon!",onClick:()=>{Y().goToScene("dream-faeries5")}}],metadata:{sectionId:"dream-faeries",routes:[{label:"faerie dialog clicks",redirect:"dream-faeries5"}]}}}),"dream-faeries5":A("dream-faeries5",function(t){return{id:this.id,background:C,audio:Qt,text:"Whatever that means.^^The eggcorn's skin is a luscious, lacquered brown. It has a neat little cap and a fine pointy bottom. In fact, you've never found an eggcorn to be so... tantalizing. Definitely something odd about these eggcorns. You notice that after eating an eggcorn, the hongatar fall to the ground unconscious. Soon you're the only one left standing.",choices:()=>[{text:"YOLO! Eat the eggcorn.",next:"party-eggcorn"},{text:"On second thought...",next:"party-eggcorn-check"}],metadata:{sectionId:"dream-faeries",routes:[{label:"YOLO! Eat the eggcorn.",redirect:"party-eggcorn"},{label:"On second thought...",redirect:"party-eggcorn-check"}]}}}),"dream-faeries-litter":A("dream-faeries-litter",function(t){return{id:this.id,background:C,audio:Qt,text:"",dialogSequence:()=>[{characterId:"faerie1",text:"What? Plkkyp! Everyone knows hongatar don't litter.",popUp:!0}],choices:()=>{const e=ee(),r=[{text:'"Oh I see, you were planting snail trees! The Hongatar truly are a noble breed.',next:"dream-faeries-litter-no-proof"},{text:'"LIES!"',next:"dream-faeries-litter-no-proof"}];return e.inventory.some(i=>i.id=="hongatar-trash")&&r.push({text:"Show them the proof.",next:"dream-faeries-litter-proof"}),r},metadata:{sectionId:"dream-faeries",routes:[{label:'"Oh I see, you were planting snail trees! The Hongatar truly are a noble breed.',redirect:"dream-faeries-litter-no-proof"},{label:'"LIES!"',redirect:"dream-faeries-litter-no-proof"},{label:"Show them the proof.",redirect:"dream-faeries-litter-proof"}]}}}),"dream-faeries-litter-no-proof":A("dream-faeries-litter-no-proof",function(t){return{id:this.id,background:C,audio:Qt,text:"The {hongatar} puff up, proud.",buttonActions:()=>[{dictionaryEntryId:"hongatar"}],dialogSequence:()=>[{characterId:"faerie1",text:"Humans have decimated the snail forest. We hongatar are nobly trying to replant them one snail shell at a time."}],choices:()=>{const e=ee();return[{text:`"You're lying. I saw you eating the snails!"`,next:"dream-faeries2",payload:{filter:"accuse"},onChoose:()=>{e.setManners("depressing")}},{text:'"Your dedication to the ecosystem is so inspiring. If only we humans were so thoughtful and so brave."',next:"dream-faeries2",payload:{filter:"flatter"},onChoose:()=>{e.setManners("polite"),e.gainStat("shitheadedness",1,"dream-faeries-litter-no-proof")}},{text:'"That is asinine."',next:"dream-faeries2",payload:{filter:"insult"},onChoose:()=>{e.setManners("rude")}}]},metadata:{sectionId:"dream-faeries",routes:[{label:`"You're lying. I saw you eating the snails!"`,redirect:"dream-faeries2",manners:"depressing"},{label:'"Your dedication to the ecosystem is so inspiring. If only we humans were so thoughtful and so brave."',redirect:"dream-faeries2",manners:"polite",stat:{id:"shitheadedness",amount:1}},{label:'"That is asinine."',redirect:"dream-faeries2",manners:"rude"}]}}}),"dream-faeries-litter-proof":A("dream-faeries-litter-proof",function(t){return{id:this.id,background:C,audio:Qt,text:"",dialogSequence:()=>[{characterId:"faerie2",text:"Mercy!"},{characterId:"faerie1",text:"Forgive us!",onClick:()=>{Y().goToScene("dream-faeries-litter-proof1")}}],metadata:{sectionId:"dream-faeries",routes:[{label:"faerie dialog click",redirect:"dream-faeries-litter-proof1"}]}}}),"dream-faeries-litter-proof1":A("dream-faeries-litter-proof1",function(t){return{id:this.id,background:C,audio:Qt,text:"The {hongatar} now all seem to hold you in great reverence and awe, as if you were a god of the whole forest.",buttonActions:()=>[{dictionaryEntryId:"hongatar"}],dialogSequence:()=>[{characterId:"faerie3",text:"A being of your stature should not dirty their hands with such filth.",onClick:()=>{ee().removeFromInventory("hongatar-trash")}},{characterId:"faerie3",text:"We found this magical tome in the forest. We can't read it but we know it's valuable. Here.",onClick:()=>{ee().addToInventory("self-help-book",this.id),Y().goToScene("dream-faeries-litter-proof2")}}],metadata:{sectionId:"dream-faeries",routes:[{label:"faerie dialog click",redirect:"dream-faeries-litter-proof2"}]}}}),"dream-faeries-litter-proof2":A("dream-faeries-litter-proof2",function(t){return{id:this.id,background:C,audio:Qt,text:"The {hongatar} all stare at you expectantly, like eager children.",buttonActions:()=>[{dictionaryEntryId:"hongatar"}],choices:()=>{const e=ee();return[{text:'"Let that be a lesson to you."',next:"dream-faeries2",payload:{filter:"lesson"},onChoose:()=>{e.setManners("depressing")}},{text:'"Self-help is my favorite genre, thanks!"',next:"dream-faeries2",payload:{filter:"thanks"},onChoose:()=>{e.setManners("polite")}},{text:"Wink.",next:"dream-faeries2",payload:{filter:"wink"},onChoose:()=>{e.setManners("weird")}}]},metadata:{sectionId:"dream-faeries",routes:[{label:'"Let that be a lesson to you."',redirect:"dream-faeries2",manners:"depressing"},{label:'"Self-help is my favorite genre, thanks!"',redirect:"dream-faeries2",manners:"polite"},{label:"Wink.",redirect:"dream-faeries2",manners:"weird"}]}}}),"dream-faeries-party-check":A("dream-faeries-party-check",function(t){return{id:this.id,background:C,audio:Qt,text:"",dialogSequence:()=>[{characterId:"faerie2",text:"Are you sure Armaani? The party train is leaving!",popUp:!0}],choices:()=>[{text:`"I'm good. Thanks."`,next:"dream-faeries-party-decline",onChoose:()=>{ee().gainStat("will",1,"dream-faeries-party-check")}},{text:'"PARTY!!!"',next:"dream-faeries4"}],metadata:{sectionId:"dream-faeries",routes:[{label:`"I'm good. Thanks"`,redirect:"dream-faeries-party-decline",stat:{id:"will",amount:1}},{label:'"PARTY!!!"',redirect:"dream-faeries4"}]}}}),"dream-faeries-party-decline":A("dream-faeries-party-decline",function(t){return{id:this.id,background:C,audio:Qt,text:"",dialogSequence:()=>[{characterId:"faerie2",text:"Suit yourself!",onClick:()=>{const e=Y();ee().setFlag("did-faeries",!0),e.goToScene("dream1",{filter:"noFaeries"})}}],metadata:{sectionId:"dream-faeries",routes:[{label:"fearie dialog click",redirect:"dream1"}]}}}),"party-eggcorn":A("party-eggcorn",function(t){return{id:this.id,background:C,audio:Qt,text:`Yuck! It tastes like...^^You don't get a chance to finish the thought. It feels like the whole world is being stretched inside-out. You hear a voice, like an echo in your mind, "See you soon, raccoon!" Then {everything goes dark}.`,buttonActions:()=>[{action:()=>{const e=Y();(t==null?void 0:t.filter)=="squirrel"?e.goToScene("party-squirrel"):e.goToScene("party-faeries")}}],metadata:{sectionId:"dream-faeries",routes:[{label:"everything goes dark",redirect:"party-faeries"},{label:"everything goes dark",redirect:"party-squirrel"}]}}}),"party-eggcorn-check":A("party-eggcorn-check",function(t){return{id:this.id,background:C,text:"But it's <i>so tantalizing!</i>",choices:()=>[{text:"YOLO! Eat the eggcorn.",next:"party-eggcorn",payload:t},{text:"No. Seriously. I'm not eating it.",next:"dream1",payload:{filter:"noFaeries"},onChoose:()=>{const e=ee();e.gainStat("will",1,"party-eggcorn-check"),e.setFlag("did-faeries",!0)}}],metadata:{sectionId:"dream-faeries",routes:[{label:"No. Seriously. I'm not eating it",redirect:"dream1",stat:{id:"will",amount:1}},{label:"YOLO! Eat the eggcorn",redirect:"party-eggcorn"}]}}})},Th="/void-leeba/assets/party-Drqkywae.mp3",MM={"party-keg":A("party-keg",function(t){return{id:this.id,background:C,text:"You're the life of the party. You're the Keg.",audio:Th,backgroundFilter:"invert(1)",dialogSequence:()=>[{characterId:"faerie1",text:"WOOOOOOOTTT!"},{characterId:"squirrel",text:"JOOOOOOOO!"}],metadata:{sectionId:"party"}}}),"party-squirrel":A("party-squirrel",function(t){return{id:this.id,background:C,text:"When you come to, the light is <i>different</i>. There are all kinds of organisms here. Upbeat music puppets your bones. You're jammin' out.You scan the room.",audio:Th,backgroundFilter:"invert(1)",dialogSequence:()=>[{characterId:"faerie1",text:"WOOOOOOOTTT!"},{characterId:"squirrel",text:"JOOOOOOOO!"}],choices:()=>[{text:`"Oh hell yeah! There's a keg!"`},{text:`"LET'S GOOOOOO!"`},{text:"Just try to blend in."}],metadata:{sectionId:"party"}}}),"party-faeries":A("party-faeries",function(t){return{id:this.id,background:C,text:"When you come to, you're still in the clearing, but it all seems <i>different</i>. The hongatar are all here, but perfectly conscious. There is upbeat music, merry-making and of course, a keg!",audio:Th,backgroundFilter:"invert(1)",dialogSequence:()=>[{characterId:"faerie1",text:"WOOOOOOOTTT!"},{characterId:"squirrel",text:"JOOOOOOOO!"}],choices:()=>[{text:`"Oh hell yeah! There's a keg!"`},{text:`"LET'S GOOOOOO!"`},{text:"Just try to blend in."}],metadata:{sectionId:"party"}}})},RM="/void-leeba/assets/tree-falling-C541Q-7-.mp3",NM={"dream-tree-chase":A("dream-tree-chase",function(t){return{id:this.id,background:C,text:SM(t==null?void 0:t.filter)+"As the dull sound resounds, it is joined by a chorus of snapping, cracking, creaking. Soft at first, the din grows louder and louder.^^A tree slams as it splinters and crashes into the ground behind you, making you jump. Another tree falls, narrowly missing your shoulder. A tree that wasn't even there before begins to fall directly overhead. You dive out of the way at the last moment.^^The trees are chasing you!^^You {run} forward through the forest.^^{Pick up a handful of pine needles.}",buttonActions:()=>[{action:()=>{const e=Y(),i=ee().inventory.reduce((n,o)=>n+o.weight,0);e.goToScene("dream-tree-chase-game-intro",{text:i<4?"You feel unencumbered and are able to move nimbly.":i<7?"You feel somewhat burdened by the weight of your bag. Your agility is limited.":"Why did you pick up so much stuff? You can barely move to save your life."})}},{isItem:!0,action:()=>{ee().addToInventory("pine-needles",this.id)}}],onPageLoad:()=>{qt().playGenericSound(RM)},metadata:{sectionId:"dream-tree-chase",routes:[{label:"run",redirect:"dream-tree-chase-game-intro"}]}}}),"dream-tree-chase-game-intro":A("dream-tree-chase-game-intro",function(t){return{id:this.id,background:C,text:((t==null?void 0:t.text)??"")+"^^Trees are falling all around you. You have to {dodge them}.",buttonActions:()=>[{action:()=>{Y().goToScene("dream-tree-chase-game")}}],metadata:{sectionId:"dream-tree-chase",routes:[{label:"dodge them",redirect:"dream-tree-chase-game"}]}}}),"dream-tree-chase-game":A("dream-tree-chase-game",function(t){return{id:this.id,background:C,text:"",miniGameId:"tree-chase",metadata:{sectionId:"dream-tree-chase",routes:[{label:"win",redirect:"dream-tree-chase-game-win",aspect:kI},{label:"lose",redirect:"dream-tree-chase-game-lose",aspect:OI}]}}}),"dream-tree-chase-game-win":A("dream-tree-chase-game-win",function(t){return{id:this.id,background:C,text:"It suddenly occurs to you that your legs feel unprecedentedly supple. Like those little rubber poppers you used to get from the toy dispenser at the front of the grocery store. You'd put a quarter in the slot, twist the knob, and out came a round clear plastic capsule with a colorful little rubber popper inside. You'd turn the popper inside-out, set it down and...^^FWOOM!!! You're leaping and bounding through the air, {springing off the pine needles} like a tree frog on a trampoline.",buttonActions:()=>[{action:()=>{Y().goToScene("dream-tree-chase-fly")}}],metadata:{sectionId:"dream-tree-chase",routes:[{label:"springing off the pine needles",redirect:"dream-tree-chase-fly"}]}}}),"dream-tree-chase-game-lose":A("dream-tree-chase-game-lose",function(t){return{id:this.id,background:C,text:"You feel yourself starting to sink. You try to run but you can't move your legs, like in a bad dream. You remember that you're dreaming and realize that's exactly what this is. A bad dream.^^The trees are closing in on you now and there is nothing you can do.^^WHACK!^THOOMB!!^CRACK!!!^^You're mangled in a barrage of falling trees. {All your bones are broken.}",buttonActions:()=>[{action:()=>{Y().goToScene("dream-tree-chase-sink")}}],metadata:{sectionId:"dream-tree-chase",routes:[{label:"All your bones are broken",redirect:"dream-tree-chase-sink"}]}}}),"dream-tree-chase-fly":A("dream-tree-chase-fly",function(t){return{id:this.id,background:C,text:"As you vault above the canopy, a great bird grabs you by your turtleneck. It carries you high above the forest. You can see the tree line and a sprawling countryside beyond it. Before long, you feel a sudden shift in trajectory and you and the bird shooting up, up, up at a very high speed. Craning your neck back, you see a pair of huge tatooed arms that have latched on to the bird. The arms a attached to a rocket. The tattoo-armed rocket propels you and the bird into space, just beyond the atmosphere. {Continue.}",onPageLoad:()=>{Y().toggleIsZoomedOut()},buttonActions:()=>[{action:()=>{Y().goToScene("dream-tree-chase-fly1")}}],metadata:{sectionId:"dream-tree-chase-fly1",routes:[{label:"Continue.",redirect:"dream-tree-chase-fly1"}]}}}),"dream-tree-chase-fly1":A("dream-tree-chase-fly1",function(t){return{id:this.id,background:C,text:"Reaching its zenith, there is a moment of quiet, motionless stillness, then you're re-entering the atmosphere, careening faster and faster back down until you all meet the forest floor in an explosive blast. You find yourself at the center of a massive crater. There is no sign of the bird, but you now have wings. The force of the blast must have fused your body and the bird's in some magical union.",onPageLoad:()=>{Y().toggleIsZoomedOut()}}}),"dream-tree-chase-sink":A("dream-tree-chase-sink",function(t){return{id:this.id,background:C,text:"As you lay there motionless, in a mangled heap, conciousness slipping, what appears to be one of the faeries from before enters your vision.",dialogSequence:()=>[{characterId:"faerie1",text:"Oh little plkkyp... What you tried to do to the trees was not nice! I guess you learned your lesson though. Rest now.",onClick:()=>{Y().goToScene("dream-tree-chase-sink1")}}]}}),"dream-tree-chase-sink1":A("dream-tree-chase-sink1",function(t){return{id:this.id,background:C,text:"The faerie has something round and shiny in its hand, which it inserts into your mouth. You have no choice but to {swallow it}.",buttonActions:()=>[{action:()=>{Y().goToScene("party-eggcorn")}}]}})},FM={hypno:A("hypno",function(t){return{id:this.id,text:`You had fallen asleep on some dream moss, but you open your eyes to find yourself in a dressing room with a script in your hands, practicing lines for a play:^^"What a good boy am I, so far from being an ant."^"What a good boy... am I! So... <i>far</i> from being an ant!"^"What a good boy am I, so far... from <i>being</i> an ant."^...^"Builder of the gods, put an orange-soda fountain in my bedroom!"^"Builder... <i>of the gods</i>, put an orange-soda fountain in... <i>my bedroom</i>!"^"BUILDER OF THE GODS... PUT AN ORANGE-SODA FOUNTAIN IN MY BEDROOM!"^...^"Where's my wife? I miss her."^"Where's my... <i>wife?</i> I miss her!"^"Where's <i>my</i> wife? <i>I miiiiiss herrrrrrr</i>!!!"`,background:C,choices:()=>[{text:"Keep practicing.",next:"hypno-practice"},{text:"Finish.",next:"hypno1"}],metadata:{sectionId:"hypno",routes:[{label:"Keep practicing.",redirect:"hypno-practice"},{label:"Finish.",redirect:"hypno1"}]}}}),"hypno-practice":A("hypno-practice",function(t){return{id:this.id,background:C,text:'"Indras before me? What are you talking about?"^"Indras...<i>before</i>...<i>me</i>? What... are you talking about!"^"Indras before... <i>me</i>? What are you <i>talking</i> about?"',choices:()=>[{text:"Keep practicing.",next:"hypno-practice1"},{text:"Finish.",next:"hypno1"}],metadata:{sectionId:"hypno",routes:[{label:"Keep practicing.",redirect:"hypno-practice1"},{label:"Finish.",redirect:"hypno1"}]}}}),"hypno-practice1":A("hypno-practice1",function(t){return{id:this.id,background:C,text:'"I ask. Teach."^"I...<i>ask</i>. <i>Teach</i>."^"I ASK. TEEEEEAAAACH!!!"',choices:()=>[{text:"Finish.",next:"hypno1",onChoose:()=>{fi().addAspect(Qy)}}],metadata:{sectionId:"hypno",routes:[{label:"Finish.",redirect:"hypno1",aspect:Qy}]}}}),hypno1:A("hypno1",function(t){return{id:this.id,background:C,text:"You hear one knock at the door before it swings open. A large fellow bustles in importantly, his smile entreating you.^^With a gusto that feels suspiciously contrived, he addresses you.",dialogSequence:()=>[{characterId:"buzz",text:"You're not ready? Don't worry, you'll be fine. <i>The show must go on</i>!"}],choices:()=>[{text:`"I don't think I'm cut out for this."`,next:"hypno2"},{text:'"I need more time to go over my lines!"',next:"hypno-practice"},{text:'"I got this!"',next:"hypno2",payload:{filter:"confident"},onChoose:()=>{ee().gainStat("will",1,this.id)}}],metadata:{sectionId:"hypno",routes:[{label:`"I don't think I'm cut out for this."`,redirect:"hypno2"},{label:'"I need more time to go over my lines!"',redirect:"hypno-practice"},{label:'"I got this!"',redirect:"hypno2",stat:{id:"will",amount:1}}]}}}),hypno2:A("hypno2",function(t){return{id:this.id,background:C,text:"",dialogSequence:()=>[{characterId:"buzz",text:`${(t==null?void 0:t.filter)=="confident"?"Great, great. They're waiting for you out there.":"Don't be ridiculous. Your part doesn't even have any lines."} Quickly, put this on.`,onClick:()=>{Y().goToScene("hypno3")}}],metadata:{sectionId:"hypno",routes:[{label:"buzz dialog click.",redirect:"hypno3"}]}}}),hypno3:A("hypno3",function(t){return{id:this.id,background:C,text:"He shoves a costume at you and turns away with a huff. You feel obliged to put it on quickly. No sooner than your head slips through the top of the costume is the large man ushering you out the door. You barely catch a glimpse of yourself in the dressing room mirror.^^You're a... {keg}?",buttonActions:()=>[{action:()=>{Y().goToScene("hypno4")}}],metadata:{sectionId:"hypno",routes:[{label:"keg",redirect:"hypno4"}]}}}),hypno4:A("hypno4",function(t){return{id:this.id,background:C,text:"You walk out onto a steel catwalk. You see an infinite maze of these catwalks in every direction, and figures in an endless array of wild and impossbile costumes of all shapes and sizes.",dialogSequence:()=>[{characterId:"buzz",text:"Busy, busy! Memespace is bumpin tonight! That's why we had to bring in you eh... erm.. <i>amateurs</i>.",onClick:()=>{Y().goToScene("hypno5")}}],metadata:{sectionId:"hypno",routes:[{label:"buzz dialog click.",redirect:"hypno5"}]}}}),hypno5:A("hypno5",function(t){return{id:this.id,background:C,text:"He says <i>amateur</i> like he is trying to pronounce it in the language from which the word is originally derived, without actually knowing which language.",dialogSequence:()=>[{characterId:"buzz",text:"Here we are! Stage 2B, Leak Party. I'll let you take it from here. Break a leg! Figuratively, of course. If you were to actually break your leg... I knew we were forgetting something! The waiver, I have it here somewhere.",onClick:()=>{Y().goToScene("hypno6")}}],metadata:{sectionId:"hypno",routes:[{label:"buzz dialog click.",redirect:"hypno6"}]}}}),hypno6:A("hypno6",function(t){return{id:this.id,background:C,text:`He pats his pockets and looks around beseechingly, presumably for someone to blame. A mechanical voice drawls from inside Stage 2B, "They're ready for you, boss."`,dialogSequence:()=>[{characterId:"buzz",text:"No matter! It will have to do. <i>The show must go on!</i> But absolutely NO leg breaking, or any bones while we're on the subject."}],choices:()=>[{text:`"I'm not doing this!" Will yourself awake.`,next:"hypno-ready-check"},{text:`"I'm ready."`,next:"hypno-ready"}],metadata:{sectionId:"hypno",routes:[{label:"I'm not doing this! Will yourself awake",redirect:"hypno-ready-check"},{label:"I'm ready",redirect:"hypno-ready"}]}}}),"hypno-ready-check":A("hypno-ready-check",function(t){return{id:this.id,background:C,text:"",dialogSequence:()=>[{characterId:"buzz",text:"But <i>the show must go on</i>!"}],choices:()=>[{text:'"I said no."',next:"dream1",payload:{filter:"nap"},onChoose:()=>{ee().setFlag("did-nap",!0)}},{text:`"You're right. <i>The show must go on</i>!"`,next:"hypno-ready"}],metadata:{sectionId:"hypno",routes:[{label:"I said no",redirect:"dream1"},{label:"You're right. <i>The show must go on</i>!",redirect:"hypno-ready"}]}}}),"hypno-ready":A("hypno-ready",function(t){return{id:this.id,background:C,text:"",dialogSequence:()=>[{characterId:"buzz",text:"Great! I knew you were right for the job. Now remember everything I taught you.",onClick:()=>{Y().goToScene("hypno-ready1")}}],metadata:{sectionId:"hypno",routes:[{label:"buzz dialog click",redirect:"hypno-ready1"}]}}}),"hypno-ready1":A("hypno-ready1",function(t){return{id:this.id,background:C,text:"With that, the stage door shuts.^^It's dark, and doesn't really seem like a stage at all. As your eyes adjust and the scene takes shape, it seems eerily similar to the forest from your original dream.^^You hear voices approaching. Quick! {Act like a keg!}",buttonActions:()=>[{action:()=>{const e=Y();fi(),e.goToScene("party-keg")}}],metadata:{sectionId:"hypno",routes:[{label:"Act like a keg",redirect:"party-keg"}]}}})},qM="/void-leeba/assets/neighborhood-rDmZfhf8.mp3",BM={neighborhood:A("neighborhood",function(t){return{id:this.id,text:"Neighborhood",background:C,audio:qM,metadata:{sectionId:"neighborhood"}}})},LM={"snow-pile":A("snow-pile",function(t){return{id:this.id,text:"snow pile",background:C,metadata:{sectionId:"snow-pile"}}})},jM={void:A("void",function(t){return{id:this.id,text:"Void",background:C,metadata:{sectionId:"void"}}})},zM={paint:A("paint",function(t){return{id:this.id,text:"Paint",background:C,metadata:{sectionId:"paint"}}})},za={...gM,...mM,...yM,...kM,...BM,...LM,...jM,...zM,...AM,...PM,...DM,...NM,...MM,...FM},HM=Object.keys(za);function A(t,e){return function(r){return e.call({id:t},r)}}const xI=["intro","intro1","start","credits","preamble"],Y=On("game",{state:()=>({currentSceneId:"preamble",currentScenePayload:void 0,started:!1,showChoices:!1,animationSkipped:!1,showOverlay:!0,scenes:[],showDisappearingItem:!1,isPsychedelic:!1,psychedelicScenesRemaining:0,isZoomedOut:!1,showSceneGraph:!1}),getters:{currentScene(t){return za[t.currentSceneId]}},actions:{start(){this.currentSceneId="start",this.started=!0},goToScene(t,e){za[t]?(this.showDisappearingItem=!1,this.currentSceneId=t,e&&(this.currentScenePayload=e),this.scenes.includes(t)||fi().decrementDurations(),this.psychedelicScenesRemaining>0&&(this.psychedelicScenesRemaining--,this.psychedelicScenesRemaining<=0&&(this.isPsychedelic=!1))):Xn().show("This path has not been built yet")},goBack(){const e=this.scenes.lastIndexOf(this.currentSceneId)-1;if(e>-1){const r=this.scenes[e],i=ee(),n=i.inventory.filter(o=>o.pageAcquired!=r);i.inventory=n,this.goToScene(r)}},goForward(){const e=this.scenes.indexOf(this.currentSceneId)+1,r=this.scenes[e];this.goToScene(r)},addSceneToHistory(){!xI.includes(this.currentSceneId)&&!this.scenes.includes(this.currentSceneId)&&this.scenes.push(this.currentSceneId)},chooseOption(t){t.next||t.onChoose?(this.currentScenePayload=t.payload||void 0,t.onChoose&&t.onChoose(),t.next&&this.goToScene(t.next)):Xn().show("This path has not been built yet")},updateShowChoices(t){this.showChoices=t},updateAnimationSkipped(t){this.animationSkipped=t},updateShowOverlay(t){this.showOverlay=t},updateShowDisappearingItem(t){this.showDisappearingItem=t},startPsychedelicEffect(t=3){this.isPsychedelic=!0,this.psychedelicScenesRemaining=t},toggleShowSceneGraph(){this.showSceneGraph=!this.showSceneGraph},toggleIsZoomedOut(){this.isZoomedOut=!this.isZoomedOut}}}),WM={key:0,class:"overlay"},VM=We({__name:"StartDialog",setup(t){const e=It(!0),r=Y(),{playBackgroundAudio:i}=qt();function n(){i(TI),e.value=!1,r.start()}return(o,s)=>e.value?(N(),J("div",WM,[re("div",{class:"box"},[s[0]||(s[0]=re("p",{class:"message"},"This game uses sound. Please click Play to begin.",-1)),re("button",{onClick:n},"Play")])])):Re("",!0)}}),tt=(t,e)=>{const r=t.__vccOpts||t;for(const[i,n]of e)r[i]=n;return r},UM=tt(VM,[["__scopeId","data-v-e834737f"]]),AI=On("timeout",{state:()=>({timeouts:{}}),actions:{set(t,e,r){this.clear(t,!1);const i=setTimeout(()=>{e(),delete this.timeouts[t]},r);this.timeouts[t]={timeoutId:i,callback:e}},clear(t,e){const r=this.timeouts[t];r&&(clearTimeout(r.timeoutId),e&&r.callback&&r.callback(),delete this.timeouts[t])},clearAll(){for(const t in this.timeouts)clearTimeout(this.timeouts[t].timeoutId);this.timeouts={}}}});function CI(){const t=Y(),e=AI();function r(){const o=t.animationSkipped,s=t.currentSceneId;(o&&s=="intro"||s=="intro1")&&(e.clearAll(),t.goToScene(s==="intro"?"intro1":"home")),t.updateAnimationSkipped(!0),t.updateShowChoices(!0),e.clear(s,!0)}function i(){t.updateShowOverlay(!0),requestAnimationFrame(()=>{t.updateShowOverlay(!1)})}async function n(o){t.scenes.includes(t.currentSceneId)||(t.updateAnimationSkipped(!1),t.updateShowChoices(!1)),t.addSceneToHistory(),await wv(),i(),e.set(t.currentSceneId,async()=>{(t.currentSceneId=="intro"||t.currentSceneId=="intro1")&&e.set(`${t.currentSceneId}-overlay`,()=>{t.updateShowOverlay(!0),e.set(`${t.currentSceneId}-scene`,()=>{t.goToScene(t.currentSceneId=="intro"?"intro1":"home")},2e3)},2e3),t.updateShowChoices(!0),t.updateAnimationSkipped(!0)},o)}return{finishAnimation:r,triggerFade:i,onSceneChanged:n}}const YM="/void-leeba/assets/void-leeba-logo-DeaNUMHk.png",GM={class:"col"},KM=["src"],XM={class:"text"},JM=["innerHTML"],QM=We({__name:"StartBody",props:{letters:{},animationSkipped:{type:Boolean}},setup(t){return(e,r)=>(N(),J("div",GM,[re("img",{src:U(YM),alt:"Game Logo",class:"centered-logo"},null,8,KM),re("div",XM,[(N(!0),J(_e,null,br(e.letters,(i,n)=>(N(),J("span",{key:`${n}-start-base`,class:"letter",style:kr(e.animationSkipped?{animation:"none",opacity:1}:{animationDelay:`${n*.15}s`,opacity:0}),innerHTML:i===" "?"":i},null,12,JM))),128))])]))}}),ZM=tt(QM,[["__scopeId","data-v-70b1336a"]]),eR=We({__name:"Credits",setup(t){const e=Y();return(r,i)=>(N(),J(_e,null,[re("button",{class:"back-button",onClick:i[0]||(i[0]=Ee(n=>U(e).goToScene("start"),["stop"]))},"<"),i[1]||(i[1]=re("div",{style:{color:"white"}},"CREDITS",-1))],64))}}),tR=tt(eR,[["__scopeId","data-v-71385cb3"]]),rb="/void-leeba/assets/closed-eye-DZpySIhl.png",ib="/void-leeba/assets/open-eye-CqBbuo-3.png",rR={class:"col"},iR={class:"eyes"},nR=["src"],oR=["src"],sR={class:"animated-text"},aR=We({__name:"IntroBody",props:{letters:{},animationSkipped:{type:Boolean},eyeIsOpened:{type:Boolean}},setup(t){return(e,r)=>(N(),J("div",rR,[re("div",iR,[re("img",{class:"eye",src:e.eyeIsOpened?U(ib):U(rb)},null,8,nR),re("img",{class:"eye flipped",src:e.eyeIsOpened?U(ib):U(rb)},null,8,oR)]),re("div",sR,[(N(!0),J(_e,null,br(e.letters,(i,n)=>(N(),J("span",{key:`${n}-intro`,class:"intro-text",style:kr(e.animationSkipped?{animation:"none",opacity:1}:{animationDelay:`${n*.25}s`,opacity:0})},Te(i),5))),128))])]))}}),lR=tt(aR,[["__scopeId","data-v-3ffce796"]]),Av={hongatar:{id:"hongatar",name:"Hongatar",description:"Hongatar are mischief incarnate. They, like nature, are neither good nor evil, not lawful nor chaotic. Sometimes they help a small child escape a cave, even though they might complain about the nuisance cuttingly, and make fun of the kid. Sometimes they will help a megalomaniac into great power by hacking their competitor's {hyperleak}s. The reason faeries glow is because they have a pure and beautiful life force like {dorgang}."},hyperleak:{id:"hyperleak",name:"Hyperleak",description:"A Hyperleak is a prosumer product. Invented by Survecap, this machine is under constant corporate surveillance throughout all Leaks. If you do anything on this machine, Survecap will know for sure. Client-side scanning, baby.<br><br>That being said, this machine is SO user-friendly or 'easy-to-use'. Though, it is easy to use mostly because everyone in the Leakyverse uses Survecap interfaces and are used to their particular type of user-hostile. Organisms resist change."},dorgang:{id:"dorgang",name:"Dorgang",description:"If Dorgang were not so ethical, he might be a real sex wizard. But don't get your hopes up, this guy is GREY in many ways. He does like puns and dry humor, however. Always cleverness is Dorgang's jam. And he also knows a lot about anything weird, powerful or mystical. He's always on his enemies' asses, making sure they do not commit evil against large swatches of other people. Dorgang is not exactly what one might call 'chill' or 'bussin'. That being said, you REALLY want Dorgang on your team, no matter what.<br><br>Dorgang is a Gandalf-like parody character made up by someone at Wendall Carefare's Leaktable. If a comparative reference to Dorgang led you here, just know that Dorgang can be used as a comparative character-reference to the chracter that is being compared to Dorgang. They are Dorgang-like."},whatever:{id:"whatever",name:"Whatever",description:"Whatever can be somewhere, somehow, something. But it has not figured out where that is yet."}},Cv=On("dictionary",{state:()=>({entries:[]}),actions:{addEntry(t){this.entries.every(e=>e.id!==t)&&(this.entries.push(Av[t]),this.entries.sort((e,r)=>e.id.localeCompare(r.id)))}}}),cR={class:"wrapper"},dR={class:"animated-text"},uR={key:2},hR=["onClick"],fR=We({__name:"SceneBody",props:{letters:{},animationSkipped:{type:Boolean}},setup(t){const e=t,r=we(()=>{const c=[],d=/(\^)|(\{[^}]+\})|(<i>.*?<\/i>)|([^<{^]+)/g,h=[...e.letters.join("").matchAll(d)];let f=0;for(const p of h)if(p[1])c.push({type:"br"});else if(p[2])c.push({type:"button",value:p[2].slice(1,-1),index:f}),f++;else if(p[3])c.push({type:"italic",value:p[3].slice(3,-4)});else if(p[4])for(const v of p[4])c.push({type:"text",value:v});return c}),i=Y(),{finishAnimation:n}=CI(),o=i.currentScene(i.currentScenePayload).buttonActions?i.currentScene(i.currentScenePayload).buttonActions():[],s=we(()=>i.animationSkipped),a=It([]);function l(c){if(s.value){const d=o[c];if(d&&(d.action&&d.action(),d.isItem?a.value.push(c):qt().click(),d.dictionaryEntryId)){const u=ar();Cv().addEntry(d.dictionaryEntryId),u.toggleDrawer(),u.setDrawerView("dictionary"),u.updateSelectedDictionaryEntry(Av[d.dictionaryEntryId])}}else n()}return sr(()=>i.currentSceneId,async()=>{a.value=[]}),(c,d)=>(N(),J("div",cR,[re("div",dR,[(N(!0),J(_e,null,br(r.value,(u,h)=>(N(),J(_e,{key:h},[u.type==="text"?(N(),J("span",{key:0,class:"text",style:kr(s.value?{animation:"none",opacity:1}:{animationDelay:`${h*.03}s`,opacity:0})},Te(u.value),5)):Re("",!0),u.type==="italic"?(N(),J("span",{key:1,class:"text",style:kr([{"font-style":"italic"},s.value?{animation:"none",opacity:1}:{animationDelay:`${h*.03}s`,opacity:0}])},Te(u.value),5)):u.type==="br"?(N(),J("br",uR)):u.type==="button"&&!a.value.includes(u.index)?(N(),J("span",{key:3,class:"text-button",onClick:Ee(f=>l(u.index),["stop"]),style:kr(s.value?{animation:"none",opacity:1}:{animationDelay:`${h*.03}s`,opacity:0})},Te(u.value),13,hR)):Re("",!0)],64))),128))])]))}}),pR=tt(fR,[["__scopeId","data-v-689eefac"]]);/**
 * vis-data
 * http://visjs.org/
 *
 * Manage unstructured data using DataSet. Add, update, and remove data, and listen for changes in the data.
 *
 * @version 7.1.9
 * @date    2023-11-24T17:53:34.179Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */function uu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Oh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function he(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var PI={exports:{}},dc=function(t){return t&&t.Math===Math&&t},Ge=dc(typeof globalThis=="object"&&globalThis)||dc(typeof window=="object"&&window)||dc(typeof self=="object"&&self)||dc(typeof Oh=="object"&&Oh)||function(){return this}()||Oh||Function("return this")(),Ae=function(t){try{return!!t()}catch{return!0}},gR=Ae,cl=!gR(function(){var t=(function(){}).bind();return typeof t!="function"||t.hasOwnProperty("prototype")}),vR=cl,DI=Function.prototype,nb=DI.apply,ob=DI.call,Cs=typeof Reflect=="object"&&Reflect.apply||(vR?ob.bind(nb):function(){return ob.apply(nb,arguments)}),MI=cl,RI=Function.prototype,eg=RI.call,mR=MI&&RI.bind.bind(eg,eg),Ue=MI?mR:function(t){return function(){return eg.apply(t,arguments)}},NI=Ue,yR=NI({}.toString),bR=NI("".slice),kn=function(t){return bR(yR(t),8,-1)},$R=kn,wR=Ue,FI=function(t){if($R(t)==="Function")return wR(t)},tg=typeof document=="object"&&document.all,_R=typeof tg>"u"&&tg!==void 0,qI={all:tg,IS_HTMLDDA:_R},BI=qI,SR=BI.all,rt=BI.IS_HTMLDDA?function(t){return typeof t=="function"||t===SR}:function(t){return typeof t=="function"},$o={},IR=Ae,Et=!IR(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),ER=cl,uc=Function.prototype.call,Tt=ER?uc.bind(uc):function(){return uc.apply(uc,arguments)},hu={},LI={}.propertyIsEnumerable,jI=Object.getOwnPropertyDescriptor,TR=jI&&!LI.call({1:2},1);hu.f=TR?function(e){var r=jI(this,e);return!!r&&r.enumerable}:LI;var wo=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}},OR=Ue,kR=Ae,xR=kn,kh=Object,AR=OR("".split),fu=kR(function(){return!kh("z").propertyIsEnumerable(0)})?function(t){return xR(t)==="String"?AR(t,""):kh(t)}:kh,Ps=function(t){return t==null},CR=Ps,PR=TypeError,Pv=function(t){if(CR(t))throw new PR("Can't call method on "+t);return t},DR=fu,MR=Pv,pi=function(t){return DR(MR(t))},sb=rt,zI=qI,RR=zI.all,Pt=zI.IS_HTMLDDA?function(t){return typeof t=="object"?t!==null:sb(t)||t===RR}:function(t){return typeof t=="object"?t!==null:sb(t)},Ke={},xh=Ke,Ah=Ge,NR=rt,ab=function(t){return NR(t)?t:void 0},Xt=function(t,e){return arguments.length<2?ab(xh[t])||ab(Ah[t]):xh[t]&&xh[t][e]||Ah[t]&&Ah[t][e]},FR=Ue,vt=FR({}.isPrototypeOf),xn=typeof navigator<"u"&&String(navigator.userAgent)||"",HI=Ge,Ch=xn,lb=HI.process,cb=HI.Deno,db=lb&&lb.versions||cb&&cb.version,ub=db&&db.v8,Nr,Od;ub&&(Nr=ub.split("."),Od=Nr[0]>0&&Nr[0]<4?1:+(Nr[0]+Nr[1]));!Od&&Ch&&(Nr=Ch.match(/Edge\/(\d+)/),(!Nr||Nr[1]>=74)&&(Nr=Ch.match(/Chrome\/(\d+)/),Nr&&(Od=+Nr[1])));var Ds=Od,hb=Ds,qR=Ae,BR=Ge,LR=BR.String,Ms=!!Object.getOwnPropertySymbols&&!qR(function(){var t=Symbol("symbol detection");return!LR(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&hb&&hb<41}),jR=Ms,WI=jR&&!Symbol.sham&&typeof Symbol.iterator=="symbol",zR=Xt,HR=rt,WR=vt,VR=WI,UR=Object,dl=VR?function(t){return typeof t=="symbol"}:function(t){var e=zR("Symbol");return HR(e)&&WR(e.prototype,UR(t))},YR=String,Rs=function(t){try{return YR(t)}catch{return"Object"}},GR=rt,KR=Rs,XR=TypeError,dr=function(t){if(GR(t))return t;throw new XR(KR(t)+" is not a function")},JR=dr,QR=Ps,Dv=function(t,e){var r=t[e];return QR(r)?void 0:JR(r)},Ph=Tt,Dh=rt,Mh=Pt,ZR=TypeError,eN=function(t,e){var r,i;if(e==="string"&&Dh(r=t.toString)&&!Mh(i=Ph(r,t))||Dh(r=t.valueOf)&&!Mh(i=Ph(r,t))||e!=="string"&&Dh(r=t.toString)&&!Mh(i=Ph(r,t)))return i;throw new ZR("Can't convert object to primitive value")},VI={exports:{}},tN=!0,fb=Ge,rN=Object.defineProperty,iN=function(t,e){try{rN(fb,t,{value:e,configurable:!0,writable:!0})}catch{fb[t]=e}return e},nN=Ge,oN=iN,pb="__core-js_shared__",sN=nN[pb]||oN(pb,{}),Mv=sN,gb=Mv;(VI.exports=function(t,e){return gb[t]||(gb[t]=e!==void 0?e:{})})("versions",[]).push({version:"3.33.2",mode:"pure",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.2/LICENSE",source:"https://github.com/zloirock/core-js"});var Ns=VI.exports,aN=Pv,lN=Object,ur=function(t){return lN(aN(t))},cN=Ue,dN=ur,uN=cN({}.hasOwnProperty),mt=Object.hasOwn||function(e,r){return uN(dN(e),r)},hN=Ue,fN=0,pN=Math.random(),gN=hN(1 .toString),pu=function(t){return"Symbol("+(t===void 0?"":t)+")_"+gN(++fN+pN,36)},vN=Ge,mN=Ns,vb=mt,yN=pu,bN=Ms,$N=WI,Ko=vN.Symbol,Rh=mN("wks"),wN=$N?Ko.for||Ko:Ko&&Ko.withoutSetter||yN,Je=function(t){return vb(Rh,t)||(Rh[t]=bN&&vb(Ko,t)?Ko[t]:wN("Symbol."+t)),Rh[t]},_N=Tt,mb=Pt,yb=dl,SN=Dv,IN=eN,EN=Je,TN=TypeError,ON=EN("toPrimitive"),kN=function(t,e){if(!mb(t)||yb(t))return t;var r=SN(t,ON),i;if(r){if(e===void 0&&(e="default"),i=_N(r,t,e),!mb(i)||yb(i))return i;throw new TN("Can't convert object to primitive value")}return e===void 0&&(e="number"),IN(t,e)},xN=kN,AN=dl,gu=function(t){var e=xN(t,"string");return AN(e)?e:e+""},CN=Ge,bb=Pt,rg=CN.document,PN=bb(rg)&&bb(rg.createElement),Rv=function(t){return PN?rg.createElement(t):{}},DN=Et,MN=Ae,RN=Rv,UI=!DN&&!MN(function(){return Object.defineProperty(RN("div"),"a",{get:function(){return 7}}).a!==7}),NN=Et,FN=Tt,qN=hu,BN=wo,LN=pi,jN=gu,zN=mt,HN=UI,$b=Object.getOwnPropertyDescriptor;$o.f=NN?$b:function(e,r){if(e=LN(e),r=jN(r),HN)try{return $b(e,r)}catch{}if(zN(e,r))return BN(!FN(qN.f,e,r),e[r])};var WN=Ae,VN=rt,UN=/#|\.prototype\./,ul=function(t,e){var r=GN[YN(t)];return r===XN?!0:r===KN?!1:VN(e)?WN(e):!!e},YN=ul.normalize=function(t){return String(t).replace(UN,".").toLowerCase()},GN=ul.data={},KN=ul.NATIVE="N",XN=ul.POLYFILL="P",YI=ul,wb=FI,JN=dr,QN=cl,ZN=wb(wb.bind),An=function(t,e){return JN(t),e===void 0?t:QN?ZN(t,e):function(){return t.apply(e,arguments)}},hr={},e2=Et,t2=Ae,GI=e2&&t2(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),r2=Pt,i2=String,n2=TypeError,$r=function(t){if(r2(t))return t;throw new n2(i2(t)+" is not an object")},o2=Et,s2=UI,a2=GI,hc=$r,_b=gu,l2=TypeError,Nh=Object.defineProperty,c2=Object.getOwnPropertyDescriptor,Fh="enumerable",qh="configurable",Bh="writable";hr.f=o2?a2?function(e,r,i){if(hc(e),r=_b(r),hc(i),typeof e=="function"&&r==="prototype"&&"value"in i&&Bh in i&&!i[Bh]){var n=c2(e,r);n&&n[Bh]&&(e[r]=i.value,i={configurable:qh in i?i[qh]:n[qh],enumerable:Fh in i?i[Fh]:n[Fh],writable:!1})}return Nh(e,r,i)}:Nh:function(e,r,i){if(hc(e),r=_b(r),hc(i),s2)try{return Nh(e,r,i)}catch{}if("get"in i||"set"in i)throw new l2("Accessors not supported");return"value"in i&&(e[r]=i.value),e};var d2=Et,u2=hr,h2=wo,ji=d2?function(t,e,r){return u2.f(t,e,h2(1,r))}:function(t,e,r){return t[e]=r,t},fc=Ge,f2=Cs,p2=FI,g2=rt,v2=$o.f,m2=YI,No=Ke,y2=An,Fo=ji,Sb=mt,b2=function(t){var e=function(r,i,n){if(this instanceof e){switch(arguments.length){case 0:return new t;case 1:return new t(r);case 2:return new t(r,i)}return new t(r,i,n)}return f2(t,this,arguments)};return e.prototype=t.prototype,e},ce=function(t,e){var r=t.target,i=t.global,n=t.stat,o=t.proto,s=i?fc:n?fc[r]:(fc[r]||{}).prototype,a=i?No:No[r]||Fo(No,r,{})[r],l=a.prototype,c,d,u,h,f,p,v,y,m;for(h in e)c=m2(i?h:r+(n?".":"#")+h,t.forced),d=!c&&s&&Sb(s,h),p=a[h],d&&(t.dontCallGetSet?(m=v2(s,h),v=m&&m.value):v=s[h]),f=d&&v?v:e[h],!(d&&typeof p==typeof f)&&(t.bind&&d?y=y2(f,fc):t.wrap&&d?y=b2(f):o&&g2(f)?y=p2(f):y=f,(t.sham||f&&f.sham||p&&p.sham)&&Fo(y,"sham",!0),Fo(a,h,y),o&&(u=r+"Prototype",Sb(No,u)||Fo(No,u,{}),Fo(No[u],h,f),t.real&&l&&(c||!l[h])&&Fo(l,h,f)))},$2=ce,w2=Et,Ib=hr.f;$2({target:"Object",stat:!0,forced:Object.defineProperty!==Ib,sham:!w2},{defineProperty:Ib});var _2=Ke,KI=_2.Object,S2=PI.exports=function(e,r,i){return KI.defineProperty(e,r,i)};KI.defineProperty.sham&&(S2.sham=!0);var I2=PI.exports,E2=I2,XI=E2,T2=XI,O2=T2,k2=O2,x2=k2,JI=x2,vu=he(JI),A2=kn,Cn=Array.isArray||function(e){return A2(e)==="Array"},C2=Math.ceil,P2=Math.floor,D2=Math.trunc||function(e){var r=+e;return(r>0?P2:C2)(r)},M2=D2,mu=function(t){var e=+t;return e!==e||e===0?0:M2(e)},R2=mu,N2=Math.min,F2=function(t){return t>0?N2(R2(t),9007199254740991):0},q2=F2,wr=function(t){return q2(t.length)},B2=TypeError,L2=9007199254740991,yu=function(t){if(t>L2)throw B2("Maximum allowed index exceeded");return t},j2=gu,z2=hr,H2=wo,Fs=function(t,e,r){var i=j2(e);i in t?z2.f(t,i,H2(0,r)):t[i]=r},W2=Je,V2=W2("toStringTag"),QI={};QI[V2]="z";var Nv=String(QI)==="[object z]",U2=Nv,Y2=rt,ed=kn,G2=Je,K2=G2("toStringTag"),X2=Object,J2=ed(function(){return arguments}())==="Arguments",Q2=function(t,e){try{return t[e]}catch{}},zi=U2?ed:function(t){var e,r,i;return t===void 0?"Undefined":t===null?"Null":typeof(r=Q2(e=X2(t),K2))=="string"?r:J2?ed(e):(i=ed(e))==="Object"&&Y2(e.callee)?"Arguments":i},Z2=Ue,eF=rt,ig=Mv,tF=Z2(Function.toString);eF(ig.inspectSource)||(ig.inspectSource=function(t){return tF(t)});var ZI=ig.inspectSource,rF=Ue,iF=Ae,eE=rt,nF=zi,oF=Xt,sF=ZI,tE=function(){},aF=[],rE=oF("Reflect","construct"),Fv=/^\s*(?:class|function)\b/,lF=rF(Fv.exec),cF=!Fv.test(tE),oa=function(e){if(!eE(e))return!1;try{return rE(tE,aF,e),!0}catch{return!1}},iE=function(e){if(!eE(e))return!1;switch(nF(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return cF||!!lF(Fv,sF(e))}catch{return!0}};iE.sham=!0;var bu=!rE||iF(function(){var t;return oa(oa.call)||!oa(Object)||!oa(function(){t=!0})||t})?iE:oa,Eb=Cn,dF=bu,uF=Pt,hF=Je,fF=hF("species"),Tb=Array,pF=function(t){var e;return Eb(t)&&(e=t.constructor,dF(e)&&(e===Tb||Eb(e.prototype))?e=void 0:uF(e)&&(e=e[fF],e===null&&(e=void 0))),e===void 0?Tb:e},gF=pF,$u=function(t,e){return new(gF(t))(e===0?0:e)},vF=Ae,mF=Je,yF=Ds,bF=mF("species"),hl=function(t){return yF>=51||!vF(function(){var e=[],r=e.constructor={};return r[bF]=function(){return{foo:1}},e[t](Boolean).foo!==1})},$F=ce,wF=Ae,_F=Cn,SF=Pt,IF=ur,EF=wr,Ob=yu,kb=Fs,TF=$u,OF=hl,kF=Je,xF=Ds,nE=kF("isConcatSpreadable"),AF=xF>=51||!wF(function(){var t=[];return t[nE]=!1,t.concat()[0]!==t}),CF=function(t){if(!SF(t))return!1;var e=t[nE];return e!==void 0?!!e:_F(t)},PF=!AF||!OF("concat");$F({target:"Array",proto:!0,forced:PF},{concat:function(e){var r=IF(this),i=TF(r,0),n=0,o,s,a,l,c;for(o=-1,a=arguments.length;o<a;o++)if(c=o===-1?r:arguments[o],CF(c))for(l=EF(c),Ob(n+l),s=0;s<l;s++,n++)s in c&&kb(i,n,c[s]);else Ob(n+1),kb(i,n++,c);return i.length=n,i}});var DF=zi,MF=String,_o=function(t){if(DF(t)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return MF(t)},wu={},RF=mu,NF=Math.max,FF=Math.min,_u=function(t,e){var r=RF(t);return r<0?NF(r+e,0):FF(r,e)},qF=pi,BF=_u,LF=wr,jF=function(t){return function(e,r,i){var n=qF(e),o=LF(n),s=BF(i,o),a;if(t&&r!==r){for(;o>s;)if(a=n[s++],a!==a)return!0}else for(;o>s;s++)if((t||s in n)&&n[s]===r)return t||s||0;return!t&&-1}},zF={indexOf:jF(!1)},fl={},HF=Ue,Lh=mt,WF=pi,VF=zF.indexOf,UF=fl,xb=HF([].push),oE=function(t,e){var r=WF(t),i=0,n=[],o;for(o in r)!Lh(UF,o)&&Lh(r,o)&&xb(n,o);for(;e.length>i;)Lh(r,o=e[i++])&&(~VF(n,o)||xb(n,o));return n},qv=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],YF=oE,GF=qv,Su=Object.keys||function(e){return YF(e,GF)},KF=Et,XF=GI,JF=hr,QF=$r,ZF=pi,eq=Su;wu.f=KF&&!XF?Object.defineProperties:function(e,r){QF(e);for(var i=ZF(r),n=eq(r),o=n.length,s=0,a;o>s;)JF.f(e,a=n[s++],i[a]);return e};var tq=Xt,sE=tq("document","documentElement"),rq=Ns,iq=pu,Ab=rq("keys"),Iu=function(t){return Ab[t]||(Ab[t]=iq(t))},nq=$r,oq=wu,Cb=qv,sq=fl,aq=sE,lq=Rv,cq=Iu,Pb=">",Db="<",ng="prototype",og="script",aE=cq("IE_PROTO"),jh=function(){},lE=function(t){return Db+og+Pb+t+Db+"/"+og+Pb},Mb=function(t){t.write(lE("")),t.close();var e=t.parentWindow.Object;return t=null,e},dq=function(){var t=lq("iframe"),e="java"+og+":",r;return t.style.display="none",aq.appendChild(t),t.src=String(e),r=t.contentWindow.document,r.open(),r.write(lE("document.F=Object")),r.close(),r.F},pc,td=function(){try{pc=new ActiveXObject("htmlfile")}catch{}td=typeof document<"u"?document.domain&&pc?Mb(pc):dq():Mb(pc);for(var t=Cb.length;t--;)delete td[ng][Cb[t]];return td()};sq[aE]=!0;var So=Object.create||function(e,r){var i;return e!==null?(jh[ng]=nq(e),i=new jh,jh[ng]=null,i[aE]=e):i=td(),r===void 0?i:oq.f(i,r)},pl={},uq=oE,hq=qv,fq=hq.concat("length","prototype");pl.f=Object.getOwnPropertyNames||function(e){return uq(e,fq)};var Bv={},Rb=_u,pq=wr,gq=Fs,vq=Array,mq=Math.max,cE=function(t,e,r){for(var i=pq(t),n=Rb(e,i),o=Rb(r===void 0?i:r,i),s=vq(mq(o-n,0)),a=0;n<o;n++,a++)gq(s,a,t[n]);return s.length=a,s},yq=kn,bq=pi,dE=pl.f,$q=cE,uE=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],wq=function(t){try{return dE(t)}catch{return $q(uE)}};Bv.f=function(e){return uE&&yq(e)==="Window"?wq(e):dE(bq(e))};var gl={};gl.f=Object.getOwnPropertySymbols;var _q=ji,qs=function(t,e,r,i){return i&&i.enumerable?t[e]=r:_q(t,e,r),t},Sq=hr,Lv=function(t,e,r){return Sq.f(t,e,r)},vl={},Iq=Je;vl.f=Iq;var Nb=Ke,Eq=mt,Tq=vl,Oq=hr.f,it=function(t){var e=Nb.Symbol||(Nb.Symbol={});Eq(e,t)||Oq(e,t,{value:Tq.f(t)})},kq=Tt,xq=Xt,Aq=Je,Cq=qs,hE=function(){var t=xq("Symbol"),e=t&&t.prototype,r=e&&e.valueOf,i=Aq("toPrimitive");e&&!e[i]&&Cq(e,i,function(n){return kq(r,this)},{})},Pq=Nv,Dq=zi,Mq=Pq?{}.toString:function(){return"[object "+Dq(this)+"]"},Rq=Nv,Nq=hr.f,Fq=ji,qq=mt,Bq=Mq,Lq=Je,Fb=Lq("toStringTag"),Io=function(t,e,r,i){if(t){var n=r?t:t.prototype;qq(n,Fb)||Nq(n,Fb,{configurable:!0,value:e}),i&&!Rq&&Fq(n,"toString",Bq)}},jq=Ge,zq=rt,qb=jq.WeakMap,Hq=zq(qb)&&/native code/.test(String(qb)),Wq=Hq,fE=Ge,Vq=Pt,Uq=ji,zh=mt,Hh=Mv,Yq=Iu,Gq=fl,Bb="Object already initialized",sg=fE.TypeError,Kq=fE.WeakMap,kd,Ha,xd,Xq=function(t){return xd(t)?Ha(t):kd(t,{})},Jq=function(t){return function(e){var r;if(!Vq(e)||(r=Ha(e)).type!==t)throw new sg("Incompatible receiver, "+t+" required");return r}};if(Wq||Hh.state){var ei=Hh.state||(Hh.state=new Kq);ei.get=ei.get,ei.has=ei.has,ei.set=ei.set,kd=function(t,e){if(ei.has(t))throw new sg(Bb);return e.facade=t,ei.set(t,e),e},Ha=function(t){return ei.get(t)||{}},xd=function(t){return ei.has(t)}}else{var qo=Yq("state");Gq[qo]=!0,kd=function(t,e){if(zh(t,qo))throw new sg(Bb);return e.facade=t,Uq(t,qo,e),e},Ha=function(t){return zh(t,qo)?t[qo]:{}},xd=function(t){return zh(t,qo)}}var Bs={set:kd,get:Ha,has:xd,enforce:Xq,getterFor:Jq},Qq=An,Zq=Ue,eB=fu,tB=ur,rB=wr,iB=$u,Lb=Zq([].push),gc=function(t){var e=t===1,r=t===2,i=t===3,n=t===4,o=t===6,s=t===7,a=t===5||o;return function(l,c,d,u){for(var h=tB(l),f=eB(h),p=Qq(c,d),v=rB(f),y=0,m=u||iB,$=e?m(l,v):r||s?m(l,0):void 0,S,_;v>y;y++)if((a||y in f)&&(S=f[y],_=p(S,y,h),t))if(e)$[y]=_;else if(_)switch(t){case 3:return!0;case 5:return S;case 6:return y;case 2:Lb($,S)}else switch(t){case 4:return!1;case 7:Lb($,S)}return o?-1:i||n?n:$}},Ls={forEach:gc(0),map:gc(1),filter:gc(2),some:gc(3)},Eu=ce,ml=Ge,jv=Tt,nB=Ue,vs=Et,ms=Ms,oB=Ae,_t=mt,sB=vt,ag=$r,Tu=pi,zv=gu,aB=_o,lg=wo,Wa=So,pE=Su,lB=pl,gE=Bv,cB=gl,vE=$o,mE=hr,dB=wu,yE=hu,jb=qs,uB=Lv,Hv=Ns,hB=Iu,bE=fl,zb=pu,fB=Je,pB=vl,gB=it,vB=hE,mB=Io,$E=Bs,Ou=Ls.forEach,rr=hB("hidden"),ku="Symbol",Va="prototype",yB=$E.set,Hb=$E.getterFor(ku),Lr=Object[Va],Jn=ml.Symbol,fa=Jn&&Jn[Va],bB=ml.RangeError,$B=ml.TypeError,Wh=ml.QObject,wE=vE.f,Qn=mE.f,_E=gE.f,wB=yE.f,SE=nB([].push),Ni=Hv("symbols"),yl=Hv("op-symbols"),_B=Hv("wks"),cg=!Wh||!Wh[Va]||!Wh[Va].findChild,IE=function(t,e,r){var i=wE(Lr,e);i&&delete Lr[e],Qn(t,e,r),i&&t!==Lr&&Qn(Lr,e,i)},dg=vs&&oB(function(){return Wa(Qn({},"a",{get:function(){return Qn(this,"a",{value:7}).a}})).a!==7})?IE:Qn,Vh=function(t,e){var r=Ni[t]=Wa(fa);return yB(r,{type:ku,tag:t,description:e}),vs||(r.description=e),r},xu=function(e,r,i){e===Lr&&xu(yl,r,i),ag(e);var n=zv(r);return ag(i),_t(Ni,n)?(i.enumerable?(_t(e,rr)&&e[rr][n]&&(e[rr][n]=!1),i=Wa(i,{enumerable:lg(0,!1)})):(_t(e,rr)||Qn(e,rr,lg(1,{})),e[rr][n]=!0),dg(e,n,i)):Qn(e,n,i)},Wv=function(e,r){ag(e);var i=Tu(r),n=pE(i).concat(kE(i));return Ou(n,function(o){(!vs||jv(EE,i,o))&&xu(e,o,i[o])}),e},SB=function(e,r){return r===void 0?Wa(e):Wv(Wa(e),r)},EE=function(e){var r=zv(e),i=jv(wB,this,r);return this===Lr&&_t(Ni,r)&&!_t(yl,r)?!1:i||!_t(this,r)||!_t(Ni,r)||_t(this,rr)&&this[rr][r]?i:!0},TE=function(e,r){var i=Tu(e),n=zv(r);if(!(i===Lr&&_t(Ni,n)&&!_t(yl,n))){var o=wE(i,n);return o&&_t(Ni,n)&&!(_t(i,rr)&&i[rr][n])&&(o.enumerable=!0),o}},OE=function(e){var r=_E(Tu(e)),i=[];return Ou(r,function(n){!_t(Ni,n)&&!_t(bE,n)&&SE(i,n)}),i},kE=function(t){var e=t===Lr,r=_E(e?yl:Tu(t)),i=[];return Ou(r,function(n){_t(Ni,n)&&(!e||_t(Lr,n))&&SE(i,Ni[n])}),i};ms||(Jn=function(){if(sB(fa,this))throw new $B("Symbol is not a constructor");var e=!arguments.length||arguments[0]===void 0?void 0:aB(arguments[0]),r=zb(e),i=function(n){var o=this===void 0?ml:this;o===Lr&&jv(i,yl,n),_t(o,rr)&&_t(o[rr],r)&&(o[rr][r]=!1);var s=lg(1,n);try{dg(o,r,s)}catch(a){if(!(a instanceof bB))throw a;IE(o,r,s)}};return vs&&cg&&dg(Lr,r,{configurable:!0,set:i}),Vh(r,e)},fa=Jn[Va],jb(fa,"toString",function(){return Hb(this).tag}),jb(Jn,"withoutSetter",function(t){return Vh(zb(t),t)}),yE.f=EE,mE.f=xu,dB.f=Wv,vE.f=TE,lB.f=gE.f=OE,cB.f=kE,pB.f=function(t){return Vh(fB(t),t)},vs&&uB(fa,"description",{configurable:!0,get:function(){return Hb(this).description}}));Eu({global:!0,wrap:!0,forced:!ms,sham:!ms},{Symbol:Jn});Ou(pE(_B),function(t){gB(t)});Eu({target:ku,stat:!0,forced:!ms},{useSetter:function(){cg=!0},useSimple:function(){cg=!1}});Eu({target:"Object",stat:!0,forced:!ms,sham:!vs},{create:SB,defineProperty:xu,defineProperties:Wv,getOwnPropertyDescriptor:TE});Eu({target:"Object",stat:!0,forced:!ms},{getOwnPropertyNames:OE});vB();mB(Jn,ku);bE[rr]=!0;var IB=Ms,xE=IB&&!!Symbol.for&&!!Symbol.keyFor,EB=ce,TB=Xt,OB=mt,kB=_o,AE=Ns,xB=xE,Uh=AE("string-to-symbol-registry"),AB=AE("symbol-to-string-registry");EB({target:"Symbol",stat:!0,forced:!xB},{for:function(t){var e=kB(t);if(OB(Uh,e))return Uh[e];var r=TB("Symbol")(e);return Uh[e]=r,AB[r]=e,r}});var CB=ce,PB=mt,DB=dl,MB=Rs,RB=Ns,NB=xE,Wb=RB("symbol-to-string-registry");CB({target:"Symbol",stat:!0,forced:!NB},{keyFor:function(e){if(!DB(e))throw new TypeError(MB(e)+" is not a symbol");if(PB(Wb,e))return Wb[e]}});var FB=Ue,bl=FB([].slice),qB=Ue,Vb=Cn,BB=rt,Ub=kn,LB=_o,Yb=qB([].push),jB=function(t){if(BB(t))return t;if(Vb(t)){for(var e=t.length,r=[],i=0;i<e;i++){var n=t[i];typeof n=="string"?Yb(r,n):(typeof n=="number"||Ub(n)==="Number"||Ub(n)==="String")&&Yb(r,LB(n))}var o=r.length,s=!0;return function(a,l){if(s)return s=!1,l;if(Vb(this))return l;for(var c=0;c<o;c++)if(r[c]===a)return l}}},zB=ce,CE=Xt,PE=Cs,HB=Tt,$l=Ue,DE=Ae,Gb=rt,Kb=dl,ME=bl,WB=jB,VB=Ms,UB=String,un=CE("JSON","stringify"),vc=$l(/./.exec),Xb=$l("".charAt),YB=$l("".charCodeAt),GB=$l("".replace),KB=$l(1 .toString),XB=/[\uD800-\uDFFF]/g,Jb=/^[\uD800-\uDBFF]$/,Qb=/^[\uDC00-\uDFFF]$/,Zb=!VB||DE(function(){var t=CE("Symbol")("stringify detection");return un([t])!=="[null]"||un({a:t})!=="{}"||un(Object(t))!=="{}"}),e$=DE(function(){return un("\uDF06\uD834")!=='"\\udf06\\ud834"'||un("\uDEAD")!=='"\\udead"'}),JB=function(t,e){var r=ME(arguments),i=WB(e);if(!(!Gb(i)&&(t===void 0||Kb(t))))return r[1]=function(n,o){if(Gb(i)&&(o=HB(i,this,UB(n),o)),!Kb(o))return o},PE(un,null,r)},QB=function(t,e,r){var i=Xb(r,e-1),n=Xb(r,e+1);return vc(Jb,t)&&!vc(Qb,n)||vc(Qb,t)&&!vc(Jb,i)?"\\u"+KB(YB(t,0),16):t};un&&zB({target:"JSON",stat:!0,forced:Zb||e$},{stringify:function(e,r,i){var n=ME(arguments),o=PE(Zb?JB:un,null,n);return e$&&typeof o=="string"?GB(o,XB,QB):o}});var ZB=ce,eL=Ms,tL=Ae,RE=gl,rL=ur,iL=!eL||tL(function(){RE.f(1)});ZB({target:"Object",stat:!0,forced:iL},{getOwnPropertySymbols:function(e){var r=RE.f;return r?r(rL(e)):[]}});var nL=it;nL("asyncIterator");var oL=it;oL("hasInstance");var sL=it;sL("isConcatSpreadable");var aL=it;aL("iterator");var lL=it;lL("match");var cL=it;cL("matchAll");var dL=it;dL("replace");var uL=it;uL("search");var hL=it;hL("species");var fL=it;fL("split");var pL=it,gL=hE;pL("toPrimitive");gL();var vL=Xt,mL=it,yL=Io;mL("toStringTag");yL(vL("Symbol"),"Symbol");var bL=it;bL("unscopables");var $L=Ge,wL=Io;wL($L.JSON,"JSON",!0);var _L=Ke,SL=_L.Symbol,js={},ug=Et,IL=mt,NE=Function.prototype,EL=ug&&Object.getOwnPropertyDescriptor,FE=IL(NE,"name"),TL=FE&&(function(){}).name==="something";FE&&(!ug||ug&&EL(NE,"name").configurable);var OL={PROPER:TL},kL=Ae,qE=!kL(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}),xL=mt,AL=rt,CL=ur,PL=Iu,DL=qE,t$=PL("IE_PROTO"),hg=Object,ML=hg.prototype,Au=DL?hg.getPrototypeOf:function(t){var e=CL(t);if(xL(e,t$))return e[t$];var r=e.constructor;return AL(r)&&e instanceof r?r.prototype:e instanceof hg?ML:null},RL=Ae,NL=rt,FL=Pt,qL=So,r$=Au,BL=qs,LL=Je,fg=LL("iterator"),BE=!1,Si,Yh,Gh;[].keys&&(Gh=[].keys(),"next"in Gh?(Yh=r$(r$(Gh)),Yh!==Object.prototype&&(Si=Yh)):BE=!0);var jL=!FL(Si)||RL(function(){var t={};return Si[fg].call(t)!==t});jL?Si={}:Si=qL(Si);NL(Si[fg])||BL(Si,fg,function(){return this});var LE={IteratorPrototype:Si,BUGGY_SAFARI_ITERATORS:BE},zL=LE.IteratorPrototype,HL=So,WL=wo,VL=Io,UL=js,YL=function(){return this},GL=function(t,e,r,i){var n=e+" Iterator";return t.prototype=HL(zL,{next:WL(+!i,r)}),VL(t,n,!1,!0),UL[n]=YL,t},KL=Ue,XL=dr,JL=function(t,e,r){try{return KL(XL(Object.getOwnPropertyDescriptor(t,e)[r]))}catch{}},QL=rt,ZL=String,ej=TypeError,tj=function(t){if(typeof t=="object"||QL(t))return t;throw new ej("Can't set "+ZL(t)+" as a prototype")},rj=JL,ij=$r,nj=tj,jE=Object.setPrototypeOf||("__proto__"in{}?function(){var t=!1,e={},r;try{r=rj(Object.prototype,"__proto__","set"),r(e,[]),t=e instanceof Array}catch{}return function(n,o){return ij(n),nj(o),t?r(n,o):n.__proto__=o,n}}():void 0),oj=ce,sj=Tt,aj=OL,lj=GL,cj=Au,dj=Io,i$=qs,uj=Je,n$=js,hj=LE,fj=aj.PROPER,mc=hj.BUGGY_SAFARI_ITERATORS,Kh=uj("iterator"),o$="keys",yc="values",s$="entries",pj=function(){return this},Vv=function(t,e,r,i,n,o,s){lj(r,e,i);var a=function(m){if(m===n&&h)return h;if(!mc&&m&&m in d)return d[m];switch(m){case o$:return function(){return new r(this,m)};case yc:return function(){return new r(this,m)};case s$:return function(){return new r(this,m)}}return function(){return new r(this)}},l=e+" Iterator",c=!1,d=t.prototype,u=d[Kh]||d["@@iterator"]||n&&d[n],h=!mc&&u||a(n),f=e==="Array"&&d.entries||u,p,v,y;if(f&&(p=cj(f.call(new t)),p!==Object.prototype&&p.next&&(dj(p,l,!0,!0),n$[l]=pj)),fj&&n===yc&&u&&u.name!==yc&&(c=!0,h=function(){return sj(u,this)}),n)if(v={values:a(yc),keys:o?h:a(o$),entries:a(s$)},s)for(y in v)(mc||c||!(y in d))&&i$(d,y,v[y]);else oj({target:e,proto:!0,forced:mc||c},v);return s&&d[Kh]!==h&&i$(d,Kh,h,{}),n$[e]=h,v},Uv=function(t,e){return{value:t,done:e}},gj=pi,a$=js,zE=Bs;hr.f;var vj=Vv,bc=Uv,HE="Array Iterator",mj=zE.set,yj=zE.getterFor(HE);vj(Array,"Array",function(t,e){mj(this,{type:HE,target:gj(t),index:0,kind:e})},function(){var t=yj(this),e=t.target,r=t.index++;if(!e||r>=e.length)return t.target=void 0,bc(void 0,!0);switch(t.kind){case"keys":return bc(r,!1);case"values":return bc(e[r],!1)}return bc([r,e[r]],!1)},"values");a$.Arguments=a$.Array;var bj={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},$j=bj,wj=Ge,_j=zi,Sj=ji,l$=js,Ij=Je,c$=Ij("toStringTag");for(var Xh in $j){var d$=wj[Xh],Jh=d$&&d$.prototype;Jh&&_j(Jh)!==c$&&Sj(Jh,c$,Xh),l$[Xh]=l$.Array}var Ej=SL,WE=Ej,Tj=Je,Oj=hr.f,u$=Tj("metadata"),h$=Function.prototype;h$[u$]===void 0&&Oj(h$,u$,{value:null});var kj=it;kj("asyncDispose");var xj=it;xj("dispose");var Aj=it;Aj("metadata");var Cj=WE,Pj=Cj,Dj=Xt,Mj=Ue,Yv=Dj("Symbol"),Rj=Yv.keyFor,Nj=Mj(Yv.prototype.valueOf),VE=Yv.isRegisteredSymbol||function(e){try{return Rj(Nj(e))!==void 0}catch{return!1}},Fj=ce,qj=VE;Fj({target:"Symbol",stat:!0},{isRegisteredSymbol:qj});var Bj=Ns,UE=Xt,Lj=Ue,jj=dl,zj=Je,Ad=UE("Symbol"),f$=Ad.isWellKnownSymbol,YE=UE("Object","getOwnPropertyNames"),Hj=Lj(Ad.prototype.valueOf),p$=Bj("wks");for(var Qh=0,g$=YE(Ad),Wj=g$.length;Qh<Wj;Qh++)try{var v$=g$[Qh];jj(Ad[v$])&&zj(v$)}catch{}var GE=function(e){if(f$&&f$(e))return!0;try{for(var r=Hj(e),i=0,n=YE(p$),o=n.length;i<o;i++)if(p$[n[i]]==r)return!0}catch{}return!1},Vj=ce,Uj=GE;Vj({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:Uj});var Yj=it;Yj("matcher");var Gj=it;Gj("observable");var Kj=ce,Xj=VE;Kj({target:"Symbol",stat:!0},{isRegistered:Xj});var Jj=ce,Qj=GE;Jj({target:"Symbol",stat:!0,forced:!0},{isWellKnown:Qj});var Zj=it;Zj("metadataKey");var ez=it;ez("patternMatch");var tz=it;tz("replaceAll");var rz=Pj,iz=rz,Gv=iz,Xo=he(Gv),Kv=Ue,nz=mu,oz=_o,sz=Pv,az=Kv("".charAt),m$=Kv("".charCodeAt),lz=Kv("".slice),cz=function(t){return function(e,r){var i=oz(sz(e)),n=nz(r),o=i.length,s,a;return n<0||n>=o?t?"":void 0:(s=m$(i,n),s<55296||s>56319||n+1===o||(a=m$(i,n+1))<56320||a>57343?t?az(i,n):s:t?lz(i,n,n+2):(s-55296<<10)+(a-56320)+65536)}},dz={charAt:cz(!0)},uz=dz.charAt,hz=_o,KE=Bs,fz=Vv,y$=Uv,XE="String Iterator",pz=KE.set,gz=KE.getterFor(XE);fz(String,"String",function(t){pz(this,{type:XE,string:hz(t),index:0})},function(){var e=gz(this),r=e.string,i=e.index,n;return i>=r.length?y$(void 0,!0):(n=uz(r,i),e.index+=n.length,y$(n,!1))});var vz=vl,mz=vz.f("iterator"),yz=mz,JE=yz,bz=JE,$z=bz,wz=$z,_z=wz,QE=_z,Sz=he(QE);function ys(t){"@babel/helpers - typeof";return ys=typeof Xo=="function"&&typeof Sz=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Xo=="function"&&e.constructor===Xo&&e!==Xo.prototype?"symbol":typeof e},ys(t)}var Iz=vl,Ez=Iz.f("toPrimitive"),Tz=Ez,Oz=Tz,kz=Oz,xz=kz,Az=xz,Cz=Az,Pz=Cz,Dz=he(Pz);function Mz(t,e){if(ys(t)!=="object"||t===null)return t;var r=t[Dz];if(r!==void 0){var i=r.call(t,e);if(ys(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZE(t){var e=Mz(t,"string");return ys(e)==="symbol"?e:String(e)}function b$(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),vu(t,ZE(i.key),i)}}function Cu(t,e,r){return e&&b$(t.prototype,e),r&&b$(t,r),vu(t,"prototype",{writable:!1}),t}function hn(t,e,r){return e=ZE(e),e in t?vu(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var eT=Ue,Rz=dr,Nz=Pt,Fz=mt,$$=bl,qz=cl,tT=Function,Bz=eT([].concat),Lz=eT([].join),Zh={},jz=function(t,e,r){if(!Fz(Zh,e)){for(var i=[],n=0;n<e;n++)i[n]="a["+n+"]";Zh[e]=tT("C,a","return new C("+Lz(i,",")+")")}return Zh[e](t,r)},rT=qz?tT.bind:function(e){var r=Rz(this),i=r.prototype,n=$$(arguments,1),o=function(){var a=Bz(n,$$(arguments));return this instanceof o?jz(r,a.length,a):r.apply(e,a)};return Nz(i)&&(o.prototype=i),o},zz=ce,w$=rT;zz({target:"Function",proto:!0,forced:Function.bind!==w$},{bind:w$});var Hz=Ge,Wz=Ke,Bt=function(t,e){var r=Wz[t+"Prototype"],i=r&&r[e];if(i)return i;var n=Hz[t],o=n&&n.prototype;return o&&o[e]},Vz=Bt,Uz=Vz("Function","bind"),Yz=vt,Gz=Uz,ef=Function.prototype,Kz=function(t){var e=t.bind;return t===ef||Yz(ef,t)&&e===ef.bind?Gz:e},Xz=Kz,iT=Xz,Jz=iT,nT=he(Jz),Qz=dr,Zz=ur,e3=fu,t3=wr,r3=TypeError,i3=function(t){return function(e,r,i,n){Qz(r);var o=Zz(e),s=e3(o),a=t3(o),l=t?a-1:0,c=t?-1:1;if(i<2)for(;;){if(l in s){n=s[l],l+=c;break}if(l+=c,t?l<0:a<=l)throw new r3("Reduce of empty array with no initial value")}for(;t?l>=0:a>l;l+=c)l in s&&(n=r(n,s[l],l,o));return n}},n3={left:i3(!1)},o3=Ae,Pu=function(t,e){var r=[][t];return!!r&&o3(function(){r.call(null,e||function(){return 1},1)})},s3=Ge,a3=kn,wl=a3(s3.process)==="process",l3=ce,c3=n3.left,d3=Pu,_$=Ds,u3=wl,h3=!u3&&_$>79&&_$<83,f3=h3||!d3("reduce");l3({target:"Array",proto:!0,forced:f3},{reduce:function(e){var r=arguments.length;return c3(this,e,r,r>1?arguments[1]:void 0)}});var p3=Bt,g3=p3("Array","reduce"),v3=vt,m3=g3,tf=Array.prototype,y3=function(t){var e=t.reduce;return t===tf||v3(tf,t)&&e===tf.reduce?m3:e},b3=y3,$3=b3,w3=$3,_3=he(w3),S3=ce,I3=Ls.filter,E3=hl,T3=E3("filter");S3({target:"Array",proto:!0,forced:!T3},{filter:function(e){return I3(this,e,arguments.length>1?arguments[1]:void 0)}});var O3=Bt,k3=O3("Array","filter"),x3=vt,A3=k3,rf=Array.prototype,C3=function(t){var e=t.filter;return t===rf||x3(rf,t)&&e===rf.filter?A3:e},P3=C3,D3=P3,M3=D3,Jo=he(M3),R3=ce,N3=Ls.map,F3=hl,q3=F3("map");R3({target:"Array",proto:!0,forced:!q3},{map:function(e){return N3(this,e,arguments.length>1?arguments[1]:void 0)}});var B3=Bt,L3=B3("Array","map"),j3=vt,z3=L3,nf=Array.prototype,H3=function(t){var e=t.map;return t===nf||j3(nf,t)&&e===nf.map?z3:e},W3=H3,V3=W3,U3=V3,Fr=he(U3),Y3=Cn,G3=wr,K3=yu,X3=An,oT=function(t,e,r,i,n,o,s,a){for(var l=n,c=0,d=s?X3(s,a):!1,u,h;c<i;)c in r&&(u=d?d(r[c],c,e):r[c],o>0&&Y3(u)?(h=G3(u),l=oT(t,e,u,h,l,o-1)-1):(K3(l+1),t[l]=u),l++),c++;return l},J3=oT,Q3=ce,Z3=J3,e5=dr,t5=ur,r5=wr,i5=$u;Q3({target:"Array",proto:!0},{flatMap:function(e){var r=t5(this),i=r5(r),n;return e5(e),n=i5(r,0),n.length=Z3(n,r,r,i,0,1,e,arguments.length>1?arguments[1]:void 0),n}});var n5=Bt;n5("Array","flatMap");var o5=Tt,S$=$r,s5=Dv,sT=function(t,e,r){var i,n;S$(t);try{if(i=s5(t,"return"),!i){if(e==="throw")throw r;return r}i=o5(i,t)}catch(o){n=!0,i=o}if(e==="throw")throw r;if(n)throw i;return S$(i),r},a5=$r,l5=sT,c5=function(t,e,r,i){try{return i?e(a5(r)[0],r[1]):e(r)}catch(n){l5(t,"throw",n)}},d5=Je,u5=js,h5=d5("iterator"),f5=Array.prototype,aT=function(t){return t!==void 0&&(u5.Array===t||f5[h5]===t)},p5=zi,I$=Dv,g5=Ps,v5=js,m5=Je,y5=m5("iterator"),Du=function(t){if(!g5(t))return I$(t,y5)||I$(t,"@@iterator")||v5[p5(t)]},b5=Tt,$5=dr,w5=$r,_5=Rs,S5=Du,I5=TypeError,Xv=function(t,e){var r=arguments.length<2?S5(t):e;if($5(r))return w5(b5(r,t));throw new I5(_5(t)+" is not iterable")},E5=An,T5=Tt,O5=ur,k5=c5,x5=aT,A5=bu,C5=wr,E$=Fs,P5=Xv,D5=Du,T$=Array,M5=function(e){var r=O5(e),i=A5(this),n=arguments.length,o=n>1?arguments[1]:void 0,s=o!==void 0;s&&(o=E5(o,n>2?arguments[2]:void 0));var a=D5(r),l=0,c,d,u,h,f,p;if(a&&!(this===T$&&x5(a)))for(h=P5(r,a),f=h.next,d=i?new this:[];!(u=T5(f,h)).done;l++)p=s?k5(h,o,[u.value,l],!0):u.value,E$(d,l,p);else for(c=C5(r),d=i?new this(c):T$(c);c>l;l++)p=s?o(r[l],l):r[l],E$(d,l,p);return d.length=l,d},R5=Je,lT=R5("iterator"),cT=!1;try{var N5=0,O$={next:function(){return{done:!!N5++}},return:function(){cT=!0}};O$[lT]=function(){return this},Array.from(O$,function(){throw 2})}catch{}var dT=function(t,e){try{if(!e&&!cT)return!1}catch{return!1}var r=!1;try{var i={};i[lT]=function(){return{next:function(){return{done:r=!0}}}},t(i)}catch{}return r},F5=ce,q5=M5,B5=dT,L5=!B5(function(t){Array.from(t)});F5({target:"Array",stat:!0,forced:L5},{from:q5});var j5=Ke,z5=j5.Array.from,H5=z5,uT=H5,W5=uT,Jv=he(W5),V5=Du,U5=V5,Y5=U5,G5=Y5,K5=G5,X5=K5,J5=X5,Q5=J5,hT=Q5,fT=he(hT),Z5=hT,Qv=he(Z5),eH=ce,tH=Cn;eH({target:"Array",stat:!0},{isArray:tH});var rH=Ke,iH=rH.Array.isArray,nH=iH,pT=nH,oH=pT,sH=oH,aH=sH,lH=aH,cH=lH,gT=he(cH);function dH(t){if(gT(t))return t}var uH=Et,hH=Cn,fH=TypeError,pH=Object.getOwnPropertyDescriptor,gH=uH&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}(),vT=gH?function(t,e){if(hH(t)&&!pH(t,"length").writable)throw new fH("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e},vH=ce,mH=ur,yH=wr,bH=vT,$H=yu,wH=Ae,_H=wH(function(){return[].push.call({length:4294967296},1)!==4294967297}),SH=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}},IH=_H||!SH();vH({target:"Array",proto:!0,forced:IH},{push:function(e){var r=mH(this),i=yH(r),n=arguments.length;$H(i+n);for(var o=0;o<n;o++)r[i]=arguments[o],i++;return bH(r,i),i}});var EH=Bt,TH=EH("Array","push"),OH=vt,kH=TH,of=Array.prototype,xH=function(t){var e=t.push;return t===of||OH(of,t)&&e===of.push?kH:e},AH=xH,CH=AH,PH=CH,DH=PH,MH=DH,RH=MH,mT=RH,NH=he(mT);function FH(t,e){var r=t==null?null:typeof Xo<"u"&&fT(t)||t["@@iterator"];if(r!=null){var i,n,o,s,a=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(i=o.call(r)).done)&&(NH(a).call(a,i.value),a.length!==e);l=!0);}catch(d){c=!0,n=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw n}}return a}}var qH=ce,k$=Cn,BH=bu,LH=Pt,x$=_u,jH=wr,zH=pi,HH=Fs,WH=Je,VH=hl,UH=bl,YH=VH("slice"),GH=WH("species"),sf=Array,KH=Math.max;qH({target:"Array",proto:!0,forced:!YH},{slice:function(e,r){var i=zH(this),n=jH(i),o=x$(e,n),s=x$(r===void 0?n:r,n),a,l,c;if(k$(i)&&(a=i.constructor,BH(a)&&(a===sf||k$(a.prototype))?a=void 0:LH(a)&&(a=a[GH],a===null&&(a=void 0)),a===sf||a===void 0))return UH(i,o,s);for(l=new(a===void 0?sf:a)(KH(s-o,0)),c=0;o<s;o++,c++)o in i&&HH(l,c,i[o]);return l.length=c,l}});var XH=Bt,JH=XH("Array","slice"),QH=vt,ZH=JH,af=Array.prototype,eW=function(t){var e=t.slice;return t===af||QH(af,t)&&e===af.slice?ZH:e},tW=eW,yT=tW,rW=yT,iW=rW,nW=iW,oW=nW,bT=oW,sW=he(bT),aW=uT,lW=aW,cW=lW,dW=cW,uW=dW,$T=he(uW);function pg(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=t[r];return i}function wT(t,e){var r;if(t){if(typeof t=="string")return pg(t,e);var i=sW(r=Object.prototype.toString.call(t)).call(r,8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return $T(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return pg(t,e)}}function hW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zt(t,e){return dH(t)||FH(t,e)||wT(t,e)||hW()}function fW(t){if(gT(t))return pg(t)}function pW(t){if(typeof Xo<"u"&&fT(t)!=null||t["@@iterator"]!=null)return $T(t)}function gW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ir(t){return fW(t)||pW(t)||wT(t)||gW()}var vW=WE,Mu=he(vW),mW=Bt,yW=mW("Array","concat"),bW=vt,$W=yW,lf=Array.prototype,wW=function(t){var e=t.concat;return t===lf||bW(lf,t)&&e===lf.concat?$W:e},_W=wW,SW=_W,IW=SW,Ru=he(IW),EW=yT,Nu=he(EW),TW=Xt,OW=Ue,kW=pl,xW=gl,AW=$r,CW=OW([].concat),Zv=TW("Reflect","ownKeys")||function(e){var r=kW.f(AW(e)),i=xW.f;return i?CW(r,i(e)):r},PW=ce,DW=Zv;PW({target:"Reflect",stat:!0},{ownKeys:DW});var MW=Ke,RW=MW.Reflect.ownKeys,NW=RW,FW=NW,qW=FW,BW=he(qW),LW=pT,vr=he(LW),jW=ce,zW=ur,_T=Su,HW=Ae,WW=HW(function(){_T(1)});jW({target:"Object",stat:!0,forced:WW},{keys:function(e){return _T(zW(e))}});var VW=Ke,UW=VW.Object.keys,YW=UW,GW=YW,KW=GW,em=he(KW),XW=Ls.forEach,JW=Pu,QW=JW("forEach"),ZW=QW?[].forEach:function(e){return XW(this,e,arguments.length>1?arguments[1]:void 0)},e4=ce,A$=ZW;e4({target:"Array",proto:!0,forced:[].forEach!==A$},{forEach:A$});var t4=Bt,r4=t4("Array","forEach"),i4=r4,n4=i4,o4=zi,s4=mt,a4=vt,l4=n4,cf=Array.prototype,c4={DOMTokenList:!0,NodeList:!0},ST=function(t){var e=t.forEach;return t===cf||a4(cf,t)&&e===cf.forEach||s4(c4,o4(t))?l4:e},d4=ST,co=he(d4),u4=ce,h4=Ue,f4=Cn,p4=h4([].reverse),C$=[1,2];u4({target:"Array",proto:!0,forced:String(C$)===String(C$.reverse())},{reverse:function(){return f4(this)&&(this.length=this.length),p4(this)}});var g4=Bt,v4=g4("Array","reverse"),m4=vt,y4=v4,df=Array.prototype,b4=function(t){var e=t.reverse;return t===df||m4(df,t)&&e===df.reverse?y4:e},$4=b4,IT=$4,w4=IT,_4=he(w4),P$=Rs,S4=TypeError,ET=function(t,e){if(!delete t[e])throw new S4("Cannot delete property "+P$(e)+" of "+P$(t))},I4=ce,E4=ur,T4=_u,O4=mu,k4=wr,x4=vT,A4=yu,C4=$u,P4=Fs,uf=ET,D4=hl,M4=D4("splice"),R4=Math.max,N4=Math.min;I4({target:"Array",proto:!0,forced:!M4},{splice:function(e,r){var i=E4(this),n=k4(i),o=T4(e,n),s=arguments.length,a,l,c,d,u,h;for(s===0?a=l=0:s===1?(a=0,l=n-o):(a=s-2,l=N4(R4(O4(r),0),n-o)),A4(n+a-l),c=C4(i,l),d=0;d<l;d++)u=o+d,u in i&&P4(c,d,i[u]);if(c.length=l,a<l){for(d=o;d<n-l;d++)u=d+l,h=d+a,u in i?i[h]=i[u]:uf(i,h);for(d=n;d>n-l+a;d--)uf(i,d-1)}else if(a>l)for(d=n-l;d>o;d--)u=d+l-1,h=d+a-1,u in i?i[h]=i[u]:uf(i,h);for(d=0;d<a;d++)i[d+o]=arguments[d+2];return x4(i,n-l+a),c}});var F4=Bt,q4=F4("Array","splice"),B4=vt,L4=q4,hf=Array.prototype,j4=function(t){var e=t.splice;return t===hf||B4(hf,t)&&e===hf.splice?L4:e},z4=j4,H4=z4,W4=H4,TT=he(W4),D$=Et,V4=Ue,U4=Tt,Y4=Ae,ff=Su,G4=gl,K4=hu,X4=ur,J4=fu,Bo=Object.assign,M$=Object.defineProperty,Q4=V4([].concat),Z4=!Bo||Y4(function(){if(D$&&Bo({b:1},Bo(M$({},"a",{enumerable:!0,get:function(){M$(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var t={},e={},r=Symbol("assign detection"),i="abcdefghijklmnopqrst";return t[r]=7,i.split("").forEach(function(n){e[n]=n}),Bo({},t)[r]!==7||ff(Bo({},e)).join("")!==i})?function(e,r){for(var i=X4(e),n=arguments.length,o=1,s=G4.f,a=K4.f;n>o;)for(var l=J4(arguments[o++]),c=s?Q4(ff(l),s(l)):ff(l),d=c.length,u=0,h;d>u;)h=c[u++],(!D$||U4(a,l,h))&&(i[h]=l[h]);return i}:Bo,eV=ce,R$=Z4;eV({target:"Object",stat:!0,forced:Object.assign!==R$},{assign:R$});var tV=Ke,rV=tV.Object.assign,iV=rV,nV=iV,oV=nV,sV=he(oV),aV=ce,lV=Ae,cV=ur,OT=Au,dV=qE,uV=lV(function(){OT(1)});aV({target:"Object",stat:!0,forced:uV,sham:!dV},{getPrototypeOf:function(e){return OT(cV(e))}});var hV=Ke,fV=hV.Object.getPrototypeOf,pV=fV,gV=pV,vV=ce,mV=Et,yV=So;vV({target:"Object",stat:!0,sham:!mV},{create:yV});var bV=Ke,$V=bV.Object,wV=function(e,r){return $V.create(e,r)},_V=wV,kT=_V,SV=kT,IV=he(SV),gg=Ke,EV=Cs;gg.JSON||(gg.JSON={stringify:JSON.stringify});var TV=function(e,r,i){return EV(gg.JSON.stringify,null,arguments)},OV=TV,kV=OV,xV=kV,AV=he(xV),CV=typeof Bun=="function"&&Bun&&typeof Bun.version=="string",PV=TypeError,xT=function(t,e){if(t<e)throw new PV("Not enough arguments");return t},AT=Ge,DV=Cs,MV=rt,RV=CV,NV=xn,FV=bl,qV=xT,BV=AT.Function,LV=/MSIE .\./.test(NV)||RV&&function(){var t=AT.Bun.version.split(".");return t.length<3||t[0]==="0"&&(t[1]<3||t[1]==="3"&&t[2]==="0")}(),CT=function(t,e){var r=e?2:1;return LV?function(i,n){var o=qV(arguments.length,1)>r,s=MV(i)?i:BV(i),a=o?FV(arguments,r):[],l=o?function(){DV(s,this,a)}:s;return e?t(l,n):t(l)}:t},jV=ce,PT=Ge,zV=CT,N$=zV(PT.setInterval,!0);jV({global:!0,bind:!0,forced:PT.setInterval!==N$},{setInterval:N$});var HV=ce,DT=Ge,WV=CT,F$=WV(DT.setTimeout,!0);HV({global:!0,bind:!0,forced:DT.setTimeout!==F$},{setTimeout:F$});var VV=Ke,UV=VV.setTimeout,YV=UV,GV=he(YV),MT={exports:{}};(function(t){function e(i){if(i)return r(i);this._callbacks=new Map}function r(i){return Object.assign(i,e.prototype),i._callbacks=new Map,i}e.prototype.on=function(i,n){const o=this._callbacks.get(i)??[];return o.push(n),this._callbacks.set(i,o),this},e.prototype.once=function(i,n){const o=(...s)=>{this.off(i,o),n.apply(this,s)};return o.fn=n,this.on(i,o),this},e.prototype.off=function(i,n){if(i===void 0&&n===void 0)return this._callbacks.clear(),this;if(n===void 0)return this._callbacks.delete(i),this;const o=this._callbacks.get(i);if(o){for(const[s,a]of o.entries())if(a===n||a.fn===n){o.splice(s,1);break}o.length===0?this._callbacks.delete(i):this._callbacks.set(i,o)}return this},e.prototype.emit=function(i,...n){const o=this._callbacks.get(i);if(o){const s=[...o];for(const a of s)a.apply(this,n)}return this},e.prototype.listeners=function(i){return this._callbacks.get(i)??[]},e.prototype.listenerCount=function(i){if(i)return this.listeners(i).length;let n=0;for(const o of this._callbacks.values())n+=o.length;return n},e.prototype.hasListeners=function(i){return this.listenerCount(i)>0},e.prototype.addEventListener=e.prototype.on,e.prototype.removeListener=e.prototype.off,e.prototype.removeEventListener=e.prototype.off,e.prototype.removeAllListeners=e.prototype.off,t.exports=e})(MT);var KV=MT.exports,XV=he(KV);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function Vr(){return Vr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Vr.apply(this,arguments)}function Pr(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function $c(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var vg;typeof Object.assign!="function"?vg=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(e),i=1;i<arguments.length;i++){var n=arguments[i];if(n!=null)for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])}return r}:vg=Object.assign;var uo=vg,q$=["","webkit","Moz","MS","ms","o"],JV=typeof document>"u"?{style:{}}:document.createElement("div"),QV="function",Qo=Math.round,ho=Math.abs,tm=Date.now;function Fu(t,e){for(var r,i,n=e[0].toUpperCase()+e.slice(1),o=0;o<q$.length;){if(r=q$[o],i=r?r+n:e,i in t)return i;o++}}var Ii;typeof window>"u"?Ii={}:Ii=window;var RT=Fu(JV.style,"touchAction"),NT=RT!==void 0;function ZV(){if(!NT)return!1;var t={},e=Ii.CSS&&Ii.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(r){return t[r]=e?Ii.CSS.supports("touch-action",r):!0}),t}var FT="compute",qT="auto",mg="manipulation",Zn="none",Ua="pan-x",Ya="pan-y",wc=ZV(),e6=/mobile|tablet|ip(ad|hone|od)|android/i,BT="ontouchstart"in Ii,t6=Fu(Ii,"PointerEvent")!==void 0,r6=BT&&e6.test(navigator.userAgent),_l="touch",i6="pen",rm="mouse",n6="kinect",o6=25,Gt=1,Eo=2,ft=4,lr=8,Cd=1,Sl=2,Il=4,El=8,bs=16,ui=Sl|Il,eo=El|bs,LT=ui|eo,jT=["x","y"],Pd=["clientX","clientY"];function Ei(t,e,r){var i;if(t)if(t.forEach)t.forEach(e,r);else if(t.length!==void 0)for(i=0;i<t.length;)e.call(r,t[i],i,t),i++;else for(i in t)t.hasOwnProperty(i)&&e.call(r,t[i],i,t)}function qu(t,e){return typeof t===QV?t.apply(e&&e[0]||void 0,e):t}function Vn(t,e){return t.indexOf(e)>-1}function s6(t){if(Vn(t,Zn))return Zn;var e=Vn(t,Ua),r=Vn(t,Ya);return e&&r?Zn:e||r?e?Ua:Ya:Vn(t,mg)?mg:qT}var zT=function(){function t(r,i){this.manager=r,this.set(i)}var e=t.prototype;return e.set=function(i){i===FT&&(i=this.compute()),NT&&this.manager.element.style&&wc[i]&&(this.manager.element.style[RT]=i),this.actions=i.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var i=[];return Ei(this.manager.recognizers,function(n){qu(n.options.enable,[n])&&(i=i.concat(n.getTouchAction()))}),s6(i.join(" "))},e.preventDefaults=function(i){var n=i.srcEvent,o=i.offsetDirection;if(this.manager.session.prevented){n.preventDefault();return}var s=this.actions,a=Vn(s,Zn)&&!wc[Zn],l=Vn(s,Ya)&&!wc[Ya],c=Vn(s,Ua)&&!wc[Ua];if(a){var d=i.pointers.length===1,u=i.distance<2,h=i.deltaTime<250;if(d&&u&&h)return}if(!(c&&l)&&(a||l&&o&ui||c&&o&eo))return this.preventSrc(n)},e.preventSrc=function(i){this.manager.session.prevented=!0,i.preventDefault()},t}();function im(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function HT(t){var e=t.length;if(e===1)return{x:Qo(t[0].clientX),y:Qo(t[0].clientY)};for(var r=0,i=0,n=0;n<e;)r+=t[n].clientX,i+=t[n].clientY,n++;return{x:Qo(r/e),y:Qo(i/e)}}function B$(t){for(var e=[],r=0;r<t.pointers.length;)e[r]={clientX:Qo(t.pointers[r].clientX),clientY:Qo(t.pointers[r].clientY)},r++;return{timeStamp:tm(),pointers:e,center:HT(e),deltaX:t.deltaX,deltaY:t.deltaY}}function Dd(t,e,r){r||(r=jT);var i=e[r[0]]-t[r[0]],n=e[r[1]]-t[r[1]];return Math.sqrt(i*i+n*n)}function yg(t,e,r){r||(r=jT);var i=e[r[0]]-t[r[0]],n=e[r[1]]-t[r[1]];return Math.atan2(n,i)*180/Math.PI}function WT(t,e){return t===e?Cd:ho(t)>=ho(e)?t<0?Sl:Il:e<0?El:bs}function a6(t,e){var r=e.center,i=t.offsetDelta||{},n=t.prevDelta||{},o=t.prevInput||{};(e.eventType===Gt||o.eventType===ft)&&(n=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=t.offsetDelta={x:r.x,y:r.y}),e.deltaX=n.x+(r.x-i.x),e.deltaY=n.y+(r.y-i.y)}function VT(t,e,r){return{x:e/t||0,y:r/t||0}}function l6(t,e){return Dd(e[0],e[1],Pd)/Dd(t[0],t[1],Pd)}function c6(t,e){return yg(e[1],e[0],Pd)+yg(t[1],t[0],Pd)}function d6(t,e){var r=t.lastInterval||e,i=e.timeStamp-r.timeStamp,n,o,s,a;if(e.eventType!==lr&&(i>o6||r.velocity===void 0)){var l=e.deltaX-r.deltaX,c=e.deltaY-r.deltaY,d=VT(i,l,c);o=d.x,s=d.y,n=ho(d.x)>ho(d.y)?d.x:d.y,a=WT(l,c),t.lastInterval=e}else n=r.velocity,o=r.velocityX,s=r.velocityY,a=r.direction;e.velocity=n,e.velocityX=o,e.velocityY=s,e.direction=a}function u6(t,e){var r=t.session,i=e.pointers,n=i.length;r.firstInput||(r.firstInput=B$(e)),n>1&&!r.firstMultiple?r.firstMultiple=B$(e):n===1&&(r.firstMultiple=!1);var o=r.firstInput,s=r.firstMultiple,a=s?s.center:o.center,l=e.center=HT(i);e.timeStamp=tm(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=yg(a,l),e.distance=Dd(a,l),a6(r,e),e.offsetDirection=WT(e.deltaX,e.deltaY);var c=VT(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=ho(c.x)>ho(c.y)?c.x:c.y,e.scale=s?l6(s.pointers,i):1,e.rotation=s?c6(s.pointers,i):0,e.maxPointers=r.prevInput?e.pointers.length>r.prevInput.maxPointers?e.pointers.length:r.prevInput.maxPointers:e.pointers.length,d6(r,e);var d=t.element,u=e.srcEvent,h;u.composedPath?h=u.composedPath()[0]:u.path?h=u.path[0]:h=u.target,im(h,d)&&(d=h),e.target=d}function h6(t,e,r){var i=r.pointers.length,n=r.changedPointers.length,o=e&Gt&&i-n===0,s=e&(ft|lr)&&i-n===0;r.isFirst=!!o,r.isFinal=!!s,o&&(t.session={}),r.eventType=e,u6(t,r),t.emit("hammer.input",r),t.recognize(r),t.session.prevInput=r}function Ga(t){return t.trim().split(/\s+/g)}function Ta(t,e,r){Ei(Ga(e),function(i){t.addEventListener(i,r,!1)})}function Oa(t,e,r){Ei(Ga(e),function(i){t.removeEventListener(i,r,!1)})}function L$(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var zs=function(){function t(r,i){var n=this;this.manager=r,this.callback=i,this.element=r.element,this.target=r.options.inputTarget,this.domHandler=function(o){qu(r.options.enable,[r])&&n.handler(o)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&Ta(this.element,this.evEl,this.domHandler),this.evTarget&&Ta(this.target,this.evTarget,this.domHandler),this.evWin&&Ta(L$(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&Oa(this.element,this.evEl,this.domHandler),this.evTarget&&Oa(this.target,this.evTarget,this.domHandler),this.evWin&&Oa(L$(this.element),this.evWin,this.domHandler)},t}();function fo(t,e,r){if(t.indexOf&&!r)return t.indexOf(e);for(var i=0;i<t.length;){if(r&&t[i][r]==e||!r&&t[i]===e)return i;i++}return-1}var f6={pointerdown:Gt,pointermove:Eo,pointerup:ft,pointercancel:lr,pointerout:lr},p6={2:_l,3:i6,4:rm,5:n6},UT="pointerdown",YT="pointermove pointerup pointercancel";Ii.MSPointerEvent&&!Ii.PointerEvent&&(UT="MSPointerDown",YT="MSPointerMove MSPointerUp MSPointerCancel");var GT=function(t){Pr(e,t);function e(){var i,n=e.prototype;return n.evEl=UT,n.evWin=YT,i=t.apply(this,arguments)||this,i.store=i.manager.session.pointerEvents=[],i}var r=e.prototype;return r.handler=function(n){var o=this.store,s=!1,a=n.type.toLowerCase().replace("ms",""),l=f6[a],c=p6[n.pointerType]||n.pointerType,d=c===_l,u=fo(o,n.pointerId,"pointerId");l&Gt&&(n.button===0||d)?u<0&&(o.push(n),u=o.length-1):l&(ft|lr)&&(s=!0),!(u<0)&&(o[u]=n,this.callback(this.manager,l,{pointers:o,changedPointers:[n],pointerType:c,srcEvent:n}),s&&o.splice(u,1))},e}(zs);function Ka(t){return Array.prototype.slice.call(t,0)}function nm(t,e,r){for(var i=[],n=[],o=0;o<t.length;){var s=e?t[o][e]:t[o];fo(n,s)<0&&i.push(t[o]),n[o]=s,o++}return r&&(e?i=i.sort(function(a,l){return a[e]>l[e]}):i=i.sort()),i}var g6={touchstart:Gt,touchmove:Eo,touchend:ft,touchcancel:lr},v6="touchstart touchmove touchend touchcancel",om=function(t){Pr(e,t);function e(){var i;return e.prototype.evTarget=v6,i=t.apply(this,arguments)||this,i.targetIds={},i}var r=e.prototype;return r.handler=function(n){var o=g6[n.type],s=m6.call(this,n,o);s&&this.callback(this.manager,o,{pointers:s[0],changedPointers:s[1],pointerType:_l,srcEvent:n})},e}(zs);function m6(t,e){var r=Ka(t.touches),i=this.targetIds;if(e&(Gt|Eo)&&r.length===1)return i[r[0].identifier]=!0,[r,r];var n,o,s=Ka(t.changedTouches),a=[],l=this.target;if(o=r.filter(function(c){return im(c.target,l)}),e===Gt)for(n=0;n<o.length;)i[o[n].identifier]=!0,n++;for(n=0;n<s.length;)i[s[n].identifier]&&a.push(s[n]),e&(ft|lr)&&delete i[s[n].identifier],n++;if(a.length)return[nm(o.concat(a),"identifier",!0),a]}var y6={mousedown:Gt,mousemove:Eo,mouseup:ft},b6="mousedown",$6="mousemove mouseup",sm=function(t){Pr(e,t);function e(){var i,n=e.prototype;return n.evEl=b6,n.evWin=$6,i=t.apply(this,arguments)||this,i.pressed=!1,i}var r=e.prototype;return r.handler=function(n){var o=y6[n.type];o&Gt&&n.button===0&&(this.pressed=!0),o&Eo&&n.which!==1&&(o=ft),this.pressed&&(o&ft&&(this.pressed=!1),this.callback(this.manager,o,{pointers:[n],changedPointers:[n],pointerType:rm,srcEvent:n}))},e}(zs),w6=2500,j$=25;function z$(t){var e=t.changedPointers,r=e[0];if(r.identifier===this.primaryTouch){var i={x:r.clientX,y:r.clientY},n=this.lastTouches;this.lastTouches.push(i);var o=function(){var a=n.indexOf(i);a>-1&&n.splice(a,1)};setTimeout(o,w6)}}function _6(t,e){t&Gt?(this.primaryTouch=e.changedPointers[0].identifier,z$.call(this,e)):t&(ft|lr)&&z$.call(this,e)}function S6(t){for(var e=t.srcEvent.clientX,r=t.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var n=this.lastTouches[i],o=Math.abs(e-n.x),s=Math.abs(r-n.y);if(o<=j$&&s<=j$)return!0}return!1}var KT=function(){var t=function(e){Pr(r,e);function r(n,o){var s;return s=e.call(this,n,o)||this,s.handler=function(a,l,c){var d=c.pointerType===_l,u=c.pointerType===rm;if(!(u&&c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents)){if(d)_6.call($c($c(s)),l,c);else if(u&&S6.call($c($c(s)),c))return;s.callback(a,l,c)}},s.touch=new om(s.manager,s.handler),s.mouse=new sm(s.manager,s.handler),s.primaryTouch=null,s.lastTouches=[],s}var i=r.prototype;return i.destroy=function(){this.touch.destroy(),this.mouse.destroy()},r}(zs);return t}();function I6(t){var e,r=t.options.inputClass;return r?e=r:t6?e=GT:r6?e=om:BT?e=KT:e=sm,new e(t,h6)}function Zo(t,e,r){return Array.isArray(t)?(Ei(t,r[e],r),!0):!1}var rd=1,Ar=2,$s=4,fn=8,Ti=fn,Xa=16,ai=32,E6=1;function T6(){return E6++}function _c(t,e){var r=e.manager;return r?r.get(t):t}function H$(t){return t&Xa?"cancel":t&fn?"end":t&$s?"move":t&Ar?"start":""}var Tl=function(){function t(r){r===void 0&&(r={}),this.options=Vr({enable:!0},r),this.id=T6(),this.manager=null,this.state=rd,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(i){return uo(this.options,i),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(i){if(Zo(i,"recognizeWith",this))return this;var n=this.simultaneous;return i=_c(i,this),n[i.id]||(n[i.id]=i,i.recognizeWith(this)),this},e.dropRecognizeWith=function(i){return Zo(i,"dropRecognizeWith",this)?this:(i=_c(i,this),delete this.simultaneous[i.id],this)},e.requireFailure=function(i){if(Zo(i,"requireFailure",this))return this;var n=this.requireFail;return i=_c(i,this),fo(n,i)===-1&&(n.push(i),i.requireFailure(this)),this},e.dropRequireFailure=function(i){if(Zo(i,"dropRequireFailure",this))return this;i=_c(i,this);var n=fo(this.requireFail,i);return n>-1&&this.requireFail.splice(n,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(i){return!!this.simultaneous[i.id]},e.emit=function(i){var n=this,o=this.state;function s(a){n.manager.emit(a,i)}o<fn&&s(n.options.event+H$(o)),s(n.options.event),i.additionalEvent&&s(i.additionalEvent),o>=fn&&s(n.options.event+H$(o))},e.tryEmit=function(i){if(this.canEmit())return this.emit(i);this.state=ai},e.canEmit=function(){for(var i=0;i<this.requireFail.length;){if(!(this.requireFail[i].state&(ai|rd)))return!1;i++}return!0},e.recognize=function(i){var n=uo({},i);if(!qu(this.options.enable,[this,n])){this.reset(),this.state=ai;return}this.state&(Ti|Xa|ai)&&(this.state=rd),this.state=this.process(n),this.state&(Ar|$s|fn|Xa)&&this.tryEmit(n)},e.process=function(i){},e.getTouchAction=function(){},e.reset=function(){},t}(),bg=function(t){Pr(e,t);function e(i){var n;return i===void 0&&(i={}),n=t.call(this,Vr({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},i))||this,n.pTime=!1,n.pCenter=!1,n._timer=null,n._input=null,n.count=0,n}var r=e.prototype;return r.getTouchAction=function(){return[mg]},r.process=function(n){var o=this,s=this.options,a=n.pointers.length===s.pointers,l=n.distance<s.threshold,c=n.deltaTime<s.time;if(this.reset(),n.eventType&Gt&&this.count===0)return this.failTimeout();if(l&&c&&a){if(n.eventType!==ft)return this.failTimeout();var d=this.pTime?n.timeStamp-this.pTime<s.interval:!0,u=!this.pCenter||Dd(this.pCenter,n.center)<s.posThreshold;this.pTime=n.timeStamp,this.pCenter=n.center,!u||!d?this.count=1:this.count+=1,this._input=n;var h=this.count%s.taps;if(h===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){o.state=Ti,o.tryEmit()},s.interval),Ar):Ti}return ai},r.failTimeout=function(){var n=this;return this._timer=setTimeout(function(){n.state=ai},this.options.interval),ai},r.reset=function(){clearTimeout(this._timer)},r.emit=function(){this.state===Ti&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(Tl),ws=function(t){Pr(e,t);function e(i){return i===void 0&&(i={}),t.call(this,Vr({pointers:1},i))||this}var r=e.prototype;return r.attrTest=function(n){var o=this.options.pointers;return o===0||n.pointers.length===o},r.process=function(n){var o=this.state,s=n.eventType,a=o&(Ar|$s),l=this.attrTest(n);return a&&(s&lr||!l)?o|Xa:a||l?s&ft?o|fn:o&Ar?o|$s:Ar:ai},e}(Tl);function XT(t){return t===bs?"down":t===El?"up":t===Sl?"left":t===Il?"right":""}var am=function(t){Pr(e,t);function e(i){var n;return i===void 0&&(i={}),n=t.call(this,Vr({event:"pan",threshold:10,pointers:1,direction:LT},i))||this,n.pX=null,n.pY=null,n}var r=e.prototype;return r.getTouchAction=function(){var n=this.options.direction,o=[];return n&ui&&o.push(Ya),n&eo&&o.push(Ua),o},r.directionTest=function(n){var o=this.options,s=!0,a=n.distance,l=n.direction,c=n.deltaX,d=n.deltaY;return l&o.direction||(o.direction&ui?(l=c===0?Cd:c<0?Sl:Il,s=c!==this.pX,a=Math.abs(n.deltaX)):(l=d===0?Cd:d<0?El:bs,s=d!==this.pY,a=Math.abs(n.deltaY))),n.direction=l,s&&a>o.threshold&&l&o.direction},r.attrTest=function(n){return ws.prototype.attrTest.call(this,n)&&(this.state&Ar||!(this.state&Ar)&&this.directionTest(n))},r.emit=function(n){this.pX=n.deltaX,this.pY=n.deltaY;var o=XT(n.direction);o&&(n.additionalEvent=this.options.event+o),t.prototype.emit.call(this,n)},e}(ws),JT=function(t){Pr(e,t);function e(i){return i===void 0&&(i={}),t.call(this,Vr({event:"swipe",threshold:10,velocity:.3,direction:ui|eo,pointers:1},i))||this}var r=e.prototype;return r.getTouchAction=function(){return am.prototype.getTouchAction.call(this)},r.attrTest=function(n){var o=this.options.direction,s;return o&(ui|eo)?s=n.overallVelocity:o&ui?s=n.overallVelocityX:o&eo&&(s=n.overallVelocityY),t.prototype.attrTest.call(this,n)&&o&n.offsetDirection&&n.distance>this.options.threshold&&n.maxPointers===this.options.pointers&&ho(s)>this.options.velocity&&n.eventType&ft},r.emit=function(n){var o=XT(n.offsetDirection);o&&this.manager.emit(this.options.event+o,n),this.manager.emit(this.options.event,n)},e}(ws),QT=function(t){Pr(e,t);function e(i){return i===void 0&&(i={}),t.call(this,Vr({event:"pinch",threshold:0,pointers:2},i))||this}var r=e.prototype;return r.getTouchAction=function(){return[Zn]},r.attrTest=function(n){return t.prototype.attrTest.call(this,n)&&(Math.abs(n.scale-1)>this.options.threshold||this.state&Ar)},r.emit=function(n){if(n.scale!==1){var o=n.scale<1?"in":"out";n.additionalEvent=this.options.event+o}t.prototype.emit.call(this,n)},e}(ws),ZT=function(t){Pr(e,t);function e(i){return i===void 0&&(i={}),t.call(this,Vr({event:"rotate",threshold:0,pointers:2},i))||this}var r=e.prototype;return r.getTouchAction=function(){return[Zn]},r.attrTest=function(n){return t.prototype.attrTest.call(this,n)&&(Math.abs(n.rotation)>this.options.threshold||this.state&Ar)},e}(ws),eO=function(t){Pr(e,t);function e(i){var n;return i===void 0&&(i={}),n=t.call(this,Vr({event:"press",pointers:1,time:251,threshold:9},i))||this,n._timer=null,n._input=null,n}var r=e.prototype;return r.getTouchAction=function(){return[qT]},r.process=function(n){var o=this,s=this.options,a=n.pointers.length===s.pointers,l=n.distance<s.threshold,c=n.deltaTime>s.time;if(this._input=n,!l||!a||n.eventType&(ft|lr)&&!c)this.reset();else if(n.eventType&Gt)this.reset(),this._timer=setTimeout(function(){o.state=Ti,o.tryEmit()},s.time);else if(n.eventType&ft)return Ti;return ai},r.reset=function(){clearTimeout(this._timer)},r.emit=function(n){this.state===Ti&&(n&&n.eventType&ft?this.manager.emit(this.options.event+"up",n):(this._input.timeStamp=tm(),this.manager.emit(this.options.event,this._input)))},e}(Tl),tO={domEvents:!1,touchAction:FT,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},W$=[[ZT,{enable:!1}],[QT,{enable:!1},["rotate"]],[JT,{direction:ui}],[am,{direction:ui},["swipe"]],[bg],[bg,{event:"doubletap",taps:2},["tap"]],[eO]],O6=1,V$=2;function U$(t,e){var r=t.element;if(r.style){var i;Ei(t.options.cssProps,function(n,o){i=Fu(r.style,o),e?(t.oldCssProps[i]=r.style[i],r.style[i]=n):r.style[i]=t.oldCssProps[i]||""}),e||(t.oldCssProps={})}}function k6(t,e){var r=document.createEvent("Event");r.initEvent(t,!0,!0),r.gesture=e,e.target.dispatchEvent(r)}var Y$=function(){function t(r,i){var n=this;this.options=uo({},tO,i||{}),this.options.inputTarget=this.options.inputTarget||r,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=r,this.input=I6(this),this.touchAction=new zT(this,this.options.touchAction),U$(this,!0),Ei(this.options.recognizers,function(o){var s=n.add(new o[0](o[1]));o[2]&&s.recognizeWith(o[2]),o[3]&&s.requireFailure(o[3])},this)}var e=t.prototype;return e.set=function(i){return uo(this.options,i),i.touchAction&&this.touchAction.update(),i.inputTarget&&(this.input.destroy(),this.input.target=i.inputTarget,this.input.init()),this},e.stop=function(i){this.session.stopped=i?V$:O6},e.recognize=function(i){var n=this.session;if(!n.stopped){this.touchAction.preventDefaults(i);var o,s=this.recognizers,a=n.curRecognizer;(!a||a&&a.state&Ti)&&(n.curRecognizer=null,a=null);for(var l=0;l<s.length;)o=s[l],n.stopped!==V$&&(!a||o===a||o.canRecognizeWith(a))?o.recognize(i):o.reset(),!a&&o.state&(Ar|$s|fn)&&(n.curRecognizer=o,a=o),l++}},e.get=function(i){if(i instanceof Tl)return i;for(var n=this.recognizers,o=0;o<n.length;o++)if(n[o].options.event===i)return n[o];return null},e.add=function(i){if(Zo(i,"add",this))return this;var n=this.get(i.options.event);return n&&this.remove(n),this.recognizers.push(i),i.manager=this,this.touchAction.update(),i},e.remove=function(i){if(Zo(i,"remove",this))return this;var n=this.get(i);if(i){var o=this.recognizers,s=fo(o,n);s!==-1&&(o.splice(s,1),this.touchAction.update())}return this},e.on=function(i,n){if(i===void 0||n===void 0)return this;var o=this.handlers;return Ei(Ga(i),function(s){o[s]=o[s]||[],o[s].push(n)}),this},e.off=function(i,n){if(i===void 0)return this;var o=this.handlers;return Ei(Ga(i),function(s){n?o[s]&&o[s].splice(fo(o[s],n),1):delete o[s]}),this},e.emit=function(i,n){this.options.domEvents&&k6(i,n);var o=this.handlers[i]&&this.handlers[i].slice();if(!(!o||!o.length)){n.type=i,n.preventDefault=function(){n.srcEvent.preventDefault()};for(var s=0;s<o.length;)o[s](n),s++}},e.destroy=function(){this.element&&U$(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),x6={touchstart:Gt,touchmove:Eo,touchend:ft,touchcancel:lr},A6="touchstart",C6="touchstart touchmove touchend touchcancel",P6=function(t){Pr(e,t);function e(){var i,n=e.prototype;return n.evTarget=A6,n.evWin=C6,i=t.apply(this,arguments)||this,i.started=!1,i}var r=e.prototype;return r.handler=function(n){var o=x6[n.type];if(o===Gt&&(this.started=!0),!!this.started){var s=D6.call(this,n,o);o&(ft|lr)&&s[0].length-s[1].length===0&&(this.started=!1),this.callback(this.manager,o,{pointers:s[0],changedPointers:s[1],pointerType:_l,srcEvent:n})}},e}(zs);function D6(t,e){var r=Ka(t.touches),i=Ka(t.changedTouches);return e&(ft|lr)&&(r=nm(r.concat(i),"identifier",!0)),[r,i]}function rO(t,e,r){var i="DEPRECATED METHOD: "+e+`
`+r+` AT 
`;return function(){var n=new Error("get-stack-trace"),o=n&&n.stack?n.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",s=window.console&&(window.console.warn||window.console.log);return s&&s.call(window.console,i,o),t.apply(this,arguments)}}var iO=rO(function(t,e,r){for(var i=Object.keys(e),n=0;n<i.length;)(!r||r&&t[i[n]]===void 0)&&(t[i[n]]=e[i[n]]),n++;return t},"extend","Use `assign`."),M6=rO(function(t,e){return iO(t,e,!0)},"merge","Use `assign`.");function R6(t,e,r){var i=e.prototype,n;n=t.prototype=Object.create(i),n.constructor=t,n._super=i,r&&uo(n,r)}function G$(t,e){return function(){return t.apply(e,arguments)}}var N6=function(){var t=function(r,i){return i===void 0&&(i={}),new Y$(r,Vr({recognizers:W$.concat()},i))};return t.VERSION="2.0.17-rc",t.DIRECTION_ALL=LT,t.DIRECTION_DOWN=bs,t.DIRECTION_LEFT=Sl,t.DIRECTION_RIGHT=Il,t.DIRECTION_UP=El,t.DIRECTION_HORIZONTAL=ui,t.DIRECTION_VERTICAL=eo,t.DIRECTION_NONE=Cd,t.DIRECTION_DOWN=bs,t.INPUT_START=Gt,t.INPUT_MOVE=Eo,t.INPUT_END=ft,t.INPUT_CANCEL=lr,t.STATE_POSSIBLE=rd,t.STATE_BEGAN=Ar,t.STATE_CHANGED=$s,t.STATE_ENDED=fn,t.STATE_RECOGNIZED=Ti,t.STATE_CANCELLED=Xa,t.STATE_FAILED=ai,t.Manager=Y$,t.Input=zs,t.TouchAction=zT,t.TouchInput=om,t.MouseInput=sm,t.PointerEventInput=GT,t.TouchMouseInput=KT,t.SingleTouchInput=P6,t.Recognizer=Tl,t.AttrRecognizer=ws,t.Tap=bg,t.Pan=am,t.Swipe=JT,t.Pinch=QT,t.Rotate=ZT,t.Press=eO,t.on=Ta,t.off=Oa,t.each=Ei,t.merge=M6,t.extend=iO,t.bindFn=G$,t.assign=uo,t.inherit=R6,t.bindFn=G$,t.prefixed=Fu,t.toArray=Ka,t.inArray=fo,t.uniqueArray=nm,t.splitStr=Ga,t.boolOrFn=qu,t.hasParent=im,t.addEventListeners=Ta,t.removeEventListeners=Oa,t.defaults=uo({},tO,{preset:W$}),t}(),F6=N6;function nO(t,e){var r=typeof Mu<"u"&&Qv(t)||t["@@iterator"];if(!r){if(vr(t)||(r=q6(t))||e){r&&(t=r);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(c){throw c},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,s=!1,a;return{s:function(){r=r.call(t)},n:function(){var c=r.next();return o=c.done,c},e:function(c){s=!0,a=c},f:function(){try{!o&&r.return!=null&&r.return()}finally{if(s)throw a}}}}function q6(t,e){var r;if(t){if(typeof t=="string")return K$(t,e);var i=Nu(r=Object.prototype.toString.call(t)).call(r,8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Jv(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return K$(t,e)}}function K$(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=t[r];return i}var oO=Mu("DELETE");function B6(t){for(var e,r=arguments.length,i=new Array(r>1?r-1:0),n=1;n<r;n++)i[n-1]=arguments[n];return sO.apply(void 0,Ru(e=[{},t]).call(e,i))}function sO(){var t=Md.apply(void 0,arguments);return lO(t),t}function Md(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(e.length<2)return e[0];if(e.length>2){var i;return Md.apply(void 0,Ru(i=[sO(e[0],e[1])]).call(i,ir(Nu(e).call(e,2))))}var n=e[0],o=e[1];if(n instanceof Date&&o instanceof Date)return n.setTime(o.getTime()),n;var s=nO(BW(o)),a;try{for(s.s();!(a=s.n()).done;){var l=a.value;Object.prototype.propertyIsEnumerable.call(o,l)&&(o[l]===oO?delete n[l]:n[l]!==null&&o[l]!==null&&typeof n[l]=="object"&&typeof o[l]=="object"&&!vr(n[l])&&!vr(o[l])?n[l]=Md(n[l],o[l]):n[l]=aO(o[l]))}}catch(c){s.e(c)}finally{s.f()}return n}function aO(t){return vr(t)?Fr(t).call(t,function(e){return aO(e)}):typeof t=="object"&&t!==null?t instanceof Date?new Date(t.getTime()):Md({},t):t}function lO(t){for(var e=0,r=em(t);e<r.length;e++){var i=r[e];t[i]===oO?delete t[i]:typeof t[i]=="object"&&t[i]!==null&&lO(t[i])}}function L6(){var t=function(){};return{on:t,off:t,destroy:t,emit:t,get(){return{set:t}}}}var j6=typeof window<"u"?window.Hammer||F6:function(){return L6()};function _i(t){var e=this,r;this._cleanupQueue=[],this.active=!1,this._dom={container:t,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(function(){e._dom.overlay.parentNode.removeChild(e._dom.overlay)});var i=j6(this._dom.overlay);i.on("tap",nT(r=this._onTapOverlay).call(r,this)),this._cleanupQueue.push(function(){i.destroy()});var n=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];co(n).call(n,function(o){i.on(o,function(s){s.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=function(o){z6(o.target,t)||e.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(function(){document.body.removeEventListener("click",e._onClick)})),this._escListener=function(o){("key"in o?o.key==="Escape":o.keyCode===27)&&e.deactivate()}}XV(_i.prototype);_i.current=null;_i.prototype.destroy=function(){var t,e;this.deactivate();var r=nO(_4(t=TT(e=this._cleanupQueue).call(e,0)).call(t)),i;try{for(r.s();!(i=r.n()).done;){var n=i.value;n()}}catch(o){r.e(o)}finally{r.f()}};_i.prototype.activate=function(){_i.current&&_i.current.deactivate(),_i.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};_i.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};_i.prototype._onTapOverlay=function(t){this.activate(),t.srcEvent.stopPropagation()};function z6(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}var H6=bu,W6=Rs,V6=TypeError,cO=function(t){if(H6(t))return t;throw new V6(W6(t)+" is not a constructor")},U6=ce,Y6=Xt,pf=Cs,G6=rT,X$=cO,K6=$r,J$=Pt,X6=So,dO=Ae,lm=Y6("Reflect","construct"),J6=Object.prototype,Q6=[].push,uO=dO(function(){function t(){}return!(lm(function(){},[],t)instanceof t)}),hO=!dO(function(){lm(function(){})}),Q$=uO||hO;U6({target:"Reflect",stat:!0,forced:Q$,sham:Q$},{construct:function(e,r){X$(e),K6(r);var i=arguments.length<3?e:X$(arguments[2]);if(hO&&!uO)return lm(e,r,i);if(e===i){switch(r.length){case 0:return new e;case 1:return new e(r[0]);case 2:return new e(r[0],r[1]);case 3:return new e(r[0],r[1],r[2]);case 4:return new e(r[0],r[1],r[2],r[3])}var n=[null];return pf(Q6,n,r),new(pf(G6,e,n))}var o=i.prototype,s=X6(J$(o)?o:J6),a=pf(e,s,r);return J$(a)?a:s}});var Z6=Ke,eU=Z6.Reflect.construct,tU=eU,rU=tU,iU=rU,id=he(iU),nU=Ke,oU=nU.Object.getOwnPropertySymbols,sU=oU,aU=sU,lU=aU,Z$=he(lU),fO={exports:{}},cU=ce,dU=Ae,uU=pi,pO=$o.f,gO=Et,hU=!gO||dU(function(){pO(1)});cU({target:"Object",stat:!0,forced:hU,sham:!gO},{getOwnPropertyDescriptor:function(e,r){return pO(uU(e),r)}});var fU=Ke,vO=fU.Object,pU=fO.exports=function(e,r){return vO.getOwnPropertyDescriptor(e,r)};vO.getOwnPropertyDescriptor.sham&&(pU.sham=!0);var gU=fO.exports,vU=gU,mU=vU,yU=mU,mO=he(yU),bU=ce,$U=Et,wU=Zv,_U=pi,SU=$o,IU=Fs;bU({target:"Object",stat:!0,sham:!$U},{getOwnPropertyDescriptors:function(e){for(var r=_U(e),i=SU.f,n=wU(r),o={},s=0,a,l;n.length>s;)l=i(r,a=n[s++]),l!==void 0&&IU(o,a,l);return o}});var EU=Ke,TU=EU.Object.getOwnPropertyDescriptors,OU=TU,kU=OU,xU=kU,ew=he(xU),yO={exports:{}},AU=ce,CU=Et,tw=wu.f;AU({target:"Object",stat:!0,forced:Object.defineProperties!==tw,sham:!CU},{defineProperties:tw});var PU=Ke,bO=PU.Object,DU=yO.exports=function(e,r){return bO.defineProperties(e,r)};bO.defineProperties.sham&&(DU.sham=!0);var MU=yO.exports,RU=MU,NU=RU,FU=NU,qU=he(FU),BU=XI,LU=he(BU);function $O(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var jU=kT,zU=jU,HU=zU,WU=HU,wO=WU,VU=he(wO),UU=ce,YU=jE;UU({target:"Object",stat:!0},{setPrototypeOf:YU});var GU=Ke,KU=GU.Object.setPrototypeOf,XU=KU,JU=XU,QU=JU,ZU=QU,eY=ZU,tY=eY,_O=tY,$g=he(_O),rY=iT,iY=rY,nY=iY,oY=nY,sY=oY,SO=he(sY);function wg(t,e){var r;return wg=$g?SO(r=$g).call(r):function(n,o){return n.__proto__=o,n},wg(t,e)}function aY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=VU(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),vu(t,"prototype",{writable:!1}),e&&wg(t,e)}function lY(t,e){if(e&&(ys(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $O(t)}var cY=gV,dY=cY,uY=dY,hY=uY,IO=hY,rw=he(IO);function Rd(t){var e;return Rd=$g?SO(e=rw).call(e):function(i){return i.__proto__||rw(i)},Rd(t)}var EO={exports:{}},TO={exports:{}};(function(t){var e=Gv,r=QE;function i(n){"@babel/helpers - typeof";return t.exports=i=typeof e=="function"&&typeof r=="symbol"?function(o){return typeof o}:function(o){return o&&typeof e=="function"&&o.constructor===e&&o!==e.prototype?"symbol":typeof o},t.exports.__esModule=!0,t.exports.default=t.exports,i(n)}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports})(TO);var fY=TO.exports,pY=ST,gY=pY,vY=gY,mY=vY,yY=mY,iw=mt,bY=Zv,$Y=$o,wY=hr,_Y=function(t,e,r){for(var i=bY(e),n=wY.f,o=$Y.f,s=0;s<i.length;s++){var a=i[s];!iw(t,a)&&!(r&&iw(r,a))&&n(t,a,o(e,a))}},SY=Pt,IY=ji,EY=function(t,e){SY(e)&&"cause"in e&&IY(t,"cause",e.cause)},TY=Ue,OO=Error,OY=TY("".replace),kY=function(t){return String(new OO(t).stack)}("zxcasd"),kO=/\n\s*at [^:]*:[^\n]*/,xY=kO.test(kY),AY=function(t,e){if(xY&&typeof t=="string"&&!OO.prepareStackTrace)for(;e--;)t=OY(t,kO,"");return t},CY=Ae,PY=wo,DY=!CY(function(){var t=new Error("a");return"stack"in t?(Object.defineProperty(t,"stack",PY(1,7)),t.stack!==7):!0}),MY=ji,RY=AY,NY=DY,nw=Error.captureStackTrace,FY=function(t,e,r,i){NY&&(nw?nw(t,e):MY(t,"stack",RY(r,i)))},qY=An,BY=Tt,LY=$r,jY=Rs,zY=aT,HY=wr,ow=vt,WY=Xv,VY=Du,sw=sT,UY=TypeError,nd=function(t,e){this.stopped=t,this.result=e},aw=nd.prototype,To=function(t,e,r){var i=r&&r.that,n=!!(r&&r.AS_ENTRIES),o=!!(r&&r.IS_RECORD),s=!!(r&&r.IS_ITERATOR),a=!!(r&&r.INTERRUPTED),l=qY(e,i),c,d,u,h,f,p,v,y=function($){return c&&sw(c,"normal",$),new nd(!0,$)},m=function($){return n?(LY($),a?l($[0],$[1],y):l($[0],$[1])):a?l($,y):l($)};if(o)c=t.iterator;else if(s)c=t;else{if(d=VY(t),!d)throw new UY(jY(t)+" is not iterable");if(zY(d)){for(u=0,h=HY(t);h>u;u++)if(f=m(t[u]),f&&ow(aw,f))return f;return new nd(!1)}c=WY(t,d)}for(p=o?t.next:c.next;!(v=BY(p,c)).done;){try{f=m(v.value)}catch($){sw(c,"throw",$)}if(typeof f=="object"&&f&&ow(aw,f))return f}return new nd(!1)},YY=_o,GY=function(t,e){return t===void 0?arguments.length<2?"":e:YY(t)},KY=ce,XY=vt,JY=Au,Nd=jE,QY=_Y,xO=So,gf=ji,vf=wo,ZY=EY,e8=FY,t8=To,r8=GY,i8=Je,n8=i8("toStringTag"),Fd=Error,o8=[].push,_s=function(e,r){var i=XY(mf,this),n;Nd?n=Nd(new Fd,i?JY(this):mf):(n=i?this:xO(mf),gf(n,n8,"Error")),r!==void 0&&gf(n,"message",r8(r)),e8(n,_s,n.stack,1),arguments.length>2&&ZY(n,arguments[2]);var o=[];return t8(e,o8,{that:o}),gf(n,"errors",o),n};Nd?Nd(_s,Fd):QY(_s,Fd,{name:!0});var mf=_s.prototype=xO(Fd.prototype,{constructor:vf(1,_s),message:vf(1,""),name:vf(1,"AggregateError")});KY({global:!0},{AggregateError:_s});var s8=Xt,a8=Lv,l8=Je,c8=Et,lw=l8("species"),AO=function(t){var e=s8(t);c8&&e&&!e[lw]&&a8(e,lw,{configurable:!0,get:function(){return this}})},d8=vt,u8=TypeError,cm=function(t,e){if(d8(e,t))return t;throw new u8("Incorrect invocation")},cw=$r,h8=cO,f8=Ps,p8=Je,g8=p8("species"),CO=function(t,e){var r=cw(t).constructor,i;return r===void 0||f8(i=cw(r)[g8])?e:h8(i)},v8=xn,PO=/(?:ipad|iphone|ipod).*applewebkit/i.test(v8),yr=Ge,m8=Cs,y8=An,dw=rt,b8=mt,DO=Ae,uw=sE,$8=bl,hw=Rv,w8=xT,_8=PO,S8=wl,_g=yr.setImmediate,fw=yr.clearImmediate,I8=yr.process,yf=yr.Dispatch,E8=yr.Function,pw=yr.MessageChannel,T8=yr.String,bf=0,ka={},gw="onreadystatechange",Ja,Ln,$f,wf;DO(function(){Ja=yr.location});var dm=function(t){if(b8(ka,t)){var e=ka[t];delete ka[t],e()}},_f=function(t){return function(){dm(t)}},vw=function(t){dm(t.data)},mw=function(t){yr.postMessage(T8(t),Ja.protocol+"//"+Ja.host)};(!_g||!fw)&&(_g=function(e){w8(arguments.length,1);var r=dw(e)?e:E8(e),i=$8(arguments,1);return ka[++bf]=function(){m8(r,void 0,i)},Ln(bf),bf},fw=function(e){delete ka[e]},S8?Ln=function(t){I8.nextTick(_f(t))}:yf&&yf.now?Ln=function(t){yf.now(_f(t))}:pw&&!_8?($f=new pw,wf=$f.port2,$f.port1.onmessage=vw,Ln=y8(wf.postMessage,wf)):yr.addEventListener&&dw(yr.postMessage)&&!yr.importScripts&&Ja&&Ja.protocol!=="file:"&&!DO(mw)?(Ln=mw,yr.addEventListener("message",vw,!1)):gw in hw("script")?Ln=function(t){uw.appendChild(hw("script"))[gw]=function(){uw.removeChild(this),dm(t)}}:Ln=function(t){setTimeout(_f(t),0)});var MO={set:_g},RO=function(){this.head=null,this.tail=null};RO.prototype={add:function(t){var e={item:t,next:null},r=this.tail;r?r.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t){var e=this.head=t.next;return e===null&&(this.tail=null),t.item}}};var NO=RO,O8=xn,k8=/ipad|iphone|ipod/i.test(O8)&&typeof Pebble<"u",x8=xn,A8=/web0s(?!.*chrome)/i.test(x8),po=Ge,yw=An,C8=$o.f,Sf=MO.set,P8=NO,D8=PO,M8=k8,R8=A8,If=wl,bw=po.MutationObserver||po.WebKitMutationObserver,$w=po.document,ww=po.process,Sc=po.Promise,_w=C8(po,"queueMicrotask"),Sg=_w&&_w.value,Lo,Ef,Tf,Ic,Sw;if(!Sg){var Ec=new P8,Tc=function(){var t,e;for(If&&(t=ww.domain)&&t.exit();e=Ec.get();)try{e()}catch(r){throw Ec.head&&Lo(),r}t&&t.enter()};!D8&&!If&&!R8&&bw&&$w?(Ef=!0,Tf=$w.createTextNode(""),new bw(Tc).observe(Tf,{characterData:!0}),Lo=function(){Tf.data=Ef=!Ef}):!M8&&Sc&&Sc.resolve?(Ic=Sc.resolve(void 0),Ic.constructor=Sc,Sw=yw(Ic.then,Ic),Lo=function(){Sw(Tc)}):If?Lo=function(){ww.nextTick(Tc)}:(Sf=yw(Sf,po),Lo=function(){Sf(Tc)}),Sg=function(t){Ec.head||Lo(),Ec.add(t)}}var N8=Sg,F8=function(t,e){try{arguments.length===1?console.error(t):console.error(t,e)}catch{}},Hs=function(t){try{return{error:!1,value:t()}}catch(e){return{error:!0,value:e}}},q8=Ge,Ws=q8.Promise,FO=typeof Deno=="object"&&Deno&&typeof Deno.version=="object",B8=FO,L8=wl,j8=!B8&&!L8&&typeof window=="object"&&typeof document=="object",z8=Ge,xa=Ws,H8=rt,W8=YI,V8=ZI,U8=Je,Y8=j8,G8=FO,Of=Ds,Iw=xa&&xa.prototype,K8=U8("species"),Ew=!1,qO=H8(z8.PromiseRejectionEvent),X8=W8("Promise",function(){var t=V8(xa),e=t!==String(xa);if(!e&&Of===66||!(Iw.catch&&Iw.finally))return!0;if(!Of||Of<51||!/native code/.test(t)){var r=new xa(function(o){o(1)}),i=function(o){o(function(){},function(){})},n=r.constructor={};if(n[K8]=i,Ew=r.then(function(){})instanceof i,!Ew)return!0}return!e&&(Y8||G8)&&!qO}),Ol={CONSTRUCTOR:X8,REJECTION_EVENT:qO},gi={},Tw=dr,J8=TypeError,Q8=function(t){var e,r;this.promise=new t(function(i,n){if(e!==void 0||r!==void 0)throw new J8("Bad Promise constructor");e=i,r=n}),this.resolve=Tw(e),this.reject=Tw(r)};gi.f=function(t){return new Q8(t)};var Z8=ce,qd=wl,_n=Ge,kl=Tt,eG=qs,tG=Io,rG=AO,iG=dr,Ig=rt,nG=Pt,oG=cm,sG=CO,BO=MO.set,um=N8,aG=F8,lG=Hs,cG=NO,LO=Bs,Eg=Ws,jO=Ol,zO=gi,Bu="Promise",HO=jO.CONSTRUCTOR,dG=jO.REJECTION_EVENT,kf=LO.getterFor(Bu),uG=LO.set,hG=Eg&&Eg.prototype,es=Eg,xf=hG,WO=_n.TypeError,Tg=_n.document,hm=_n.process,Og=zO.f,fG=Og,pG=!!(Tg&&Tg.createEvent&&_n.dispatchEvent),VO="unhandledrejection",gG="rejectionhandled",Ow=0,UO=1,vG=2,fm=1,YO=2,Oc,kw,mG,GO=function(t){var e;return nG(t)&&Ig(e=t.then)?e:!1},KO=function(t,e){var r=e.value,i=e.state===UO,n=i?t.ok:t.fail,o=t.resolve,s=t.reject,a=t.domain,l,c,d;try{n?(i||(e.rejection===YO&&bG(e),e.rejection=fm),n===!0?l=r:(a&&a.enter(),l=n(r),a&&(a.exit(),d=!0)),l===t.promise?s(new WO("Promise-chain cycle")):(c=GO(l))?kl(c,l,o,s):o(l)):s(r)}catch(u){a&&!d&&a.exit(),s(u)}},XO=function(t,e){t.notified||(t.notified=!0,um(function(){for(var r=t.reactions,i;i=r.get();)KO(i,t);t.notified=!1,e&&!t.rejection&&yG(t)}))},JO=function(t,e,r){var i,n;pG?(i=Tg.createEvent("Event"),i.promise=e,i.reason=r,i.initEvent(t,!1,!0),_n.dispatchEvent(i)):i={promise:e,reason:r},!dG&&(n=_n["on"+t])?n(i):t===VO&&aG("Unhandled promise rejection",r)},yG=function(t){kl(BO,_n,function(){var e=t.facade,r=t.value,i=xw(t),n;if(i&&(n=lG(function(){qd?hm.emit("unhandledRejection",r,e):JO(VO,e,r)}),t.rejection=qd||xw(t)?YO:fm,n.error))throw n.value})},xw=function(t){return t.rejection!==fm&&!t.parent},bG=function(t){kl(BO,_n,function(){var e=t.facade;qd?hm.emit("rejectionHandled",e):JO(gG,e,t.value)})},ts=function(t,e,r){return function(i){t(e,i,r)}},ds=function(t,e,r){t.done||(t.done=!0,r&&(t=r),t.value=e,t.state=vG,XO(t,!0))},kg=function(t,e,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===e)throw new WO("Promise can't be resolved itself");var i=GO(e);i?um(function(){var n={done:!1};try{kl(i,e,ts(kg,n,t),ts(ds,n,t))}catch(o){ds(n,o,t)}}):(t.value=e,t.state=UO,XO(t,!1))}catch(n){ds({done:!1},n,t)}}};HO&&(es=function(e){oG(this,xf),iG(e),kl(Oc,this);var r=kf(this);try{e(ts(kg,r),ts(ds,r))}catch(i){ds(r,i)}},xf=es.prototype,Oc=function(e){uG(this,{type:Bu,done:!1,notified:!1,parent:!1,reactions:new cG,rejection:!1,state:Ow,value:void 0})},Oc.prototype=eG(xf,"then",function(e,r){var i=kf(this),n=Og(sG(this,es));return i.parent=!0,n.ok=Ig(e)?e:!0,n.fail=Ig(r)&&r,n.domain=qd?hm.domain:void 0,i.state===Ow?i.reactions.add(n):um(function(){KO(n,i)}),n.promise}),kw=function(){var t=new Oc,e=kf(t);this.promise=t,this.resolve=ts(kg,e),this.reject=ts(ds,e)},zO.f=Og=function(t){return t===es||t===mG?new kw(t):fG(t)});Z8({global:!0,wrap:!0,forced:HO},{Promise:es});tG(es,Bu,!1,!0);rG(Bu);var $G=Ws,wG=dT,_G=Ol.CONSTRUCTOR,Lu=_G||!wG(function(t){$G.all(t).then(void 0,function(){})}),SG=ce,IG=Tt,EG=dr,TG=gi,OG=Hs,kG=To,xG=Lu;SG({target:"Promise",stat:!0,forced:xG},{all:function(e){var r=this,i=TG.f(r),n=i.resolve,o=i.reject,s=OG(function(){var a=EG(r.resolve),l=[],c=0,d=1;kG(e,function(u){var h=c++,f=!1;d++,IG(a,r,u).then(function(p){f||(f=!0,l[h]=p,--d||n(l))},o)}),--d||n(l)});return s.error&&o(s.value),i.promise}});var AG=ce,CG=Ol.CONSTRUCTOR,Aw=Ws;Aw&&Aw.prototype;AG({target:"Promise",proto:!0,forced:CG,real:!0},{catch:function(t){return this.then(void 0,t)}});var PG=ce,DG=Tt,MG=dr,RG=gi,NG=Hs,FG=To,qG=Lu;PG({target:"Promise",stat:!0,forced:qG},{race:function(e){var r=this,i=RG.f(r),n=i.reject,o=NG(function(){var s=MG(r.resolve);FG(e,function(a){DG(s,r,a).then(i.resolve,n)})});return o.error&&n(o.value),i.promise}});var BG=ce,LG=Tt,jG=gi,zG=Ol.CONSTRUCTOR;BG({target:"Promise",stat:!0,forced:zG},{reject:function(e){var r=jG.f(this);return LG(r.reject,void 0,e),r.promise}});var HG=$r,WG=Pt,VG=gi,QO=function(t,e){if(HG(t),WG(e)&&e.constructor===t)return e;var r=VG.f(t),i=r.resolve;return i(e),r.promise},UG=ce,YG=Xt,GG=tN,KG=Ws,XG=Ol.CONSTRUCTOR,JG=QO,QG=YG("Promise"),ZG=!XG;UG({target:"Promise",stat:!0,forced:GG},{resolve:function(e){return JG(ZG&&this===QG?KG:this,e)}});var eK=ce,tK=Tt,rK=dr,iK=gi,nK=Hs,oK=To,sK=Lu;eK({target:"Promise",stat:!0,forced:sK},{allSettled:function(e){var r=this,i=iK.f(r),n=i.resolve,o=i.reject,s=nK(function(){var a=rK(r.resolve),l=[],c=0,d=1;oK(e,function(u){var h=c++,f=!1;d++,tK(a,r,u).then(function(p){f||(f=!0,l[h]={status:"fulfilled",value:p},--d||n(l))},function(p){f||(f=!0,l[h]={status:"rejected",reason:p},--d||n(l))})}),--d||n(l)});return s.error&&o(s.value),i.promise}});var aK=ce,lK=Tt,cK=dr,dK=Xt,uK=gi,hK=Hs,fK=To,pK=Lu,Cw="No one promise resolved";aK({target:"Promise",stat:!0,forced:pK},{any:function(e){var r=this,i=dK("AggregateError"),n=uK.f(r),o=n.resolve,s=n.reject,a=hK(function(){var l=cK(r.resolve),c=[],d=0,u=1,h=!1;fK(e,function(f){var p=d++,v=!1;u++,lK(l,r,f).then(function(y){v||h||(h=!0,o(y))},function(y){v||h||(v=!0,c[p]=y,--u||s(new i(c,Cw)))})}),--u||s(new i(c,Cw))});return a.error&&s(a.value),n.promise}});var gK=ce,xg=Ws,vK=Ae,mK=Xt,yK=rt,bK=CO,Pw=QO,$K=xg&&xg.prototype,wK=!!xg&&vK(function(){$K.finally.call({then:function(){}},function(){})});gK({target:"Promise",proto:!0,real:!0,forced:wK},{finally:function(t){var e=bK(this,mK("Promise")),r=yK(t);return this.then(r?function(i){return Pw(e,t()).then(function(){return i})}:t,r?function(i){return Pw(e,t()).then(function(){throw i})}:t)}});var _K=Ke,SK=_K.Promise,IK=SK,EK=IK,TK=ce,OK=gi;TK({target:"Promise",stat:!0},{withResolvers:function(){var e=OK.f(this);return{promise:e.promise,resolve:e.resolve,reject:e.reject}}});var kK=EK,xK=kK,AK=ce,CK=gi,PK=Hs;AK({target:"Promise",stat:!0,forced:!0},{try:function(t){var e=CK.f(this),r=PK(t);return(r.error?e.reject:e.resolve)(r.value),e.promise}});var DK=xK,MK=DK,RK=MK,NK=IT,FK=NK,qK=FK,BK=qK,LK=BK;(function(t){var e=fY.default,r=JI,i=Gv,n=wO,o=IO,s=yY,a=mT,l=_O,c=RK,d=LK,u=bT;function h(){t.exports=h=function(){return p},t.exports.__esModule=!0,t.exports.default=t.exports;var f,p={},v=Object.prototype,y=v.hasOwnProperty,m=r||function(K,M,H){K[M]=H.value},$=typeof i=="function"?i:{},S=$.iterator||"@@iterator",_=$.asyncIterator||"@@asyncIterator",E=$.toStringTag||"@@toStringTag";function W(K,M,H){return r(K,M,{value:H,enumerable:!0,configurable:!0,writable:!0}),K[M]}try{W({},"")}catch{W=function(H,g,b){return H[g]=b}}function X(K,M,H,g){var b=M&&M.prototype instanceof me?M:me,w=n(b.prototype),O=new Vi(g||[]);return m(w,"_invoke",{value:Po(K,H,O)}),w}function z(K,M,H){try{return{type:"normal",arg:K.call(M,H)}}catch(g){return{type:"throw",arg:g}}}p.wrap=X;var R="suspendedStart",x="suspendedYield",D="executing",P="completed",oe={};function me(){}function ve(){}function te(){}var Q={};W(Q,S,function(){return this});var ae=o,Me=ae&&ae(ae(Rn([])));Me&&Me!==v&&y.call(Me,S)&&(Q=Me);var Xe=te.prototype=me.prototype=n(Q);function Ot(K){var M;s(M=["next","throw","return"]).call(M,function(H){W(K,H,function(g){return this._invoke(H,g)})})}function st(K,M){function H(b,w,O,T){var k=z(K[b],K,w);if(k.type!=="throw"){var G=k.arg,j=G.value;return j&&e(j)=="object"&&y.call(j,"__await")?M.resolve(j.__await).then(function(L){H("next",L,O,T)},function(L){H("throw",L,O,T)}):M.resolve(j).then(function(L){G.value=L,O(G)},function(L){return H("throw",L,O,T)})}T(k.arg)}var g;m(this,"_invoke",{value:function(w,O){function T(){return new M(function(k,G){H(w,O,k,G)})}return g=g?g.then(T,T):T()}})}function Po(K,M,H){var g=R;return function(b,w){if(g===D)throw new Error("Generator is already running");if(g===P){if(b==="throw")throw w;return{value:f,done:!0}}for(H.method=b,H.arg=w;;){var O=H.delegate;if(O){var T=oc(O,H);if(T){if(T===oe)continue;return T}}if(H.method==="next")H.sent=H._sent=H.arg;else if(H.method==="throw"){if(g===R)throw g=P,H.arg;H.dispatchException(H.arg)}else H.method==="return"&&H.abrupt("return",H.arg);g=D;var k=z(K,M,H);if(k.type==="normal"){if(g=H.done?P:x,k.arg===oe)continue;return{value:k.arg,done:H.done}}k.type==="throw"&&(g=P,H.method="throw",H.arg=k.arg)}}}function oc(K,M){var H=M.method,g=K.iterator[H];if(g===f)return M.delegate=null,H==="throw"&&K.iterator.return&&(M.method="return",M.arg=f,oc(K,M),M.method==="throw")||H!=="return"&&(M.method="throw",M.arg=new TypeError("The iterator does not provide a '"+H+"' method")),oe;var b=z(g,K.iterator,M.arg);if(b.type==="throw")return M.method="throw",M.arg=b.arg,M.delegate=null,oe;var w=b.arg;return w?w.done?(M[K.resultName]=w.value,M.next=K.nextLoc,M.method!=="return"&&(M.method="next",M.arg=f),M.delegate=null,oe):w:(M.method="throw",M.arg=new TypeError("iterator result is not an object"),M.delegate=null,oe)}function uh(K){var M,H={tryLoc:K[0]};1 in K&&(H.catchLoc=K[1]),2 in K&&(H.finallyLoc=K[2],H.afterLoc=K[3]),a(M=this.tryEntries).call(M,H)}function yi(K){var M=K.completion||{};M.type="normal",delete M.arg,K.completion=M}function Vi(K){this.tryEntries=[{tryLoc:"root"}],s(K).call(K,uh,this),this.reset(!0)}function Rn(K){if(K||K===""){var M=K[S];if(M)return M.call(K);if(typeof K.next=="function")return K;if(!isNaN(K.length)){var H=-1,g=function b(){for(;++H<K.length;)if(y.call(K,H))return b.value=K[H],b.done=!1,b;return b.value=f,b.done=!0,b};return g.next=g}}throw new TypeError(e(K)+" is not iterable")}return ve.prototype=te,m(Xe,"constructor",{value:te,configurable:!0}),m(te,"constructor",{value:ve,configurable:!0}),ve.displayName=W(te,E,"GeneratorFunction"),p.isGeneratorFunction=function(K){var M=typeof K=="function"&&K.constructor;return!!M&&(M===ve||(M.displayName||M.name)==="GeneratorFunction")},p.mark=function(K){return l?l(K,te):(K.__proto__=te,W(K,E,"GeneratorFunction")),K.prototype=n(Xe),K},p.awrap=function(K){return{__await:K}},Ot(st.prototype),W(st.prototype,_,function(){return this}),p.AsyncIterator=st,p.async=function(K,M,H,g,b){b===void 0&&(b=c);var w=new st(X(K,M,H,g),b);return p.isGeneratorFunction(M)?w:w.next().then(function(O){return O.done?O.value:w.next()})},Ot(Xe),W(Xe,E,"Generator"),W(Xe,S,function(){return this}),W(Xe,"toString",function(){return"[object Generator]"}),p.keys=function(K){var M=Object(K),H=[];for(var g in M)a(H).call(H,g);return d(H).call(H),function b(){for(;H.length;){var w=H.pop();if(w in M)return b.value=w,b.done=!1,b}return b.done=!0,b}},p.values=Rn,Vi.prototype={constructor:Vi,reset:function(M){var H;if(this.prev=0,this.next=0,this.sent=this._sent=f,this.done=!1,this.delegate=null,this.method="next",this.arg=f,s(H=this.tryEntries).call(H,yi),!M)for(var g in this)g.charAt(0)==="t"&&y.call(this,g)&&!isNaN(+u(g).call(g,1))&&(this[g]=f)},stop:function(){this.done=!0;var M=this.tryEntries[0].completion;if(M.type==="throw")throw M.arg;return this.rval},dispatchException:function(M){if(this.done)throw M;var H=this;function g(G,j){return O.type="throw",O.arg=M,H.next=G,j&&(H.method="next",H.arg=f),!!j}for(var b=this.tryEntries.length-1;b>=0;--b){var w=this.tryEntries[b],O=w.completion;if(w.tryLoc==="root")return g("end");if(w.tryLoc<=this.prev){var T=y.call(w,"catchLoc"),k=y.call(w,"finallyLoc");if(T&&k){if(this.prev<w.catchLoc)return g(w.catchLoc,!0);if(this.prev<w.finallyLoc)return g(w.finallyLoc)}else if(T){if(this.prev<w.catchLoc)return g(w.catchLoc,!0)}else{if(!k)throw new Error("try statement without catch or finally");if(this.prev<w.finallyLoc)return g(w.finallyLoc)}}}},abrupt:function(M,H){for(var g=this.tryEntries.length-1;g>=0;--g){var b=this.tryEntries[g];if(b.tryLoc<=this.prev&&y.call(b,"finallyLoc")&&this.prev<b.finallyLoc){var w=b;break}}w&&(M==="break"||M==="continue")&&w.tryLoc<=H&&H<=w.finallyLoc&&(w=null);var O=w?w.completion:{};return O.type=M,O.arg=H,w?(this.method="next",this.next=w.finallyLoc,oe):this.complete(O)},complete:function(M,H){if(M.type==="throw")throw M.arg;return M.type==="break"||M.type==="continue"?this.next=M.arg:M.type==="return"?(this.rval=this.arg=M.arg,this.method="return",this.next="end"):M.type==="normal"&&H&&(this.next=H),oe},finish:function(M){for(var H=this.tryEntries.length-1;H>=0;--H){var g=this.tryEntries[H];if(g.finallyLoc===M)return this.complete(g.completion,g.afterLoc),yi(g),oe}},catch:function(M){for(var H=this.tryEntries.length-1;H>=0;--H){var g=this.tryEntries[H];if(g.tryLoc===M){var b=g.completion;if(b.type==="throw"){var w=b.arg;yi(g)}return w}}throw new Error("illegal catch attempt")},delegateYield:function(M,H,g){return this.delegate={iterator:Rn(M),resultName:H,nextLoc:g},this.method==="next"&&(this.arg=f),oe}},p}t.exports=h,t.exports.__esModule=!0,t.exports.default=t.exports})(EO);var jK=EO.exports,od=jK(),zK=od;try{regeneratorRuntime=od}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=od:Function("r","regeneratorRuntime = r")(od)}var er=he(zK),ZO={exports:{}},HK=Ae,WK=HK(function(){if(typeof ArrayBuffer=="function"){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}}),VK=Ae,UK=Pt,YK=kn,Dw=WK,sd=Object.isExtensible,GK=VK(function(){sd(1)}),KK=GK||Dw?function(e){return!UK(e)||Dw&&YK(e)==="ArrayBuffer"?!1:sd?sd(e):!0}:sd,XK=Ae,JK=!XK(function(){return Object.isExtensible(Object.preventExtensions({}))}),QK=ce,ZK=Ue,e9=fl,t9=Pt,pm=mt,r9=hr.f,Mw=pl,i9=Bv,gm=KK,n9=pu,o9=JK,ek=!1,Fi=n9("meta"),s9=0,vm=function(t){r9(t,Fi,{value:{objectID:"O"+s9++,weakData:{}}})},a9=function(t,e){if(!t9(t))return typeof t=="symbol"?t:(typeof t=="string"?"S":"P")+t;if(!pm(t,Fi)){if(!gm(t))return"F";if(!e)return"E";vm(t)}return t[Fi].objectID},l9=function(t,e){if(!pm(t,Fi)){if(!gm(t))return!0;if(!e)return!1;vm(t)}return t[Fi].weakData},c9=function(t){return o9&&ek&&gm(t)&&!pm(t,Fi)&&vm(t),t},d9=function(){u9.enable=function(){},ek=!0;var t=Mw.f,e=ZK([].splice),r={};r[Fi]=1,t(r).length&&(Mw.f=function(i){for(var n=t(i),o=0,s=n.length;o<s;o++)if(n[o]===Fi){e(n,o,1);break}return n},QK({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:i9.f}))},u9=ZO.exports={enable:d9,fastKey:a9,getWeakData:l9,onFreeze:c9};e9[Fi]=!0;var tk=ZO.exports,h9=ce,f9=Ge,p9=tk,g9=Ae,v9=ji,m9=To,y9=cm,b9=rt,$9=Pt,w9=Ps,_9=Io,S9=hr.f,I9=Ls.forEach,E9=Et,rk=Bs,T9=rk.set,O9=rk.getterFor,ik=function(t,e,r){var i=t.indexOf("Map")!==-1,n=t.indexOf("Weak")!==-1,o=i?"set":"add",s=f9[t],a=s&&s.prototype,l={},c;if(!E9||!b9(s)||!(n||a.forEach&&!g9(function(){new s().entries().next()})))c=r.getConstructor(e,t,i,o),p9.enable();else{c=e(function(h,f){T9(y9(h,d),{type:t,collection:new s}),w9(f)||m9(f,h[o],{that:h,AS_ENTRIES:i})});var d=c.prototype,u=O9(t);I9(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(h){var f=h==="add"||h==="set";h in a&&!(n&&h==="clear")&&v9(d,h,function(p,v){var y=u(this).collection;if(!f&&n&&!$9(p))return h==="get"?void 0:!1;var m=y[h](p===0?0:p,v);return f?this:m})}),n||S9(d,"size",{configurable:!0,get:function(){return u(this).collection.size}})}return _9(c,t,!1,!0),l[t]=c,h9({global:!0,forced:!0},l),n||r.setStrong(c,t,i),c},k9=qs,x9=function(t,e,r){for(var i in e)r&&r.unsafe&&t[i]?t[i]=e[i]:k9(t,i,e[i],r);return t},A9=So,C9=Lv,Rw=x9,P9=An,D9=cm,M9=Ps,R9=To,N9=Vv,kc=Uv,F9=AO,sa=Et,Nw=tk.fastKey,nk=Bs,Fw=nk.set,Af=nk.getterFor,ok={getConstructor:function(t,e,r,i){var n=t(function(c,d){D9(c,o),Fw(c,{type:e,index:A9(null),first:void 0,last:void 0,size:0}),sa||(c.size=0),M9(d)||R9(d,c[i],{that:c,AS_ENTRIES:r})}),o=n.prototype,s=Af(e),a=function(c,d,u){var h=s(c),f=l(c,d),p,v;return f?f.value=u:(h.last=f={index:v=Nw(d,!0),key:d,value:u,previous:p=h.last,next:void 0,removed:!1},h.first||(h.first=f),p&&(p.next=f),sa?h.size++:c.size++,v!=="F"&&(h.index[v]=f)),c},l=function(c,d){var u=s(c),h=Nw(d),f;if(h!=="F")return u.index[h];for(f=u.first;f;f=f.next)if(f.key===d)return f};return Rw(o,{clear:function(){for(var d=this,u=s(d),h=u.index,f=u.first;f;)f.removed=!0,f.previous&&(f.previous=f.previous.next=void 0),delete h[f.index],f=f.next;u.first=u.last=void 0,sa?u.size=0:d.size=0},delete:function(c){var d=this,u=s(d),h=l(d,c);if(h){var f=h.next,p=h.previous;delete u.index[h.index],h.removed=!0,p&&(p.next=f),f&&(f.previous=p),u.first===h&&(u.first=f),u.last===h&&(u.last=p),sa?u.size--:d.size--}return!!h},forEach:function(d){for(var u=s(this),h=P9(d,arguments.length>1?arguments[1]:void 0),f;f=f?f.next:u.first;)for(h(f.value,f.key,this);f&&f.removed;)f=f.previous},has:function(d){return!!l(this,d)}}),Rw(o,r?{get:function(d){var u=l(this,d);return u&&u.value},set:function(d,u){return a(this,d===0?0:d,u)}}:{add:function(d){return a(this,d=d===0?0:d,d)}}),sa&&C9(o,"size",{configurable:!0,get:function(){return s(this).size}}),n},setStrong:function(t,e,r){var i=e+" Iterator",n=Af(e),o=Af(i);N9(t,e,function(s,a){Fw(this,{type:i,target:s,state:n(s),kind:a,last:void 0})},function(){for(var s=o(this),a=s.kind,l=s.last;l&&l.removed;)l=l.previous;return!s.target||!(s.last=l=l?l.next:s.state.first)?(s.target=void 0,kc(void 0,!0)):kc(a==="keys"?l.key:a==="values"?l.value:[l.key,l.value],!1)},r?"entries":"values",!r,!0),F9(e)}},q9=ik,B9=ok;q9("Map",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},B9);var L9=Ke,j9=L9.Map,z9=j9,H9=z9,W9=H9,sk=he(W9),V9=ce,U9=Ls.some,Y9=Pu,G9=Y9("some");V9({target:"Array",proto:!0,forced:!G9},{some:function(e){return U9(this,e,arguments.length>1?arguments[1]:void 0)}});var K9=Bt,X9=K9("Array","some"),J9=vt,Q9=X9,Cf=Array.prototype,Z9=function(t){var e=t.some;return t===Cf||J9(Cf,t)&&e===Cf.some?Q9:e},e7=Z9,t7=e7,r7=t7,i7=he(r7),n7=Bt,o7=n7("Array","keys"),s7=o7,a7=s7,l7=zi,c7=mt,d7=vt,u7=a7,Pf=Array.prototype,h7={DOMTokenList:!0,NodeList:!0},f7=function(t){var e=t.keys;return t===Pf||d7(Pf,t)&&e===Pf.keys||c7(h7,l7(t))?u7:e},p7=f7,jo=he(p7),qw=cE,g7=Math.floor,Ag=function(t,e){var r=t.length,i=g7(r/2);return r<8?v7(t,e):m7(t,Ag(qw(t,0,i),e),Ag(qw(t,i),e),e)},v7=function(t,e){for(var r=t.length,i=1,n,o;i<r;){for(o=i,n=t[i];o&&e(t[o-1],n)>0;)t[o]=t[--o];o!==i++&&(t[o]=n)}return t},m7=function(t,e,r,i){for(var n=e.length,o=r.length,s=0,a=0;s<n||a<o;)t[s+a]=s<n&&a<o?i(e[s],r[a])<=0?e[s++]:r[a++]:s<n?e[s++]:r[a++];return t},y7=Ag,b7=xn,Bw=b7.match(/firefox\/(\d+)/i),$7=!!Bw&&+Bw[1],w7=xn,_7=/MSIE|Trident/.test(w7),S7=xn,Lw=S7.match(/AppleWebKit\/(\d+)\./),I7=!!Lw&&+Lw[1],E7=ce,ak=Ue,T7=dr,O7=ur,jw=wr,k7=ET,zw=_o,mm=Ae,x7=y7,A7=Pu,Hw=$7,C7=_7,Ww=Ds,Vw=I7,sn=[],Uw=ak(sn.sort),P7=ak(sn.push),D7=mm(function(){sn.sort(void 0)}),M7=mm(function(){sn.sort(null)}),R7=A7("sort"),lk=!mm(function(){if(Ww)return Ww<70;if(!(Hw&&Hw>3)){if(C7)return!0;if(Vw)return Vw<603;var t="",e,r,i,n;for(e=65;e<76;e++){switch(r=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:i=3;break;case 68:case 71:i=4;break;default:i=2}for(n=0;n<47;n++)sn.push({k:r+n,v:i})}for(sn.sort(function(o,s){return s.v-o.v}),n=0;n<sn.length;n++)r=sn[n].k.charAt(0),t.charAt(t.length-1)!==r&&(t+=r);return t!=="DGBEFHACIJK"}}),N7=D7||!M7||!R7||!lk,F7=function(t){return function(e,r){return r===void 0?-1:e===void 0?1:t!==void 0?+t(e,r)||0:zw(e)>zw(r)?1:-1}};E7({target:"Array",proto:!0,forced:N7},{sort:function(e){e!==void 0&&T7(e);var r=O7(this);if(lk)return e===void 0?Uw(r):Uw(r,e);var i=[],n=jw(r),o,s;for(s=0;s<n;s++)s in r&&P7(i,r[s]);for(x7(i,F7(e)),o=jw(i),s=0;s<o;)r[s]=i[s++];for(;s<n;)k7(r,s++);return r}});var q7=Bt,B7=q7("Array","sort"),L7=vt,j7=B7,Df=Array.prototype,z7=function(t){var e=t.sort;return t===Df||L7(Df,t)&&e===Df.sort?j7:e},H7=z7,W7=H7,V7=W7,Cg=he(V7),U7=Bt,Y7=U7("Array","values"),G7=Y7,K7=G7,X7=zi,J7=mt,Q7=vt,Z7=K7,Mf=Array.prototype,eX={DOMTokenList:!0,NodeList:!0},tX=function(t){var e=t.values;return t===Mf||Q7(Mf,t)&&e===Mf.values||J7(eX,X7(t))?Z7:e},rX=tX,Yw=he(rX),iX=JE,rs=he(iX),nX=Bt,oX=nX("Array","entries"),sX=oX,aX=sX,lX=zi,cX=mt,dX=vt,uX=aX,Rf=Array.prototype,hX={DOMTokenList:!0,NodeList:!0},fX=function(t){var e=t.entries;return t===Rf||dX(Rf,t)&&e===Rf.entries||cX(hX,lX(t))?uX:e},pX=fX,gX=he(pX);let xc;const vX=new Uint8Array(16);function mX(){if(!xc&&(xc=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!xc))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return xc(vX)}const kt=[];for(let t=0;t<256;++t)kt.push((t+256).toString(16).slice(1));function yX(t,e=0){return kt[t[e+0]]+kt[t[e+1]]+kt[t[e+2]]+kt[t[e+3]]+"-"+kt[t[e+4]]+kt[t[e+5]]+"-"+kt[t[e+6]]+kt[t[e+7]]+"-"+kt[t[e+8]]+kt[t[e+9]]+"-"+kt[t[e+10]]+kt[t[e+11]]+kt[t[e+12]]+kt[t[e+13]]+kt[t[e+14]]+kt[t[e+15]]}const bX=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var Gw={randomUUID:bX};function $X(t,e,r){if(Gw.randomUUID&&!t)return Gw.randomUUID();t=t||{};const i=t.random||(t.rng||mX)();return i[6]=i[6]&15|64,i[8]=i[8]&63|128,yX(i)}function Kw(t){return typeof t=="string"||typeof t=="number"}var wX=function(){function t(e){uu(this,t),hn(this,"_queue",[]),hn(this,"_timeout",null),hn(this,"_extended",null),this.delay=null,this.max=1/0,this.setOptions(e)}return Cu(t,[{key:"setOptions",value:function(r){r&&typeof r.delay<"u"&&(this.delay=r.delay),r&&typeof r.max<"u"&&(this.max=r.max),this._flushIfNeeded()}},{key:"destroy",value:function(){if(this.flush(),this._extended){for(var r=this._extended.object,i=this._extended.methods,n=0;n<i.length;n++){var o=i[n];o.original?r[o.name]=o.original:delete r[o.name]}this._extended=null}}},{key:"replace",value:function(r,i){var n=this,o=r[i];if(!o)throw new Error("Method "+i+" undefined");r[i]=function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];n.queue({args:a,fn:o,context:this})}}},{key:"queue",value:function(r){typeof r=="function"?this._queue.push({fn:r}):this._queue.push(r),this._flushIfNeeded()}},{key:"_flushIfNeeded",value:function(){var r=this;this._queue.length>this.max&&this.flush(),this._timeout!=null&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&typeof this.delay=="number"&&(this._timeout=GV(function(){r.flush()},this.delay))}},{key:"flush",value:function(){var r,i;co(r=TT(i=this._queue).call(i,0)).call(r,function(n){n.fn.apply(n.context||n.fn,n.args||[])})}}],[{key:"extend",value:function(r,i){var n=new t(i);if(r.flush!==void 0)throw new Error("Target object already has a property flush");r.flush=function(){n.flush()};var o=[{name:"flush",original:void 0}];if(i&&i.replace)for(var s=0;s<i.replace.length;s++){var a=i.replace[s];o.push({name:a,original:r[a]}),n.replace(r,a)}return n._extended={object:r,methods:o},n}}]),t}(),_X=function(){function t(){uu(this,t),hn(this,"_subscribers",{"*":[],add:[],remove:[],update:[]}),hn(this,"subscribe",t.prototype.on),hn(this,"unsubscribe",t.prototype.off)}return Cu(t,[{key:"_trigger",value:function(r,i,n){var o,s;if(r==="*")throw new Error("Cannot trigger event *");co(o=Ru(s=[]).call(s,ir(this._subscribers[r]),ir(this._subscribers["*"]))).call(o,function(a){a(r,i,n??null)})}},{key:"on",value:function(r,i){typeof i=="function"&&this._subscribers[r].push(i)}},{key:"off",value:function(r,i){var n;this._subscribers[r]=Jo(n=this._subscribers[r]).call(n,function(o){return o!==i})}}]),t}(),SX=ik,IX=ok;SX("Set",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},IX);var EX=Ke,TX=EX.Set,OX=TX,kX=OX,xX=kX,Nf=he(xX),AX=Xv,CX=AX,PX=CX,DX=PX,MX=DX,RX=MX,NX=RX,FX=NX,qX=FX,BX=qX,Ff=he(BX);function ti(t,e){var r=typeof Mu<"u"&&Qv(t)||t["@@iterator"];if(!r){if(vr(t)||(r=LX(t))||e){r&&(t=r);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(c){throw c},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,s=!1,a;return{s:function(){r=r.call(t)},n:function(){var c=r.next();return o=c.done,c},e:function(c){s=!0,a=c},f:function(){try{!o&&r.return!=null&&r.return()}finally{if(s)throw a}}}}function LX(t,e){var r;if(t){if(typeof t=="string")return Xw(t,e);var i=Nu(r=Object.prototype.toString.call(t)).call(r,8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Jv(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Xw(t,e)}}function Xw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=t[r];return i}var Jw=function(t){function e(r){uu(this,e),this._pairs=r}return Cu(e,[{key:t,value:er.mark(function r(){var i,n,o,s,a;return er.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:i=ti(this._pairs),c.prev=1,i.s();case 3:if((n=i.n()).done){c.next=9;break}return o=Zt(n.value,2),s=o[0],a=o[1],c.next=7,[s,a];case 7:c.next=3;break;case 9:c.next=14;break;case 11:c.prev=11,c.t0=c.catch(1),i.e(c.t0);case 14:return c.prev=14,i.f(),c.finish(14);case 17:case"end":return c.stop()}},r,this,[[1,11,14,17]])})},{key:"entries",value:er.mark(function r(){var i,n,o,s,a;return er.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:i=ti(this._pairs),c.prev=1,i.s();case 3:if((n=i.n()).done){c.next=9;break}return o=Zt(n.value,2),s=o[0],a=o[1],c.next=7,[s,a];case 7:c.next=3;break;case 9:c.next=14;break;case 11:c.prev=11,c.t0=c.catch(1),i.e(c.t0);case 14:return c.prev=14,i.f(),c.finish(14);case 17:case"end":return c.stop()}},r,this,[[1,11,14,17]])})},{key:"keys",value:er.mark(function r(){var i,n,o,s;return er.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:i=ti(this._pairs),l.prev=1,i.s();case 3:if((n=i.n()).done){l.next=9;break}return o=Zt(n.value,1),s=o[0],l.next=7,s;case 7:l.next=3;break;case 9:l.next=14;break;case 11:l.prev=11,l.t0=l.catch(1),i.e(l.t0);case 14:return l.prev=14,i.f(),l.finish(14);case 17:case"end":return l.stop()}},r,this,[[1,11,14,17]])})},{key:"values",value:er.mark(function r(){var i,n,o,s;return er.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:i=ti(this._pairs),l.prev=1,i.s();case 3:if((n=i.n()).done){l.next=9;break}return o=Zt(n.value,2),s=o[1],l.next=7,s;case 7:l.next=3;break;case 9:l.next=14;break;case 11:l.prev=11,l.t0=l.catch(1),i.e(l.t0);case 14:return l.prev=14,i.f(),l.finish(14);case 17:case"end":return l.stop()}},r,this,[[1,11,14,17]])})},{key:"toIdArray",value:function(){var i;return Fr(i=ir(this._pairs)).call(i,function(n){return n[0]})}},{key:"toItemArray",value:function(){var i;return Fr(i=ir(this._pairs)).call(i,function(n){return n[1]})}},{key:"toEntryArray",value:function(){return ir(this._pairs)}},{key:"toObjectMap",value:function(){var i=IV(null),n=ti(this._pairs),o;try{for(n.s();!(o=n.n()).done;){var s=Zt(o.value,2),a=s[0],l=s[1];i[a]=l}}catch(c){n.e(c)}finally{n.f()}return i}},{key:"toMap",value:function(){return new sk(this._pairs)}},{key:"toIdSet",value:function(){return new Nf(this.toIdArray())}},{key:"toItemSet",value:function(){return new Nf(this.toItemArray())}},{key:"cache",value:function(){return new e(ir(this._pairs))}},{key:"distinct",value:function(i){var n=new Nf,o=ti(this._pairs),s;try{for(o.s();!(s=o.n()).done;){var a=Zt(s.value,2),l=a[0],c=a[1];n.add(i(c,l))}}catch(d){o.e(d)}finally{o.f()}return n}},{key:"filter",value:function(i){var n=this._pairs;return new e({[rs](){return er.mark(function o(){var s,a,l,c,d;return er.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:s=ti(n),h.prev=1,s.s();case 3:if((a=s.n()).done){h.next=10;break}if(l=Zt(a.value,2),c=l[0],d=l[1],!i(d,c)){h.next=8;break}return h.next=8,[c,d];case 8:h.next=3;break;case 10:h.next=15;break;case 12:h.prev=12,h.t0=h.catch(1),s.e(h.t0);case 15:return h.prev=15,s.f(),h.finish(15);case 18:case"end":return h.stop()}},o,null,[[1,12,15,18]])})()}})}},{key:"forEach",value:function(i){var n=ti(this._pairs),o;try{for(n.s();!(o=n.n()).done;){var s=Zt(o.value,2),a=s[0],l=s[1];i(l,a)}}catch(c){n.e(c)}finally{n.f()}}},{key:"map",value:function(i){var n=this._pairs;return new e({[rs](){return er.mark(function o(){var s,a,l,c,d;return er.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:s=ti(n),h.prev=1,s.s();case 3:if((a=s.n()).done){h.next=9;break}return l=Zt(a.value,2),c=l[0],d=l[1],h.next=7,[c,i(d,c)];case 7:h.next=3;break;case 9:h.next=14;break;case 11:h.prev=11,h.t0=h.catch(1),s.e(h.t0);case 14:return h.prev=14,s.f(),h.finish(14);case 17:case"end":return h.stop()}},o,null,[[1,11,14,17]])})()}})}},{key:"max",value:function(i){var n=Ff(this._pairs),o=n.next();if(o.done)return null;for(var s=o.value[1],a=i(o.value[1],o.value[0]);!(o=n.next()).done;){var l=Zt(o.value,2),c=l[0],d=l[1],u=i(d,c);u>a&&(a=u,s=d)}return s}},{key:"min",value:function(i){var n=Ff(this._pairs),o=n.next();if(o.done)return null;for(var s=o.value[1],a=i(o.value[1],o.value[0]);!(o=n.next()).done;){var l=Zt(o.value,2),c=l[0],d=l[1],u=i(d,c);u<a&&(a=u,s=d)}return s}},{key:"reduce",value:function(i,n){var o=ti(this._pairs),s;try{for(o.s();!(s=o.n()).done;){var a=Zt(s.value,2),l=a[0],c=a[1];n=i(n,c,l)}}catch(d){o.e(d)}finally{o.f()}return n}},{key:"sort",value:function(i){var n=this;return new e({[rs]:function(){var o;return Ff(Cg(o=ir(n._pairs)).call(o,function(s,a){var l=Zt(s,2),c=l[0],d=l[1],u=Zt(a,2),h=u[0],f=u[1];return i(d,f,c,h)}))}})}}]),e}(rs);function Qw(t,e){var r=em(t);if(Z$){var i=Z$(t);e&&(i=Jo(i).call(i,function(n){return mO(t,n).enumerable})),r.push.apply(r,i)}return r}function Zw(t){for(var e=1;e<arguments.length;e++){var r,i,n=arguments[e]!=null?arguments[e]:{};e%2?co(r=Qw(Object(n),!0)).call(r,function(o){hn(t,o,n[o])}):ew?qU(t,ew(n)):co(i=Qw(Object(n))).call(i,function(o){LU(t,o,mO(n,o))})}return t}function qf(t,e){var r=typeof Mu<"u"&&Qv(t)||t["@@iterator"];if(!r){if(vr(t)||(r=jX(t))||e){r&&(t=r);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(c){throw c},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,s=!1,a;return{s:function(){r=r.call(t)},n:function(){var c=r.next();return o=c.done,c},e:function(c){s=!0,a=c},f:function(){try{!o&&r.return!=null&&r.return()}finally{if(s)throw a}}}}function jX(t,e){var r;if(t){if(typeof t=="string")return e1(t,e);var i=Nu(r=Object.prototype.toString.call(t)).call(r,8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Jv(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return e1(t,e)}}function e1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=t[r];return i}function zX(t){var e=HX();return function(){var i=Rd(t),n;if(e){var o=Rd(this).constructor;n=id(i,arguments,o)}else n=i.apply(this,arguments);return lY(this,n)}}function HX(){if(typeof Reflect>"u"||!id||id.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(id(Boolean,[],function(){})),!0}catch{return!1}}function WX(t,e){return t[e]==null&&(t[e]=$X()),t}var Bd=function(t){aY(r,t);var e=zX(r);function r(i,n){var o;return uu(this,r),o=e.call(this),hn($O(o),"_queue",null),i&&!vr(i)&&(n=i,i=[]),o._options=n||{},o._data=new sk,o.length=0,o._idProp=o._options.fieldId||"id",i&&i.length&&o.add(i),o.setOptions(n),o}return Cu(r,[{key:"idProp",get:function(){return this._idProp}},{key:"setOptions",value:function(n){n&&n.queue!==void 0&&(n.queue===!1?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=wX.extend(this,{replace:["add","update","remove"]})),n.queue&&typeof n.queue=="object"&&this._queue.setOptions(n.queue)))}},{key:"add",value:function(n,o){var s=this,a=[],l;if(vr(n)){var c=Fr(n).call(n,function(h){return h[s._idProp]});if(i7(c).call(c,function(h){return s._data.has(h)}))throw new Error("A duplicate id was found in the parameter array.");for(var d=0,u=n.length;d<u;d++)l=this._addItem(n[d]),a.push(l)}else if(n&&typeof n=="object")l=this._addItem(n),a.push(l);else throw new Error("Unknown dataType");return a.length&&this._trigger("add",{items:a},o),a}},{key:"update",value:function(n,o){var s=this,a=[],l=[],c=[],d=[],u=this._idProp,h=function(m){var $=m[u];if($!=null&&s._data.has($)){var S=m,_=sV({},s._data.get($)),E=s._updateItem(S);l.push(E),d.push(S),c.push(_)}else{var W=s._addItem(m);a.push(W)}};if(vr(n))for(var f=0,p=n.length;f<p;f++)n[f]&&typeof n[f]=="object"?h(n[f]):console.warn("Ignoring input item, which is not an object at index "+f);else if(n&&typeof n=="object")h(n);else throw new Error("Unknown dataType");if(a.length&&this._trigger("add",{items:a},o),l.length){var v={items:l,oldData:c,data:d};this._trigger("update",v,o)}return Ru(a).call(a,l)}},{key:"updateOnly",value:function(n,o){var s,a=this;vr(n)||(n=[n]);var l=Fr(s=Fr(n).call(n,function(d){var u=a._data.get(d[a._idProp]);if(u==null)throw new Error("Updating non-existent items is not allowed.");return{oldData:u,update:d}})).call(s,function(d){var u=d.oldData,h=d.update,f=u[a._idProp],p=B6(u,h);return a._data.set(f,p),{id:f,oldData:u,updatedData:p}});if(l.length){var c={items:Fr(l).call(l,function(d){return d.id}),oldData:Fr(l).call(l,function(d){return d.oldData}),data:Fr(l).call(l,function(d){return d.updatedData})};return this._trigger("update",c,o),c.items}else return[]}},{key:"get",value:function(n,o){var s=void 0,a=void 0,l=void 0;Kw(n)?(s=n,l=o):vr(n)?(a=n,l=o):l=n;var c=l&&l.returnType==="Object"?"Object":"Array",d=l&&Jo(l),u=[],h=void 0,f=void 0,p=void 0;if(s!=null)h=this._data.get(s),h&&d&&!d(h)&&(h=void 0);else if(a!=null)for(var v=0,y=a.length;v<y;v++)h=this._data.get(a[v]),h!=null&&(!d||d(h))&&u.push(h);else{var m;f=ir(jo(m=this._data).call(m));for(var $=0,S=f.length;$<S;$++)p=f[$],h=this._data.get(p),h!=null&&(!d||d(h))&&u.push(h)}if(l&&l.order&&s==null&&this._sort(u,l.order),l&&l.fields){var _=l.fields;if(s!=null&&h!=null)h=this._filterFields(h,_);else for(var E=0,W=u.length;E<W;E++)u[E]=this._filterFields(u[E],_)}if(c=="Object"){for(var X={},z=0,R=u.length;z<R;z++){var x=u[z],D=x[this._idProp];X[D]=x}return X}else if(s!=null){var P;return(P=h)!==null&&P!==void 0?P:null}else return u}},{key:"getIds",value:function(n){var o=this._data,s=n&&Jo(n),a=n&&n.order,l=ir(jo(o).call(o)),c=[];if(s)if(a){for(var d=[],u=0,h=l.length;u<h;u++){var f=l[u],p=this._data.get(f);p!=null&&s(p)&&d.push(p)}this._sort(d,a);for(var v=0,y=d.length;v<y;v++)c.push(d[v][this._idProp])}else for(var m=0,$=l.length;m<$;m++){var S=l[m],_=this._data.get(S);_!=null&&s(_)&&c.push(_[this._idProp])}else if(a){for(var E=[],W=0,X=l.length;W<X;W++){var z=l[W];E.push(o.get(z))}this._sort(E,a);for(var R=0,x=E.length;R<x;R++)c.push(E[R][this._idProp])}else for(var D=0,P=l.length;D<P;D++){var oe=l[D],me=o.get(oe);me!=null&&c.push(me[this._idProp])}return c}},{key:"getDataSet",value:function(){return this}},{key:"forEach",value:function(n,o){var s=o&&Jo(o),a=this._data,l=ir(jo(a).call(a));if(o&&o.order)for(var c=this.get(o),d=0,u=c.length;d<u;d++){var h=c[d],f=h[this._idProp];n(h,f)}else for(var p=0,v=l.length;p<v;p++){var y=l[p],m=this._data.get(y);m!=null&&(!s||s(m))&&n(m,y)}}},{key:"map",value:function(n,o){for(var s=o&&Jo(o),a=[],l=this._data,c=ir(jo(l).call(l)),d=0,u=c.length;d<u;d++){var h=c[d],f=this._data.get(h);f!=null&&(!s||s(f))&&a.push(n(f,h))}return o&&o.order&&this._sort(a,o.order),a}},{key:"_filterFields",value:function(n,o){var s;return n&&_3(s=vr(o)?o:em(o)).call(s,function(a,l){return a[l]=n[l],a},{})}},{key:"_sort",value:function(n,o){if(typeof o=="string"){var s=o;Cg(n).call(n,function(a,l){var c=a[s],d=l[s];return c>d?1:c<d?-1:0})}else if(typeof o=="function")Cg(n).call(n,o);else throw new TypeError("Order must be a function or a string")}},{key:"remove",value:function(n,o){for(var s=[],a=[],l=vr(n)?n:[n],c=0,d=l.length;c<d;c++){var u=this._remove(l[c]);if(u){var h=u[this._idProp];h!=null&&(s.push(h),a.push(u))}}return s.length&&this._trigger("remove",{items:s,oldData:a},o),s}},{key:"_remove",value:function(n){var o;if(Kw(n)?o=n:n&&typeof n=="object"&&(o=n[this._idProp]),o!=null&&this._data.has(o)){var s=this._data.get(o)||null;return this._data.delete(o),--this.length,s}return null}},{key:"clear",value:function(n){for(var o,s=ir(jo(o=this._data).call(o)),a=[],l=0,c=s.length;l<c;l++)a.push(this._data.get(s[l]));return this._data.clear(),this.length=0,this._trigger("remove",{items:s,oldData:a},n),s}},{key:"max",value:function(n){var o,s=null,a=null,l=qf(Yw(o=this._data).call(o)),c;try{for(l.s();!(c=l.n()).done;){var d=c.value,u=d[n];typeof u=="number"&&(a==null||u>a)&&(s=d,a=u)}}catch(h){l.e(h)}finally{l.f()}return s||null}},{key:"min",value:function(n){var o,s=null,a=null,l=qf(Yw(o=this._data).call(o)),c;try{for(l.s();!(c=l.n()).done;){var d=c.value,u=d[n];typeof u=="number"&&(a==null||u<a)&&(s=d,a=u)}}catch(h){l.e(h)}finally{l.f()}return s||null}},{key:"distinct",value:function(n){for(var o=this._data,s=ir(jo(o).call(o)),a=[],l=0,c=0,d=s.length;c<d;c++){for(var u=s[c],h=o.get(u),f=h[n],p=!1,v=0;v<l;v++)if(a[v]==f){p=!0;break}!p&&f!==void 0&&(a[l]=f,l++)}return a}},{key:"_addItem",value:function(n){var o=WX(n,this._idProp),s=o[this._idProp];if(this._data.has(s))throw new Error("Cannot add item: item with id "+s+" already exists");return this._data.set(s,o),++this.length,s}},{key:"_updateItem",value:function(n){var o=n[this._idProp];if(o==null)throw new Error("Cannot update item: item has no id (item: "+AV(n)+")");var s=this._data.get(o);if(!s)throw new Error("Cannot update item: no item with id "+o+" found");return this._data.set(o,Zw(Zw({},s),n)),o}},{key:"stream",value:function(n){if(n){var o=this._data;return new Jw({[rs](){return er.mark(function a(){var l,c,d,u;return er.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:l=qf(n),f.prev=1,l.s();case 3:if((c=l.n()).done){f.next=11;break}if(d=c.value,u=o.get(d),u==null){f.next=9;break}return f.next=9,[d,u];case 9:f.next=3;break;case 11:f.next=16;break;case 13:f.prev=13,f.t0=f.catch(1),l.e(f.t0);case 16:return f.prev=16,l.f(),f.finish(16);case 19:case"end":return f.stop()}},a,null,[[1,13,16,19]])})()}})}else{var s;return new Jw({[rs]:nT(s=gX(this._data)).call(s,this._data)})}}}]),r}(_X);function VX(t,e){return typeof e=="object"&&e!==null&&t===e.idProp&&typeof e.add=="function"&&typeof e.clear=="function"&&typeof e.distinct=="function"&&typeof co(e)=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof Fr(e)=="function"&&typeof e.max=="function"&&typeof e.min=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.remove=="function"&&typeof e.setOptions=="function"&&typeof e.stream=="function"&&typeof e.update=="function"&&typeof e.updateOnly=="function"}function ck(t,e){return typeof e=="object"&&e!==null&&t===e.idProp&&typeof co(e)=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof Fr(e)=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.stream=="function"&&VX(t,e.getDataSet())}/**
 * vis-network
 * https://visjs.github.io/vis-network/
 *
 * A dynamic, browser-based visualization library.
 *
 * @version 9.1.13
 * @date    2025-06-28T12:43:17.849Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */var Bf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ac=function(t){return t&&t.Math===Math&&t},nt=Ac(typeof globalThis=="object"&&globalThis)||Ac(typeof window=="object"&&window)||Ac(typeof self=="object"&&self)||Ac(typeof Bf=="object"&&Bf)||function(){return this}()||Bf||Function("return this")(),Oe=function(t){try{return!!t()}catch{return!0}},UX=Oe,xl=!UX(function(){var t=(function(){}).bind();return typeof t!="function"||t.hasOwnProperty("prototype")}),YX=xl,dk=Function.prototype,t1=dk.apply,r1=dk.call,ju=typeof Reflect=="object"&&Reflect.apply||(YX?r1.bind(t1):function(){return r1.apply(t1,arguments)}),uk=xl,hk=Function.prototype,Pg=hk.call,GX=uk&&hk.bind.bind(Pg,Pg),ke=uk?GX:function(t){return function(){return Pg.apply(t,arguments)}},fk=ke,KX=fk({}.toString),XX=fk("".slice),Hi=function(t){return XX(KX(t),8,-1)},JX=Hi,QX=ke,ym=function(t){if(JX(t)==="Function")return QX(t)},Dg=typeof document=="object"&&document.all,ZX=typeof Dg>"u"&&Dg!==void 0,pk={all:Dg,IS_HTMLDDA:ZX},gk=pk,eJ=gk.all,Dt=gk.IS_HTMLDDA?function(t){return typeof t=="function"||t===eJ}:function(t){return typeof t=="function"},Al={},tJ=Oe,$t=!tJ(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),rJ=xl,Cc=Function.prototype.call,Yr=rJ?Cc.bind(Cc):function(){return Cc.apply(Cc,arguments)},Cl={},vk={}.propertyIsEnumerable,mk=Object.getOwnPropertyDescriptor,iJ=mk&&!vk.call({1:2},1);Cl.f=iJ?function(e){var r=mk(this,e);return!!r&&r.enumerable}:vk;var Pl=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}},nJ=ke,oJ=Oe,sJ=Hi,Lf=Object,aJ=nJ("".split),zu=oJ(function(){return!Lf("z").propertyIsEnumerable(0)})?function(t){return sJ(t)==="String"?aJ(t,""):Lf(t)}:Lf,Vs=function(t){return t==null},lJ=Vs,cJ=TypeError,Dl=function(t){if(lJ(t))throw new cJ("Can't call method on "+t);return t},dJ=zu,uJ=Dl,Gr=function(t){return dJ(uJ(t))},i1=Dt,yk=pk,hJ=yk.all,Lt=yk.IS_HTMLDDA?function(t){return typeof t=="object"?t!==null:i1(t)||t===hJ}:function(t){return typeof t=="object"?t!==null:i1(t)},De={},jf=De,zf=nt,fJ=Dt,n1=function(t){return fJ(t)?t:void 0},Kr=function(t,e){return arguments.length<2?n1(jf[t])||n1(zf[t]):jf[t]&&jf[t][e]||zf[t]&&zf[t][e]},pJ=ke,yt=pJ({}.isPrototypeOf),Ml=typeof navigator<"u"&&String(navigator.userAgent)||"",bk=nt,Hf=Ml,o1=bk.process,s1=bk.Deno,a1=o1&&o1.versions||s1&&s1.version,l1=a1&&a1.v8,qr,Ld;l1&&(qr=l1.split("."),Ld=qr[0]>0&&qr[0]<4?1:+(qr[0]+qr[1]));!Ld&&Hf&&(qr=Hf.match(/Edge\/(\d+)/),(!qr||qr[1]>=74)&&(qr=Hf.match(/Chrome\/(\d+)/),qr&&(Ld=+qr[1])));var Rl=Ld,c1=Rl,gJ=Oe,vJ=nt,mJ=vJ.String,Us=!!Object.getOwnPropertySymbols&&!gJ(function(){var t=Symbol("symbol detection");return!mJ(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&c1&&c1<41}),yJ=Us,$k=yJ&&!Symbol.sham&&typeof Symbol.iterator=="symbol",bJ=Kr,$J=Dt,wJ=yt,_J=$k,SJ=Object,Nl=_J?function(t){return typeof t=="symbol"}:function(t){var e=bJ("Symbol");return $J(e)&&wJ(e.prototype,SJ(t))},IJ=String,Fl=function(t){try{return IJ(t)}catch{return"Object"}},EJ=Dt,TJ=Fl,OJ=TypeError,Ys=function(t){if(EJ(t))return t;throw new OJ(TJ(t)+" is not a function")},kJ=Ys,xJ=Vs,bm=function(t,e){var r=t[e];return xJ(r)?void 0:kJ(r)},Wf=Yr,Vf=Dt,Uf=Lt,AJ=TypeError,CJ=function(t,e){var r,i;if(e==="string"&&Vf(r=t.toString)&&!Uf(i=Wf(r,t))||Vf(r=t.valueOf)&&!Uf(i=Wf(r,t))||e!=="string"&&Vf(r=t.toString)&&!Uf(i=Wf(r,t)))return i;throw new AJ("Can't convert object to primitive value")},wk={exports:{}},d1=nt,PJ=Object.defineProperty,DJ=function(t,e){try{PJ(d1,t,{value:e,configurable:!0,writable:!0})}catch{d1[t]=e}return e},MJ=nt,RJ=DJ,u1="__core-js_shared__",NJ=MJ[u1]||RJ(u1,{}),$m=NJ,h1=$m;(wk.exports=function(t,e){return h1[t]||(h1[t]=e!==void 0?e:{})})("versions",[]).push({version:"3.33.0",mode:"pure",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"});var Gs=wk.exports,FJ=Dl,qJ=Object,Dr=function(t){return qJ(FJ(t))},BJ=ke,LJ=Dr,jJ=BJ({}.hasOwnProperty),Mt=Object.hasOwn||function(e,r){return jJ(LJ(e),r)},zJ=ke,HJ=0,WJ=Math.random(),VJ=zJ(1 .toString),Hu=function(t){return"Symbol("+(t===void 0?"":t)+")_"+VJ(++HJ+WJ,36)},UJ=nt,YJ=Gs,f1=Mt,GJ=Hu,KJ=Us,XJ=$k,is=UJ.Symbol,Yf=YJ("wks"),JJ=XJ?is.for||is:is&&is.withoutSetter||GJ,ht=function(t){return f1(Yf,t)||(Yf[t]=KJ&&f1(is,t)?is[t]:JJ("Symbol."+t)),Yf[t]},QJ=Yr,p1=Lt,g1=Nl,ZJ=bm,eQ=CJ,tQ=ht,rQ=TypeError,iQ=tQ("toPrimitive"),nQ=function(t,e){if(!p1(t)||g1(t))return t;var r=ZJ(t,iQ),i;if(r){if(e===void 0&&(e="default"),i=QJ(r,t,e),!p1(i)||g1(i))return i;throw new rQ("Can't convert object to primitive value")}return e===void 0&&(e="number"),eQ(t,e)},oQ=nQ,sQ=Nl,Wu=function(t){var e=oQ(t,"string");return sQ(e)?e:e+""},aQ=nt,v1=Lt,Mg=aQ.document,lQ=v1(Mg)&&v1(Mg.createElement),_k=function(t){return lQ?Mg.createElement(t):{}},cQ=$t,dQ=Oe,uQ=_k,Sk=!cQ&&!dQ(function(){return Object.defineProperty(uQ("div"),"a",{get:function(){return 7}}).a!==7}),hQ=$t,fQ=Yr,pQ=Cl,gQ=Pl,vQ=Gr,mQ=Wu,yQ=Mt,bQ=Sk,m1=Object.getOwnPropertyDescriptor;Al.f=hQ?m1:function(e,r){if(e=vQ(e),r=mQ(r),bQ)try{return m1(e,r)}catch{}if(yQ(e,r))return gQ(!fQ(pQ.f,e,r),e[r])};var $Q=Oe,wQ=Dt,_Q=/#|\.prototype\./,ql=function(t,e){var r=IQ[SQ(t)];return r===TQ?!0:r===EQ?!1:wQ(e)?$Q(e):!!e},SQ=ql.normalize=function(t){return String(t).replace(_Q,".").toLowerCase()},IQ=ql.data={},EQ=ql.NATIVE="N",TQ=ql.POLYFILL="P",OQ=ql,y1=ym,kQ=Ys,xQ=xl,AQ=y1(y1.bind),Vu=function(t,e){return kQ(t),e===void 0?t:xQ?AQ(t,e):function(){return t.apply(e,arguments)}},_r={},CQ=$t,PQ=Oe,Ik=CQ&&PQ(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),DQ=Lt,MQ=String,RQ=TypeError,Wi=function(t){if(DQ(t))return t;throw new RQ(MQ(t)+" is not an object")},NQ=$t,FQ=Sk,qQ=Ik,Pc=Wi,b1=Wu,BQ=TypeError,Gf=Object.defineProperty,LQ=Object.getOwnPropertyDescriptor,Kf="enumerable",Xf="configurable",Jf="writable";_r.f=NQ?qQ?function(e,r,i){if(Pc(e),r=b1(r),Pc(i),typeof e=="function"&&r==="prototype"&&"value"in i&&Jf in i&&!i[Jf]){var n=LQ(e,r);n&&n[Jf]&&(e[r]=i.value,i={configurable:Xf in i?i[Xf]:n[Xf],enumerable:Kf in i?i[Kf]:n[Kf],writable:!1})}return Gf(e,r,i)}:Gf:function(e,r,i){if(Pc(e),r=b1(r),Pc(i),FQ)try{return Gf(e,r,i)}catch{}if("get"in i||"set"in i)throw new BQ("Accessors not supported");return"value"in i&&(e[r]=i.value),e};var jQ=$t,zQ=_r,HQ=Pl,Ks=jQ?function(t,e,r){return zQ.f(t,e,HQ(1,r))}:function(t,e,r){return t[e]=r,t},Dc=nt,WQ=ju,VQ=ym,UQ=Dt,YQ=Al.f,GQ=OQ,zo=De,KQ=Vu,Ho=Ks,$1=Mt,XQ=function(t){var e=function(r,i,n){if(this instanceof e){switch(arguments.length){case 0:return new t;case 1:return new t(r);case 2:return new t(r,i)}return new t(r,i,n)}return WQ(t,this,arguments)};return e.prototype=t.prototype,e},fe=function(t,e){var r=t.target,i=t.global,n=t.stat,o=t.proto,s=i?Dc:n?Dc[r]:(Dc[r]||{}).prototype,a=i?zo:zo[r]||Ho(zo,r,{})[r],l=a.prototype,c,d,u,h,f,p,v,y,m;for(h in e)c=GQ(i?h:r+(n?".":"#")+h,t.forced),d=!c&&s&&$1(s,h),p=a[h],d&&(t.dontCallGetSet?(m=YQ(s,h),v=m&&m.value):v=s[h]),f=d&&v?v:e[h],!(d&&typeof p==typeof f)&&(t.bind&&d?y=KQ(f,Dc):t.wrap&&d?y=XQ(f):o&&UQ(f)?y=VQ(f):y=f,(t.sham||f&&f.sham||p&&p.sham)&&Ho(y,"sham",!0),Ho(a,h,y),o&&(u=r+"Prototype",$1(zo,u)||Ho(zo,u,{}),Ho(zo[u],h,f),t.real&&l&&(c||!l[h])&&Ho(l,h,f)))},JQ=Math.ceil,QQ=Math.floor,ZQ=Math.trunc||function(e){var r=+e;return(r>0?QQ:JQ)(r)},eZ=ZQ,Uu=function(t){var e=+t;return e!==e||e===0?0:eZ(e)},tZ=Uu,rZ=Math.max,iZ=Math.min,Bl=function(t,e){var r=tZ(t);return r<0?rZ(r+e,0):iZ(r,e)},nZ=Uu,oZ=Math.min,sZ=function(t){return t>0?oZ(nZ(t),9007199254740991):0},aZ=sZ,vi=function(t){return aZ(t.length)},lZ=Gr,cZ=Bl,dZ=vi,w1=function(t){return function(e,r,i){var n=lZ(e),o=dZ(n),s=cZ(i,o),a;if(t&&r!==r){for(;o>s;)if(a=n[s++],a!==a)return!0}else for(;o>s;s++)if((t||s in n)&&n[s]===r)return t||s||0;return!t&&-1}},wm={includes:w1(!0),indexOf:w1(!1)},Ll={},uZ=ke,Qf=Mt,hZ=Gr,fZ=wm.indexOf,pZ=Ll,_1=uZ([].push),Ek=function(t,e){var r=hZ(t),i=0,n=[],o;for(o in r)!Qf(pZ,o)&&Qf(r,o)&&_1(n,o);for(;e.length>i;)Qf(r,o=e[i++])&&(~fZ(n,o)||_1(n,o));return n},_m=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],gZ=Ek,vZ=_m,jl=Object.keys||function(e){return gZ(e,vZ)},zl={};zl.f=Object.getOwnPropertySymbols;var S1=$t,mZ=ke,yZ=Yr,bZ=Oe,Zf=jl,$Z=zl,wZ=Cl,_Z=Dr,SZ=zu,Wo=Object.assign,I1=Object.defineProperty,IZ=mZ([].concat),EZ=!Wo||bZ(function(){if(S1&&Wo({b:1},Wo(I1({},"a",{enumerable:!0,get:function(){I1(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var t={},e={},r=Symbol("assign detection"),i="abcdefghijklmnopqrst";return t[r]=7,i.split("").forEach(function(n){e[n]=n}),Wo({},t)[r]!==7||Zf(Wo({},e)).join("")!==i})?function(e,r){for(var i=_Z(e),n=arguments.length,o=1,s=$Z.f,a=wZ.f;n>o;)for(var l=SZ(arguments[o++]),c=s?IZ(Zf(l),s(l)):Zf(l),d=c.length,u=0,h;d>u;)h=c[u++],(!S1||yZ(a,l,h))&&(i[h]=l[h]);return i}:Wo,TZ=fe,E1=EZ;TZ({target:"Object",stat:!0,forced:Object.assign!==E1},{assign:E1});var OZ=De,kZ=OZ.Object.assign,xZ=kZ,AZ=xZ,CZ=AZ,pt=pe(CZ),PZ=ke,Yu=PZ([].slice),Tk=ke,DZ=Ys,MZ=Lt,RZ=Mt,T1=Yu,NZ=xl,Ok=Function,FZ=Tk([].concat),qZ=Tk([].join),ep={},BZ=function(t,e,r){if(!RZ(ep,e)){for(var i=[],n=0;n<e;n++)i[n]="a["+n+"]";ep[e]=Ok("C,a","return new C("+qZ(i,",")+")")}return ep[e](t,r)},LZ=NZ?Ok.bind:function(e){var r=DZ(this),i=r.prototype,n=T1(arguments,1),o=function(){var a=FZ(n,T1(arguments));return this instanceof o?BZ(r,a.length,a):r.apply(e,a)};return MZ(i)&&(o.prototype=i),o},jZ=fe,O1=LZ;jZ({target:"Function",proto:!0,forced:Function.bind!==O1},{bind:O1});var zZ=De,Rt=function(t){return zZ[t+"Prototype"]},HZ=Rt,WZ=HZ("Function").bind,VZ=yt,UZ=WZ,tp=Function.prototype,YZ=function(t){var e=t.bind;return t===tp||VZ(tp,t)&&e===tp.bind?UZ:e},GZ=YZ,KZ=GZ,XZ=KZ,B=pe(XZ);function Sm(t,e,r,i){t.beginPath(),t.arc(e,r,i,0,2*Math.PI,!1),t.closePath()}function JZ(t,e,r,i){t.beginPath(),t.rect(e-i,r-i,i*2,i*2),t.closePath()}function QZ(t,e,r,i){t.beginPath(),i*=1.15,r+=.275*i;const n=i*2,o=n/2,s=Math.sqrt(3)/6*n,a=Math.sqrt(n*n-o*o);t.moveTo(e,r-(a-s)),t.lineTo(e+o,r+s),t.lineTo(e-o,r+s),t.lineTo(e,r-(a-s)),t.closePath()}function ZZ(t,e,r,i){t.beginPath(),i*=1.15,r-=.275*i;const n=i*2,o=n/2,s=Math.sqrt(3)/6*n,a=Math.sqrt(n*n-o*o);t.moveTo(e,r+(a-s)),t.lineTo(e+o,r-s),t.lineTo(e-o,r-s),t.lineTo(e,r+(a-s)),t.closePath()}function eee(t,e,r,i){t.beginPath(),i*=.82,r+=.1*i;for(let n=0;n<10;n++){const o=n%2===0?i*1.3:i*.5;t.lineTo(e+o*Math.sin(n*2*Math.PI/10),r-o*Math.cos(n*2*Math.PI/10))}t.closePath()}function tee(t,e,r,i){t.beginPath(),t.lineTo(e,r+i),t.lineTo(e+i,r),t.lineTo(e,r-i),t.lineTo(e-i,r),t.closePath()}function kk(t,e,r,i,n,o){const s=Math.PI/180;i-2*o<0&&(o=i/2),n-2*o<0&&(o=n/2),t.beginPath(),t.moveTo(e+o,r),t.lineTo(e+i-o,r),t.arc(e+i-o,r+o,o,s*270,s*360,!1),t.lineTo(e+i,r+n-o),t.arc(e+i-o,r+n-o,o,0,s*90,!1),t.lineTo(e+o,r+n),t.arc(e+o,r+n-o,o,s*90,s*180,!1),t.lineTo(e,r+o),t.arc(e+o,r+o,o,s*180,s*270,!1),t.closePath()}function Rg(t,e,r,i,n){const o=.5522848,s=i/2*o,a=n/2*o,l=e+i,c=r+n,d=e+i/2,u=r+n/2;t.beginPath(),t.moveTo(e,u),t.bezierCurveTo(e,u-a,d-s,r,d,r),t.bezierCurveTo(d+s,r,l,u-a,l,u),t.bezierCurveTo(l,u+a,d+s,c,d,c),t.bezierCurveTo(d-s,c,e,u+a,e,u),t.closePath()}function xk(t,e,r,i,n){const o=.3333333333333333,s=i,a=n*o,l=.5522848,c=s/2*l,d=a/2*l,u=e+s,h=r+a,f=e+s/2,p=r+a/2,v=r+(n-a/2),y=r+n;t.beginPath(),t.moveTo(u,p),t.bezierCurveTo(u,p+d,f+c,h,f,h),t.bezierCurveTo(f-c,h,e,p+d,e,p),t.bezierCurveTo(e,p-d,f-c,r,f,r),t.bezierCurveTo(f+c,r,u,p-d,u,p),t.lineTo(u,v),t.bezierCurveTo(u,v+d,f+c,y,f,y),t.bezierCurveTo(f-c,y,e,v+d,e,v),t.lineTo(e,p)}function Ak(t,e,r,i,n,o){t.beginPath(),t.moveTo(e,r);const s=o.length,a=i-e,l=n-r,c=l/a;let d=Math.sqrt(a*a+l*l),u=0,h=!0,f=0,p=+o[0];for(;d>=.1;)p=+o[u++%s],p>d&&(p=d),f=Math.sqrt(p*p/(1+c*c)),f=a<0?-f:f,e+=f,r+=c*f,h===!0?t.lineTo(e,r):t.moveTo(e,r),d-=p,h=!h}function ree(t,e,r,i){t.beginPath();const n=6,o=Math.PI*2/n;t.moveTo(e+i,r);for(let s=1;s<n;s++)t.lineTo(e+i*Math.cos(o*s),r+i*Math.sin(o*s));t.closePath()}const k1={circle:Sm,dashedLine:Ak,database:xk,diamond:tee,ellipse:Rg,ellipse_vis:Rg,hexagon:ree,roundRect:kk,square:JZ,star:eee,triangle:QZ,triangleDown:ZZ};function iee(t){return Object.prototype.hasOwnProperty.call(k1,t)?k1[t]:function(e){for(var r=arguments.length,i=new Array(r>1?r-1:0),n=1;n<r;n++)i[n-1]=arguments[n];CanvasRenderingContext2D.prototype[t].call(e,i)}}var Ck={exports:{}};(function(t){t.exports=e;function e(i){if(i)return r(i)}function r(i){for(var n in e.prototype)i[n]=e.prototype[n];return i}e.prototype.on=e.prototype.addEventListener=function(i,n){return this._callbacks=this._callbacks||{},(this._callbacks["$"+i]=this._callbacks["$"+i]||[]).push(n),this},e.prototype.once=function(i,n){function o(){this.off(i,o),n.apply(this,arguments)}return o.fn=n,this.on(i,o),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(i,n){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var o=this._callbacks["$"+i];if(!o)return this;if(arguments.length==1)return delete this._callbacks["$"+i],this;for(var s,a=0;a<o.length;a++)if(s=o[a],s===n||s.fn===n){o.splice(a,1);break}return o.length===0&&delete this._callbacks["$"+i],this},e.prototype.emit=function(i){this._callbacks=this._callbacks||{};for(var n=new Array(arguments.length-1),o=this._callbacks["$"+i],s=1;s<arguments.length;s++)n[s-1]=arguments[s];if(o){o=o.slice(0);for(var s=0,a=o.length;s<a;++s)o[s].apply(this,n)}return this},e.prototype.listeners=function(i){return this._callbacks=this._callbacks||{},this._callbacks["$"+i]||[]},e.prototype.hasListeners=function(i){return!!this.listeners(i).length}})(Ck);var nee=Ck.exports,Pk=pe(nee),oee=Hi,Oo=Array.isArray||function(e){return oee(e)==="Array"},see=TypeError,aee=9007199254740991,Dk=function(t){if(t>aee)throw see("Maximum allowed index exceeded");return t},lee=Wu,cee=_r,dee=Pl,Hl=function(t,e,r){var i=lee(e);i in t?cee.f(t,i,dee(0,r)):t[i]=r},uee=ht,hee=uee("toStringTag"),Mk={};Mk[hee]="z";var Im=String(Mk)==="[object z]",fee=Im,pee=Dt,ad=Hi,gee=ht,vee=gee("toStringTag"),mee=Object,yee=ad(function(){return arguments}())==="Arguments",bee=function(t,e){try{return t[e]}catch{}},ko=fee?ad:function(t){var e,r,i;return t===void 0?"Undefined":t===null?"Null":typeof(r=bee(e=mee(t),vee))=="string"?r:yee?ad(e):(i=ad(e))==="Object"&&pee(e.callee)?"Arguments":i},$ee=ke,wee=Dt,Ng=$m,_ee=$ee(Function.toString);wee(Ng.inspectSource)||(Ng.inspectSource=function(t){return _ee(t)});var See=Ng.inspectSource,Iee=ke,Eee=Oe,Rk=Dt,Tee=ko,Oee=Kr,kee=See,Nk=function(){},xee=[],Fk=Oee("Reflect","construct"),Em=/^\s*(?:class|function)\b/,Aee=Iee(Em.exec),Cee=!Em.test(Nk),aa=function(e){if(!Rk(e))return!1;try{return Fk(Nk,xee,e),!0}catch{return!1}},qk=function(e){if(!Rk(e))return!1;switch(Tee(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Cee||!!Aee(Em,kee(e))}catch{return!0}};qk.sham=!0;var Bk=!Fk||Eee(function(){var t;return aa(aa.call)||!aa(Object)||!aa(function(){t=!0})||t})?qk:aa,x1=Oo,Pee=Bk,Dee=Lt,Mee=ht,Ree=Mee("species"),A1=Array,Nee=function(t){var e;return x1(t)&&(e=t.constructor,Pee(e)&&(e===A1||x1(e.prototype))?e=void 0:Dee(e)&&(e=e[Ree],e===null&&(e=void 0))),e===void 0?A1:e},Fee=Nee,Tm=function(t,e){return new(Fee(t))(e===0?0:e)},qee=Oe,Bee=ht,Lee=Rl,jee=Bee("species"),Wl=function(t){return Lee>=51||!qee(function(){var e=[],r=e.constructor={};return r[jee]=function(){return{foo:1}},e[t](Boolean).foo!==1})},zee=fe,Hee=Oe,Wee=Oo,Vee=Lt,Uee=Dr,Yee=vi,C1=Dk,P1=Hl,Gee=Tm,Kee=Wl,Xee=ht,Jee=Rl,Lk=Xee("isConcatSpreadable"),Qee=Jee>=51||!Hee(function(){var t=[];return t[Lk]=!1,t.concat()[0]!==t}),Zee=function(t){if(!Vee(t))return!1;var e=t[Lk];return e!==void 0?!!e:Wee(t)},ete=!Qee||!Kee("concat");zee({target:"Array",proto:!0,forced:ete},{concat:function(e){var r=Uee(this),i=Gee(r,0),n=0,o,s,a,l,c;for(o=-1,a=arguments.length;o<a;o++)if(c=o===-1?r:arguments[o],Zee(c))for(l=Yee(c),C1(n+l),s=0;s<l;s++,n++)s in c&&P1(i,n,c[s]);else C1(n+1),P1(i,n++,c);return i.length=n,i}});var tte=ko,rte=String,mi=function(t){if(tte(t)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return rte(t)},Gu={},ite=$t,nte=Ik,ote=_r,ste=Wi,ate=Gr,lte=jl;Gu.f=ite&&!nte?Object.defineProperties:function(e,r){ste(e);for(var i=ate(r),n=lte(r),o=n.length,s=0,a;o>s;)ote.f(e,a=n[s++],i[a]);return e};var cte=Kr,dte=cte("document","documentElement"),ute=Gs,hte=Hu,D1=ute("keys"),Ku=function(t){return D1[t]||(D1[t]=hte(t))},fte=Wi,pte=Gu,M1=_m,gte=Ll,vte=dte,mte=_k,yte=Ku,R1=">",N1="<",Fg="prototype",qg="script",jk=yte("IE_PROTO"),rp=function(){},zk=function(t){return N1+qg+R1+t+N1+"/"+qg+R1},F1=function(t){t.write(zk("")),t.close();var e=t.parentWindow.Object;return t=null,e},bte=function(){var t=mte("iframe"),e="java"+qg+":",r;return t.style.display="none",vte.appendChild(t),t.src=String(e),r=t.contentWindow.document,r.open(),r.write(zk("document.F=Object")),r.close(),r.F},Mc,ld=function(){try{Mc=new ActiveXObject("htmlfile")}catch{}ld=typeof document<"u"?document.domain&&Mc?F1(Mc):bte():F1(Mc);for(var t=M1.length;t--;)delete ld[Fg][M1[t]];return ld()};gte[jk]=!0;var Vl=Object.create||function(e,r){var i;return e!==null?(rp[Fg]=fte(e),i=new rp,rp[Fg]=null,i[jk]=e):i=ld(),r===void 0?i:pte.f(i,r)},Ul={},$te=Ek,wte=_m,_te=wte.concat("length","prototype");Ul.f=Object.getOwnPropertyNames||function(e){return $te(e,_te)};var Xu={},q1=Bl,Ste=vi,Ite=Hl,Ete=Array,Tte=Math.max,Hk=function(t,e,r){for(var i=Ste(t),n=q1(e,i),o=q1(r===void 0?i:r,i),s=Ete(Tte(o-n,0)),a=0;n<o;n++,a++)Ite(s,a,t[n]);return s.length=a,s},Ote=Hi,kte=Gr,Wk=Ul.f,xte=Hk,Vk=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Ate=function(t){try{return Wk(t)}catch{return xte(Vk)}};Xu.f=function(e){return Vk&&Ote(e)==="Window"?Ate(e):Wk(kte(e))};var Cte=Ks,Yl=function(t,e,r,i){return i&&i.enumerable?t[e]=r:Cte(t,e,r),t},Pte=_r,Om=function(t,e,r){return Pte.f(t,e,r)},Gl={},Dte=ht;Gl.f=Dte;var B1=De,Mte=Mt,Rte=Gl,Nte=_r.f,ot=function(t){var e=B1.Symbol||(B1.Symbol={});Mte(e,t)||Nte(e,t,{value:Rte.f(t)})},Fte=Yr,qte=Kr,Bte=ht,Lte=Yl,Uk=function(){var t=qte("Symbol"),e=t&&t.prototype,r=e&&e.valueOf,i=Bte("toPrimitive");e&&!e[i]&&Lte(e,i,function(n){return Fte(r,this)},{})},jte=Im,zte=ko,Hte=jte?{}.toString:function(){return"[object "+zte(this)+"]"},Wte=Im,Vte=_r.f,Ute=Ks,Yte=Mt,Gte=Hte,Kte=ht,L1=Kte("toStringTag"),Xs=function(t,e,r,i){if(t){var n=r?t:t.prototype;Yte(n,L1)||Vte(n,L1,{configurable:!0,value:e}),i&&!Wte&&Ute(n,"toString",Gte)}},Xte=nt,Jte=Dt,j1=Xte.WeakMap,Yk=Jte(j1)&&/native code/.test(String(j1)),Qte=Yk,Gk=nt,Zte=Lt,ere=Ks,ip=Mt,np=$m,tre=Ku,rre=Ll,z1="Object already initialized",Bg=Gk.TypeError,ire=Gk.WeakMap,jd,Qa,zd,nre=function(t){return zd(t)?Qa(t):jd(t,{})},ore=function(t){return function(e){var r;if(!Zte(e)||(r=Qa(e)).type!==t)throw new Bg("Incompatible receiver, "+t+" required");return r}};if(Qte||np.state){var ri=np.state||(np.state=new ire);ri.get=ri.get,ri.has=ri.has,ri.set=ri.set,jd=function(t,e){if(ri.has(t))throw new Bg(z1);return e.facade=t,ri.set(t,e),e},Qa=function(t){return ri.get(t)||{}},zd=function(t){return ri.has(t)}}else{var Vo=tre("state");rre[Vo]=!0,jd=function(t,e){if(ip(t,Vo))throw new Bg(z1);return e.facade=t,ere(t,Vo,e),e},Qa=function(t){return ip(t,Vo)?t[Vo]:{}},zd=function(t){return ip(t,Vo)}}var xo={set:jd,get:Qa,has:zd,enforce:nre,getterFor:ore},sre=Vu,are=ke,lre=zu,cre=Dr,dre=vi,ure=Tm,H1=are([].push),jn=function(t){var e=t===1,r=t===2,i=t===3,n=t===4,o=t===6,s=t===7,a=t===5||o;return function(l,c,d,u){for(var h=cre(l),f=lre(h),p=sre(c,d),v=dre(f),y=0,m=u||ure,$=e?m(l,v):r||s?m(l,0):void 0,S,_;v>y;y++)if((a||y in f)&&(S=f[y],_=p(S,y,h),t))if(e)$[y]=_;else if(_)switch(t){case 3:return!0;case 5:return S;case 6:return y;case 2:H1($,S)}else switch(t){case 4:return!1;case 7:H1($,S)}return o?-1:i||n?n:$}},Pn={forEach:jn(0),map:jn(1),filter:jn(2),some:jn(3),every:jn(4),find:jn(5),findIndex:jn(6)},Ju=fe,Qu=nt,km=Yr,hre=ke,Ss=$t,Is=Us,fre=Oe,St=Mt,pre=yt,Lg=Wi,Zu=Gr,xm=Wu,gre=mi,jg=Pl,Za=Vl,Kk=jl,vre=Ul,Xk=Xu,mre=zl,Jk=Al,Qk=_r,yre=Gu,Zk=Cl,W1=Yl,bre=Om,Am=Gs,$re=Ku,ex=Ll,V1=Hu,wre=ht,_re=Gl,Sre=ot,Ire=Uk,Ere=Xs,tx=xo,eh=Pn.forEach,nr=$re("hidden"),th="Symbol",el="prototype",Tre=tx.set,U1=tx.getterFor(th),jr=Object[el],to=Qu.Symbol,pa=to&&to[el],Ore=Qu.RangeError,kre=Qu.TypeError,op=Qu.QObject,rx=Jk.f,ro=Qk.f,ix=Xk.f,xre=Zk.f,nx=hre([].push),qi=Am("symbols"),Kl=Am("op-symbols"),Are=Am("wks"),zg=!op||!op[el]||!op[el].findChild,ox=function(t,e,r){var i=rx(jr,e);i&&delete jr[e],ro(t,e,r),i&&t!==jr&&ro(jr,e,i)},Hg=Ss&&fre(function(){return Za(ro({},"a",{get:function(){return ro(this,"a",{value:7}).a}})).a!==7})?ox:ro,sp=function(t,e){var r=qi[t]=Za(pa);return Tre(r,{type:th,tag:t,description:e}),Ss||(r.description=e),r},rh=function(e,r,i){e===jr&&rh(Kl,r,i),Lg(e);var n=xm(r);return Lg(i),St(qi,n)?(i.enumerable?(St(e,nr)&&e[nr][n]&&(e[nr][n]=!1),i=Za(i,{enumerable:jg(0,!1)})):(St(e,nr)||ro(e,nr,jg(1,{})),e[nr][n]=!0),Hg(e,n,i)):ro(e,n,i)},Cm=function(e,r){Lg(e);var i=Zu(r),n=Kk(i).concat(cx(i));return eh(n,function(o){(!Ss||km(sx,i,o))&&rh(e,o,i[o])}),e},Cre=function(e,r){return r===void 0?Za(e):Cm(Za(e),r)},sx=function(e){var r=xm(e),i=km(xre,this,r);return this===jr&&St(qi,r)&&!St(Kl,r)?!1:i||!St(this,r)||!St(qi,r)||St(this,nr)&&this[nr][r]?i:!0},ax=function(e,r){var i=Zu(e),n=xm(r);if(!(i===jr&&St(qi,n)&&!St(Kl,n))){var o=rx(i,n);return o&&St(qi,n)&&!(St(i,nr)&&i[nr][n])&&(o.enumerable=!0),o}},lx=function(e){var r=ix(Zu(e)),i=[];return eh(r,function(n){!St(qi,n)&&!St(ex,n)&&nx(i,n)}),i},cx=function(t){var e=t===jr,r=ix(e?Kl:Zu(t)),i=[];return eh(r,function(n){St(qi,n)&&(!e||St(jr,n))&&nx(i,qi[n])}),i};Is||(to=function(){if(pre(pa,this))throw new kre("Symbol is not a constructor");var e=!arguments.length||arguments[0]===void 0?void 0:gre(arguments[0]),r=V1(e),i=function(n){this===jr&&km(i,Kl,n),St(this,nr)&&St(this[nr],r)&&(this[nr][r]=!1);var o=jg(1,n);try{Hg(this,r,o)}catch(s){if(!(s instanceof Ore))throw s;ox(this,r,o)}};return Ss&&zg&&Hg(jr,r,{configurable:!0,set:i}),sp(r,e)},pa=to[el],W1(pa,"toString",function(){return U1(this).tag}),W1(to,"withoutSetter",function(t){return sp(V1(t),t)}),Zk.f=sx,Qk.f=rh,yre.f=Cm,Jk.f=ax,vre.f=Xk.f=lx,mre.f=cx,_re.f=function(t){return sp(wre(t),t)},Ss&&bre(pa,"description",{configurable:!0,get:function(){return U1(this).description}}));Ju({global:!0,wrap:!0,forced:!Is,sham:!Is},{Symbol:to});eh(Kk(Are),function(t){Sre(t)});Ju({target:th,stat:!0,forced:!Is},{useSetter:function(){zg=!0},useSimple:function(){zg=!1}});Ju({target:"Object",stat:!0,forced:!Is,sham:!Ss},{create:Cre,defineProperty:rh,defineProperties:Cm,getOwnPropertyDescriptor:ax});Ju({target:"Object",stat:!0,forced:!Is},{getOwnPropertyNames:lx});Ire();Ere(to,th);ex[nr]=!0;var Pre=Us,dx=Pre&&!!Symbol.for&&!!Symbol.keyFor,Dre=fe,Mre=Kr,Rre=Mt,Nre=mi,ux=Gs,Fre=dx,ap=ux("string-to-symbol-registry"),qre=ux("symbol-to-string-registry");Dre({target:"Symbol",stat:!0,forced:!Fre},{for:function(t){var e=Nre(t);if(Rre(ap,e))return ap[e];var r=Mre("Symbol")(e);return ap[e]=r,qre[r]=e,r}});var Bre=fe,Lre=Mt,jre=Nl,zre=Fl,Hre=Gs,Wre=dx,Y1=Hre("symbol-to-string-registry");Bre({target:"Symbol",stat:!0,forced:!Wre},{keyFor:function(e){if(!jre(e))throw new TypeError(zre(e)+" is not a symbol");if(Lre(Y1,e))return Y1[e]}});var Vre=ke,G1=Oo,Ure=Dt,K1=Hi,Yre=mi,X1=Vre([].push),Gre=function(t){if(Ure(t))return t;if(G1(t)){for(var e=t.length,r=[],i=0;i<e;i++){var n=t[i];typeof n=="string"?X1(r,n):(typeof n=="number"||K1(n)==="Number"||K1(n)==="String")&&X1(r,Yre(n))}var o=r.length,s=!0;return function(a,l){if(s)return s=!1,l;if(G1(this))return l;for(var c=0;c<o;c++)if(r[c]===a)return l}}},Kre=fe,hx=Kr,fx=ju,Xre=Yr,Xl=ke,px=Oe,J1=Dt,Q1=Nl,gx=Yu,Jre=Gre,Qre=Us,Zre=String,pn=hx("JSON","stringify"),Rc=Xl(/./.exec),Z1=Xl("".charAt),eie=Xl("".charCodeAt),tie=Xl("".replace),rie=Xl(1 .toString),iie=/[\uD800-\uDFFF]/g,e0=/^[\uD800-\uDBFF]$/,t0=/^[\uDC00-\uDFFF]$/,r0=!Qre||px(function(){var t=hx("Symbol")("stringify detection");return pn([t])!=="[null]"||pn({a:t})!=="{}"||pn(Object(t))!=="{}"}),i0=px(function(){return pn("\uDF06\uD834")!=='"\\udf06\\ud834"'||pn("\uDEAD")!=='"\\udead"'}),nie=function(t,e){var r=gx(arguments),i=Jre(e);if(!(!J1(i)&&(t===void 0||Q1(t))))return r[1]=function(n,o){if(J1(i)&&(o=Xre(i,this,Zre(n),o)),!Q1(o))return o},fx(pn,null,r)},oie=function(t,e,r){var i=Z1(r,e-1),n=Z1(r,e+1);return Rc(e0,t)&&!Rc(t0,n)||Rc(t0,t)&&!Rc(e0,i)?"\\u"+rie(eie(t,0),16):t};pn&&Kre({target:"JSON",stat:!0,forced:r0||i0},{stringify:function(e,r,i){var n=gx(arguments),o=fx(r0?nie:pn,null,n);return i0&&typeof o=="string"?tie(o,iie,oie):o}});var sie=fe,aie=Us,lie=Oe,vx=zl,cie=Dr,die=!aie||lie(function(){vx.f(1)});sie({target:"Object",stat:!0,forced:die},{getOwnPropertySymbols:function(e){var r=vx.f;return r?r(cie(e)):[]}});var uie=ot;uie("asyncIterator");var hie=ot;hie("hasInstance");var fie=ot;fie("isConcatSpreadable");var pie=ot;pie("iterator");var gie=ot;gie("match");var vie=ot;vie("matchAll");var mie=ot;mie("replace");var yie=ot;yie("search");var bie=ot;bie("species");var $ie=ot;$ie("split");var wie=ot,_ie=Uk;wie("toPrimitive");_ie();var Sie=Kr,Iie=ot,Eie=Xs;Iie("toStringTag");Eie(Sie("Symbol"),"Symbol");var Tie=ot;Tie("unscopables");var Oie=nt,kie=Xs;kie(Oie.JSON,"JSON",!0);var xie=De,Aie=xie.Symbol,Js={},Wg=$t,Cie=Mt,mx=Function.prototype,Pie=Wg&&Object.getOwnPropertyDescriptor,yx=Cie(mx,"name"),Die=yx&&(function(){}).name==="something";yx&&(!Wg||Wg&&Pie(mx,"name").configurable);var Mie={PROPER:Die},Rie=Oe,bx=!Rie(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}),Nie=Mt,Fie=Dt,qie=Dr,Bie=Ku,Lie=bx,n0=Bie("IE_PROTO"),Vg=Object,jie=Vg.prototype,ih=Lie?Vg.getPrototypeOf:function(t){var e=qie(t);if(Nie(e,n0))return e[n0];var r=e.constructor;return Fie(r)&&e instanceof r?r.prototype:e instanceof Vg?jie:null},zie=Oe,Hie=Dt,Wie=Lt,Vie=Vl,o0=ih,Uie=Yl,Yie=ht,Ug=Yie("iterator"),$x=!1,Oi,lp,cp;[].keys&&(cp=[].keys(),"next"in cp?(lp=o0(o0(cp)),lp!==Object.prototype&&(Oi=lp)):$x=!0);var Gie=!Wie(Oi)||zie(function(){var t={};return Oi[Ug].call(t)!==t});Gie?Oi={}:Oi=Vie(Oi);Hie(Oi[Ug])||Uie(Oi,Ug,function(){return this});var wx={IteratorPrototype:Oi,BUGGY_SAFARI_ITERATORS:$x},Kie=wx.IteratorPrototype,Xie=Vl,Jie=Pl,Qie=Xs,Zie=Js,ene=function(){return this},tne=function(t,e,r,i){var n=e+" Iterator";return t.prototype=Xie(Kie,{next:Jie(+!i,r)}),Qie(t,n,!1,!0),Zie[n]=ene,t},rne=fe,ine=Yr,nne=Mie,one=tne,sne=ih,ane=Xs,s0=Yl,lne=ht,a0=Js,cne=wx,dne=nne.PROPER,Nc=cne.BUGGY_SAFARI_ITERATORS,dp=lne("iterator"),l0="keys",Fc="values",c0="entries",une=function(){return this},Pm=function(t,e,r,i,n,o,s){one(r,e,i);var a=function(m){if(m===n&&h)return h;if(!Nc&&m&&m in d)return d[m];switch(m){case l0:return function(){return new r(this,m)};case Fc:return function(){return new r(this,m)};case c0:return function(){return new r(this,m)}}return function(){return new r(this)}},l=e+" Iterator",c=!1,d=t.prototype,u=d[dp]||d["@@iterator"]||n&&d[n],h=!Nc&&u||a(n),f=e==="Array"&&d.entries||u,p,v,y;if(f&&(p=sne(f.call(new t)),p!==Object.prototype&&p.next&&(ane(p,l,!0,!0),a0[l]=une)),dne&&n===Fc&&u&&u.name!==Fc&&(c=!0,h=function(){return ine(u,this)}),n)if(v={values:a(Fc),keys:o?h:a(l0),entries:a(c0)},s)for(y in v)(Nc||c||!(y in d))&&s0(d,y,v[y]);else rne({target:e,proto:!0,forced:Nc||c},v);return s&&d[dp]!==h&&s0(d,dp,h,{}),a0[e]=h,v},Dm=function(t,e){return{value:t,done:e}},hne=Gr,d0=Js,_x=xo;_r.f;var fne=Pm,qc=Dm,Sx="Array Iterator",pne=_x.set,gne=_x.getterFor(Sx);fne(Array,"Array",function(t,e){pne(this,{type:Sx,target:hne(t),index:0,kind:e})},function(){var t=gne(this),e=t.target,r=t.kind,i=t.index++;if(!e||i>=e.length)return t.target=void 0,qc(void 0,!0);switch(r){case"keys":return qc(i,!1);case"values":return qc(e[i],!1)}return qc([i,e[i]],!1)},"values");d0.Arguments=d0.Array;var vne={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},mne=vne,yne=nt,bne=ko,$ne=Ks,u0=Js,wne=ht,h0=wne("toStringTag");for(var up in mne){var f0=yne[up],hp=f0&&f0.prototype;hp&&bne(hp)!==h0&&$ne(hp,h0,up),u0[up]=u0.Array}var _ne=Aie,Ix=_ne,Sne=Ix,Ine=pe(Sne),Ene=fe,p0=Oo,Tne=Bk,One=Lt,g0=Bl,kne=vi,xne=Gr,Ane=Hl,Cne=ht,Pne=Wl,Dne=Yu,Mne=Pne("slice"),Rne=Cne("species"),fp=Array,Nne=Math.max;Ene({target:"Array",proto:!0,forced:!Mne},{slice:function(e,r){var i=xne(this),n=kne(i),o=g0(e,n),s=g0(r===void 0?n:r,n),a,l,c;if(p0(i)&&(a=i.constructor,Tne(a)&&(a===fp||p0(a.prototype))?a=void 0:One(a)&&(a=a[Rne],a===null&&(a=void 0)),a===fp||a===void 0))return Dne(i,o,s);for(l=new(a===void 0?fp:a)(Nne(s-o,0)),c=0;o<s;o++,c++)o in i&&Ane(l,c,i[o]);return l.length=c,l}});var Fne=Rt,qne=Fne("Array").slice,Bne=yt,Lne=qne,pp=Array.prototype,jne=function(t){var e=t.slice;return t===pp||Bne(pp,t)&&e===pp.slice?Lne:e},zne=jne,Hne=zne,Wne=Hne,si=pe(Wne),Vne=Kr,Une=ke,Yne=Ul,Gne=zl,Kne=Wi,Xne=Une([].concat),Jne=Vne("Reflect","ownKeys")||function(e){var r=Yne.f(Kne(e)),i=Gne.f;return i?Xne(r,i(e)):r},Qne=fe,Zne=Oo;Qne({target:"Array",stat:!0},{isArray:Zne});var eoe=De,toe=eoe.Array.isArray,roe=toe,ioe=roe,noe=ioe,et=pe(noe),ooe=fe,soe=Pn.map,aoe=Wl,loe=aoe("map");ooe({target:"Array",proto:!0,forced:!loe},{map:function(e){return soe(this,e,arguments.length>1?arguments[1]:void 0)}});var coe=Rt,doe=coe("Array").map,uoe=yt,hoe=doe,gp=Array.prototype,foe=function(t){var e=t.map;return t===gp||uoe(gp,t)&&e===gp.map?hoe:e},poe=foe,goe=poe,voe=goe,Es=pe(voe),moe=fe,yoe=Dr,Ex=jl,boe=Oe,$oe=boe(function(){Ex(1)});moe({target:"Object",stat:!0,forced:$oe},{keys:function(e){return Ex(yoe(e))}});var woe=De,_oe=woe.Object.keys,Soe=_oe,Ioe=Soe,Eoe=Ioe,Ze=pe(Eoe),Toe=fe,Ooe=ke,Tx=Date,koe=Ooe(Tx.prototype.getTime);Toe({target:"Date",stat:!0},{now:function(){return koe(new Tx)}});var xoe=De,Aoe=xoe.Date.now,Coe=Aoe,Poe=Coe,Doe=Poe,Hd=pe(Doe),Moe=Oe,Qs=function(t,e){var r=[][t];return!!r&&Moe(function(){r.call(null,e||function(){return 1},1)})},Roe=Pn.forEach,Noe=Qs,Foe=Noe("forEach"),qoe=Foe?[].forEach:function(e){return Roe(this,e,arguments.length>1?arguments[1]:void 0)},Boe=fe,v0=qoe;Boe({target:"Array",proto:!0,forced:[].forEach!==v0},{forEach:v0});var Loe=Rt,joe=Loe("Array").forEach,zoe=joe,Hoe=zoe,Woe=ko,Voe=Mt,Uoe=yt,Yoe=Hoe,vp=Array.prototype,Goe={DOMTokenList:!0,NodeList:!0},Koe=function(t){var e=t.forEach;return t===vp||Uoe(vp,t)&&e===vp.forEach||Voe(Goe,Woe(t))?Yoe:e},Xoe=Koe,Fe=pe(Xoe),Joe=fe,Qoe=ke,Zoe=Oo,ese=Qoe([].reverse),m0=[1,2];Joe({target:"Array",proto:!0,forced:String(m0)===String(m0.reverse())},{reverse:function(){return Zoe(this)&&(this.length=this.length),ese(this)}});var tse=Rt,rse=tse("Array").reverse,ise=yt,nse=rse,mp=Array.prototype,ose=function(t){var e=t.reverse;return t===mp||ise(mp,t)&&e===mp.reverse?nse:e},sse=ose,ase=sse,lse=ase,io=pe(lse),cse=$t,dse=Oo,use=TypeError,hse=Object.getOwnPropertyDescriptor,fse=cse&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}(),pse=fse?function(t,e){if(dse(t)&&!hse(t,"length").writable)throw new use("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e},y0=Fl,gse=TypeError,Ox=function(t,e){if(!delete t[e])throw new gse("Cannot delete property "+y0(e)+" of "+y0(t))},vse=fe,mse=Dr,yse=Bl,bse=Uu,$se=vi,wse=pse,_se=Dk,Sse=Tm,Ise=Hl,yp=Ox,Ese=Wl,Tse=Ese("splice"),Ose=Math.max,kse=Math.min;vse({target:"Array",proto:!0,forced:!Tse},{splice:function(e,r){var i=mse(this),n=$se(i),o=yse(e,n),s=arguments.length,a,l,c,d,u,h;for(s===0?a=l=0:s===1?(a=0,l=n-o):(a=s-2,l=kse(Ose(bse(r),0),n-o)),_se(n+a-l),c=Sse(i,l),d=0;d<l;d++)u=o+d,u in i&&Ise(c,d,i[u]);if(c.length=l,a<l){for(d=o;d<n-l;d++)u=d+l,h=d+a,u in i?i[h]=i[u]:yp(i,h);for(d=n;d>n-l+a;d--)yp(i,d-1)}else if(a>l)for(d=n-l;d>o;d--)u=d+l-1,h=d+a-1,u in i?i[h]=i[u]:yp(i,h);for(d=0;d<a;d++)i[d+o]=arguments[d+2];return wse(i,n-l+a),c}});var xse=Rt,Ase=xse("Array").splice,Cse=yt,Pse=Ase,bp=Array.prototype,Dse=function(t){var e=t.splice;return t===bp||Cse(bp,t)&&e===bp.splice?Pse:e},Mse=Dse,Rse=Mse,Nse=Rse,ki=pe(Nse),Fse=fe,qse=wm.includes,Bse=Oe,Lse=Bse(function(){return!Array(1).includes()});Fse({target:"Array",proto:!0,forced:Lse},{includes:function(e){return qse(this,e,arguments.length>1?arguments[1]:void 0)}});var jse=Rt,zse=jse("Array").includes,Hse=Lt,Wse=Hi,Vse=ht,Use=Vse("match"),Yse=function(t){var e;return Hse(t)&&((e=t[Use])!==void 0?!!e:Wse(t)==="RegExp")},Gse=Yse,Kse=TypeError,Xse=function(t){if(Gse(t))throw new Kse("The method doesn't accept regular expressions");return t},Jse=ht,Qse=Jse("match"),Zse=function(t){var e=/./;try{"/./"[t](e)}catch{try{return e[Qse]=!1,"/./"[t](e)}catch{}}return!1},eae=fe,tae=ke,rae=Xse,iae=Dl,b0=mi,nae=Zse,oae=tae("".indexOf);eae({target:"String",proto:!0,forced:!nae("includes")},{includes:function(e){return!!~oae(b0(iae(this)),b0(rae(e)),arguments.length>1?arguments[1]:void 0)}});var sae=Rt,aae=sae("String").includes,$0=yt,lae=zse,cae=aae,$p=Array.prototype,wp=String.prototype,dae=function(t){var e=t.includes;return t===$p||$0($p,t)&&e===$p.includes?lae:typeof t=="string"||t===wp||$0(wp,t)&&e===wp.includes?cae:e},uae=dae,hae=uae,fae=hae,gn=pe(fae),pae=fe,gae=Oe,vae=Dr,kx=ih,mae=bx,yae=gae(function(){kx(1)});pae({target:"Object",stat:!0,forced:yae,sham:!mae},{getPrototypeOf:function(e){return kx(vae(e))}});var bae=De,$ae=bae.Object.getPrototypeOf,wae=$ae,_ae=wae,Sae=_ae,w0=pe(Sae),Iae=Rt,Eae=Iae("Array").concat,Tae=yt,Oae=Eae,_p=Array.prototype,kae=function(t){var e=t.concat;return t===_p||Tae(_p,t)&&e===_p.concat?Oae:e},xae=kae,Aae=xae,Cae=Aae,Pae=pe(Cae),Dae=fe,Mae=Pn.filter,Rae=Wl,Nae=Rae("filter");Dae({target:"Array",proto:!0,forced:!Nae},{filter:function(e){return Mae(this,e,arguments.length>1?arguments[1]:void 0)}});var Fae=Rt,qae=Fae("Array").filter,Bae=yt,Lae=qae,Sp=Array.prototype,jae=function(t){var e=t.filter;return t===Sp||Bae(Sp,t)&&e===Sp.filter?Lae:e},zae=jae,Hae=zae,Wae=Hae,or=pe(Wae),xx=$t,Vae=Oe,Ax=ke,Uae=ih,Yae=jl,Gae=Gr,Kae=Cl.f,Cx=Ax(Kae),Xae=Ax([].push),Jae=xx&&Vae(function(){var t=Object.create(null);return t[2]=2,!Cx(t,2)}),Qae=function(t){return function(e){for(var r=Gae(e),i=Yae(r),n=Jae&&Uae(r)===null,o=i.length,s=0,a=[],l;o>s;)l=i[s++],(!xx||(n?l in r:Cx(r,l)))&&Xae(a,t?[l,r[l]]:r[l]);return a}},Zae={values:Qae(!1)},ele=fe,tle=Zae.values;ele({target:"Object",stat:!0},{values:function(e){return tle(e)}});var rle=De,ile=rle.Object.values,nle=ile,ole=nle,sle=ole,ale=pe(sle),Mm=`	
\v\f\r \u2028\u2029\uFEFF`,lle=ke,cle=Dl,dle=mi,Yg=Mm,_0=lle("".replace),ule=RegExp("^["+Yg+"]+"),hle=RegExp("(^|[^"+Yg+"])["+Yg+"]+$"),fle=function(t){return function(e){var r=dle(cle(e));return t&1&&(r=_0(r,ule,"")),t&2&&(r=_0(r,hle,"$1")),r}},Px={trim:fle(3)},Dx=nt,ple=Oe,gle=ke,vle=mi,mle=Px.trim,S0=Mm,Aa=Dx.parseInt,I0=Dx.Symbol,E0=I0&&I0.iterator,Mx=/^[+-]?0x/i,yle=gle(Mx.exec),ble=Aa(S0+"08")!==8||Aa(S0+"0x16")!==22||E0&&!ple(function(){Aa(Object(E0))}),$le=ble?function(e,r){var i=mle(vle(e));return Aa(i,r>>>0||(yle(Mx,i)?16:10))}:Aa,wle=fe,T0=$le;wle({global:!0,forced:parseInt!==T0},{parseInt:T0});var _le=De,Sle=_le.parseInt,Ile=Sle,Ele=Ile,Tle=Ele,Br=pe(Tle),Ole=fe,kle=ym,xle=wm.indexOf,Ale=Qs,Gg=kle([].indexOf),Rx=!!Gg&&1/Gg([1],1,-0)<0,Cle=Rx||!Ale("indexOf");Ole({target:"Array",proto:!0,forced:Cle},{indexOf:function(e){var r=arguments.length>1?arguments[1]:void 0;return Rx?Gg(this,e,r)||0:xle(this,e,r)}});var Ple=Rt,Dle=Ple("Array").indexOf,Mle=yt,Rle=Dle,Ip=Array.prototype,Nle=function(t){var e=t.indexOf;return t===Ip||Mle(Ip,t)&&e===Ip.indexOf?Rle:e},Fle=Nle,qle=Fle,Ble=qle,Pe=pe(Ble),Lle=fe,jle=$t,zle=Vl;Lle({target:"Object",stat:!0,sham:!jle},{create:zle});var Hle=De,Wle=Hle.Object,Vle=function(e,r){return Wle.create(e,r)},Ule=Vle,Yle=Ule,Gle=Yle,no=pe(Gle),Kg=De,Kle=ju;Kg.JSON||(Kg.JSON={stringify:JSON.stringify});var Xle=function(e,r,i){return Kle(Kg.JSON.stringify,null,arguments)},Jle=Xle,Qle=Jle,Zle=Qle,Jl=pe(Zle),ece=typeof Bun=="function"&&Bun&&typeof Bun.version=="string",tce=TypeError,rce=function(t,e){if(t<e)throw new tce("Not enough arguments");return t},Nx=nt,ice=ju,nce=Dt,oce=ece,sce=Ml,ace=Yu,lce=rce,cce=Nx.Function,dce=/MSIE .\./.test(sce)||oce&&function(){var t=Nx.Bun.version.split(".");return t.length<3||t[0]==="0"&&(t[1]<3||t[1]==="3"&&t[2]==="0")}(),Fx=function(t,e){var r=e?2:1;return dce?function(i,n){var o=lce(arguments.length,1)>r,s=nce(i)?i:cce(i),a=o?ace(arguments,r):[],l=o?function(){ice(s,this,a)}:s;return e?t(l,n):t(l)}:t},uce=fe,qx=nt,hce=Fx,O0=hce(qx.setInterval,!0);uce({global:!0,bind:!0,forced:qx.setInterval!==O0},{setInterval:O0});var fce=fe,Bx=nt,pce=Fx,k0=pce(Bx.setTimeout,!0);fce({global:!0,bind:!0,forced:Bx.setTimeout!==k0},{setTimeout:k0});var gce=De,vce=gce.setTimeout,mce=vce,xi=pe(mce),yce=Dr,x0=Bl,bce=vi,$ce=function(e){for(var r=yce(this),i=bce(r),n=arguments.length,o=x0(n>1?arguments[1]:void 0,i),s=n>2?arguments[2]:void 0,a=s===void 0?i:x0(s,i);a>o;)r[o++]=e;return r},wce=fe,_ce=$ce;wce({target:"Array",proto:!0},{fill:_ce});var Sce=Rt,Ice=Sce("Array").fill,Ece=yt,Tce=Ice,Ep=Array.prototype,Oce=function(t){var e=t.fill;return t===Ep||Ece(Ep,t)&&e===Ep.fill?Tce:e},kce=Oce,xce=kce,Ace=xce,Ql=pe(Ace);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function Ur(){return Ur=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Ur.apply(this,arguments)}function Mr(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function Bc(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Xg;typeof Object.assign!="function"?Xg=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(e),i=1;i<arguments.length;i++){var n=arguments[i];if(n!=null)for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])}return r}:Xg=Object.assign;var go=Xg,A0=["","webkit","Moz","MS","ms","o"],Cce=typeof document>"u"?{style:{}}:document.createElement("div"),Pce="function",ns=Math.round,vo=Math.abs,Rm=Date.now;function nh(t,e){for(var r,i,n=e[0].toUpperCase()+e.slice(1),o=0;o<A0.length;){if(r=A0[o],i=r?r+n:e,i in t)return i;o++}}var Ai;typeof window>"u"?Ai={}:Ai=window;var Lx=nh(Cce.style,"touchAction"),jx=Lx!==void 0;function Dce(){if(!jx)return!1;var t={},e=Ai.CSS&&Ai.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(r){return t[r]=e?Ai.CSS.supports("touch-action",r):!0}),t}var zx="compute",Hx="auto",Jg="manipulation",oo="none",tl="pan-x",rl="pan-y",Lc=Dce(),Mce=/mobile|tablet|ip(ad|hone|od)|android/i,Wx="ontouchstart"in Ai,Rce=nh(Ai,"PointerEvent")!==void 0,Nce=Wx&&Mce.test(navigator.userAgent),Zl="touch",Fce="pen",Nm="mouse",qce="kinect",Bce=25,Kt=1,Ao=2,gt=4,cr=8,Wd=1,ec=2,tc=4,rc=8,Ts=16,hi=ec|tc,so=rc|Ts,Vx=hi|so,Ux=["x","y"],Vd=["clientX","clientY"];function Ci(t,e,r){var i;if(t)if(t.forEach)t.forEach(e,r);else if(t.length!==void 0)for(i=0;i<t.length;)e.call(r,t[i],i,t),i++;else for(i in t)t.hasOwnProperty(i)&&e.call(r,t[i],i,t)}function oh(t,e){return typeof t===Pce?t.apply(e&&e[0]||void 0,e):t}function Un(t,e){return t.indexOf(e)>-1}function Lce(t){if(Un(t,oo))return oo;var e=Un(t,tl),r=Un(t,rl);return e&&r?oo:e||r?e?tl:rl:Un(t,Jg)?Jg:Hx}var Yx=function(){function t(r,i){this.manager=r,this.set(i)}var e=t.prototype;return e.set=function(i){i===zx&&(i=this.compute()),jx&&this.manager.element.style&&Lc[i]&&(this.manager.element.style[Lx]=i),this.actions=i.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var i=[];return Ci(this.manager.recognizers,function(n){oh(n.options.enable,[n])&&(i=i.concat(n.getTouchAction()))}),Lce(i.join(" "))},e.preventDefaults=function(i){var n=i.srcEvent,o=i.offsetDirection;if(this.manager.session.prevented){n.preventDefault();return}var s=this.actions,a=Un(s,oo)&&!Lc[oo],l=Un(s,rl)&&!Lc[rl],c=Un(s,tl)&&!Lc[tl];if(a){var d=i.pointers.length===1,u=i.distance<2,h=i.deltaTime<250;if(d&&u&&h)return}if(!(c&&l)&&(a||l&&o&hi||c&&o&so))return this.preventSrc(n)},e.preventSrc=function(i){this.manager.session.prevented=!0,i.preventDefault()},t}();function Fm(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function Gx(t){var e=t.length;if(e===1)return{x:ns(t[0].clientX),y:ns(t[0].clientY)};for(var r=0,i=0,n=0;n<e;)r+=t[n].clientX,i+=t[n].clientY,n++;return{x:ns(r/e),y:ns(i/e)}}function C0(t){for(var e=[],r=0;r<t.pointers.length;)e[r]={clientX:ns(t.pointers[r].clientX),clientY:ns(t.pointers[r].clientY)},r++;return{timeStamp:Rm(),pointers:e,center:Gx(e),deltaX:t.deltaX,deltaY:t.deltaY}}function Ud(t,e,r){r||(r=Ux);var i=e[r[0]]-t[r[0]],n=e[r[1]]-t[r[1]];return Math.sqrt(i*i+n*n)}function Qg(t,e,r){r||(r=Ux);var i=e[r[0]]-t[r[0]],n=e[r[1]]-t[r[1]];return Math.atan2(n,i)*180/Math.PI}function Kx(t,e){return t===e?Wd:vo(t)>=vo(e)?t<0?ec:tc:e<0?rc:Ts}function jce(t,e){var r=e.center,i=t.offsetDelta||{},n=t.prevDelta||{},o=t.prevInput||{};(e.eventType===Kt||o.eventType===gt)&&(n=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=t.offsetDelta={x:r.x,y:r.y}),e.deltaX=n.x+(r.x-i.x),e.deltaY=n.y+(r.y-i.y)}function Xx(t,e,r){return{x:e/t||0,y:r/t||0}}function zce(t,e){return Ud(e[0],e[1],Vd)/Ud(t[0],t[1],Vd)}function Hce(t,e){return Qg(e[1],e[0],Vd)+Qg(t[1],t[0],Vd)}function Wce(t,e){var r=t.lastInterval||e,i=e.timeStamp-r.timeStamp,n,o,s,a;if(e.eventType!==cr&&(i>Bce||r.velocity===void 0)){var l=e.deltaX-r.deltaX,c=e.deltaY-r.deltaY,d=Xx(i,l,c);o=d.x,s=d.y,n=vo(d.x)>vo(d.y)?d.x:d.y,a=Kx(l,c),t.lastInterval=e}else n=r.velocity,o=r.velocityX,s=r.velocityY,a=r.direction;e.velocity=n,e.velocityX=o,e.velocityY=s,e.direction=a}function Vce(t,e){var r=t.session,i=e.pointers,n=i.length;r.firstInput||(r.firstInput=C0(e)),n>1&&!r.firstMultiple?r.firstMultiple=C0(e):n===1&&(r.firstMultiple=!1);var o=r.firstInput,s=r.firstMultiple,a=s?s.center:o.center,l=e.center=Gx(i);e.timeStamp=Rm(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=Qg(a,l),e.distance=Ud(a,l),jce(r,e),e.offsetDirection=Kx(e.deltaX,e.deltaY);var c=Xx(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=vo(c.x)>vo(c.y)?c.x:c.y,e.scale=s?zce(s.pointers,i):1,e.rotation=s?Hce(s.pointers,i):0,e.maxPointers=r.prevInput?e.pointers.length>r.prevInput.maxPointers?e.pointers.length:r.prevInput.maxPointers:e.pointers.length,Wce(r,e);var d=t.element,u=e.srcEvent,h;u.composedPath?h=u.composedPath()[0]:u.path?h=u.path[0]:h=u.target,Fm(h,d)&&(d=h),e.target=d}function Uce(t,e,r){var i=r.pointers.length,n=r.changedPointers.length,o=e&Kt&&i-n===0,s=e&(gt|cr)&&i-n===0;r.isFirst=!!o,r.isFinal=!!s,o&&(t.session={}),r.eventType=e,Vce(t,r),t.emit("hammer.input",r),t.recognize(r),t.session.prevInput=r}function il(t){return t.trim().split(/\s+/g)}function Ca(t,e,r){Ci(il(e),function(i){t.addEventListener(i,r,!1)})}function Pa(t,e,r){Ci(il(e),function(i){t.removeEventListener(i,r,!1)})}function P0(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var Zs=function(){function t(r,i){var n=this;this.manager=r,this.callback=i,this.element=r.element,this.target=r.options.inputTarget,this.domHandler=function(o){oh(r.options.enable,[r])&&n.handler(o)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&Ca(this.element,this.evEl,this.domHandler),this.evTarget&&Ca(this.target,this.evTarget,this.domHandler),this.evWin&&Ca(P0(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&Pa(this.element,this.evEl,this.domHandler),this.evTarget&&Pa(this.target,this.evTarget,this.domHandler),this.evWin&&Pa(P0(this.element),this.evWin,this.domHandler)},t}();function mo(t,e,r){if(t.indexOf&&!r)return t.indexOf(e);for(var i=0;i<t.length;){if(r&&t[i][r]==e||!r&&t[i]===e)return i;i++}return-1}var Yce={pointerdown:Kt,pointermove:Ao,pointerup:gt,pointercancel:cr,pointerout:cr},Gce={2:Zl,3:Fce,4:Nm,5:qce},Jx="pointerdown",Qx="pointermove pointerup pointercancel";Ai.MSPointerEvent&&!Ai.PointerEvent&&(Jx="MSPointerDown",Qx="MSPointerMove MSPointerUp MSPointerCancel");var Zx=function(t){Mr(e,t);function e(){var i,n=e.prototype;return n.evEl=Jx,n.evWin=Qx,i=t.apply(this,arguments)||this,i.store=i.manager.session.pointerEvents=[],i}var r=e.prototype;return r.handler=function(n){var o=this.store,s=!1,a=n.type.toLowerCase().replace("ms",""),l=Yce[a],c=Gce[n.pointerType]||n.pointerType,d=c===Zl,u=mo(o,n.pointerId,"pointerId");l&Kt&&(n.button===0||d)?u<0&&(o.push(n),u=o.length-1):l&(gt|cr)&&(s=!0),!(u<0)&&(o[u]=n,this.callback(this.manager,l,{pointers:o,changedPointers:[n],pointerType:c,srcEvent:n}),s&&o.splice(u,1))},e}(Zs);function nl(t){return Array.prototype.slice.call(t,0)}function qm(t,e,r){for(var i=[],n=[],o=0;o<t.length;){var s=e?t[o][e]:t[o];mo(n,s)<0&&i.push(t[o]),n[o]=s,o++}return r&&(e?i=i.sort(function(a,l){return a[e]>l[e]}):i=i.sort()),i}var Kce={touchstart:Kt,touchmove:Ao,touchend:gt,touchcancel:cr},Xce="touchstart touchmove touchend touchcancel",Bm=function(t){Mr(e,t);function e(){var i;return e.prototype.evTarget=Xce,i=t.apply(this,arguments)||this,i.targetIds={},i}var r=e.prototype;return r.handler=function(n){var o=Kce[n.type],s=Jce.call(this,n,o);s&&this.callback(this.manager,o,{pointers:s[0],changedPointers:s[1],pointerType:Zl,srcEvent:n})},e}(Zs);function Jce(t,e){var r=nl(t.touches),i=this.targetIds;if(e&(Kt|Ao)&&r.length===1)return i[r[0].identifier]=!0,[r,r];var n,o,s=nl(t.changedTouches),a=[],l=this.target;if(o=r.filter(function(c){return Fm(c.target,l)}),e===Kt)for(n=0;n<o.length;)i[o[n].identifier]=!0,n++;for(n=0;n<s.length;)i[s[n].identifier]&&a.push(s[n]),e&(gt|cr)&&delete i[s[n].identifier],n++;if(a.length)return[qm(o.concat(a),"identifier",!0),a]}var Qce={mousedown:Kt,mousemove:Ao,mouseup:gt},Zce="mousedown",ede="mousemove mouseup",Lm=function(t){Mr(e,t);function e(){var i,n=e.prototype;return n.evEl=Zce,n.evWin=ede,i=t.apply(this,arguments)||this,i.pressed=!1,i}var r=e.prototype;return r.handler=function(n){var o=Qce[n.type];o&Kt&&n.button===0&&(this.pressed=!0),o&Ao&&n.which!==1&&(o=gt),this.pressed&&(o&gt&&(this.pressed=!1),this.callback(this.manager,o,{pointers:[n],changedPointers:[n],pointerType:Nm,srcEvent:n}))},e}(Zs),tde=2500,D0=25;function M0(t){var e=t.changedPointers,r=e[0];if(r.identifier===this.primaryTouch){var i={x:r.clientX,y:r.clientY},n=this.lastTouches;this.lastTouches.push(i);var o=function(){var a=n.indexOf(i);a>-1&&n.splice(a,1)};setTimeout(o,tde)}}function rde(t,e){t&Kt?(this.primaryTouch=e.changedPointers[0].identifier,M0.call(this,e)):t&(gt|cr)&&M0.call(this,e)}function ide(t){for(var e=t.srcEvent.clientX,r=t.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var n=this.lastTouches[i],o=Math.abs(e-n.x),s=Math.abs(r-n.y);if(o<=D0&&s<=D0)return!0}return!1}var eA=function(){var t=function(e){Mr(r,e);function r(n,o){var s;return s=e.call(this,n,o)||this,s.handler=function(a,l,c){var d=c.pointerType===Zl,u=c.pointerType===Nm;if(!(u&&c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents)){if(d)rde.call(Bc(Bc(s)),l,c);else if(u&&ide.call(Bc(Bc(s)),c))return;s.callback(a,l,c)}},s.touch=new Bm(s.manager,s.handler),s.mouse=new Lm(s.manager,s.handler),s.primaryTouch=null,s.lastTouches=[],s}var i=r.prototype;return i.destroy=function(){this.touch.destroy(),this.mouse.destroy()},r}(Zs);return t}();function nde(t){var e,r=t.options.inputClass;return r?e=r:Rce?e=Zx:Nce?e=Bm:Wx?e=eA:e=Lm,new e(t,Uce)}function os(t,e,r){return Array.isArray(t)?(Ci(t,r[e],r),!0):!1}var cd=1,Cr=2,Os=4,vn=8,Pi=vn,ol=16,li=32,ode=1;function sde(){return ode++}function jc(t,e){var r=e.manager;return r?r.get(t):t}function R0(t){return t&ol?"cancel":t&vn?"end":t&Os?"move":t&Cr?"start":""}var ic=function(){function t(r){r===void 0&&(r={}),this.options=Ur({enable:!0},r),this.id=sde(),this.manager=null,this.state=cd,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(i){return go(this.options,i),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(i){if(os(i,"recognizeWith",this))return this;var n=this.simultaneous;return i=jc(i,this),n[i.id]||(n[i.id]=i,i.recognizeWith(this)),this},e.dropRecognizeWith=function(i){return os(i,"dropRecognizeWith",this)?this:(i=jc(i,this),delete this.simultaneous[i.id],this)},e.requireFailure=function(i){if(os(i,"requireFailure",this))return this;var n=this.requireFail;return i=jc(i,this),mo(n,i)===-1&&(n.push(i),i.requireFailure(this)),this},e.dropRequireFailure=function(i){if(os(i,"dropRequireFailure",this))return this;i=jc(i,this);var n=mo(this.requireFail,i);return n>-1&&this.requireFail.splice(n,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(i){return!!this.simultaneous[i.id]},e.emit=function(i){var n=this,o=this.state;function s(a){n.manager.emit(a,i)}o<vn&&s(n.options.event+R0(o)),s(n.options.event),i.additionalEvent&&s(i.additionalEvent),o>=vn&&s(n.options.event+R0(o))},e.tryEmit=function(i){if(this.canEmit())return this.emit(i);this.state=li},e.canEmit=function(){for(var i=0;i<this.requireFail.length;){if(!(this.requireFail[i].state&(li|cd)))return!1;i++}return!0},e.recognize=function(i){var n=go({},i);if(!oh(this.options.enable,[this,n])){this.reset(),this.state=li;return}this.state&(Pi|ol|li)&&(this.state=cd),this.state=this.process(n),this.state&(Cr|Os|vn|ol)&&this.tryEmit(n)},e.process=function(i){},e.getTouchAction=function(){},e.reset=function(){},t}(),Zg=function(t){Mr(e,t);function e(i){var n;return i===void 0&&(i={}),n=t.call(this,Ur({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},i))||this,n.pTime=!1,n.pCenter=!1,n._timer=null,n._input=null,n.count=0,n}var r=e.prototype;return r.getTouchAction=function(){return[Jg]},r.process=function(n){var o=this,s=this.options,a=n.pointers.length===s.pointers,l=n.distance<s.threshold,c=n.deltaTime<s.time;if(this.reset(),n.eventType&Kt&&this.count===0)return this.failTimeout();if(l&&c&&a){if(n.eventType!==gt)return this.failTimeout();var d=this.pTime?n.timeStamp-this.pTime<s.interval:!0,u=!this.pCenter||Ud(this.pCenter,n.center)<s.posThreshold;this.pTime=n.timeStamp,this.pCenter=n.center,!u||!d?this.count=1:this.count+=1,this._input=n;var h=this.count%s.taps;if(h===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){o.state=Pi,o.tryEmit()},s.interval),Cr):Pi}return li},r.failTimeout=function(){var n=this;return this._timer=setTimeout(function(){n.state=li},this.options.interval),li},r.reset=function(){clearTimeout(this._timer)},r.emit=function(){this.state===Pi&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(ic),ks=function(t){Mr(e,t);function e(i){return i===void 0&&(i={}),t.call(this,Ur({pointers:1},i))||this}var r=e.prototype;return r.attrTest=function(n){var o=this.options.pointers;return o===0||n.pointers.length===o},r.process=function(n){var o=this.state,s=n.eventType,a=o&(Cr|Os),l=this.attrTest(n);return a&&(s&cr||!l)?o|ol:a||l?s&gt?o|vn:o&Cr?o|Os:Cr:li},e}(ic);function tA(t){return t===Ts?"down":t===rc?"up":t===ec?"left":t===tc?"right":""}var jm=function(t){Mr(e,t);function e(i){var n;return i===void 0&&(i={}),n=t.call(this,Ur({event:"pan",threshold:10,pointers:1,direction:Vx},i))||this,n.pX=null,n.pY=null,n}var r=e.prototype;return r.getTouchAction=function(){var n=this.options.direction,o=[];return n&hi&&o.push(rl),n&so&&o.push(tl),o},r.directionTest=function(n){var o=this.options,s=!0,a=n.distance,l=n.direction,c=n.deltaX,d=n.deltaY;return l&o.direction||(o.direction&hi?(l=c===0?Wd:c<0?ec:tc,s=c!==this.pX,a=Math.abs(n.deltaX)):(l=d===0?Wd:d<0?rc:Ts,s=d!==this.pY,a=Math.abs(n.deltaY))),n.direction=l,s&&a>o.threshold&&l&o.direction},r.attrTest=function(n){return ks.prototype.attrTest.call(this,n)&&(this.state&Cr||!(this.state&Cr)&&this.directionTest(n))},r.emit=function(n){this.pX=n.deltaX,this.pY=n.deltaY;var o=tA(n.direction);o&&(n.additionalEvent=this.options.event+o),t.prototype.emit.call(this,n)},e}(ks),rA=function(t){Mr(e,t);function e(i){return i===void 0&&(i={}),t.call(this,Ur({event:"swipe",threshold:10,velocity:.3,direction:hi|so,pointers:1},i))||this}var r=e.prototype;return r.getTouchAction=function(){return jm.prototype.getTouchAction.call(this)},r.attrTest=function(n){var o=this.options.direction,s;return o&(hi|so)?s=n.overallVelocity:o&hi?s=n.overallVelocityX:o&so&&(s=n.overallVelocityY),t.prototype.attrTest.call(this,n)&&o&n.offsetDirection&&n.distance>this.options.threshold&&n.maxPointers===this.options.pointers&&vo(s)>this.options.velocity&&n.eventType&gt},r.emit=function(n){var o=tA(n.offsetDirection);o&&this.manager.emit(this.options.event+o,n),this.manager.emit(this.options.event,n)},e}(ks),iA=function(t){Mr(e,t);function e(i){return i===void 0&&(i={}),t.call(this,Ur({event:"pinch",threshold:0,pointers:2},i))||this}var r=e.prototype;return r.getTouchAction=function(){return[oo]},r.attrTest=function(n){return t.prototype.attrTest.call(this,n)&&(Math.abs(n.scale-1)>this.options.threshold||this.state&Cr)},r.emit=function(n){if(n.scale!==1){var o=n.scale<1?"in":"out";n.additionalEvent=this.options.event+o}t.prototype.emit.call(this,n)},e}(ks),nA=function(t){Mr(e,t);function e(i){return i===void 0&&(i={}),t.call(this,Ur({event:"rotate",threshold:0,pointers:2},i))||this}var r=e.prototype;return r.getTouchAction=function(){return[oo]},r.attrTest=function(n){return t.prototype.attrTest.call(this,n)&&(Math.abs(n.rotation)>this.options.threshold||this.state&Cr)},e}(ks),oA=function(t){Mr(e,t);function e(i){var n;return i===void 0&&(i={}),n=t.call(this,Ur({event:"press",pointers:1,time:251,threshold:9},i))||this,n._timer=null,n._input=null,n}var r=e.prototype;return r.getTouchAction=function(){return[Hx]},r.process=function(n){var o=this,s=this.options,a=n.pointers.length===s.pointers,l=n.distance<s.threshold,c=n.deltaTime>s.time;if(this._input=n,!l||!a||n.eventType&(gt|cr)&&!c)this.reset();else if(n.eventType&Kt)this.reset(),this._timer=setTimeout(function(){o.state=Pi,o.tryEmit()},s.time);else if(n.eventType&gt)return Pi;return li},r.reset=function(){clearTimeout(this._timer)},r.emit=function(n){this.state===Pi&&(n&&n.eventType&gt?this.manager.emit(this.options.event+"up",n):(this._input.timeStamp=Rm(),this.manager.emit(this.options.event,this._input)))},e}(ic),sA={domEvents:!1,touchAction:zx,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},N0=[[nA,{enable:!1}],[iA,{enable:!1},["rotate"]],[rA,{direction:hi}],[jm,{direction:hi},["swipe"]],[Zg],[Zg,{event:"doubletap",taps:2},["tap"]],[oA]],ade=1,F0=2;function q0(t,e){var r=t.element;if(r.style){var i;Ci(t.options.cssProps,function(n,o){i=nh(r.style,o),e?(t.oldCssProps[i]=r.style[i],r.style[i]=n):r.style[i]=t.oldCssProps[i]||""}),e||(t.oldCssProps={})}}function lde(t,e){var r=document.createEvent("Event");r.initEvent(t,!0,!0),r.gesture=e,e.target.dispatchEvent(r)}var B0=function(){function t(r,i){var n=this;this.options=go({},sA,i||{}),this.options.inputTarget=this.options.inputTarget||r,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=r,this.input=nde(this),this.touchAction=new Yx(this,this.options.touchAction),q0(this,!0),Ci(this.options.recognizers,function(o){var s=n.add(new o[0](o[1]));o[2]&&s.recognizeWith(o[2]),o[3]&&s.requireFailure(o[3])},this)}var e=t.prototype;return e.set=function(i){return go(this.options,i),i.touchAction&&this.touchAction.update(),i.inputTarget&&(this.input.destroy(),this.input.target=i.inputTarget,this.input.init()),this},e.stop=function(i){this.session.stopped=i?F0:ade},e.recognize=function(i){var n=this.session;if(!n.stopped){this.touchAction.preventDefaults(i);var o,s=this.recognizers,a=n.curRecognizer;(!a||a&&a.state&Pi)&&(n.curRecognizer=null,a=null);for(var l=0;l<s.length;)o=s[l],n.stopped!==F0&&(!a||o===a||o.canRecognizeWith(a))?o.recognize(i):o.reset(),!a&&o.state&(Cr|Os|vn)&&(n.curRecognizer=o,a=o),l++}},e.get=function(i){if(i instanceof ic)return i;for(var n=this.recognizers,o=0;o<n.length;o++)if(n[o].options.event===i)return n[o];return null},e.add=function(i){if(os(i,"add",this))return this;var n=this.get(i.options.event);return n&&this.remove(n),this.recognizers.push(i),i.manager=this,this.touchAction.update(),i},e.remove=function(i){if(os(i,"remove",this))return this;var n=this.get(i);if(i){var o=this.recognizers,s=mo(o,n);s!==-1&&(o.splice(s,1),this.touchAction.update())}return this},e.on=function(i,n){if(i===void 0||n===void 0)return this;var o=this.handlers;return Ci(il(i),function(s){o[s]=o[s]||[],o[s].push(n)}),this},e.off=function(i,n){if(i===void 0)return this;var o=this.handlers;return Ci(il(i),function(s){n?o[s]&&o[s].splice(mo(o[s],n),1):delete o[s]}),this},e.emit=function(i,n){this.options.domEvents&&lde(i,n);var o=this.handlers[i]&&this.handlers[i].slice();if(!(!o||!o.length)){n.type=i,n.preventDefault=function(){n.srcEvent.preventDefault()};for(var s=0;s<o.length;)o[s](n),s++}},e.destroy=function(){this.element&&q0(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),cde={touchstart:Kt,touchmove:Ao,touchend:gt,touchcancel:cr},dde="touchstart",ude="touchstart touchmove touchend touchcancel",hde=function(t){Mr(e,t);function e(){var i,n=e.prototype;return n.evTarget=dde,n.evWin=ude,i=t.apply(this,arguments)||this,i.started=!1,i}var r=e.prototype;return r.handler=function(n){var o=cde[n.type];if(o===Kt&&(this.started=!0),!!this.started){var s=fde.call(this,n,o);o&(gt|cr)&&s[0].length-s[1].length===0&&(this.started=!1),this.callback(this.manager,o,{pointers:s[0],changedPointers:s[1],pointerType:Zl,srcEvent:n})}},e}(Zs);function fde(t,e){var r=nl(t.touches),i=nl(t.changedTouches);return e&(gt|cr)&&(r=qm(r.concat(i),"identifier",!0)),[r,i]}function aA(t,e,r){var i="DEPRECATED METHOD: "+e+`
`+r+` AT 
`;return function(){var n=new Error("get-stack-trace"),o=n&&n.stack?n.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",s=window.console&&(window.console.warn||window.console.log);return s&&s.call(window.console,i,o),t.apply(this,arguments)}}var lA=aA(function(t,e,r){for(var i=Object.keys(e),n=0;n<i.length;)(!r||r&&t[i[n]]===void 0)&&(t[i[n]]=e[i[n]]),n++;return t},"extend","Use `assign`."),pde=aA(function(t,e){return lA(t,e,!0)},"merge","Use `assign`.");function gde(t,e,r){var i=e.prototype,n;n=t.prototype=Object.create(i),n.constructor=t,n._super=i,r&&go(n,r)}function L0(t,e){return function(){return t.apply(e,arguments)}}var cA=function(){var t=function(r,i){return i===void 0&&(i={}),new B0(r,Ur({recognizers:N0.concat()},i))};return t.VERSION="2.0.17-rc",t.DIRECTION_ALL=Vx,t.DIRECTION_DOWN=Ts,t.DIRECTION_LEFT=ec,t.DIRECTION_RIGHT=tc,t.DIRECTION_UP=rc,t.DIRECTION_HORIZONTAL=hi,t.DIRECTION_VERTICAL=so,t.DIRECTION_NONE=Wd,t.DIRECTION_DOWN=Ts,t.INPUT_START=Kt,t.INPUT_MOVE=Ao,t.INPUT_END=gt,t.INPUT_CANCEL=cr,t.STATE_POSSIBLE=cd,t.STATE_BEGAN=Cr,t.STATE_CHANGED=Os,t.STATE_ENDED=vn,t.STATE_RECOGNIZED=Pi,t.STATE_CANCELLED=ol,t.STATE_FAILED=li,t.Manager=B0,t.Input=Zs,t.TouchAction=Yx,t.TouchInput=Bm,t.MouseInput=Lm,t.PointerEventInput=Zx,t.TouchMouseInput=eA,t.SingleTouchInput=hde,t.Recognizer=ic,t.AttrRecognizer=ks,t.Tap=Zg,t.Pan=jm,t.Swipe=rA,t.Pinch=iA,t.Rotate=nA,t.Press=oA,t.on=Ca,t.off=Pa,t.each=Ci,t.merge=pde,t.extend=lA,t.bindFn=L0,t.assign=go,t.inherit=gde,t.bindFn=L0,t.prefixed=nh,t.toArray=nl,t.inArray=mo,t.uniqueArray=qm,t.splitStr=il,t.boolOrFn=oh,t.hasParent=Fm,t.addEventListeners=Ca,t.removeEventListeners=Pa,t.defaults=go({},sA,{preset:N0}),t}();cA.defaults;var vde=cA;Ine("DELETE");function sh(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return mde(e.length?e:[Hd()])}function mde(t){let[e,r,i]=yde(t),n=1;const o=()=>{const s=2091639*e+n*23283064365386963e-26;return e=r,r=i,i=s-(n=s|0)};return o.uint32=()=>o()*4294967296,o.fract53=()=>o()+(o()*2097152|0)*11102230246251565e-32,o.algorithm="Alea",o.seed=t,o.version="0.9",o}function yde(){const t=bde();let e=t(" "),r=t(" "),i=t(" ");for(let n=0;n<arguments.length;n++)e-=t(n<0||arguments.length<=n?void 0:arguments[n]),e<0&&(e+=1),r-=t(n<0||arguments.length<=n?void 0:arguments[n]),r<0&&(r+=1),i-=t(n<0||arguments.length<=n?void 0:arguments[n]),i<0&&(i+=1);return[e,r,i]}function bde(){let t=4022871197;return function(e){const r=e.toString();for(let i=0;i<r.length;i++){t+=r.charCodeAt(i);let n=.02519603282416938*t;t=n>>>0,n-=t,n*=t,t=n>>>0,n-=t,t+=n*4294967296}return(t>>>0)*23283064365386963e-26}}function $de(){const t=()=>{};return{on:t,off:t,destroy:t,emit:t,get(){return{set:t}}}}const zm=typeof window<"u"?window.Hammer||vde:function(){return $de()};function ci(t){var e;this._cleanupQueue=[],this.active=!1,this._dom={container:t,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});const r=zm(this._dom.overlay);r.on("tap",B(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(()=>{r.destroy()});const i=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];Fe(i).call(i,n=>{r.on(n,o=>{o.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=n=>{wde(n.target,t)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=n=>{("key"in n?n.key==="Escape":n.keyCode===27)&&this.deactivate()}}Pk(ci.prototype);ci.current=null;ci.prototype.destroy=function(){this.deactivate();for(const r of io(t=ki(e=this._cleanupQueue).call(e,0)).call(t)){var t,e;r()}};ci.prototype.activate=function(){ci.current&&ci.current.deactivate(),ci.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};ci.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};ci.prototype._onTapOverlay=function(t){this.activate(),t.srcEvent.stopPropagation()};function wde(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}const _de=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Sde=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Ide=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,Ede=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function tn(t){if(t)for(;t.hasChildNodes()===!0;){const e=t.firstChild;e&&(tn(e),t.removeChild(e))}}function us(t){return t instanceof String||typeof t=="string"}function j0(t){return typeof t=="object"&&t!==null}function yo(t,e,r,i){let n=!1;i===!0&&(n=e[r]===null&&t[r]!==void 0),n?delete t[r]:t[r]=e[r]}function dA(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;for(const i in t)if(e[i]!==void 0)if(e[i]===null||typeof e[i]!="object")yo(t,e,i,r);else{const n=t[i],o=e[i];j0(n)&&j0(o)&&dA(n,o,r)}}function ea(t,e,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(et(r))throw new TypeError("Arrays are not supported by deepExtend");for(let n=0;n<t.length;n++){const o=t[n];if(Object.prototype.hasOwnProperty.call(r,o))if(r[o]&&r[o].constructor===Object)e[o]===void 0&&(e[o]={}),e[o].constructor===Object?je(e[o],r[o],!1,i):yo(e,r,o,i);else{if(et(r[o]))throw new TypeError("Arrays are not supported by deepExtend");yo(e,r,o,i)}}return e}function Yd(t,e,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(et(r))throw new TypeError("Arrays are not supported by deepExtend");for(const n in r)if(Object.prototype.hasOwnProperty.call(r,n)&&!gn(t).call(t,n))if(r[n]&&r[n].constructor===Object)e[n]===void 0&&(e[n]={}),e[n].constructor===Object?je(e[n],r[n]):yo(e,r,n,i);else if(et(r[n])){e[n]=[];for(let o=0;o<r[n].length;o++)e[n].push(r[n][o])}else yo(e,r,n,i);return e}function je(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;for(const o in e)if(Object.prototype.hasOwnProperty.call(e,o)||r===!0)if(typeof e[o]=="object"&&e[o]!==null&&w0(e[o])===Object.prototype)t[o]===void 0?t[o]=je({},e[o],r):typeof t[o]=="object"&&t[o]!==null&&w0(t[o])===Object.prototype?je(t[o],e[o],r):yo(t,e,o,i);else if(et(e[o])){var n;t[o]=si(n=e[o]).call(n)}else yo(t,e,o,i);return t}function Gd(t,e){return[...t,e]}function Tde(t){return si(t).call(t)}function Ode(t){return t.getBoundingClientRect().left}function kde(t){return t.getBoundingClientRect().top}function $e(t,e){if(et(t)){const r=t.length;for(let i=0;i<r;i++)e(t[i],i,t)}else for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(t[r],r,t)}function Hm(t){let e;switch(t.length){case 3:case 4:return e=Sde.exec(t),e?{r:Br(e[1]+e[1],16),g:Br(e[2]+e[2],16),b:Br(e[3]+e[3],16)}:null;case 6:case 7:return e=_de.exec(t),e?{r:Br(e[1],16),g:Br(e[2],16),b:Br(e[3],16)}:null;default:return null}}function Tr(t,e){if(gn(t).call(t,"rgba"))return t;if(gn(t).call(t,"rgb")){const r=t.substr(Pe(t).call(t,"(")+1).replace(")","").split(",");return"rgba("+r[0]+","+r[1]+","+r[2]+","+e+")"}else{const r=Hm(t);return r==null?t:"rgba("+r.r+","+r.g+","+r.b+","+e+")"}}function uA(t,e,r){var i;return"#"+si(i=((1<<24)+(t<<16)+(e<<8)+r).toString(16)).call(i,1)}function ev(t,e){if(us(t)){let i=t;if(fA(i)){var r;const n=Es(r=i.substr(4).substr(0,i.length-5).split(",")).call(r,function(o){return Br(o)});i=uA(n[0],n[1],n[2])}if(hA(i)===!0){const n=xde(i),o={h:n.h,s:n.s*.8,v:Math.min(1,n.v*1.02)},s={h:n.h,s:Math.min(1,n.s*1.25),v:n.v*.8},a=tv(s.h,s.s,s.v),l=tv(o.h,o.s,o.v);return{background:i,border:a,highlight:{background:l,border:a},hover:{background:l,border:a}}}else return{background:i,border:i,highlight:{background:i,border:i},hover:{background:i,border:i}}}else return{background:t.background||void 0,border:t.border||void 0,highlight:us(t.highlight)?{border:t.highlight,background:t.highlight}:{background:t.highlight&&t.highlight.background||void 0,border:t.highlight&&t.highlight.border||void 0},hover:us(t.hover)?{border:t.hover,background:t.hover}:{border:t.hover&&t.hover.border||void 0,background:t.hover&&t.hover.background||void 0}}}function ga(t,e,r){t=t/255,e=e/255,r=r/255;const i=Math.min(t,Math.min(e,r)),n=Math.max(t,Math.max(e,r));if(i===n)return{h:0,s:0,v:i};const o=t===i?e-r:r===i?t-e:r-t,a=60*((t===i?3:r===i?1:5)-o/(n-i))/360,l=(n-i)/n;return{h:a,s:l,v:n}}function dd(t,e,r){let i,n,o;const s=Math.floor(t*6),a=t*6-s,l=r*(1-e),c=r*(1-a*e),d=r*(1-(1-a)*e);switch(s%6){case 0:i=r,n=d,o=l;break;case 1:i=c,n=r,o=l;break;case 2:i=l,n=r,o=d;break;case 3:i=l,n=c,o=r;break;case 4:i=d,n=l,o=r;break;case 5:i=r,n=l,o=c;break}return{r:Math.floor(i*255),g:Math.floor(n*255),b:Math.floor(o*255)}}function tv(t,e,r){const i=dd(t,e,r);return uA(i.r,i.g,i.b)}function xde(t){const e=Hm(t);if(!e)throw new TypeError("'".concat(t,"' is not a valid color."));return ga(e.r,e.g,e.b)}function hA(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)}function fA(t){return Ide.test(t)}function Ade(t){return Ede.test(t)}function mn(t){if(t===null||typeof t!="object")return null;if(t instanceof Element)return t;const e=no(t);for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&typeof t[r]=="object"&&(e[r]=mn(t[r]));return e}function Er(t,e,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const n=function(f){return f!=null},o=function(f){return f!==null&&typeof f=="object"},s=function(f){for(const p in f)if(Object.prototype.hasOwnProperty.call(f,p))return!1;return!0};if(!o(t))throw new Error("Parameter mergeTarget must be an object");if(!o(e))throw new Error("Parameter options must be an object");if(!n(r))throw new Error("Parameter option must have a value");if(!o(i))throw new Error("Parameter globalOptions must be an object");const a=function(f,p,v){o(f[v])||(f[v]={});const y=p[v],m=f[v];for(const $ in y)Object.prototype.hasOwnProperty.call(y,$)&&(m[$]=y[$])},l=e[r],d=o(i)&&!s(i)?i[r]:void 0,u=d?d.enabled:void 0;if(l===void 0)return;if(typeof l=="boolean"){o(t[r])||(t[r]={}),t[r].enabled=l;return}if(l===null&&!o(t[r]))if(n(d))t[r]=no(d);else return;if(!o(l))return;let h=!0;l.enabled!==void 0?h=l.enabled:u!==void 0&&(h=d.enabled),a(t,e,r),t[r].enabled=h}const Cde={linear(t){return t},easeInQuad(t){return t*t},easeOutQuad(t){return t*(2-t)},easeInOutQuad(t){return t<.5?2*t*t:-1+(4-2*t)*t},easeInCubic(t){return t*t*t},easeOutCubic(t){return--t*t*t+1},easeInOutCubic(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart(t){return t*t*t*t},easeOutQuart(t){return 1- --t*t*t*t},easeInOutQuart(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint(t){return t*t*t*t*t},easeOutQuint(t){return 1+--t*t*t*t*t},easeInOutQuint(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}};function rn(t,e){let r;et(e)||(e=[e]);for(const i of t)if(i){r=i[e[0]];for(let n=1;n<e.length;n++)r&&(r=r[e[n]]);if(typeof r<"u")break}return r}const Pde={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"};let Dde=class{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:289/2,y:289/2},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=()=>{},this.closeCallback=()=>{},this._create()}insertTo(e){this.hammer!==void 0&&(this.hammer.destroy(),this.hammer=void 0),this.container=e,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}setUpdateCallback(e){if(typeof e=="function")this.updateCallback=e;else throw new Error("Function attempted to set as colorPicker update callback is not a function.")}setCloseCallback(e){if(typeof e=="function")this.closeCallback=e;else throw new Error("Function attempted to set as colorPicker closing callback is not a function.")}_isColorString(e){if(typeof e=="string")return Pde[e]}setColor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e==="none")return;let i;const n=this._isColorString(e);if(n!==void 0&&(e=n),us(e)===!0){if(fA(e)===!0){const o=e.substr(4).substr(0,e.length-5).split(",");i={r:o[0],g:o[1],b:o[2],a:1}}else if(Ade(e)===!0){const o=e.substr(5).substr(0,e.length-6).split(",");i={r:o[0],g:o[1],b:o[2],a:o[3]}}else if(hA(e)===!0){const o=Hm(e);i={r:o.r,g:o.g,b:o.b,a:1}}}else if(e instanceof Object&&e.r!==void 0&&e.g!==void 0&&e.b!==void 0){const o=e.a!==void 0?e.a:"1.0";i={r:e.r,g:e.g,b:e.b,a:o}}if(i===void 0)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+Jl(e));this._setColor(i,r)}show(){this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}_hide(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)===!0&&(this.previousColor=pt({},this.color)),this.applied===!0&&this.updateCallback(this.initialColor),this.frame.style.display="none",xi(()=>{this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0)},0)}_save(){this.updateCallback(this.color),this.applied=!1,this._hide()}_apply(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}_loadLast(){this.previousColor!==void 0?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}_setColor(e){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)===!0&&(this.initialColor=pt({},e)),this.color=e;const i=ga(e.r,e.g,e.b),n=2*Math.PI,o=this.r*i.s,s=this.centerCoordinates.x+o*Math.sin(n*i.h),a=this.centerCoordinates.y+o*Math.cos(n*i.h);this.colorPickerSelector.style.left=s-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=a-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(e)}_setOpacity(e){this.color.a=e/100,this._updatePicker(this.color)}_setBrightness(e){const r=ga(this.color.r,this.color.g,this.color.b);r.v=e/100;const i=dd(r.h,r.s,r.v);i.a=this.color.a,this.color=i,this._updatePicker()}_updatePicker(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.color;const r=ga(e.r,e.g,e.b),i=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1)),i.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const n=this.colorPickerCanvas.clientWidth,o=this.colorPickerCanvas.clientHeight;i.clearRect(0,0,n,o),i.putImageData(this.hueCircle,0,0),i.fillStyle="rgba(0,0,0,"+(1-r.v)+")",i.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),Ql(i).call(i),this.brightnessRange.value=100*r.v,this.opacityRange.value=100*e.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}_setSize(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}_create(){var e,r,i,n;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){const s=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(s.webkitBackingStorePixelRatio||s.mozBackingStorePixelRatio||s.msBackingStorePixelRatio||s.oBackingStorePixelRatio||s.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{const s=document.createElement("DIV");s.style.color="red",s.style.fontWeight="bold",s.style.padding="10px",s.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(s)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch{}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch{}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);const o=this;this.opacityRange.onchange=function(){o._setOpacity(this.value)},this.opacityRange.oninput=function(){o._setOpacity(this.value)},this.brightnessRange.onchange=function(){o._setBrightness(this.value)},this.brightnessRange.oninput=function(){o._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=B(e=this._hide).call(e,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=B(r=this._apply).call(r,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=B(i=this._save).call(i,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=B(n=this._loadLast).call(n,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}_bindHammer(){this.drag={},this.pinch={},this.hammer=new zm(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",e=>{e.isFirst&&this._moveSelector(e)}),this.hammer.on("tap",e=>{this._moveSelector(e)}),this.hammer.on("panstart",e=>{this._moveSelector(e)}),this.hammer.on("panmove",e=>{this._moveSelector(e)}),this.hammer.on("panend",e=>{this._moveSelector(e)})}_generateHueCircle(){if(this.generated===!1){const e=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const r=this.colorPickerCanvas.clientWidth,i=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,r,i);let n,o,s,a;this.centerCoordinates={x:r*.5,y:i*.5},this.r=.49*r;const l=2*Math.PI/360,c=1/360,d=1/this.r;let u;for(s=0;s<360;s++)for(a=0;a<this.r;a++)n=this.centerCoordinates.x+a*Math.sin(l*s),o=this.centerCoordinates.y+a*Math.cos(l*s),u=dd(s*c,a*d,1),e.fillStyle="rgb("+u.r+","+u.g+","+u.b+")",e.fillRect(n-.5,o-.5,2,2);e.strokeStyle="rgba(0,0,0,1)",e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),e.stroke(),this.hueCircle=e.getImageData(0,0,r,i)}this.generated=!0}_moveSelector(e){const r=this.colorPickerDiv.getBoundingClientRect(),i=e.center.x-r.left,n=e.center.y-r.top,o=.5*this.colorPickerDiv.clientHeight,s=.5*this.colorPickerDiv.clientWidth,a=i-s,l=n-o,c=Math.atan2(a,l),d=.98*Math.min(Math.sqrt(a*a+l*l),s),u=Math.cos(c)*d+o,h=Math.sin(c)*d+s;this.colorPickerSelector.style.top=u-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=h-.5*this.colorPickerSelector.clientWidth+"px";let f=c/(2*Math.PI);f=f<0?f+1:f;const p=d/this.r,v=ga(this.color.r,this.color.g,this.color.b);v.h=f,v.s=p;const y=dd(v.h,v.s,v.v);y.a=this.color.a,this.color=y,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}};function rv(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(e.length<1)throw new TypeError("Invalid arguments.");if(e.length===1)return document.createTextNode(e[0]);{const i=document.createElement(e[0]);return i.appendChild(rv(...si(e).call(e,1))),i}}let Mde=class{constructor(e,r,i){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:()=>!1;this.parent=e,this.changedOptions=[],this.container=r,this.allowCreation=!1,this.hideOption=o,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},pt(this.options,this.defaultOptions),this.configureOptions=i,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new Dde(n),this.wrapper=void 0}setOptions(e){if(e!==void 0){this.popupHistory={},this._removePopup();let r=!0;if(typeof e=="string")this.options.filter=e;else if(et(e))this.options.filter=e.join();else if(typeof e=="object"){if(e==null)throw new TypeError("options cannot be null");e.container!==void 0&&(this.options.container=e.container),or(e)!==void 0&&(this.options.filter=or(e)),e.showButton!==void 0&&(this.options.showButton=e.showButton),e.enabled!==void 0&&(r=e.enabled)}else typeof e=="boolean"?(this.options.filter=!0,r=e):typeof e=="function"&&(this.options.filter=e,r=!0);or(this.options)===!1&&(r=!1),this.options.enabled=r}this._clean()}setModuleOptions(e){this.moduleOptions=e,this.options.enabled===!0&&(this._clean(),this.options.container!==void 0&&(this.container=this.options.container),this._create())}_create(){this._clean(),this.changedOptions=[];const e=or(this.options);let r=0,i=!1;for(const n in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,n)&&(this.allowCreation=!1,i=!1,typeof e=="function"?(i=e(n,[]),i=i||this._handleObject(this.configureOptions[n],[n],!0)):(e===!0||Pe(e).call(e,n)!==-1)&&(i=!0),i!==!1&&(this.allowCreation=!0,r>0&&this._makeItem([]),this._makeHeader(n),this._handleObject(this.configureOptions[n],[n])),r++);this._makeButton(),this._push()}_push(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(let e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e]);this._showPopupIfNeeded()}_clean(){for(let e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);this.wrapper!==void 0&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}_getValue(e){let r=this.moduleOptions;for(let i=0;i<e.length;i++)if(r[e[i]]!==void 0)r=r[e[i]];else{r=void 0;break}return r}_makeItem(e){if(this.allowCreation===!0){const o=document.createElement("div");o.className="vis-configuration vis-config-item vis-config-s"+e.length;for(var r=arguments.length,i=new Array(r>1?r-1:0),n=1;n<r;n++)i[n-1]=arguments[n];return Fe(i).call(i,s=>{o.appendChild(s)}),this.domElements.push(o),this.domElements.length}return 0}_makeHeader(e){const r=document.createElement("div");r.className="vis-configuration vis-config-header",r.innerText=e,this._makeItem([],r)}_makeLabel(e,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const n=document.createElement("div");if(n.className="vis-configuration vis-config-label vis-config-s"+r.length,i===!0){for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(rv("i","b",e))}else n.innerText=e+":";return n}_makeDropdown(e,r,i){const n=document.createElement("select");n.className="vis-configuration vis-config-select";let o=0;r!==void 0&&Pe(e).call(e,r)!==-1&&(o=Pe(e).call(e,r));for(let l=0;l<e.length;l++){const c=document.createElement("option");c.value=e[l],l===o&&(c.selected="selected"),c.innerText=e[l],n.appendChild(c)}const s=this;n.onchange=function(){s._update(this.value,i)};const a=this._makeLabel(i[i.length-1],i);this._makeItem(i,a,n)}_makeRange(e,r,i){const n=e[0],o=e[1],s=e[2],a=e[3],l=document.createElement("input");l.className="vis-configuration vis-config-range";try{l.type="range",l.min=o,l.max=s}catch{}l.step=a;let c="",d=0;r!==void 0?(r<0&&r*1.2<o?(l.min=Math.ceil(r*1.2),d=l.min,c="range increased"):r/1.2<o&&(l.min=Math.ceil(r/1.2),d=l.min,c="range increased"),r*1.2>s&&s!==1&&(l.max=Math.ceil(r*1.2),d=l.max,c="range increased"),l.value=r):l.value=n;const u=document.createElement("input");u.className="vis-configuration vis-config-rangeinput",u.value=l.value;const h=this;l.onchange=function(){u.value=this.value,h._update(Number(this.value),i)},l.oninput=function(){u.value=this.value};const f=this._makeLabel(i[i.length-1],i),p=this._makeItem(i,f,l,u);c!==""&&this.popupHistory[p]!==d&&(this.popupHistory[p]=d,this._setupPopup(c,p))}_makeButton(){if(this.options.showButton===!0){const e=document.createElement("div");e.className="vis-configuration vis-config-button",e.innerText="generate options",e.onclick=()=>{this._printOptions()},e.onmouseover=()=>{e.className="vis-configuration vis-config-button hover"},e.onmouseout=()=>{e.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(e)}}_setupPopup(e,r){if(this.initialized===!0&&this.allowCreation===!0&&this.popupCounter<this.popupLimit){const i=document.createElement("div");i.id="vis-configuration-popup",i.className="vis-configuration-popup",i.innerText=e,i.onclick=()=>{this._removePopup()},this.popupCounter+=1,this.popupDiv={html:i,index:r}}}_removePopup(){this.popupDiv.html!==void 0&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}_showPopupIfNeeded(){if(this.popupDiv.html!==void 0){const r=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=r.left+"px",this.popupDiv.html.style.top=r.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=xi(()=>{this.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=xi(()=>{this._removePopup()},1800)}}_makeCheckbox(e,r,i){const n=document.createElement("input");n.type="checkbox",n.className="vis-configuration vis-config-checkbox",n.checked=e,r!==void 0&&(n.checked=r,r!==e&&(typeof e=="object"?r!==e.enabled&&this.changedOptions.push({path:i,value:r}):this.changedOptions.push({path:i,value:r})));const o=this;n.onchange=function(){o._update(this.checked,i)};const s=this._makeLabel(i[i.length-1],i);this._makeItem(i,s,n)}_makeTextInput(e,r,i){const n=document.createElement("input");n.type="text",n.className="vis-configuration vis-config-text",n.value=r,r!==e&&this.changedOptions.push({path:i,value:r});const o=this;n.onchange=function(){o._update(this.value,i)};const s=this._makeLabel(i[i.length-1],i);this._makeItem(i,s,n)}_makeColorField(e,r,i){const n=e[1],o=document.createElement("div");r=r===void 0?n:r,r!=="none"?(o.className="vis-configuration vis-config-colorBlock",o.style.backgroundColor=r):o.className="vis-configuration vis-config-colorBlock none",r=r===void 0?n:r,o.onclick=()=>{this._showColorPicker(r,o,i)};const s=this._makeLabel(i[i.length-1],i);this._makeItem(i,s,o)}_showColorPicker(e,r,i){r.onclick=function(){},this.colorPicker.insertTo(r),this.colorPicker.show(),this.colorPicker.setColor(e),this.colorPicker.setUpdateCallback(n=>{const o="rgba("+n.r+","+n.g+","+n.b+","+n.a+")";r.style.backgroundColor=o,this._update(o,i)}),this.colorPicker.setCloseCallback(()=>{r.onclick=()=>{this._showColorPicker(e,r,i)}})}_handleObject(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=!1;const o=or(this.options);let s=!1;for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a)){n=!0;const l=e[a],c=Gd(r,a);if(typeof o=="function"&&(n=o(a,r),n===!1&&!et(l)&&typeof l!="string"&&typeof l!="boolean"&&l instanceof Object&&(this.allowCreation=!1,n=this._handleObject(l,c,!0),this.allowCreation=i===!1)),n!==!1){s=!0;const d=this._getValue(c);if(et(l))this._handleArray(l,d,c);else if(typeof l=="string")this._makeTextInput(l,d,c);else if(typeof l=="boolean")this._makeCheckbox(l,d,c);else if(l instanceof Object){if(!this.hideOption(r,a,this.moduleOptions))if(l.enabled!==void 0){const u=Gd(c,"enabled"),h=this._getValue(u);if(h===!0){const f=this._makeLabel(a,c,!0);this._makeItem(c,f),s=this._handleObject(l,c)||s}else this._makeCheckbox(l,h,c)}else{const u=this._makeLabel(a,c,!0);this._makeItem(c,u),s=this._handleObject(l,c)||s}}else console.error("dont know how to handle",l,a,c)}}return s}_handleArray(e,r,i){typeof e[0]=="string"&&e[0]==="color"?(this._makeColorField(e,r,i),e[1]!==r&&this.changedOptions.push({path:i,value:r})):typeof e[0]=="string"?(this._makeDropdown(e,r,i),e[0]!==r&&this.changedOptions.push({path:i,value:r})):typeof e[0]=="number"&&(this._makeRange(e,r,i),e[0]!==r&&this.changedOptions.push({path:i,value:Number(r)}))}_update(e,r){const i=this._constructOptions(e,r);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",i),this.initialized=!0,this.parent.setOptions(i)}_constructOptions(e,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=i;e=e==="true"?!0:e,e=e==="false"?!1:e;for(let o=0;o<r.length;o++)r[o]!=="global"&&(n[r[o]]===void 0&&(n[r[o]]={}),o!==r.length-1?n=n[r[o]]:n[r[o]]=e);return i}_printOptions(){const e=this.getOptions();for(;this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(rv("pre","const options = "+Jl(e,null,2)))}getOptions(){const e={};for(let r=0;r<this.changedOptions.length;r++)this._constructOptions(this.changedOptions[r].value,this.changedOptions[r].path,e);return e}},Rde=class{constructor(e,r){this.container=e,this.overflowMethod=r||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}setPosition(e,r){this.x=Br(e),this.y=Br(r)}setText(e){if(e instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(e)}else this.frame.innerText=e}show(e){if(e===void 0&&(e=!0),e===!0){const r=this.frame.clientHeight,i=this.frame.clientWidth,n=this.frame.parentNode.clientHeight,o=this.frame.parentNode.clientWidth;let s=0,a=0;if(this.overflowMethod=="flip"){let l=!1,c=!0;this.y-r<this.padding&&(c=!1),this.x+i>o-this.padding&&(l=!0),l?s=this.x-i:s=this.x,c?a=this.y-r:a=this.y}else a=this.y-r,a+r+this.padding>n&&(a=n-r-this.padding),a<this.padding&&(a=this.padding),s=this.x,s+i+this.padding>o&&(s=o-i-this.padding),s<this.padding&&(s=this.padding);this.frame.style.left=s+"px",this.frame.style.top=a+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}hide(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}destroy(){this.frame.parentNode.removeChild(this.frame)}},la=!1,z0;const iv="background: #FFeeee; color: #dd0000";let Nde=class Qe{static validate(e,r,i){la=!1,z0=r;let n=r;return i!==void 0&&(n=r[i]),Qe.parse(e,n,[]),la}static parse(e,r,i){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&Qe.check(n,e,r,i)}static check(e,r,i,n){if(i[e]===void 0&&i.__any__===void 0){Qe.getSuggestion(e,i,n);return}let o=e,s=!0;i[e]===void 0&&i.__any__!==void 0&&(o="__any__",s=Qe.getType(r[e])==="object");let a=i[o];s&&a.__type__!==void 0&&(a=a.__type__),Qe.checkFields(e,r,i,o,a,n)}static checkFields(e,r,i,n,o,s){const a=function(d){console.error("%c"+d+Qe.printLocation(s,e),iv)},l=Qe.getType(r[e]),c=o[l];c!==void 0?Qe.getType(c)==="array"&&Pe(c).call(c,r[e])===-1?(a('Invalid option detected in "'+e+'". Allowed values are:'+Qe.print(c)+' not "'+r[e]+'". '),la=!0):l==="object"&&n!=="__any__"&&(s=Gd(s,e),Qe.parse(r[e],i[n],s)):o.any===void 0&&(a('Invalid type received for "'+e+'". Expected: '+Qe.print(Ze(o))+". Received ["+l+'] "'+r[e]+'"'),la=!0)}static getType(e){const r=typeof e;return r==="object"?e===null?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":et(e)?"array":e instanceof Date?"date":e.nodeType!==void 0?"dom":e._isAMomentObject===!0?"moment":"object":r==="number"?"number":r==="boolean"?"boolean":r==="string"?"string":r===void 0?"undefined":r}static getSuggestion(e,r,i){const n=Qe.findInOptions(e,r,i,!1),o=Qe.findInOptions(e,z0,[],!0),s=8,a=4;let l;n.indexMatch!==void 0?l=" in "+Qe.printLocation(n.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+n.indexMatch+`"?

`:o.distance<=a&&n.distance>o.distance?l=" in "+Qe.printLocation(n.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+Qe.printLocation(o.path,o.closestMatch,""):n.distance<=s?l='. Did you mean "'+n.closestMatch+'"?'+Qe.printLocation(n.path,e):l=". Did you mean one of these: "+Qe.print(Ze(r))+Qe.printLocation(i,e),console.error('%cUnknown option detected: "'+e+'"'+l,iv),la=!0}static findInOptions(e,r,i){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,o=1e9,s="",a=[];const l=e.toLowerCase();let c;for(const u in r){let h;if(r[u].__type__!==void 0&&n===!0){const f=Qe.findInOptions(e,r[u],Gd(i,u));o>f.distance&&(s=f.closestMatch,a=f.path,o=f.distance,c=f.indexMatch)}else{var d;Pe(d=u.toLowerCase()).call(d,l)!==-1&&(c=u),h=Qe.levenshteinDistance(e,u),o>h&&(s=u,a=Tde(i),o=h)}}return{closestMatch:s,path:a,distance:o,indexMatch:c}}static printLocation(e,r){let n=`

`+(arguments.length>2&&arguments[2]!==void 0?arguments[2]:`Problem value found at: 
`)+`options = {
`;for(let o=0;o<e.length;o++){for(let s=0;s<o+1;s++)n+="  ";n+=e[o]+`: {
`}for(let o=0;o<e.length+1;o++)n+="  ";n+=r+`
`;for(let o=0;o<e.length+1;o++){for(let s=0;s<e.length-o;s++)n+="  ";n+=`}
`}return n+`

`}static print(e){return Jl(e).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}static levenshteinDistance(e,r){if(e.length===0)return r.length;if(r.length===0)return e.length;const i=[];let n;for(n=0;n<=r.length;n++)i[n]=[n];let o;for(o=0;o<=e.length;o++)i[0][o]=o;for(n=1;n<=r.length;n++)for(o=1;o<=e.length;o++)r.charAt(n-1)==e.charAt(o-1)?i[n][o]=i[n-1][o-1]:i[n][o]=Math.min(i[n-1][o-1]+1,Math.min(i[n][o-1]+1,i[n-1][o]+1));return i[r.length][e.length]}};const Fde=ci,qde=Mde,hs=zm,Bde=Rde,pA=iv,Lde=Nde;function jde(t){return an=t,Vde()}var gA={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},Wm=no(gA);Wm.color="color.color";Wm.style="dashes";var Ht={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},H0={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},an="",xs=0,be="",de="",tr=Ht.NULL;function zde(){xs=0,be=an.charAt(0)}function wt(){xs++,be=an.charAt(xs)}function Uo(){return an.charAt(xs+1)}function W0(t){var e=t.charCodeAt(0);return e<47?e===35||e===46:e<59?e>47:e<91?e>64:e<96?e===95:e<123?e>96:!1}function Sn(t,e){if(t||(t={}),e)for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}function Hde(t,e,r){for(var i=e.split("."),n=t;i.length;){var o=i.shift();i.length?(n[o]||(n[o]={}),n=n[o]):n[o]=r}}function vA(t,e){for(var r,i,n=null,o=[t],s=t;s.parent;)o.push(s.parent),s=s.parent;if(s.nodes){for(r=0,i=s.nodes.length;r<i;r++)if(e.id===s.nodes[r].id){n=s.nodes[r];break}}for(n||(n={id:e.id},t.node&&(n.attr=Sn(n.attr,t.node))),r=o.length-1;r>=0;r--){var a,l=o[r];l.nodes||(l.nodes=[]),Pe(a=l.nodes).call(a,n)===-1&&l.nodes.push(n)}e.attr&&(n.attr=Sn(n.attr,e.attr))}function Wde(t,e){if(t.edges||(t.edges=[]),t.edges.push(e),t.edge){var r=Sn({},t.edge);e.attr=Sn(r,e.attr)}}function mA(t,e,r,i,n){var o={from:e,to:r,type:i};return t.edge&&(o.attr=Sn({},t.edge)),o.attr=Sn(o.attr||{},n),n!=null&&n.hasOwnProperty("arrows")&&n.arrows!=null&&(o.arrows={to:{enabled:!0,type:n.arrows.type}},n.arrows=null),o}function He(){for(tr=Ht.NULL,de="";be===" "||be==="	"||be===`
`||be==="\r";)wt();do{var t=!1;if(be==="#"){for(var e=xs-1;an.charAt(e)===" "||an.charAt(e)==="	";)e--;if(an.charAt(e)===`
`||an.charAt(e)===""){for(;be!=""&&be!=`
`;)wt();t=!0}}if(be==="/"&&Uo()==="/"){for(;be!=""&&be!=`
`;)wt();t=!0}if(be==="/"&&Uo()==="*"){for(;be!="";)if(be==="*"&&Uo()==="/"){wt(),wt();break}else wt();t=!0}for(;be===" "||be==="	"||be===`
`||be==="\r";)wt()}while(t);if(be===""){tr=Ht.DELIMITER;return}var r=be+Uo();if(H0[r]){tr=Ht.DELIMITER,de=r,wt(),wt();return}if(H0[be]){tr=Ht.DELIMITER,de=be,wt();return}if(W0(be)||be==="-"){for(de+=be,wt();W0(be);)de+=be,wt();de==="false"?de=!1:de==="true"?de=!0:isNaN(Number(de))||(de=Number(de)),tr=Ht.IDENTIFIER;return}if(be==='"'){for(wt();be!=""&&(be!='"'||be==='"'&&Uo()==='"');)be==='"'?(de+=be,wt()):be==="\\"&&Uo()==="n"?(de+=`
`,wt()):de+=be,wt();if(be!='"')throw Wt('End of string " expected');wt(),tr=Ht.IDENTIFIER;return}for(tr=Ht.UNKNOWN;be!="";)de+=be,wt();throw new SyntaxError('Syntax error in part "'+wA(de,30)+'"')}function Vde(){var t={};if(zde(),He(),de==="strict"&&(t.strict=!0,He()),(de==="graph"||de==="digraph")&&(t.type=de,He()),tr===Ht.IDENTIFIER&&(t.id=de,He()),de!="{")throw Wt("Angle bracket { expected");if(He(),yA(t),de!="}")throw Wt("Angle bracket } expected");if(He(),de!=="")throw Wt("End of file expected");return He(),delete t.node,delete t.edge,delete t.graph,t}function yA(t){for(;de!==""&&de!="}";)Ude(t),de===";"&&He()}function Ude(t){var e=bA(t);if(e){$A(t,e);return}var r=Yde(t);if(!r){if(tr!=Ht.IDENTIFIER)throw Wt("Identifier expected");var i=de;if(He(),de==="="){if(He(),tr!=Ht.IDENTIFIER)throw Wt("Identifier expected");t[i]=de,He()}else Gde(t,i)}}function bA(t){var e=null;if(de==="subgraph"&&(e={},e.type="subgraph",He(),tr===Ht.IDENTIFIER&&(e.id=de,He())),de==="{"){if(He(),e||(e={}),e.parent=t,e.node=t.node,e.edge=t.edge,e.graph=t.graph,yA(e),de!="}")throw Wt("Angle bracket } expected");He(),delete e.node,delete e.edge,delete e.graph,delete e.parent,t.subgraphs||(t.subgraphs=[]),t.subgraphs.push(e)}return e}function Yde(t){return de==="node"?(He(),t.node=Da(),"node"):de==="edge"?(He(),t.edge=Da(),"edge"):de==="graph"?(He(),t.graph=Da(),"graph"):null}function Gde(t,e){var r={id:e},i=Da();i&&(r.attr=i),vA(t,r),$A(t,e)}function $A(t,e){for(;de==="->"||de==="--";){var r,i=de;He();var n=bA(t);if(n)r=n;else{if(tr!=Ht.IDENTIFIER)throw Wt("Identifier or subgraph expected");r=de,vA(t,{id:r}),He()}var o=Da(),s=mA(t,e,r,i,o);Wde(t,s),e=r}}function Da(){for(var t,e=null,r={dashed:!0,solid:!1,dotted:[1,5]},i={dot:"circle",box:"box",crow:"crow",curve:"curve",icurve:"inv_curve",normal:"triangle",inv:"inv_triangle",diamond:"diamond",tee:"bar",vee:"vee"},n=new Array,o=new Array;de==="[";){for(He(),e={};de!==""&&de!="]";){if(tr!=Ht.IDENTIFIER)throw Wt("Attribute name expected");var s=de;if(He(),de!="=")throw Wt("Equal sign = expected");if(He(),tr!=Ht.IDENTIFIER)throw Wt("Attribute value expected");var a=de;s==="style"&&(a=r[a]);var l;s==="arrowhead"&&(l=i[a],s="arrows",a={to:{enabled:!0,type:l}}),s==="arrowtail"&&(l=i[a],s="arrows",a={from:{enabled:!0,type:l}}),n.push({attr:e,name:s,value:a}),o.push(s),He(),de==","&&He()}if(de!="]")throw Wt("Bracket ] expected");He()}if(gn(o).call(o,"dir")){var c={};for(c.arrows={},t=0;t<n.length;t++)if(n[t].name==="arrows")if(n[t].value.to!=null)c.arrows.to=t;else if(n[t].value.from!=null)c.arrows.from=t;else throw Wt("Invalid value of arrows");else n[t].name==="dir"&&(c.dir=t);var d=n[c.dir].value;if(!gn(o).call(o,"arrows"))if(d==="both")n.push({attr:n[c.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),c.arrows.to=n.length-1,n.push({attr:n[c.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),c.arrows.from=n.length-1;else if(d==="forward")n.push({attr:n[c.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),c.arrows.to=n.length-1;else if(d==="back")n.push({attr:n[c.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),c.arrows.from=n.length-1;else if(d==="none")n.push({attr:n[c.dir].attr,name:"arrows",value:""}),c.arrows.to=n.length-1;else throw Wt('Invalid dir type "'+d+'"');var u,h;if(d==="both")c.arrows.to&&c.arrows.from?(h=n[c.arrows.to].value.to.type,u=n[c.arrows.from].value.from.type,n[c.arrows.to]={attr:n[c.arrows.to].attr,name:n[c.arrows.to].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:u}}},ki(n).call(n,c.arrows.from,1)):c.arrows.to?(h=n[c.arrows.to].value.to.type,u="arrow",n[c.arrows.to]={attr:n[c.arrows.to].attr,name:n[c.arrows.to].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:u}}}):c.arrows.from&&(h="arrow",u=n[c.arrows.from].value.from.type,n[c.arrows.from]={attr:n[c.arrows.from].attr,name:n[c.arrows.from].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:u}}});else if(d==="back")c.arrows.to&&c.arrows.from?(h="",u=n[c.arrows.from].value.from.type,n[c.arrows.from]={attr:n[c.arrows.from].attr,name:n[c.arrows.from].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:u}}}):c.arrows.to?(h="",u="arrow",c.arrows.from=c.arrows.to,n[c.arrows.from]={attr:n[c.arrows.from].attr,name:n[c.arrows.from].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:u}}}):c.arrows.from&&(h="",u=n[c.arrows.from].value.from.type,n[c.arrows.to]={attr:n[c.arrows.from].attr,name:n[c.arrows.from].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:u}}}),n[c.arrows.from]={attr:n[c.arrows.from].attr,name:n[c.arrows.from].name,value:{from:{enabled:!0,type:n[c.arrows.from].value.from.type}}};else if(d==="none"){var f;c.arrows.to?f=c.arrows.to:f=c.arrows.from,n[f]={attr:n[f].attr,name:n[f].name,value:""}}else if(d==="forward")c.arrows.to&&c.arrows.from?(h=n[c.arrows.to].value.to.type,u="",n[c.arrows.to]={attr:n[c.arrows.to].attr,name:n[c.arrows.to].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:u}}}):c.arrows.to?(h=n[c.arrows.to].value.to.type,u="",n[c.arrows.to]={attr:n[c.arrows.to].attr,name:n[c.arrows.to].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:u}}}):c.arrows.from&&(h="arrow",u="",c.arrows.to=c.arrows.from,n[c.arrows.to]={attr:n[c.arrows.to].attr,name:n[c.arrows.to].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:u}}}),n[c.arrows.to]={attr:n[c.arrows.to].attr,name:n[c.arrows.to].name,value:{to:{enabled:!0,type:n[c.arrows.to].value.to.type}}};else throw Wt('Invalid dir type "'+d+'"');ki(n).call(n,c.dir,1)}var p;if(gn(o).call(o,"penwidth")){var v=[];for(p=n.length,t=0;t<p;t++)n[t].name!=="width"&&(n[t].name==="penwidth"&&(n[t].name="width"),v.push(n[t]));n=v}for(p=n.length,t=0;t<p;t++)Hde(n[t].attr,n[t].name,n[t].value);return e}function Wt(t){return new SyntaxError(t+', got "'+wA(de,30)+'" (char '+xs+")")}function wA(t,e){return t.length<=e?t:t.substr(0,27)+"..."}function Kde(t,e,r){et(t)?Fe(t).call(t,function(i){et(e)?Fe(e).call(e,function(n){r(i,n)}):r(i,e)}):et(e)?Fe(e).call(e,function(i){r(t,i)}):r(t,e)}function Tp(t,e,r){for(var i=e.split("."),n=i.pop(),o=t,s=0;s<i.length;s++){var a=i[s];a in o||(o[a]={}),o=o[a]}return o[n]=r,t}function V0(t,e){var r={};for(var i in t)if(t.hasOwnProperty(i)){var n=e[i];et(n)?Fe(n).call(n,function(o){Tp(r,o,t[i])}):typeof n=="string"?Tp(r,n,t[i]):Tp(r,i,t[i])}return r}function Xde(t){var e=jde(t),r={nodes:[],edges:[],options:{}};if(e.nodes){var i;Fe(i=e.nodes).call(i,function(s){var a={id:s.id,label:String(s.label||s.id)};Sn(a,V0(s.attr,gA)),a.image&&(a.shape="image"),r.nodes.push(a)})}if(e.edges){var n,o=function(s){var a={from:s.from,to:s.to};return Sn(a,V0(s.attr,Wm)),a.arrows==null&&s.type==="->"&&(a.arrows="to"),a};Fe(n=e.edges).call(n,function(s){var a,l;if(s.from instanceof Object?a=s.from.nodes:a={id:s.from},s.to instanceof Object?l=s.to.nodes:l={id:s.to},s.from instanceof Object&&s.from.edges){var c;Fe(c=s.from.edges).call(c,function(u){var h=o(u);r.edges.push(h)})}if(Kde(a,l,function(u,h){var f=mA(r,u.id,h.id,s.type,s.attr),p=o(f);r.edges.push(p)}),s.to instanceof Object&&s.to.edges){var d;Fe(d=s.to.edges).call(d,function(u){var h=o(u);r.edges.push(h)})}})}return e.attr&&(r.options=e.attr),r}function Jde(t,e){var r;const i={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};e!=null&&(e.fixed!=null&&(i.nodes.fixed=e.fixed),e.parseColor!=null&&(i.nodes.parseColor=e.parseColor),e.inheritColor!=null&&(i.edges.inheritColor=e.inheritColor));const n=t.edges,o=Es(n).call(n,a=>{const l={from:a.source,id:a.id,to:a.target};return a.attributes!=null&&(l.attributes=a.attributes),a.label!=null&&(l.label=a.label),a.attributes!=null&&a.attributes.title!=null&&(l.title=a.attributes.title),a.type==="Directed"&&(l.arrows="to"),a.color&&i.edges.inheritColor===!1&&(l.color=a.color),l});return{nodes:Es(r=t.nodes).call(r,a=>{const l={id:a.id,fixed:i.nodes.fixed&&a.x!=null&&a.y!=null};return a.attributes!=null&&(l.attributes=a.attributes),a.label!=null&&(l.label=a.label),a.size!=null&&(l.size=a.size),a.attributes!=null&&a.attributes.title!=null&&(l.title=a.attributes.title),a.title!=null&&(l.title=a.title),a.x!=null&&(l.x=a.x),a.y!=null&&(l.y=a.y),a.color!=null&&(i.nodes.parseColor===!0?l.color=a.color:l.color={background:a.color,border:a.color,highlight:{background:a.color,border:a.color},hover:{background:a.color,border:a.color}}),l}),edges:o}}const Qde={addDescription:"Click in an empty space to place a new node.",addEdge:"Add Edge",addNode:"Add Node",back:"Back",close:"Close",createEdgeError:"Cannot link edges to a cluster.",del:"Delete selected",deleteClusterError:"Clusters cannot be deleted.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",edit:"Edit",editClusterError:"Clusters cannot be edited.",editEdge:"Edit Edge",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",editNode:"Edit Node"},Zde={addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",addEdge:"Kante hinzufgen",addNode:"Knoten hinzufgen",back:"Zurck",close:"Schlieen",createEdgeError:"Es ist nicht mglich, Kanten mit Clustern zu verbinden.",del:"Lsche Auswahl",deleteClusterError:"Cluster knnen nicht gelscht werden.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",edit:"Editieren",editClusterError:"Cluster knnen nicht editiert werden.",editEdge:"Kante editieren",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",editNode:"Knoten editieren"},eue={addDescription:"Haga clic en un lugar vaco para colocar un nuevo nodo.",addEdge:"Aadir arista",addNode:"Aadir nodo",back:"Atrs",close:"Cerrar",createEdgeError:"No se puede conectar una arista a un grupo.",del:"Eliminar seleccin",deleteClusterError:"No es posible eliminar grupos.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",edit:"Editar",editClusterError:"No es posible editar grupos.",editEdge:"Editar arista",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",editNode:"Editar nodo"},tue={addDescription:"Clicca per aggiungere un nuovo nodo",addEdge:"Aggiungi un vertice",addNode:"Aggiungi un nodo",back:"Indietro",close:"Chiudere",createEdgeError:"Non si possono collegare vertici ad un cluster",del:"Cancella la selezione",deleteClusterError:"I cluster non possono essere cancellati",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",edit:"Modifica",editClusterError:"I clusters non possono essere modificati.",editEdge:"Modifica il vertice",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",editNode:"Modifica il nodo"},rue={addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",addEdge:"Link toevoegen",addNode:"Node toevoegen",back:"Terug",close:"Sluiten",createEdgeError:"Kan geen link maken naar een cluster.",del:"Selectie verwijderen",deleteClusterError:"Clusters kunnen niet worden verwijderd.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",edit:"Wijzigen",editClusterError:"Clusters kunnen niet worden aangepast.",editEdge:"Link wijzigen",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",editNode:"Node wijzigen"},iue={addDescription:"Clique em um espao em branco para adicionar um novo n",addEdge:"Adicionar aresta",addNode:"Adicionar n",back:"Voltar",close:"Fechar",createEdgeError:"No foi possvel linkar arestas a um cluster.",del:"Remover selecionado",deleteClusterError:"Clusters no puderam ser removidos.",edgeDescription:"Clique em um n e arraste a aresta at outro n para conect-los",edit:"Editar",editClusterError:"Clusters no puderam ser editados.",editEdge:"Editar aresta",editEdgeDescription:"Clique nos pontos de controle e os arraste para um n para conect-los",editNode:"Editar n"},nue={addDescription:"   ,    .",addEdge:" ",addNode:" ",back:"",close:"",createEdgeError:"    .",del:" ",deleteClusterError:"    ",edgeDescription:"        ,   .",edit:"",editClusterError:"   .",editEdge:" ",editEdgeDescription:"        ,    .",editNode:" "},oue={addDescription:"",addEdge:"",addNode:"",back:"",close:"",createEdgeError:"",del:"",deleteClusterError:"",edgeDescription:"",edit:"",editClusterError:"",editEdge:"",editEdgeDescription:"",editNode:""},sue={addDescription:"K   ,    .",addEdge:" ",addNode:" ",back:"",close:"",createEdgeError:"  '   .",del:" ",deleteClusterError:"    .",edgeDescription:"        ,   '.",edit:"",editClusterError:"   .",editEdge:" ",editEdgeDescription:"        ,    .",editNode:" "},aue={addDescription:"Cliquez dans un endroit vide pour placer un nud.",addEdge:"Ajouter un lien",addNode:"Ajouter un nud",back:"Retour",close:"Fermer",createEdgeError:"Impossible de crer un lien vers un cluster.",del:"Effacer la slection",deleteClusterError:"Les clusters ne peuvent pas tre effacs.",edgeDescription:"Cliquez sur un nud et glissez le lien vers un autre nud pour les connecter.",edit:"diter",editClusterError:"Les clusters ne peuvent pas tre dits.",editEdge:"diter le lien",editEdgeDescription:"Cliquez sur les points de contrle et glissez-les pour connecter un nud.",editNode:"diter le nud"},lue={addDescription:"Kluknutm do przdnho prostoru mete pidat nov vrchol.",addEdge:"Pidat hranu",addNode:"Pidat vrchol",back:"Zpt",close:"Zavt",createEdgeError:"Nelze pipojit hranu ke shluku.",del:"Smazat vbr",deleteClusterError:"Nelze mazat shluky.",edgeDescription:"Petaenm z jednoho vrcholu do druhho mete spojit tyto vrcholy novou hranou.",edit:"Upravit",editClusterError:"Nelze upravovat shluky.",editEdge:"Upravit hranu",editEdgeDescription:"Petaenm kontrolnho vrcholu hrany ji mete pipojit k jinmu vrcholu.",editNode:"Upravit vrchol"};var cue=Object.freeze({__proto__:null,cn:oue,cs:lue,de:Zde,en:Qde,es:eue,fr:aue,it:tue,nl:rue,pt:iue,ru:nue,uk:sue});function due(t,e){try{const[i,n]=e.split(/[-_ /]/,2),o=i!=null?i.toLowerCase():null,s=n!=null?n.toUpperCase():null;if(o&&s){const a=o+"-"+s;if(Object.prototype.hasOwnProperty.call(t,a))return a;var r;console.warn(Pae(r="Unknown variant ".concat(s," of language ")).call(r,o,"."))}if(o){const a=o;if(Object.prototype.hasOwnProperty.call(t,a))return a;console.warn("Unknown language ".concat(o))}return console.warn("Unknown locale ".concat(e,", falling back to English.")),"en"}catch(i){return console.error(i),console.warn("Unexpected error while normalizing locale ".concat(e,", falling back to English.")),"en"}}class uue{constructor(){this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}init(){if(this.initialized())return;this.src=this.image.src;const e=this.image.width,r=this.image.height;this.width=e,this.height=r;const i=Math.floor(r/2),n=Math.floor(r/4),o=Math.floor(r/8),s=Math.floor(r/16),a=Math.floor(e/2),l=Math.floor(e/4),c=Math.floor(e/8),d=Math.floor(e/16);this.canvas.width=3*l,this.canvas.height=i,this.coordinates=[[0,0,a,i],[a,0,l,n],[a,n,c,o],[5*c,n,d,s]],this._fillMipMap()}initialized(){return this.coordinates!==void 0}_fillMipMap(){const e=this.canvas.getContext("2d"),r=this.coordinates[0];e.drawImage(this.image,r[0],r[1],r[2],r[3]);for(let i=1;i<this.NUM_ITERATIONS;i++){const n=this.coordinates[i-1],o=this.coordinates[i];e.drawImage(this.canvas,n[0],n[1],n[2],n[3],o[0],o[1],o[2],o[3])}}drawImageAtPosition(e,r,i,n,o,s){if(this.initialized())if(r>2){r*=.5;let a=0;for(;r>2&&a<this.NUM_ITERATIONS;)r*=.5,a+=1;a>=this.NUM_ITERATIONS&&(a=this.NUM_ITERATIONS-1);const l=this.coordinates[a];e.drawImage(this.canvas,l[0],l[1],l[2],l[3],i,n,o,s)}else e.drawImage(this.image,i,n,o,s)}}class hue{constructor(e){this.images={},this.imageBroken={},this.callback=e}_tryloadBrokenUrl(e,r,i){if(!(e===void 0||i===void 0)){if(r===void 0){console.warn("No broken url image defined");return}i.image.onerror=()=>{console.error("Could not load brokenImage:",r)},i.image.src=r}}_redrawWithImage(e){this.callback&&this.callback(e)}load(e,r){const i=this.images[e];if(i)return i;const n=new uue;return this.images[e]=n,n.image.onload=()=>{this._fixImageCoordinates(n.image),n.init(),this._redrawWithImage(n)},n.image.onerror=()=>{console.error("Could not load image:",e),this._tryloadBrokenUrl(e,r,n)},n.image.src=e,n}_fixImageCoordinates(e){e.width===0&&(document.body.appendChild(e),e.width=e.offsetWidth,e.height=e.offsetHeight,document.body.removeChild(e))}}var _A={exports:{}},fue=Oe,pue=fue(function(){if(typeof ArrayBuffer=="function"){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}}),gue=Oe,vue=Lt,mue=Hi,U0=pue,ud=Object.isExtensible,yue=gue(function(){ud(1)}),bue=yue||U0?function(e){return!vue(e)||U0&&mue(e)==="ArrayBuffer"?!1:ud?ud(e):!0}:ud,$ue=Oe,SA=!$ue(function(){return Object.isExtensible(Object.preventExtensions({}))}),wue=fe,_ue=ke,Sue=Ll,Iue=Lt,Vm=Mt,Eue=_r.f,Y0=Ul,Tue=Xu,Um=bue,Oue=Hu,kue=SA,IA=!1,Bi=Oue("meta"),xue=0,Ym=function(t){Eue(t,Bi,{value:{objectID:"O"+xue++,weakData:{}}})},Aue=function(t,e){if(!Iue(t))return typeof t=="symbol"?t:(typeof t=="string"?"S":"P")+t;if(!Vm(t,Bi)){if(!Um(t))return"F";if(!e)return"E";Ym(t)}return t[Bi].objectID},Cue=function(t,e){if(!Vm(t,Bi)){if(!Um(t))return!0;if(!e)return!1;Ym(t)}return t[Bi].weakData},Pue=function(t){return kue&&IA&&Um(t)&&!Vm(t,Bi)&&Ym(t),t},Due=function(){Mue.enable=function(){},IA=!0;var t=Y0.f,e=_ue([].splice),r={};r[Bi]=1,t(r).length&&(Y0.f=function(i){for(var n=t(i),o=0,s=n.length;o<s;o++)if(n[o]===Bi){e(n,o,1);break}return n},wue({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:Tue.f}))},Mue=_A.exports={enable:Due,fastKey:Aue,getWeakData:Cue,onFreeze:Pue};Sue[Bi]=!0;var ah=_A.exports,Rue=ht,Nue=Js,Fue=Rue("iterator"),que=Array.prototype,Bue=function(t){return t!==void 0&&(Nue.Array===t||que[Fue]===t)},Lue=ko,G0=bm,jue=Vs,zue=Js,Hue=ht,Wue=Hue("iterator"),EA=function(t){if(!jue(t))return G0(t,Wue)||G0(t,"@@iterator")||zue[Lue(t)]},Vue=Yr,Uue=Ys,Yue=Wi,Gue=Fl,Kue=EA,Xue=TypeError,Jue=function(t,e){var r=arguments.length<2?Kue(t):e;if(Uue(r))return Yue(Vue(r,t));throw new Xue(Gue(t)+" is not iterable")},Que=Yr,K0=Wi,Zue=bm,ehe=function(t,e,r){var i,n;K0(t);try{if(i=Zue(t,"return"),!i){if(e==="throw")throw r;return r}i=Que(i,t)}catch(o){n=!0,i=o}if(e==="throw")throw r;if(n)throw i;return K0(i),r},the=Vu,rhe=Yr,ihe=Wi,nhe=Fl,ohe=Bue,she=vi,X0=yt,ahe=Jue,lhe=EA,J0=ehe,che=TypeError,hd=function(t,e){this.stopped=t,this.result=e},Q0=hd.prototype,Gm=function(t,e,r){var i=r&&r.that,n=!!(r&&r.AS_ENTRIES),o=!!(r&&r.IS_RECORD),s=!!(r&&r.IS_ITERATOR),a=!!(r&&r.INTERRUPTED),l=the(e,i),c,d,u,h,f,p,v,y=function($){return c&&J0(c,"normal",$),new hd(!0,$)},m=function($){return n?(ihe($),a?l($[0],$[1],y):l($[0],$[1])):a?l($,y):l($)};if(o)c=t.iterator;else if(s)c=t;else{if(d=lhe(t),!d)throw new che(nhe(t)+" is not iterable");if(ohe(d)){for(u=0,h=she(t);h>u;u++)if(f=m(t[u]),f&&X0(Q0,f))return f;return new hd(!1)}c=ahe(t,d)}for(p=o?t.next:c.next;!(v=rhe(p,c)).done;){try{f=m(v.value)}catch($){J0(c,"throw",$)}if(typeof f=="object"&&f&&X0(Q0,f))return f}return new hd(!1)},dhe=yt,uhe=TypeError,Km=function(t,e){if(dhe(e,t))return t;throw new uhe("Incorrect invocation")},hhe=fe,fhe=nt,phe=ah,ghe=Oe,vhe=Ks,mhe=Gm,yhe=Km,bhe=Dt,$he=Lt,whe=Vs,_he=Xs,She=_r.f,Ihe=Pn.forEach,Ehe=$t,TA=xo,The=TA.set,Ohe=TA.getterFor,Xm=function(t,e,r){var i=t.indexOf("Map")!==-1,n=t.indexOf("Weak")!==-1,o=i?"set":"add",s=fhe[t],a=s&&s.prototype,l={},c;if(!Ehe||!bhe(s)||!(n||a.forEach&&!ghe(function(){new s().entries().next()})))c=r.getConstructor(e,t,i,o),phe.enable();else{c=e(function(h,f){The(yhe(h,d),{type:t,collection:new s}),whe(f)||mhe(f,h[o],{that:h,AS_ENTRIES:i})});var d=c.prototype,u=Ohe(t);Ihe(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(h){var f=h==="add"||h==="set";h in a&&!(n&&h==="clear")&&vhe(d,h,function(p,v){var y=u(this).collection;if(!f&&n&&!$he(p))return h==="get"?void 0:!1;var m=y[h](p===0?0:p,v);return f?this:m})}),n||She(d,"size",{configurable:!0,get:function(){return u(this).collection.size}})}return _he(c,t,!1,!0),l[t]=c,hhe({global:!0,forced:!0},l),n||r.setStrong(c,t,i),c},khe=Yl,Jm=function(t,e,r){for(var i in e)r&&r.unsafe&&t[i]?t[i]=e[i]:khe(t,i,e[i],r);return t},xhe=Kr,Ahe=Om,Che=ht,Phe=$t,Z0=Che("species"),Dhe=function(t){var e=xhe(t);Phe&&e&&!e[Z0]&&Ahe(e,Z0,{configurable:!0,get:function(){return this}})},Mhe=Vl,Rhe=Om,e_=Jm,Nhe=Vu,Fhe=Km,qhe=Vs,Bhe=Gm,Lhe=Pm,zc=Dm,jhe=Dhe,ca=$t,t_=ah.fastKey,OA=xo,r_=OA.set,Op=OA.getterFor,kA={getConstructor:function(t,e,r,i){var n=t(function(c,d){Fhe(c,o),r_(c,{type:e,index:Mhe(null),first:void 0,last:void 0,size:0}),ca||(c.size=0),qhe(d)||Bhe(d,c[i],{that:c,AS_ENTRIES:r})}),o=n.prototype,s=Op(e),a=function(c,d,u){var h=s(c),f=l(c,d),p,v;return f?f.value=u:(h.last=f={index:v=t_(d,!0),key:d,value:u,previous:p=h.last,next:void 0,removed:!1},h.first||(h.first=f),p&&(p.next=f),ca?h.size++:c.size++,v!=="F"&&(h.index[v]=f)),c},l=function(c,d){var u=s(c),h=t_(d),f;if(h!=="F")return u.index[h];for(f=u.first;f;f=f.next)if(f.key===d)return f};return e_(o,{clear:function(){for(var d=this,u=s(d),h=u.index,f=u.first;f;)f.removed=!0,f.previous&&(f.previous=f.previous.next=void 0),delete h[f.index],f=f.next;u.first=u.last=void 0,ca?u.size=0:d.size=0},delete:function(c){var d=this,u=s(d),h=l(d,c);if(h){var f=h.next,p=h.previous;delete u.index[h.index],h.removed=!0,p&&(p.next=f),f&&(f.previous=p),u.first===h&&(u.first=f),u.last===h&&(u.last=p),ca?u.size--:d.size--}return!!h},forEach:function(d){for(var u=s(this),h=Nhe(d,arguments.length>1?arguments[1]:void 0),f;f=f?f.next:u.first;)for(h(f.value,f.key,this);f&&f.removed;)f=f.previous},has:function(d){return!!l(this,d)}}),e_(o,r?{get:function(d){var u=l(this,d);return u&&u.value},set:function(d,u){return a(this,d===0?0:d,u)}}:{add:function(d){return a(this,d=d===0?0:d,d)}}),ca&&Rhe(o,"size",{configurable:!0,get:function(){return s(this).size}}),n},setStrong:function(t,e,r){var i=e+" Iterator",n=Op(e),o=Op(i);Lhe(t,e,function(s,a){r_(this,{type:i,target:s,state:n(s),kind:a,last:void 0})},function(){for(var s=o(this),a=s.kind,l=s.last;l&&l.removed;)l=l.previous;return!s.target||!(s.last=l=l?l.next:s.state.first)?(s.target=void 0,zc(void 0,!0)):zc(a==="keys"?l.key:a==="values"?l.value:[l.key,l.value],!1)},r?"entries":"values",!r,!0),jhe(e)}},zhe=Xm,Hhe=kA;zhe("Map",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},Hhe);var Qm=ke,Whe=Uu,Vhe=mi,Uhe=Dl,Yhe=Qm("".charAt),i_=Qm("".charCodeAt),Ghe=Qm("".slice),Khe=function(t){return function(e,r){var i=Vhe(Uhe(e)),n=Whe(r),o=i.length,s,a;return n<0||n>=o?t?"":void 0:(s=i_(i,n),s<55296||s>56319||n+1===o||(a=i_(i,n+1))<56320||a>57343?t?Yhe(i,n):s:t?Ghe(i,n,n+2):(s-55296<<10)+(a-56320)+65536)}},Xhe={charAt:Khe(!0)},Jhe=Xhe.charAt,Qhe=mi,xA=xo,Zhe=Pm,n_=Dm,AA="String Iterator",efe=xA.set,tfe=xA.getterFor(AA);Zhe(String,"String",function(t){efe(this,{type:AA,string:Qhe(t),index:0})},function(){var e=tfe(this),r=e.string,i=e.index,n;return i>=r.length?n_(void 0,!0):(n=Jhe(r,i),e.index+=n.length,n_(n,!1))});var rfe=De,ife=rfe.Map,nfe=ife,ofe=nfe,sfe=ofe,Zm=pe(sfe);class afe{constructor(){this.clear(),this._defaultIndex=0,this._groupIndex=0,this._defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},pt(this.options,this.defaultOptions)}setOptions(e){const r=["useDefaultGroups"];if(e!==void 0){for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&Pe(r).call(r,i)===-1){const n=e[i];this.add(i,n)}}}clear(){this._groups=new Zm,this._groupNames=[]}get(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,i=this._groups.get(e);if(i===void 0&&r)if(this.options.useDefaultGroups===!1&&this._groupNames.length>0){const n=this._groupIndex%this._groupNames.length;++this._groupIndex,i={},i.color=this._groups.get(this._groupNames[n]),this._groups.set(e,i)}else{const n=this._defaultIndex%this._defaultGroups.length;this._defaultIndex++,i={},i.color=this._defaultGroups[n],this._groups.set(e,i)}return i}add(e,r){return this._groups.has(e)||this._groupNames.push(e),this._groups.set(e,r),r}}var lfe=fe;lfe({target:"Number",stat:!0},{isNaN:function(e){return e!==e}});var cfe=De,dfe=cfe.Number.isNaN,ufe=dfe,hfe=ufe,ffe=hfe,nv=pe(ffe),pfe=nt,gfe=pfe.isFinite,vfe=Number.isFinite||function(e){return typeof e=="number"&&gfe(e)},mfe=fe,yfe=vfe;mfe({target:"Number",stat:!0},{isFinite:yfe});var bfe=De,$fe=bfe.Number.isFinite,wfe=$fe,_fe=wfe,Sfe=_fe,Yn=pe(Sfe),Ife=fe,Efe=Pn.some,Tfe=Qs,Ofe=Tfe("some");Ife({target:"Array",proto:!0,forced:!Ofe},{some:function(e){return Efe(this,e,arguments.length>1?arguments[1]:void 0)}});var kfe=Rt,xfe=kfe("Array").some,Afe=yt,Cfe=xfe,kp=Array.prototype,Pfe=function(t){var e=t.some;return t===kp||Afe(kp,t)&&e===kp.some?Cfe:e},Dfe=Pfe,Mfe=Dfe,Rfe=Mfe,Nfe=pe(Rfe),CA={exports:{}},Ffe=fe,qfe=$t,o_=_r.f;Ffe({target:"Object",stat:!0,forced:Object.defineProperty!==o_,sham:!qfe},{defineProperty:o_});var Bfe=De,PA=Bfe.Object,Lfe=CA.exports=function(e,r,i){return PA.defineProperty(e,r,i)};PA.defineProperty.sham&&(Lfe.sham=!0);var jfe=CA.exports,zfe=jfe,DA=zfe,Hfe=DA,Wfe=Hfe,Vfe=Wfe,Ufe=Vfe,Yfe=Ufe,Gfe=pe(Yfe),Kfe=ht,Xfe=_r.f,s_=Kfe("metadata"),a_=Function.prototype;a_[s_]===void 0&&Xfe(a_,s_,{value:null});var Jfe=ot;Jfe("asyncDispose");var Qfe=ot;Qfe("dispose");var Zfe=ot;Zfe("metadata");var epe=Ix,tpe=epe,rpe=Kr,ipe=ke,ey=rpe("Symbol"),npe=ey.keyFor,ope=ipe(ey.prototype.valueOf),MA=ey.isRegisteredSymbol||function(e){try{return npe(ope(e))!==void 0}catch{return!1}},spe=fe,ape=MA;spe({target:"Symbol",stat:!0},{isRegisteredSymbol:ape});var lpe=Gs,RA=Kr,cpe=ke,dpe=Nl,upe=ht,Kd=RA("Symbol"),l_=Kd.isWellKnownSymbol,NA=RA("Object","getOwnPropertyNames"),hpe=cpe(Kd.prototype.valueOf),c_=lpe("wks");for(var xp=0,d_=NA(Kd),fpe=d_.length;xp<fpe;xp++)try{var u_=d_[xp];dpe(Kd[u_])&&upe(u_)}catch{}var FA=function(e){if(l_&&l_(e))return!0;try{for(var r=hpe(e),i=0,n=NA(c_),o=n.length;i<o;i++)if(c_[n[i]]==r)return!0}catch{}return!1},ppe=fe,gpe=FA;ppe({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:gpe});var vpe=ot;vpe("matcher");var mpe=ot;mpe("observable");var ype=fe,bpe=MA;ype({target:"Symbol",stat:!0},{isRegistered:bpe});var $pe=fe,wpe=FA;$pe({target:"Symbol",stat:!0,forced:!0},{isWellKnown:wpe});var _pe=ot;_pe("metadataKey");var Spe=ot;Spe("patternMatch");var Ipe=ot;Ipe("replaceAll");var Epe=tpe,Tpe=Epe,Ope=Tpe,Hc=pe(Ope),kpe=Gl,xpe=kpe.f("iterator"),Ape=xpe,Cpe=Ape,Ppe=Cpe,Dpe=Ppe,Mpe=Dpe,Rpe=Mpe,Npe=Rpe,Fpe=pe(Npe);function sl(t){"@babel/helpers - typeof";return sl=typeof Hc=="function"&&typeof Fpe=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Hc=="function"&&e.constructor===Hc&&e!==Hc.prototype?"symbol":typeof e},sl(t)}var qpe=Gl,Bpe=qpe.f("toPrimitive"),Lpe=Bpe,jpe=Lpe,zpe=jpe,Hpe=zpe,Wpe=Hpe,Vpe=Wpe,Upe=Vpe,Ype=pe(Upe);function Gpe(t,e){if(sl(t)!=="object"||t===null)return t;var r=t[Ype];if(r!==void 0){var i=r.call(t,e);if(sl(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kpe(t){var e=Gpe(t,"string");return sl(e)==="symbol"?e:String(e)}function lh(t,e,r){return e=Kpe(e),e in t?Gfe(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var qA=nt,Xpe=Oe,Jpe=ke,Qpe=mi,Zpe=Px.trim,ege=Mm,tge=Jpe("".charAt),Xd=qA.parseFloat,h_=qA.Symbol,f_=h_&&h_.iterator,rge=1/Xd(ege+"-0")!==-1/0||f_&&!Xpe(function(){Xd(Object(f_))}),ige=rge?function(e){var r=Zpe(Qpe(e)),i=Xd(r);return i===0&&tge(r,0)==="-"?-0:i}:Xd,nge=fe,p_=ige;nge({global:!0,forced:parseFloat!==p_},{parseFloat:p_});var oge=De,sge=oge.parseFloat,age=sge,lge=age,cge=lge,BA=pe(cge),dge=fe,uge=Oe,hge=Xu.f,fge=uge(function(){return!Object.getOwnPropertyNames(1)});dge({target:"Object",stat:!0,forced:fge},{getOwnPropertyNames:hge});var pge=De,gge=pge.Object,vge=function(e){return gge.getOwnPropertyNames(e)},mge=vge,yge=mge,bge=yge,$ge=pe(bge),wge=De,_ge=wge.Object.getOwnPropertySymbols,Sge=_ge,Ige=Sge,Ege=Ige,In=pe(Ege),LA={exports:{}},Tge=fe,Oge=Oe,kge=Gr,jA=Al.f,zA=$t,xge=!zA||Oge(function(){jA(1)});Tge({target:"Object",stat:!0,forced:xge,sham:!zA},{getOwnPropertyDescriptor:function(e,r){return jA(kge(e),r)}});var Age=De,HA=Age.Object,Cge=LA.exports=function(e,r){return HA.getOwnPropertyDescriptor(e,r)};HA.getOwnPropertyDescriptor.sham&&(Cge.sham=!0);var Pge=LA.exports,Dge=Pge,Mge=Dge,Rge=Mge,Dn=pe(Rge),Nge=fe,Fge=$t,qge=Jne,Bge=Gr,Lge=Al,jge=Hl;Nge({target:"Object",stat:!0,sham:!Fge},{getOwnPropertyDescriptors:function(e){for(var r=Bge(e),i=Lge.f,n=qge(r),o={},s=0,a,l;n.length>s;)l=i(r,a=n[s++]),l!==void 0&&jge(o,a,l);return o}});var zge=De,Hge=zge.Object.getOwnPropertyDescriptors,Wge=Hge,Vge=Wge,Uge=Vge,En=pe(Uge),WA={exports:{}},Yge=fe,Gge=$t,g_=Gu.f;Yge({target:"Object",stat:!0,forced:Object.defineProperties!==g_,sham:!Gge},{defineProperties:g_});var Kge=De,VA=Kge.Object,Xge=WA.exports=function(e,r){return VA.defineProperties(e,r)};VA.defineProperties.sham&&(Xge.sham=!0);var Jge=WA.exports,Qge=Jge,Zge=Qge,eve=Zge,ch=pe(eve),tve=DA,dh=pe(tve);function ty(t,e){const r=["node","edge","label"];let i=!0;const n=rn(e,"chosen");if(typeof n=="boolean")i=n;else if(typeof n=="object"){if(Pe(r).call(r,t)===-1)throw new Error("choosify: subOption '"+t+"' should be one of '"+r.join("', '")+"'");const o=rn(e,["chosen",t]);(typeof o=="boolean"||typeof o=="function")&&(i=o)}return i}function ov(t,e,r){if(t.width<=0||t.height<=0)return!1;if(r!==void 0){const o={x:e.x-r.x,y:e.y-r.y};if(r.angle!==0){const s=-r.angle;e={x:Math.cos(s)*o.x-Math.sin(s)*o.y,y:Math.sin(s)*o.x+Math.cos(s)*o.y}}else e=o}const i=t.x+t.width,n=t.y+t.width;return t.left<e.x&&i>e.x&&t.top<e.y&&n>e.y}function Jd(t){return typeof t=="string"&&t!==""}function UA(t,e,r,i){let n=i.x,o=i.y;if(typeof i.distanceToBorder=="function"){const s=i.distanceToBorder(t,e),a=Math.sin(e)*s,l=Math.cos(e)*s;l===s?(n+=s,o=i.y):a===s?(n=i.x,o-=s):(n+=l,o-=a)}else i.shape.width>i.shape.height?(n=i.x+i.shape.width*.5,o=i.y-r):(n=i.x+r,o=i.y-i.shape.height*.5);return{x:n,y:o}}var rve=Rt,ive=rve("Array").values,nve=ive,ove=nve,sve=ko,ave=Mt,lve=yt,cve=ove,Ap=Array.prototype,dve={DOMTokenList:!0,NodeList:!0},uve=function(t){var e=t.values;return t===Ap||lve(Ap,t)&&e===Ap.values||ave(dve,sve(t))?cve:e},hve=uve,YA=pe(hve);class fve{constructor(e){this.measureText=e,this.current=0,this.width=0,this.height=0,this.lines=[]}_add(e,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"normal";this.lines[e]===void 0&&(this.lines[e]={width:0,height:0,blocks:[]});let n=r;(r===void 0||r==="")&&(n=" ");const o=this.measureText(n,i),s=pt({},YA(o));s.text=r,s.width=o.width,s.mod=i,(r===void 0||r==="")&&(s.width=0),this.lines[e].blocks.push(s),this.lines[e].width+=s.width}curWidth(){const e=this.lines[this.current];return e===void 0?0:e.width}append(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,r)}newLine(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,r),this.current++}determineLineHeights(){for(let e=0;e<this.lines.length;e++){const r=this.lines[e];let i=0;if(r.blocks!==void 0)for(let n=0;n<r.blocks.length;n++){const o=r.blocks[n];i<o.height&&(i=o.height)}r.height=i}}determineLabelSize(){let e=0,r=0;for(let i=0;i<this.lines.length;i++){const n=this.lines[i];n.width>e&&(e=n.width),r+=n.height}this.width=e,this.height=r}removeEmptyBlocks(){const e=[];for(let r=0;r<this.lines.length;r++){const i=this.lines[r];if(i.blocks.length===0||r===this.lines.length-1&&i.width===0)continue;const n={};pt(n,i),n.blocks=[];let o;const s=[];for(let a=0;a<i.blocks.length;a++){const l=i.blocks[a];l.width!==0?s.push(l):o===void 0&&(o=l)}s.length===0&&o!==void 0&&s.push(o),n.blocks=s,e.push(n)}return e}finalize(){this.determineLineHeights(),this.determineLabelSize();const e=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:e}}}const pve={"<b>":/<b>/,"<i>":/<i>/,"<code>":/<code>/,"</b>":/<\/b>/,"</i>":/<\/i>/,"</code>":/<\/code>/,"*":/\*/,_:/_/,"`":/`/,afterBold:/[^*]/,afterItal:/[^_]/,afterMono:/[^`]/};class v_{constructor(e){this.text=e,this.bold=!1,this.ital=!1,this.mono=!1,this.spacing=!1,this.position=0,this.buffer="",this.modStack=[],this.blocks=[]}mod(){return this.modStack.length===0?"normal":this.modStack[0]}modName(){if(this.modStack.length===0)return"normal";if(this.modStack[0]==="mono")return"mono";if(this.bold&&this.ital)return"boldital";if(this.bold)return"bold";if(this.ital)return"ital"}emitBlock(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(this.blocks.push({text:this.buffer,mod:this.modName()}),this.buffer="")}add(e){e===" "&&(this.spacing=!0),this.spacing&&(this.buffer+=" ",this.spacing=!1),e!=" "&&(this.buffer+=e)}parseWS(e){return/[ \t]/.test(e)?(this.mono?this.add(e):this.spacing=!0,!0):!1}setTag(e){this.emitBlock(),this[e]=!0,this.modStack.unshift(e)}unsetTag(e){this.emitBlock(),this[e]=!1,this.modStack.shift()}parseStartTag(e,r){return!this.mono&&!this[e]&&this.match(r)?(this.setTag(e),!0):!1}match(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const[i,n]=this.prepareRegExp(e),o=i.test(this.text.substr(this.position,n));return o&&r&&(this.position+=n-1),o}parseEndTag(e,r,i){let n=this.mod()===e;return e==="mono"?n=n&&this.mono:n=n&&!this.mono,n&&this.match(r)?(i!==void 0?(this.position===this.text.length-1||this.match(i,!1))&&this.unsetTag(e):this.unsetTag(e),!0):!1}replace(e,r){return this.match(e)?(this.add(r),this.position+=length-1,!0):!1}prepareRegExp(e){let r,i;if(e instanceof RegExp)i=e,r=1;else{const n=pve[e];n!==void 0?i=n:i=new RegExp(e),r=e.length}return[i,r]}}class gve{constructor(e,r,i,n){this.ctx=e,this.parent=r,this.selected=i,this.hover=n;const o=(s,a)=>{if(s===void 0)return 0;const l=this.parent.getFormattingValues(e,i,n,a);let c=0;return s!==""&&(c=this.ctx.measureText(s).width),{width:c,values:l}};this.lines=new fve(o)}process(e){if(!Jd(e))return this.lines.finalize();const r=this.parent.fontOptions;e=e.replace(/\r\n/g,`
`),e=e.replace(/\r/g,`
`);const i=String(e).split(`
`),n=i.length;if(r.multi)for(let o=0;o<n;o++){const s=this.splitBlocks(i[o],r.multi);if(s!==void 0){if(s.length===0){this.lines.newLine("");continue}if(r.maxWdt>0)for(let a=0;a<s.length;a++){const l=s[a].mod,c=s[a].text;this.splitStringIntoLines(c,l,!0)}else for(let a=0;a<s.length;a++){const l=s[a].mod,c=s[a].text;this.lines.append(c,l)}this.lines.newLine()}}else if(r.maxWdt>0)for(let o=0;o<n;o++)this.splitStringIntoLines(i[o]);else for(let o=0;o<n;o++)this.lines.newLine(i[o]);return this.lines.finalize()}decodeMarkupSystem(e){let r="none";return e==="markdown"||e==="md"?r="markdown":(e===!0||e==="html")&&(r="html"),r}splitHtmlBlocks(e){const r=new v_(e),i=n=>/&/.test(n)?(r.replace(r.text,"&lt;","<")||r.replace(r.text,"&amp;","&")||r.add("&"),!0):!1;for(;r.position<r.text.length;){const n=r.text.charAt(r.position);r.parseWS(n)||/</.test(n)&&(r.parseStartTag("bold","<b>")||r.parseStartTag("ital","<i>")||r.parseStartTag("mono","<code>")||r.parseEndTag("bold","</b>")||r.parseEndTag("ital","</i>")||r.parseEndTag("mono","</code>"))||i(n)||r.add(n),r.position++}return r.emitBlock(),r.blocks}splitMarkdownBlocks(e){const r=new v_(e);let i=!0;const n=o=>/\\/.test(o)?(r.position<this.text.length+1&&(r.position++,o=this.text.charAt(r.position),/ \t/.test(o)?r.spacing=!0:(r.add(o),i=!1)),!0):!1;for(;r.position<r.text.length;){const o=r.text.charAt(r.position);r.parseWS(o)||n(o)||(i||r.spacing)&&(r.parseStartTag("bold","*")||r.parseStartTag("ital","_")||r.parseStartTag("mono","`"))||r.parseEndTag("bold","*","afterBold")||r.parseEndTag("ital","_","afterItal")||r.parseEndTag("mono","`","afterMono")||(r.add(o),i=!1),r.position++}return r.emitBlock(),r.blocks}splitBlocks(e,r){const i=this.decodeMarkupSystem(r);if(i==="none")return[{text:e,mod:"normal"}];if(i==="markdown")return this.splitMarkdownBlocks(e);if(i==="html")return this.splitHtmlBlocks(e)}overMaxWidth(e){const r=this.ctx.measureText(e).width;return this.lines.curWidth()+r>this.parent.fontOptions.maxWdt}getLongestFit(e){let r="",i=0;for(;i<e.length;){const o=r+(r===""?"":" ")+e[i];if(this.overMaxWidth(o))break;r=o,i++}return i}getLongestFitWord(e){let r=0;for(;r<e.length&&!this.overMaxWidth(si(e).call(e,0,r));)r++;return r}splitStringIntoLines(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal",i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.parent.getFormattingValues(this.ctx,this.selected,this.hover,r),e=e.replace(/^( +)/g,"$1\r"),e=e.replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r");let n=e.split("\r");for(;n.length>0;){let o=this.getLongestFit(n);if(o===0){const s=n[0],a=this.getLongestFitWord(s);this.lines.newLine(si(s).call(s,0,a),r),n[0]=si(s).call(s,a)}else{let s=o;n[o-1]===" "?o--:n[s]===" "&&s++;const a=si(n).call(n,0,o).join("");o==n.length&&i?this.lines.append(a,r):this.lines.newLine(a,r),n=si(n).call(n,s)}}}}const da=["bold","ital","boldital","mono"];class fs{constructor(e,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.body=e,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(r),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=i}setOptions(e){if(this.elementOptions=e,this.initFontOptions(e.font),Jd(e.label)?this.labelDirty=!0:e.label=void 0,e.font!==void 0&&e.font!==null){if(typeof e.font=="string")this.baseSize=this.fontOptions.size;else if(typeof e.font=="object"){const r=e.font.size;r!==void 0&&(this.baseSize=r)}}}initFontOptions(e){if($e(da,r=>{this.fontOptions[r]={}}),fs.parseFontString(this.fontOptions,e)){this.fontOptions.vadjust=0;return}$e(e,(r,i)=>{r!=null&&typeof r!="object"&&(this.fontOptions[i]=r)})}static parseFontString(e,r){if(!r||typeof r!="string")return!1;const i=r.split(" ");return e.size=+i[0].replace("px",""),e.face=i[1],e.color=i[2],!0}constrain(e){const r={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},i=rn(e,"widthConstraint");if(typeof i=="number")r.maxWdt=Number(i),r.minWdt=Number(i);else if(typeof i=="object"){const o=rn(e,["widthConstraint","maximum"]);typeof o=="number"&&(r.maxWdt=Number(o));const s=rn(e,["widthConstraint","minimum"]);typeof s=="number"&&(r.minWdt=Number(s))}const n=rn(e,"heightConstraint");if(typeof n=="number")r.minHgt=Number(n);else if(typeof n=="object"){const o=rn(e,["heightConstraint","minimum"]);typeof o=="number"&&(r.minHgt=Number(o));const s=rn(e,["heightConstraint","valign"]);typeof s=="string"&&(s==="top"||s==="bottom")&&(r.valign=s)}return r}update(e,r){this.setOptions(e,!0),this.propagateFonts(r),je(this.fontOptions,this.constrain(r)),this.fontOptions.chooser=ty("label",r)}adjustSizes(e){const r=e?e.right+e.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=r,this.fontOptions.minWdt-=r);const i=e?e.top+e.bottom:0;this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=i)}addFontOptionsToPile(e,r){for(let i=0;i<r.length;++i)this.addFontToPile(e,r[i])}addFontToPile(e,r){if(r===void 0||r.font===void 0||r.font===null)return;const i=r.font;e.push(i)}getBasicOptions(e){const r={};for(let i=0;i<e.length;++i){let n=e[i];const o={};fs.parseFontString(o,n)&&(n=o),$e(n,(s,a)=>{s!==void 0&&(Object.prototype.hasOwnProperty.call(r,a)||(Pe(da).call(da,a)!==-1?r[a]={}:r[a]=s))})}return r}getFontOption(e,r,i){let n;for(let o=0;o<e.length;++o){const s=e[o];if(Object.prototype.hasOwnProperty.call(s,r)){if(n=s[r],n==null)continue;const a={};if(fs.parseFontString(a,n)&&(n=a),Object.prototype.hasOwnProperty.call(n,i))return n[i]}}if(Object.prototype.hasOwnProperty.call(this.fontOptions,i))return this.fontOptions[i];throw new Error("Did not find value for multi-font for property: '"+i+"'")}getFontOptions(e,r){const i={},n=["color","size","face","mod","vadjust"];for(let o=0;o<n.length;++o){const s=n[o];i[s]=this.getFontOption(e,r,s)}return i}propagateFonts(e){const r=[];this.addFontOptionsToPile(r,e),this.fontOptions=this.getBasicOptions(r);for(let i=0;i<da.length;++i){const n=da[i],o=this.fontOptions[n],s=this.getFontOptions(r,n);$e(s,(a,l)=>{o[l]=a}),o.size=Number(o.size),o.vadjust=Number(o.vadjust)}}draw(e,r,i,n,o){let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";if(this.elementOptions.label===void 0)return;let a=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&a<this.elementOptions.scaling.label.drawThreshold-1||(a>=this.elementOptions.scaling.label.maxVisible&&(a=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(e,n,o,r,i,s),this._drawBackground(e),this._drawText(e,r,this.size.yLine,s,a))}_drawBackground(e){if(this.fontOptions.background!==void 0&&this.fontOptions.background!=="none"){e.fillStyle=this.fontOptions.background;const r=this.getSize();e.fillRect(r.left,r.top,r.width,r.height)}}_drawText(e,r,i){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"middle",o=arguments.length>4?arguments[4]:void 0;[r,i]=this._setAlignment(e,r,i,n),e.textAlign="left",r=r-this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&(this.fontOptions.valign==="top"&&(i-=(this.size.height-this.size.labelHeight)/2),this.fontOptions.valign==="bottom"&&(i+=(this.size.height-this.size.labelHeight)/2));for(let s=0;s<this.lineCount;s++){const a=this.lines[s];if(a&&a.blocks){let l=0;this.isEdgeLabel||this.fontOptions.align==="center"?l+=(this.size.width-a.width)/2:this.fontOptions.align==="right"&&(l+=this.size.width-a.width);for(let c=0;c<a.blocks.length;c++){const d=a.blocks[c];e.font=d.font;const[u,h]=this._getColor(d.color,o,d.strokeColor);d.strokeWidth>0&&(e.lineWidth=d.strokeWidth,e.strokeStyle=h,e.lineJoin="round"),e.fillStyle=u,d.strokeWidth>0&&e.strokeText(d.text,r+l,i+d.vadjust),e.fillText(d.text,r+l,i+d.vadjust),l+=d.width}i+=a.height}}}_setAlignment(e,r,i,n){if(this.isEdgeLabel&&this.fontOptions.align!=="horizontal"&&this.pointToSelf===!1){r=0,i=0;const o=2;this.fontOptions.align==="top"?(e.textBaseline="alphabetic",i-=2*o):this.fontOptions.align==="bottom"?(e.textBaseline="hanging",i+=2*o):e.textBaseline="middle"}else e.textBaseline=n;return[r,i]}_getColor(e,r,i){let n=e||"#000000",o=i||"#ffffff";if(r<=this.elementOptions.scaling.label.drawThreshold){const s=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-r)));n=Tr(n,s),o=Tr(o,s)}return[n,o]}getTextSize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return this._processLabel(e,r,i),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}getSize(){let r=this.size.left,i=this.size.top-.5*2;if(this.isEdgeLabel){const o=-this.size.width*.5;switch(this.fontOptions.align){case"middle":r=o,i=-this.size.height*.5;break;case"top":r=o,i=-(this.size.height+2);break;case"bottom":r=o,i=2;break}}return{left:r,top:i,width:this.size.width,height:this.size.height}}calculateLabelSize(e,r,i){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";this._processLabel(e,r,i),this.size.left=n-this.size.width*.5,this.size.top=o-this.size.height*.5,this.size.yLine=o+(1-this.lineCount)*.5*this.fontOptions.size,s==="hanging"&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}getFormattingValues(e,r,i,n){const o=function(l,c,d){return c==="normal"?d==="mod"?"":l[d]:l[c][d]!==void 0?l[c][d]:l[d]},s={color:o(this.fontOptions,n,"color"),size:o(this.fontOptions,n,"size"),face:o(this.fontOptions,n,"face"),mod:o(this.fontOptions,n,"mod"),vadjust:o(this.fontOptions,n,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(r||i)&&(n==="normal"&&this.fontOptions.chooser===!0&&this.elementOptions.labelHighlightBold?s.mod="bold":typeof this.fontOptions.chooser=="function"&&this.fontOptions.chooser(s,this.elementOptions.id,r,i));let a="";return s.mod!==void 0&&s.mod!==""&&(a+=s.mod+" "),a+=s.size+"px "+s.face,e.font=a.replace(/"/g,""),s.font=e.font,s.height=s.size,s}differentState(e,r){return e!==this.selectedState||r!==this.hoverState}_processLabelText(e,r,i,n){return new gve(e,this,r,i).process(n)}_processLabel(e,r,i){if(this.labelDirty===!1&&!this.differentState(r,i))return;const n=this._processLabelText(e,r,i,this.elementOptions.label);this.fontOptions.minWdt>0&&n.width<this.fontOptions.minWdt&&(n.width=this.fontOptions.minWdt),this.size.labelHeight=n.height,this.fontOptions.minHgt>0&&n.height<this.fontOptions.minHgt&&(n.height=this.fontOptions.minHgt),this.lines=n.lines,this.lineCount=n.lines.length,this.size.width=n.width,this.size.height=n.height,this.selectedState=r,this.hoverState=i,this.labelDirty=!1}visible(){return!(this.size.width===0||this.size.height===0||this.elementOptions.label===void 0||this.fontOptions.size*this.body.view.scale<this.elementOptions.scaling.label.drawThreshold-1)}}class Co{constructor(e,r,i){this.body=r,this.labelModule=i,this.setOptions(e),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}setOptions(e){this.options=e}_setMargins(e){this.margin={},this.options.margin&&(typeof this.options.margin=="object"?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),e.adjustSizes(this.margin)}_distanceToBorder(e,r){const i=this.options.borderWidth;return e&&this.resize(e),Math.min(Math.abs(this.width/2/Math.cos(r)),Math.abs(this.height/2/Math.sin(r)))+i}enableShadow(e,r){r.shadow&&(e.shadowColor=r.shadowColor,e.shadowBlur=r.shadowSize,e.shadowOffsetX=r.shadowX,e.shadowOffsetY=r.shadowY)}disableShadow(e,r){r.shadow&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}enableBorderDashes(e,r){if(r.borderDashes!==!1)if(e.setLineDash!==void 0){let i=r.borderDashes;i===!0&&(i=[5,15]),e.setLineDash(i)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,r.borderDashes=!1}disableBorderDashes(e,r){r.borderDashes!==!1&&(e.setLineDash!==void 0?e.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,r.borderDashes=!1))}needsRefresh(e,r){return this.refreshNeeded===!0?(this.refreshNeeded=!1,!0):this.width===void 0||this.labelModule.differentState(e,r)}initContextForDraw(e,r){const i=r.borderWidth/this.body.view.scale;e.lineWidth=Math.min(this.width,i),e.strokeStyle=r.borderColor,e.fillStyle=r.color}performStroke(e,r){const i=r.borderWidth/this.body.view.scale;e.save(),i>0&&(this.enableBorderDashes(e,r),e.stroke(),this.disableBorderDashes(e,r)),e.restore()}performFill(e,r){e.save(),e.fillStyle=r.color,this.enableShadow(e,r),Ql(e).call(e),this.disableShadow(e,r),e.restore(),this.performStroke(e,r)}_addBoundingBoxMargin(e){this.boundingBox.left-=e,this.boundingBox.top-=e,this.boundingBox.bottom+=e,this.boundingBox.right+=e}_updateBoundingBox(e,r,i,n,o){i!==void 0&&this.resize(i,n,o),this.left=e-this.width/2,this.top=r-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}updateBoundingBox(e,r,i,n,o){this._updateBoundingBox(e,r,i,n,o)}getDimensionsFromLabel(e,r,i){this.textSize=this.labelModule.getTextSize(e,r,i);let n=this.textSize.width,o=this.textSize.height;const s=14;return n===0&&(n=s,o=s),{width:n,height:o}}}let vve=class extends Co{constructor(e,r,i){super(e,r,i),this._setMargins(i)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(r,i)){const n=this.getDimensionsFromLabel(e,r,i);this.width=n.width+this.margin.right+this.margin.left,this.height=n.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}draw(e,r,i,n,o,s){this.resize(e,n,o),this.left=r-this.width/2,this.top=i-this.height/2,this.initContextForDraw(e,s),kk(e,this.left,this.top,this.width,this.height,s.borderRadius),this.performFill(e,s),this.updateBoundingBox(r,i,e,n,o),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,n,o)}updateBoundingBox(e,r,i,n,o){this._updateBoundingBox(e,r,i,n,o);const s=this.options.shapeProperties.borderRadius;this._addBoundingBoxMargin(s)}distanceToBorder(e,r){e&&this.resize(e);const i=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(r)),Math.abs(this.height/2/Math.sin(r)))+i}};class ry extends Co{constructor(e,r,i){super(e,r,i),this.labelOffset=0,this.selected=!1}setOptions(e,r,i){this.options=e,r===void 0&&i===void 0||this.setImages(r,i)}setImages(e,r){r&&this.selected?(this.imageObj=r,this.imageObjAlt=e):(this.imageObj=e,this.imageObjAlt=r)}switchImages(e){const r=e&&!this.selected||!e&&this.selected;if(this.selected=e,this.imageObjAlt!==void 0&&r){const i=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=i}}_getImagePadding(){const e={top:0,right:0,bottom:0,left:0};if(this.options.imagePadding){const r=this.options.imagePadding;typeof r=="object"?(e.top=r.top,e.right=r.right,e.bottom=r.bottom,e.left=r.left):(e.top=r,e.right=r,e.bottom=r,e.left=r)}return e}_resizeImage(){let e,r;if(this.options.shapeProperties.useImageSize===!1){let i=1,n=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?i=this.imageObj.width/this.imageObj.height:n=this.imageObj.height/this.imageObj.width),e=this.options.size*2*i,r=this.options.size*2*n}else{const i=this._getImagePadding();e=this.imageObj.width+i.left+i.right,r=this.imageObj.height+i.top+i.bottom}this.width=e,this.height=r,this.radius=.5*this.width}_drawRawCircle(e,r,i,n){this.initContextForDraw(e,n),Sm(e,r,i,n.size),this.performFill(e,n)}_drawImageAtPosition(e,r){if(this.imageObj.width!=0){e.globalAlpha=r.opacity!==void 0?r.opacity:1,this.enableShadow(e,r);let i=1;this.options.shapeProperties.interpolation===!0&&(i=this.imageObj.width/this.width/this.body.view.scale);const n=this._getImagePadding(),o=this.left+n.left,s=this.top+n.top,a=this.width-n.left-n.right,l=this.height-n.top-n.bottom;this.imageObj.drawImageAtPosition(e,i,o,s,a,l),this.disableShadow(e,r)}}_drawImageLabel(e,r,i,n,o){let s=0;if(this.height!==void 0){s=this.height*.5;const l=this.labelModule.getTextSize(e,n,o);l.lineCount>=1&&(s+=l.height/2)}const a=i+s;this.options.label&&(this.labelOffset=s),this.labelModule.draw(e,r,a,n,o,"hanging")}}let mve=class extends ry{constructor(e,r,i){super(e,r,i),this._setMargins(i)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(r,i)){const n=this.getDimensionsFromLabel(e,r,i),o=Math.max(n.width+this.margin.right+this.margin.left,n.height+this.margin.top+this.margin.bottom);this.options.size=o/2,this.width=o,this.height=o,this.radius=this.width/2}}draw(e,r,i,n,o,s){this.resize(e,n,o),this.left=r-this.width/2,this.top=i-this.height/2,this._drawRawCircle(e,r,i,s),this.updateBoundingBox(r,i),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,i,n,o)}updateBoundingBox(e,r){this.boundingBox.top=r-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=r+this.options.size}distanceToBorder(e){return e&&this.resize(e),this.width*.5}};class yve extends ry{constructor(e,r,i,n,o){super(e,r,i),this.setImages(n,o)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0){const o=this.options.size*2;this.width=o,this.height=o,this.radius=.5*this.width;return}this.needsRefresh(r,i)&&this._resizeImage()}draw(e,r,i,n,o,s){this.switchImages(n),this.resize();let a=r,l=i;this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=r,this.top=i,a+=this.width/2,l+=this.height/2):(this.left=r-this.width/2,this.top=i-this.height/2),this._drawRawCircle(e,a,l,s),e.save(),e.clip(),this._drawImageAtPosition(e,s),e.restore(),this._drawImageLabel(e,a,l,n,o),this.updateBoundingBox(r,i)}updateBoundingBox(e,r){this.options.shapeProperties.coordinateOrigin==="top-left"?(this.boundingBox.top=r,this.boundingBox.left=e,this.boundingBox.right=e+this.options.size*2,this.boundingBox.bottom=r+this.options.size*2):(this.boundingBox.top=r-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=r+this.options.size),this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}distanceToBorder(e){return e&&this.resize(e),this.width*.5}}class Mn extends Co{constructor(e,r,i){super(e,r,i)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{size:this.options.size};if(this.needsRefresh(r,i)){var o,s;this.labelModule.getTextSize(e,r,i);const a=2*n.size;this.width=(o=this.customSizeWidth)!==null&&o!==void 0?o:a,this.height=(s=this.customSizeHeight)!==null&&s!==void 0?s:a,this.radius=.5*this.width}}_drawShape(e,r,i,n,o,s,a,l){return this.resize(e,s,a,l),this.left=n-this.width/2,this.top=o-this.height/2,this.initContextForDraw(e,l),iee(r)(e,n,o,l.size),this.performFill(e,l),this.options.icon!==void 0&&this.options.icon.code!==void 0&&(e.font=(s?"bold ":"")+this.height/2+"px "+(this.options.icon.face||"FontAwesome"),e.fillStyle=this.options.icon.color||"black",e.textAlign="center",e.textBaseline="middle",e.fillText(this.options.icon.code,n,o)),{drawExternalLabel:()=>{if(this.options.label!==void 0){this.labelModule.calculateLabelSize(e,s,a,n,o,"hanging");const c=o+.5*this.height+.5*this.labelModule.size.height;this.labelModule.draw(e,n,c,s,a,"hanging")}this.updateBoundingBox(n,o)}}}updateBoundingBox(e,r){this.boundingBox.top=r-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=r+this.options.size,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}function m_(t,e){var r=Ze(t);if(In){var i=In(t);e&&(i=or(i).call(i,function(n){return Dn(t,n).enumerable})),r.push.apply(r,i)}return r}function bve(t){for(var e=1;e<arguments.length;e++){var r,i,n=arguments[e]!=null?arguments[e]:{};e%2?Fe(r=m_(Object(n),!0)).call(r,function(o){lh(t,o,n[o])}):En?ch(t,En(n)):Fe(i=m_(Object(n))).call(i,function(o){dh(t,o,Dn(n,o))})}return t}class $ve extends Mn{constructor(e,r,i,n){super(e,r,i,n),this.ctxRenderer=n}draw(e,r,i,n,o,s){this.resize(e,n,o,s),this.left=r-this.width/2,this.top=i-this.height/2,e.save();const a=this.ctxRenderer({ctx:e,id:this.options.id,x:r,y:i,state:{selected:n,hover:o},style:bve({},s),label:this.options.label});if(a.drawNode!=null&&a.drawNode(),e.restore(),a.drawExternalLabel){const l=a.drawExternalLabel;a.drawExternalLabel=()=>{e.save(),l(),e.restore()}}return a.nodeDimensions&&(this.customSizeWidth=a.nodeDimensions.width,this.customSizeHeight=a.nodeDimensions.height),a}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class wve extends Co{constructor(e,r,i){super(e,r,i),this._setMargins(i)}resize(e,r,i){if(this.needsRefresh(r,i)){const o=this.getDimensionsFromLabel(e,r,i).width+this.margin.right+this.margin.left;this.width=o,this.height=o,this.radius=this.width/2}}draw(e,r,i,n,o,s){this.resize(e,n,o),this.left=r-this.width/2,this.top=i-this.height/2,this.initContextForDraw(e,s),xk(e,r-this.width/2,i-this.height/2,this.width,this.height),this.performFill(e,s),this.updateBoundingBox(r,i,e,n,o),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,n,o)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}let _ve=class extends Mn{constructor(e,r,i){super(e,r,i)}draw(e,r,i,n,o,s){return this._drawShape(e,"diamond",4,r,i,n,o,s)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}};class Sve extends Mn{constructor(e,r,i){super(e,r,i)}draw(e,r,i,n,o,s){return this._drawShape(e,"circle",2,r,i,n,o,s)}distanceToBorder(e){return e&&this.resize(e),this.options.size}}class y_ extends Co{constructor(e,r,i){super(e,r,i)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(r,i)){const n=this.getDimensionsFromLabel(e,r,i);this.height=n.height*2,this.width=n.width+n.height,this.radius=.5*this.width}}draw(e,r,i,n,o,s){this.resize(e,n,o),this.left=r-this.width*.5,this.top=i-this.height*.5,this.initContextForDraw(e,s),Rg(e,this.left,this.top,this.width,this.height),this.performFill(e,s),this.updateBoundingBox(r,i,e,n,o),this.labelModule.draw(e,r,i,n,o)}distanceToBorder(e,r){e&&this.resize(e);const i=this.width*.5,n=this.height*.5,o=Math.sin(r)*i,s=Math.cos(r)*n;return i*n/Math.sqrt(o*o+s*s)}}class Ive extends Co{constructor(e,r,i){super(e,r,i),this._setMargins(i)}resize(e,r,i){this.needsRefresh(r,i)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}draw(e,r,i,n,o,s){return this.resize(e,n,o),this.options.icon.size=this.options.icon.size||50,this.left=r-this.width/2,this.top=i-this.height/2,this._icon(e,r,i,n,o,s),{drawExternalLabel:()=>{this.options.label!==void 0&&this.labelModule.draw(e,this.left+this.iconSize.width/2+this.margin.left,i+this.height/2+5,n),this.updateBoundingBox(r,i)}}}updateBoundingBox(e,r){this.boundingBox.top=r-this.options.icon.size*.5,this.boundingBox.left=e-this.options.icon.size*.5,this.boundingBox.right=e+this.options.icon.size*.5,this.boundingBox.bottom=r+this.options.icon.size*.5,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+5))}_icon(e,r,i,n,o,s){const a=Number(this.options.icon.size);this.options.icon.code!==void 0?(e.font=[this.options.icon.weight!=null?this.options.icon.weight:n?"bold":"",(this.options.icon.weight!=null&&n?5:0)+a+"px",this.options.icon.face].join(" "),e.fillStyle=this.options.icon.color||"black",e.textAlign="center",e.textBaseline="middle",this.enableShadow(e,s),e.fillText(this.options.icon.code,r,i),this.disableShadow(e,s)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}let Eve=class extends ry{constructor(e,r,i,n,o){super(e,r,i),this.setImages(n,o)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0){const o=this.options.size*2;this.width=o,this.height=o;return}this.needsRefresh(r,i)&&this._resizeImage()}draw(e,r,i,n,o,s){e.save(),this.switchImages(n),this.resize();let a=r,l=i;if(this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=r,this.top=i,a+=this.width/2,l+=this.height/2):(this.left=r-this.width/2,this.top=i-this.height/2),this.options.shapeProperties.useBorderWithImage===!0){const c=this.options.borderWidth,d=this.options.borderWidthSelected||2*this.options.borderWidth,u=(n?d:c)/this.body.view.scale;e.lineWidth=Math.min(this.width,u),e.beginPath();let h=n?this.options.color.highlight.border:o?this.options.color.hover.border:this.options.color.border,f=n?this.options.color.highlight.background:o?this.options.color.hover.background:this.options.color.background;s.opacity!==void 0&&(h=Tr(h,s.opacity),f=Tr(f,s.opacity)),e.strokeStyle=h,e.fillStyle=f,e.rect(this.left-.5*e.lineWidth,this.top-.5*e.lineWidth,this.width+e.lineWidth,this.height+e.lineWidth),Ql(e).call(e),this.performStroke(e,s),e.closePath()}this._drawImageAtPosition(e,s),this._drawImageLabel(e,a,l,n,o),this.updateBoundingBox(r,i),e.restore()}updateBoundingBox(e,r){this.resize(),this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=e,this.top=r):(this.left=e-this.width/2,this.top=r-this.height/2),this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}distanceToBorder(e,r){return this._distanceToBorder(e,r)}};class Tve extends Mn{constructor(e,r,i){super(e,r,i)}draw(e,r,i,n,o,s){return this._drawShape(e,"square",2,r,i,n,o,s)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class Ove extends Mn{constructor(e,r,i){super(e,r,i)}draw(e,r,i,n,o,s){return this._drawShape(e,"hexagon",4,r,i,n,o,s)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class kve extends Mn{constructor(e,r,i){super(e,r,i)}draw(e,r,i,n,o,s){return this._drawShape(e,"star",4,r,i,n,o,s)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class xve extends Co{constructor(e,r,i){super(e,r,i),this._setMargins(i)}resize(e,r,i){this.needsRefresh(r,i)&&(this.textSize=this.labelModule.getTextSize(e,r,i),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}draw(e,r,i,n,o,s){this.resize(e,n,o),this.left=r-this.width/2,this.top=i-this.height/2,this.enableShadow(e,s),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,n,o),this.disableShadow(e,s),this.updateBoundingBox(r,i,e,n,o)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}let Ave=class extends Mn{constructor(e,r,i){super(e,r,i)}draw(e,r,i,n,o,s){return this._drawShape(e,"triangle",3,r,i,n,o,s)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}};class Cve extends Mn{constructor(e,r,i){super(e,r,i)}draw(e,r,i,n,o,s){return this._drawShape(e,"triangleDown",3,r,i,n,o,s)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}function b_(t,e){var r=Ze(t);if(In){var i=In(t);e&&(i=or(i).call(i,function(n){return Dn(t,n).enumerable})),r.push.apply(r,i)}return r}function $_(t){for(var e=1;e<arguments.length;e++){var r,i,n=arguments[e]!=null?arguments[e]:{};e%2?Fe(r=b_(Object(n),!0)).call(r,function(o){lh(t,o,n[o])}):En?ch(t,En(n)):Fe(i=b_(Object(n))).call(i,function(o){dh(t,o,Dn(n,o))})}return t}class Ye{constructor(e,r,i,n,o,s){this.options=mn(o),this.globalOptions=o,this.defaultOptions=s,this.body=r,this.edges=[],this.id=void 0,this.imagelist=i,this.grouplist=n,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new fs(this.body,this.options,!1),this.setOptions(e)}attachEdge(e){var r;Pe(r=this.edges).call(r,e)===-1&&this.edges.push(e)}detachEdge(e){var r;const i=Pe(r=this.edges).call(r,e);if(i!=-1){var n;ki(n=this.edges).call(n,i,1)}}setOptions(e){const r=this.options.shape;if(!e)return;if(typeof e.color<"u"&&(this._localColor=e.color),e.id!==void 0&&(this.id=e.id),this.id===void 0)throw new Error("Node must have an id");Ye.checkMass(e,this.id),e.x!==void 0&&(e.x===null?(this.x=void 0,this.predefinedPosition=!1):(this.x=Br(e.x),this.predefinedPosition=!0)),e.y!==void 0&&(e.y===null?(this.y=void 0,this.predefinedPosition=!1):(this.y=Br(e.y),this.predefinedPosition=!0)),e.size!==void 0&&(this.baseSize=e.size),e.value!==void 0&&(e.value=BA(e.value)),Ye.parseOptions(this.options,e,!0,this.globalOptions,this.grouplist);const i=[e,this.options,this.defaultOptions];return this.chooser=ty("node",i),this._load_images(),this.updateLabelModule(e),e.opacity!==void 0&&Ye.checkOpacity(e.opacity)&&(this.options.opacity=e.opacity),this.updateShape(r),e.hidden!==void 0||e.physics!==void 0}_load_images(){if((this.options.shape==="circularImage"||this.options.shape==="image")&&this.options.image===void 0)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(this.options.image!==void 0){if(this.imagelist===void 0)throw new Error("Internal Error: No images provided");if(typeof this.options.image=="string")this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(this.options.image.unselected===void 0)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),this.options.image.selected!==void 0?this.imageObjAlt=this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):this.imageObjAlt=void 0}}}static checkOpacity(e){return 0<=e&&e<=1}static checkCoordinateOrigin(e){return e===void 0||e==="center"||e==="top-left"}static updateGroupOptions(e,r,i){var n;if(i===void 0)return;const o=e.group;if(r!==void 0&&r.group!==void 0&&o!==r.group)throw new Error("updateGroupOptions: group values in options don't match.");if(!(typeof o=="number"||typeof o=="string"&&o!=""))return;const a=i.get(o);a.opacity!==void 0&&r.opacity===void 0&&(Ye.checkOpacity(a.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+a.opacity),a.opacity=void 0));const l=or(n=$ge(r)).call(n,c=>r[c]!=null);l.push("font"),Yd(l,e,a),e.color=ev(e.color)}static parseOptions(e,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},o=arguments.length>4?arguments[4]:void 0;if(Yd(["color","fixed","shadow"],e,r,i),Ye.checkMass(r),e.opacity!==void 0&&(Ye.checkOpacity(e.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity),e.opacity=void 0)),r.opacity!==void 0&&(Ye.checkOpacity(r.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+r.opacity),r.opacity=void 0)),r.shapeProperties&&!Ye.checkCoordinateOrigin(r.shapeProperties.coordinateOrigin)&&console.error("Invalid option for node coordinateOrigin, found: "+r.shapeProperties.coordinateOrigin),Er(e,r,"shadow",n),r.color!==void 0&&r.color!==null){const a=ev(r.color);dA(e.color,a)}else i===!0&&r.color===null&&(e.color=mn(n.color));r.fixed!==void 0&&r.fixed!==null&&(typeof r.fixed=="boolean"?(e.fixed.x=r.fixed,e.fixed.y=r.fixed):(r.fixed.x!==void 0&&typeof r.fixed.x=="boolean"&&(e.fixed.x=r.fixed.x),r.fixed.y!==void 0&&typeof r.fixed.y=="boolean"&&(e.fixed.y=r.fixed.y))),i===!0&&r.font===null&&(e.font=mn(n.font)),Ye.updateGroupOptions(e,r,o),r.scaling!==void 0&&Er(e.scaling,r.scaling,"label",n.scaling)}getFormattingValues(){const e={color:this.options.color.background,opacity:this.options.opacity,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};if(this.selected||this.hover?this.chooser===!0?this.selected?(this.options.borderWidthSelected!=null?e.borderWidth=this.options.borderWidthSelected:e.borderWidth*=2,e.color=this.options.color.highlight.background,e.borderColor=this.options.color.highlight.border,e.shadow=this.options.shadow.enabled):this.hover&&(e.color=this.options.color.hover.background,e.borderColor=this.options.color.hover.border,e.shadow=this.options.shadow.enabled):typeof this.chooser=="function"&&(this.chooser(e,this.options.id,this.selected,this.hover),e.shadow===!1&&(e.shadowColor!==this.options.shadow.color||e.shadowSize!==this.options.shadow.size||e.shadowX!==this.options.shadow.x||e.shadowY!==this.options.shadow.y)&&(e.shadow=!0)):e.shadow=this.options.shadow.enabled,this.options.opacity!==void 0){const r=this.options.opacity;e.borderColor=Tr(e.borderColor,r),e.color=Tr(e.color,r),e.shadowColor=Tr(e.shadowColor,r)}return e}updateLabelModule(e){(this.options.label===void 0||this.options.label===null)&&(this.options.label=""),Ye.updateGroupOptions(this.options,$_($_({},e),{},{color:e&&e.color||this._localColor||void 0}),this.grouplist);const r=this.grouplist.get(this.options.group,!1),i=[e,this.options,r,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,i),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}updateShape(e){if(e===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new vve(this.options,this.body,this.labelModule);break;case"circle":this.shape=new mve(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new yve(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"custom":this.shape=new $ve(this.options,this.body,this.labelModule,this.options.ctxRenderer);break;case"database":this.shape=new wve(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new _ve(this.options,this.body,this.labelModule);break;case"dot":this.shape=new Sve(this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new y_(this.options,this.body,this.labelModule);break;case"icon":this.shape=new Ive(this.options,this.body,this.labelModule);break;case"image":this.shape=new Eve(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new Tve(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new Ove(this.options,this.body,this.labelModule);break;case"star":this.shape=new kve(this.options,this.body,this.labelModule);break;case"text":this.shape=new xve(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new Ave(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new Cve(this.options,this.body,this.labelModule);break;default:this.shape=new y_(this.options,this.body,this.labelModule);break}this.needsRefresh()}select(){this.selected=!0,this.needsRefresh()}unselect(){this.selected=!1,this.needsRefresh()}needsRefresh(){this.shape.refreshNeeded=!0}getTitle(){return this.options.title}distanceToBorder(e,r){return this.shape.distanceToBorder(e,r)}isFixed(){return this.options.fixed.x&&this.options.fixed.y}isSelected(){return this.selected}getValue(){return this.options.value}getLabelSize(){return this.labelModule.size()}setValueRange(e,r,i){if(this.options.value!==void 0){const n=this.options.scaling.customScalingFunction(e,r,i,this.options.value),o=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){const s=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+n*s}this.options.size=this.options.scaling.min+n*o}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}draw(e){const r=this.getFormattingValues();return this.shape.draw(e,this.x,this.y,this.selected,this.hover,r)||{}}updateBoundingBox(e){this.shape.updateBoundingBox(this.x,this.y,e)}resize(e){const r=this.getFormattingValues();this.shape.resize(e,this.selected,this.hover,r)}getItemsOnPoint(e){const r=[];return this.labelModule.visible()&&ov(this.labelModule.getSize(),e)&&r.push({nodeId:this.id,labelId:0}),ov(this.shape.boundingBox,e)&&r.push({nodeId:this.id}),r}isOverlappingWith(e){return this.shape.left<e.right&&this.shape.left+this.shape.width>e.left&&this.shape.top<e.bottom&&this.shape.top+this.shape.height>e.top}isBoundingBoxOverlappingWith(e){return this.shape.boundingBox.left<e.right&&this.shape.boundingBox.right>e.left&&this.shape.boundingBox.top<e.bottom&&this.shape.boundingBox.bottom>e.top}static checkMass(e,r){if(e.mass!==void 0&&e.mass<=0){let i="";r!==void 0&&(i=" in node id: "+r),console.error("%cNegative or zero mass disallowed"+i+", setting mass to 1.",pA),e.mass=1}}}class Pve{constructor(e,r,i,n){var o;if(this.body=e,this.images=r,this.groups=i,this.layoutEngine=n,this.body.functions.createNode=B(o=this.create).call(o,this),this.nodesListeners={add:(s,a)=>{this.add(a.items)},update:(s,a)=>{this.update(a.items,a.data,a.oldData)},remove:(s,a)=>{this.remove(a.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:void 0,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},opacity:void 0,fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,imagePadding:{top:0,right:0,bottom:0,left:0},label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(s,a,l,c){if(a===s)return .5;{const d=1/(a-s);return Math.max(0,(c-s)*d)}}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1,coordinateOrigin:"center"},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=mn(this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e,r;this.body.emitter.on("refreshNodes",B(e=this.refresh).call(e,this)),this.body.emitter.on("refresh",B(r=this.refresh).call(r,this)),this.body.emitter.on("destroy",()=>{$e(this.nodesListeners,(i,n)=>{this.body.data.nodes&&this.body.data.nodes.off(n,i)}),delete this.body.functions.createNode,delete this.nodesListeners.add,delete this.nodesListeners.update,delete this.nodesListeners.remove,delete this.nodesListeners})}setOptions(e){if(e!==void 0){if(Ye.parseOptions(this.options,e),e.opacity!==void 0&&(nv(e.opacity)||!Yn(e.opacity)||e.opacity<0||e.opacity>1?console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity):this.options.opacity=e.opacity),e.shape!==void 0)for(const r in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,r)&&this.body.nodes[r].updateShape();if(typeof e.font<"u"||typeof e.widthConstraint<"u"||typeof e.heightConstraint<"u")for(const r of Ze(this.body.nodes))this.body.nodes[r].updateLabelModule(),this.body.nodes[r].needsRefresh();if(e.size!==void 0)for(const r in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,r)&&this.body.nodes[r].needsRefresh();(e.hidden!==void 0||e.physics!==void 0)&&this.body.emitter.emit("_dataChanged")}}setData(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const i=this.body.data.nodes;if(ck("id",e))this.body.data.nodes=e;else if(et(e))this.body.data.nodes=new Bd,this.body.data.nodes.add(e);else if(!e)this.body.data.nodes=new Bd;else throw new TypeError("Array or DataSet expected");if(i&&$e(this.nodesListeners,function(n,o){i.off(o,n)}),this.body.nodes={},this.body.data.nodes){const n=this;$e(this.nodesListeners,function(s,a){n.body.data.nodes.on(a,s)});const o=this.body.data.nodes.getIds();this.add(o,!0)}r===!1&&this.body.emitter.emit("_dataChanged")}add(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i;const n=[];for(let o=0;o<e.length;o++){i=e[o];const s=this.body.data.nodes.get(i),a=this.create(s);n.push(a),this.body.nodes[i]=a}this.layoutEngine.positionInitially(n),r===!1&&this.body.emitter.emit("_dataChanged")}update(e,r,i){const n=this.body.nodes;let o=!1;for(let s=0;s<e.length;s++){const a=e[s];let l=n[a];const c=r[s];l!==void 0?l.setOptions(c)&&(o=!0):(o=!0,l=this.create(c),n[a]=l)}!o&&i!==void 0&&(o=Nfe(r).call(r,function(s,a){const l=i[a];return l&&l.level!==s.level})),o===!0?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}remove(e){const r=this.body.nodes;for(let i=0;i<e.length;i++){const n=e[i];delete r[n]}this.body.emitter.emit("_dataChanged")}create(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ye;return new r(e,this.body,this.images,this.groups,this.options,this.defaultOptions)}refresh(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;$e(this.body.nodes,(r,i)=>{const n=this.body.data.nodes.get(i);n!==void 0&&(e===!0&&r.setOptions({x:null,y:null}),r.setOptions({fixed:!1}),r.setOptions(n))})}getPositions(e){const r={};if(e!==void 0){if(et(e)===!0){for(let i=0;i<e.length;i++)if(this.body.nodes[e[i]]!==void 0){const n=this.body.nodes[e[i]];r[e[i]]={x:Math.round(n.x),y:Math.round(n.y)}}}else if(this.body.nodes[e]!==void 0){const i=this.body.nodes[e];r[e]={x:Math.round(i.x),y:Math.round(i.y)}}}else for(let i=0;i<this.body.nodeIndices.length;i++){const n=this.body.nodes[this.body.nodeIndices[i]];r[this.body.nodeIndices[i]]={x:Math.round(n.x),y:Math.round(n.y)}}return r}getPosition(e){if(e==null)throw new TypeError("No id was specified for getPosition method.");if(this.body.nodes[e]==null)throw new ReferenceError("NodeId provided for getPosition does not exist. Provided: ".concat(e));return{x:Math.round(this.body.nodes[e].x),y:Math.round(this.body.nodes[e].y)}}storePositions(){const e=[],r=this.body.data.nodes.getDataSet();for(const i of r.get()){const n=i.id,o=this.body.nodes[n],s=Math.round(o.x),a=Math.round(o.y);(i.x!==s||i.y!==a)&&e.push({id:n,x:s,y:a})}r.update(e)}getBoundingBox(e){if(this.body.nodes[e]!==void 0)return this.body.nodes[e].shape.boundingBox}getConnectedNodes(e,r){const i=[];if(this.body.nodes[e]!==void 0){const n=this.body.nodes[e],o={};for(let s=0;s<n.edges.length;s++){const a=n.edges[s];r!=="to"&&a.toId==n.id?o[a.fromId]===void 0&&(i.push(a.fromId),o[a.fromId]=!0):r!=="from"&&a.fromId==n.id&&o[a.toId]===void 0&&(i.push(a.toId),o[a.toId]=!0)}}return i}getConnectedEdges(e){const r=[];if(this.body.nodes[e]!==void 0){const i=this.body.nodes[e];for(let n=0;n<i.edges.length;n++)r.push(i.edges[n].id)}else console.error("NodeId provided for getConnectedEdges does not exist. Provided: ",e);return r}moveNode(e,r,i){this.body.nodes[e]!==void 0?(this.body.nodes[e].x=Number(r),this.body.nodes[e].y=Number(i),xi(()=>{this.body.emitter.emit("startSimulation")},0)):console.error("Node id supplied to moveNode does not exist. Provided: ",e)}}var Dve=fe,w_=Math.hypot,Mve=Math.abs,Rve=Math.sqrt,Nve=!!w_&&w_(1/0,NaN)!==1/0;Dve({target:"Math",stat:!0,forced:Nve},{hypot:function(e,r){for(var i=0,n=0,o=arguments.length,s=0,a,l;n<o;)a=Mve(arguments[n++]),s<a?(l=s/a,i=i*l*l+1,s=a):a>0?(l=a/s,i+=l*l):i+=a;return s===1/0?1/0:s*Rve(i)}});var Fve=De,qve=Fve.Math.hypot,Bve=qve,Lve=Bve,jve=Lve,zve=pe(jve);class dt{static transform(e,r){et(e)||(e=[e]);const i=r.point.x,n=r.point.y,o=r.angle,s=r.length;for(let a=0;a<e.length;++a){const l=e[a],c=l.x*Math.cos(o)-l.y*Math.sin(o),d=l.x*Math.sin(o)+l.y*Math.cos(o);l.x=i+s*c,l.y=n+s*d}}static drawPath(e,r){e.beginPath(),e.moveTo(r[0].x,r[0].y);for(let i=1;i<r.length;++i)e.lineTo(r[i].x,r[i].y);e.closePath()}}let Hve=class extends dt{static draw(e,r){if(r.image){e.save(),e.translate(r.point.x,r.point.y),e.rotate(Math.PI/2+r.angle);const i=r.imageWidth!=null?r.imageWidth:r.image.width,n=r.imageHeight!=null?r.imageHeight:r.image.height;r.image.drawImageAtPosition(e,1,-i/2,0,i,n),e.restore()}return!1}};class Wve extends dt{static draw(e,r){const i=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];return dt.transform(i,r),dt.drawPath(e,i),!0}}class Vve{static draw(e,r){const i=[{x:-1,y:0},{x:0,y:.3},{x:-.4,y:0},{x:0,y:-.3}];return dt.transform(i,r),dt.drawPath(e,i),!0}}class Uve{static draw(e,r){const i={x:-.4,y:0};dt.transform(i,r),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";const n=Math.PI,o=r.angle-n/2,s=r.angle+n/2;return e.beginPath(),e.arc(i.x,i.y,r.length*.4,o,s,!1),e.stroke(),!0}}class Yve{static draw(e,r){const i={x:-.3,y:0};dt.transform(i,r),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";const n=Math.PI,o=r.angle+n/2,s=r.angle+3*n/2;return e.beginPath(),e.arc(i.x,i.y,r.length*.4,o,s,!1),e.stroke(),!0}}class Gve{static draw(e,r){const i=[{x:.02,y:0},{x:-1,y:.3},{x:-1,y:-.3}];return dt.transform(i,r),dt.drawPath(e,i),!0}}class Kve{static draw(e,r){const i=[{x:0,y:.3},{x:0,y:-.3},{x:-1,y:0}];return dt.transform(i,r),dt.drawPath(e,i),!0}}class Xve{static draw(e,r){const i={x:-.4,y:0};return dt.transform(i,r),Sm(e,i.x,i.y,r.length*.4),!0}}class Jve{static draw(e,r){const i=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];return dt.transform(i,r),dt.drawPath(e,i),!0}}class Qve{static draw(e,r){const i=[{x:0,y:.3},{x:0,y:-.3},{x:-.6,y:-.3},{x:-.6,y:.3}];return dt.transform(i,r),dt.drawPath(e,i),!0}}class Zve{static draw(e,r){const i=[{x:0,y:0},{x:-.5,y:-.3},{x:-1,y:0},{x:-.5,y:.3}];return dt.transform(i,r),dt.drawPath(e,i),!0}}class eme{static draw(e,r){const i=[{x:-1,y:.3},{x:-.5,y:0},{x:-1,y:-.3},{x:0,y:0}];return dt.transform(i,r),dt.drawPath(e,i),!0}}class GA{static draw(e,r){let i;switch(r.type&&(i=r.type.toLowerCase()),i){case"image":return Hve.draw(e,r);case"circle":return Xve.draw(e,r);case"box":return Qve.draw(e,r);case"crow":return Vve.draw(e,r);case"curve":return Uve.draw(e,r);case"diamond":return Zve.draw(e,r);case"inv_curve":return Yve.draw(e,r);case"triangle":return Gve.draw(e,r);case"inv_triangle":return Kve.draw(e,r);case"bar":return Jve.draw(e,r);case"vee":return eme.draw(e,r);case"arrow":default:return Wve.draw(e,r)}}}function __(t,e){var r=Ze(t);if(In){var i=In(t);e&&(i=or(i).call(i,function(n){return Dn(t,n).enumerable})),r.push.apply(r,i)}return r}function S_(t){for(var e=1;e<arguments.length;e++){var r,i,n=arguments[e]!=null?arguments[e]:{};e%2?Fe(r=__(Object(n),!0)).call(r,function(o){lh(t,o,n[o])}):En?ch(t,En(n)):Fe(i=__(Object(n))).call(i,function(o){dh(t,o,Dn(n,o))})}return t}class KA{constructor(e,r,i){this._body=r,this._labelModule=i,this.color={},this.colorDirty=!0,this.hoverWidth=1.5,this.selectionWidth=2,this.setOptions(e),this.fromPoint=this.from,this.toPoint=this.to}connect(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to]}cleanup(){return!1}setOptions(e){this.options=e,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.id=this.options.id}drawLine(e,r,i,n){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.getViaNode();e.strokeStyle=this.getColor(e,r),e.lineWidth=r.width,r.dashes!==!1?this._drawDashedLine(e,r,o):this._drawLine(e,r,o)}_drawLine(e,r,i,n,o){if(this.from!=this.to)this._line(e,r,i,n,o);else{const[s,a,l]=this._getCircleData(e);this._circle(e,r,s,a,l)}}_drawDashedLine(e,r,i,n,o){e.lineCap="round";const s=et(r.dashes)?r.dashes:[5,5];if(e.setLineDash!==void 0){if(e.save(),e.setLineDash(s),e.lineDashOffset=0,this.from!=this.to)this._line(e,r,i);else{const[a,l,c]=this._getCircleData(e);this._circle(e,r,a,l,c)}e.setLineDash([0]),e.lineDashOffset=0,e.restore()}else{if(this.from!=this.to)Ak(e,this.from.x,this.from.y,this.to.x,this.to.y,s);else{const[a,l,c]=this._getCircleData(e);this._circle(e,r,a,l,c)}this.enableShadow(e,r),e.stroke(),this.disableShadow(e,r)}}findBorderPosition(e,r,i){return this.from!=this.to?this._findBorderPosition(e,r,i):this._findBorderPositionCircle(e,r,i)}findBorderPositions(e){if(this.from!=this.to)return{from:this._findBorderPosition(this.from,e),to:this._findBorderPosition(this.to,e)};{var r;const[i,n]=si(r=this._getCircleData(e)).call(r,0,2);return{from:this._findBorderPositionCircle(this.from,e,{x:i,y:n,low:.25,high:.6,direction:-1}),to:this._findBorderPositionCircle(this.from,e,{x:i,y:n,low:.6,high:.8,direction:1})}}}_getCircleData(e){const r=this.options.selfReference.size;e!==void 0&&this.from.shape.width===void 0&&this.from.shape.resize(e);const i=UA(e,this.options.selfReference.angle,r,this.from);return[i.x,i.y,r]}_pointOnCircle(e,r,i,n){const o=n*2*Math.PI;return{x:e+i*Math.cos(o),y:r-i*Math.sin(o)}}_findBorderPositionCircle(e,r,i){const n=i.x,o=i.y;let s=i.low,a=i.high;const l=i.direction,c=10,d=this.options.selfReference.size,u=.05;let h,f=(s+a)*.5,p=0;this.options.arrowStrikethrough===!0&&(l===-1?p=this.options.endPointOffset.from:l===1&&(p=this.options.endPointOffset.to));let v=0;do{f=(s+a)*.5,h=this._pointOnCircle(n,o,d,f);const y=Math.atan2(e.y-h.y,e.x-h.x),m=e.distanceToBorder(r,y)+p,$=Math.sqrt(Math.pow(h.x-e.x,2)+Math.pow(h.y-e.y,2)),S=m-$;if(Math.abs(S)<u)break;S>0?l>0?s=f:a=f:l>0?a=f:s=f,++v}while(s<=a&&v<c);return S_(S_({},h),{},{t:f})}getLineWidth(e,r){return e===!0?Math.max(this.selectionWidth,.3/this._body.view.scale):r===!0?Math.max(this.hoverWidth,.3/this._body.view.scale):Math.max(this.options.width,.3/this._body.view.scale)}getColor(e,r){if(r.inheritsColor!==!1){if(r.inheritsColor==="both"&&this.from.id!==this.to.id){const i=e.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y);let n=this.from.options.color.highlight.border,o=this.to.options.color.highlight.border;return this.from.selected===!1&&this.to.selected===!1?(n=Tr(this.from.options.color.border,r.opacity),o=Tr(this.to.options.color.border,r.opacity)):this.from.selected===!0&&this.to.selected===!1?o=this.to.options.color.border:this.from.selected===!1&&this.to.selected===!0&&(n=this.from.options.color.border),i.addColorStop(0,n),i.addColorStop(1,o),i}return r.inheritsColor==="to"?Tr(this.to.options.color.border,r.opacity):Tr(this.from.options.color.border,r.opacity)}else return Tr(r.color,r.opacity)}_circle(e,r,i,n,o){this.enableShadow(e,r);let s=0,a=Math.PI*2;if(!this.options.selfReference.renderBehindTheNode){const l=this.options.selfReference.angle,c=this.options.selfReference.angle+Math.PI,d=this._findBorderPositionCircle(this.from,e,{x:i,y:n,low:l,high:c,direction:-1}),u=this._findBorderPositionCircle(this.from,e,{x:i,y:n,low:l,high:c,direction:1});s=Math.atan2(d.y-n,d.x-i),a=Math.atan2(u.y-n,u.x-i)}e.beginPath(),e.arc(i,n,o,s,a,!1),e.stroke(),this.disableShadow(e,r)}getDistanceToEdge(e,r,i,n,o,s){if(this.from!=this.to)return this._getDistanceToEdge(e,r,i,n,o,s);{const[a,l,c]=this._getCircleData(void 0),d=a-o,u=l-s;return Math.abs(Math.sqrt(d*d+u*u)-c)}}_getDistanceToLine(e,r,i,n,o,s){const a=i-e,l=n-r,c=a*a+l*l;let d=((o-e)*a+(s-r)*l)/c;d>1?d=1:d<0&&(d=0);const u=e+d*a,h=r+d*l,f=u-o,p=h-s;return Math.sqrt(f*f+p*p)}getArrowData(e,r,i,n,o,s){let a,l,c,d,u,h,f;const p=s.width;r==="from"?(c=this.from,d=this.to,u=s.fromArrowScale<0,h=Math.abs(s.fromArrowScale),f=s.fromArrowType):r==="to"?(c=this.to,d=this.from,u=s.toArrowScale<0,h=Math.abs(s.toArrowScale),f=s.toArrowType):(c=this.to,d=this.from,u=s.middleArrowScale<0,h=Math.abs(s.middleArrowScale),f=s.middleArrowType);const v=15*h+3*p;if(c!=d){const S=zve(c.x-d.x,c.y-d.y),_=v/S;if(r!=="middle")if(this.options.smooth.enabled===!0){const E=this._findBorderPosition(c,e,{via:i}),W=this.getPoint(E.t+_*(r==="from"?1:-1),i);a=Math.atan2(E.y-W.y,E.x-W.x),l=E}else a=Math.atan2(c.y-d.y,c.x-d.x),l=this._findBorderPosition(c,e);else{const E=(u?-_:_)/2,W=this.getPoint(.5+E,i),X=this.getPoint(.5-E,i);a=Math.atan2(W.y-X.y,W.x-X.x),l=this.getPoint(.5,i)}}else{const[S,_,E]=this._getCircleData(e);if(r==="from"){const W=this.options.selfReference.angle,X=this.options.selfReference.angle+Math.PI,z=this._findBorderPositionCircle(this.from,e,{x:S,y:_,low:W,high:X,direction:-1});a=z.t*-2*Math.PI+1.5*Math.PI+.1*Math.PI,l=z}else if(r==="to"){const W=this.options.selfReference.angle,X=this.options.selfReference.angle+Math.PI,z=this._findBorderPositionCircle(this.from,e,{x:S,y:_,low:W,high:X,direction:1});a=z.t*-2*Math.PI+1.5*Math.PI-1.1*Math.PI,l=z}else{const W=this.options.selfReference.angle/(2*Math.PI);l=this._pointOnCircle(S,_,E,W),a=W*-2*Math.PI+1.5*Math.PI+.1*Math.PI}}const y=l.x-v*.9*Math.cos(a),m=l.y-v*.9*Math.sin(a);return{point:l,core:{x:y,y:m},angle:a,length:v,type:f}}drawArrowHead(e,r,i,n,o){e.strokeStyle=this.getColor(e,r),e.fillStyle=e.strokeStyle,e.lineWidth=r.width,GA.draw(e,o)&&(this.enableShadow(e,r),Ql(e).call(e),this.disableShadow(e,r))}enableShadow(e,r){r.shadow===!0&&(e.shadowColor=r.shadowColor,e.shadowBlur=r.shadowSize,e.shadowOffsetX=r.shadowX,e.shadowOffsetY=r.shadowY)}disableShadow(e,r){r.shadow===!0&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}drawBackground(e,r){if(r.background!==!1){const i={strokeStyle:e.strokeStyle,lineWidth:e.lineWidth,dashes:e.dashes};e.strokeStyle=r.backgroundColor,e.lineWidth=r.backgroundSize,this.setStrokeDashed(e,r.backgroundDashes),e.stroke(),e.strokeStyle=i.strokeStyle,e.lineWidth=i.lineWidth,e.dashes=i.dashes,this.setStrokeDashed(e,r.dashes)}}setStrokeDashed(e,r){if(r!==!1)if(e.setLineDash!==void 0){const i=et(r)?r:[5,5];e.setLineDash(i)}else console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.");else e.setLineDash!==void 0?e.setLineDash([]):console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.")}}function I_(t,e){var r=Ze(t);if(In){var i=In(t);e&&(i=or(i).call(i,function(n){return Dn(t,n).enumerable})),r.push.apply(r,i)}return r}function E_(t){for(var e=1;e<arguments.length;e++){var r,i,n=arguments[e]!=null?arguments[e]:{};e%2?Fe(r=I_(Object(n),!0)).call(r,function(o){lh(t,o,n[o])}):En?ch(t,En(n)):Fe(i=I_(Object(n))).call(i,function(o){dh(t,o,Dn(n,o))})}return t}class iy extends KA{constructor(e,r,i){super(e,r,i)}_findBorderPositionBezier(e,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this._getViaCoordinates();const n=10,o=.2;let s=!1,a=1,l=0,c=this.to,d,u,h=this.options.endPointOffset?this.options.endPointOffset.to:0;e.id===this.from.id&&(c=this.from,s=!0,h=this.options.endPointOffset?this.options.endPointOffset.from:0),this.options.arrowStrikethrough===!1&&(h=0);let f=0;do{u=(l+a)*.5,d=this.getPoint(u,i);const p=Math.atan2(c.y-d.y,c.x-d.x),v=c.distanceToBorder(r,p)+h,y=Math.sqrt(Math.pow(d.x-c.x,2)+Math.pow(d.y-c.y,2)),m=v-y;if(Math.abs(m)<o)break;m<0?s===!1?l=u:a=u:s===!1?a=u:l=u,++f}while(l<=a&&f<n);return E_(E_({},d),{},{t:u})}_getDistanceToBezierEdge(e,r,i,n,o,s,a){let l=1e9,c,d,u,h,f,p=e,v=r;for(d=1;d<10;d++)u=.1*d,h=Math.pow(1-u,2)*e+2*u*(1-u)*a.x+Math.pow(u,2)*i,f=Math.pow(1-u,2)*r+2*u*(1-u)*a.y+Math.pow(u,2)*n,d>0&&(c=this._getDistanceToLine(p,v,h,f,o,s),l=c<l?c:l),p=h,v=f;return l}_bezierCurve(e,r,i,n){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),i!=null&&i.x!=null?n!=null&&n.x!=null?e.bezierCurveTo(i.x,i.y,n.x,n.y,this.toPoint.x,this.toPoint.y):e.quadraticCurveTo(i.x,i.y,this.toPoint.x,this.toPoint.y):e.lineTo(this.toPoint.x,this.toPoint.y),this.drawBackground(e,r),this.enableShadow(e,r),e.stroke(),this.disableShadow(e,r)}getViaNode(){return this._getViaCoordinates()}}class T_ extends iy{constructor(e,r,i){super(e,r,i),this.via=this.via,this._boundFunction=()=>{this.positionBezierNode()},this._body.emitter.on("_repositionBezierNodes",this._boundFunction)}setOptions(e){super.setOptions(e);let r=!1;this.options.physics!==e.physics&&(r=!0),this.options=e,this.id=this.options.id,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.setupSupportNode(),this.connect(),r===!0&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}connect(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.from===void 0||this.to===void 0||this.options.physics===!1?this.via.setOptions({physics:!1}):this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}cleanup(){return this._body.emitter.off("_repositionBezierNodes",this._boundFunction),this.via!==void 0?(delete this._body.nodes[this.via.id],this.via=void 0,!0):!1}setupSupportNode(){if(this.via===void 0){const e="edgeId:"+this.id,r=this._body.functions.createNode({id:e,shape:"circle",physics:!0,hidden:!0});this._body.nodes[e]=r,this.via=r,this.via.parentEdgeId=this.id,this.positionBezierNode()}}positionBezierNode(){this.via!==void 0&&this.from!==void 0&&this.to!==void 0?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):this.via!==void 0&&(this.via.x=0,this.via.y=0)}_line(e,r,i){this._bezierCurve(e,r,i)}_getViaCoordinates(){return this.via}getViaNode(){return this.via}getPoint(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.via;if(this.from===this.to){const[i,n,o]=this._getCircleData(),s=2*Math.PI*(1-e);return{x:i+o*Math.sin(s),y:n+o-o*(1-Math.cos(s))}}else return{x:Math.pow(1-e,2)*this.fromPoint.x+2*e*(1-e)*r.x+Math.pow(e,2)*this.toPoint.x,y:Math.pow(1-e,2)*this.fromPoint.y+2*e*(1-e)*r.y+Math.pow(e,2)*this.toPoint.y}}_findBorderPosition(e,r){return this._findBorderPositionBezier(e,r,this.via)}_getDistanceToEdge(e,r,i,n,o,s){return this._getDistanceToBezierEdge(e,r,i,n,o,s,this.via)}}class O_ extends iy{constructor(e,r,i){super(e,r,i)}_line(e,r,i){this._bezierCurve(e,r,i)}getViaNode(){return this._getViaCoordinates()}_getViaCoordinates(){const e=this.options.smooth.roundness,r=this.options.smooth.type;let i=Math.abs(this.from.x-this.to.x),n=Math.abs(this.from.y-this.to.y);if(r==="discrete"||r==="diagonalCross"){let o,s;i<=n?o=s=e*n:o=s=e*i,this.from.x>this.to.x&&(o=-o),this.from.y>=this.to.y&&(s=-s);let a=this.from.x+o,l=this.from.y+s;return r==="discrete"&&(i<=n?a=i<e*n?this.from.x:a:l=n<e*i?this.from.y:l),{x:a,y:l}}else if(r==="straightCross"){let o=(1-e)*i,s=(1-e)*n;return i<=n?(o=0,this.from.y<this.to.y&&(s=-s)):(this.from.x<this.to.x&&(o=-o),s=0),{x:this.to.x+o,y:this.to.y+s}}else if(r==="horizontal"){let o=(1-e)*i;return this.from.x<this.to.x&&(o=-o),{x:this.to.x+o,y:this.from.y}}else if(r==="vertical"){let o=(1-e)*n;return this.from.y<this.to.y&&(o=-o),{x:this.from.x,y:this.to.y+o}}else if(r==="curvedCW"){i=this.to.x-this.from.x,n=this.from.y-this.to.y;const o=Math.sqrt(i*i+n*n),s=Math.PI,l=(Math.atan2(n,i)+(e*.5+.5)*s)%(2*s);return{x:this.from.x+(e*.5+.5)*o*Math.sin(l),y:this.from.y+(e*.5+.5)*o*Math.cos(l)}}else if(r==="curvedCCW"){i=this.to.x-this.from.x,n=this.from.y-this.to.y;const o=Math.sqrt(i*i+n*n),s=Math.PI,l=(Math.atan2(n,i)+(-e*.5+.5)*s)%(2*s);return{x:this.from.x+(e*.5+.5)*o*Math.sin(l),y:this.from.y+(e*.5+.5)*o*Math.cos(l)}}else{let o,s;i<=n?o=s=e*n:o=s=e*i,this.from.x>this.to.x&&(o=-o),this.from.y>=this.to.y&&(s=-s);let a=this.from.x+o,l=this.from.y+s;return i<=n?this.from.x<=this.to.x?a=this.to.x<a?this.to.x:a:a=this.to.x>a?this.to.x:a:this.from.y>=this.to.y?l=this.to.y>l?this.to.y:l:l=this.to.y<l?this.to.y:l,{x:a,y:l}}}_findBorderPosition(e,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._findBorderPositionBezier(e,r,i.via)}_getDistanceToEdge(e,r,i,n,o,s){let a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(e,r,i,n,o,s,a)}getPoint(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates();const i=e,n=Math.pow(1-i,2)*this.fromPoint.x+2*i*(1-i)*r.x+Math.pow(i,2)*this.toPoint.x,o=Math.pow(1-i,2)*this.fromPoint.y+2*i*(1-i)*r.y+Math.pow(i,2)*this.toPoint.y;return{x:n,y:o}}}class tme extends iy{constructor(e,r,i){super(e,r,i)}_getDistanceToBezierEdge2(e,r,i,n,o,s,a,l){let c=1e9,d=e,u=r;const h=[0,0,0,0];for(let f=1;f<10;f++){const p=.1*f;h[0]=Math.pow(1-p,3),h[1]=3*p*Math.pow(1-p,2),h[2]=3*Math.pow(p,2)*(1-p),h[3]=Math.pow(p,3);const v=h[0]*e+h[1]*a.x+h[2]*l.x+h[3]*i,y=h[0]*r+h[1]*a.y+h[2]*l.y+h[3]*n;if(f>0){const m=this._getDistanceToLine(d,u,v,y,o,s);c=m<c?m:c}d=v,u=y}return c}}class k_ extends tme{constructor(e,r,i){super(e,r,i)}_line(e,r,i){const n=i[0],o=i[1];this._bezierCurve(e,r,n,o)}_getViaCoordinates(){const e=this.from.x-this.to.x,r=this.from.y-this.to.y;let i,n,o,s;const a=this.options.smooth.roundness;return(Math.abs(e)>Math.abs(r)||this.options.smooth.forceDirection===!0||this.options.smooth.forceDirection==="horizontal")&&this.options.smooth.forceDirection!=="vertical"?(n=this.from.y,s=this.to.y,i=this.from.x-a*e,o=this.to.x+a*e):(n=this.from.y-a*r,s=this.to.y+a*r,i=this.from.x,o=this.to.x),[{x:i,y:n},{x:o,y:s}]}getViaNode(){return this._getViaCoordinates()}_findBorderPosition(e,r){return this._findBorderPositionBezier(e,r)}_getDistanceToEdge(e,r,i,n,o,s){let[a,l]=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge2(e,r,i,n,o,s,a,l)}getPoint(e){let[r,i]=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates();const n=e,o=[Math.pow(1-n,3),3*n*Math.pow(1-n,2),3*Math.pow(n,2)*(1-n),Math.pow(n,3)],s=o[0]*this.fromPoint.x+o[1]*r.x+o[2]*i.x+o[3]*this.toPoint.x,a=o[0]*this.fromPoint.y+o[1]*r.y+o[2]*i.y+o[3]*this.toPoint.y;return{x:s,y:a}}}class x_ extends KA{constructor(e,r,i){super(e,r,i)}_line(e,r){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),e.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(e,r),e.stroke(),this.disableShadow(e,r)}getViaNode(){}getPoint(e){return{x:(1-e)*this.fromPoint.x+e*this.toPoint.x,y:(1-e)*this.fromPoint.y+e*this.toPoint.y}}_findBorderPosition(e,r){let i=this.to,n=this.from;e.id===this.from.id&&(i=this.from,n=this.to);const o=Math.atan2(i.y-n.y,i.x-n.x),s=i.x-n.x,a=i.y-n.y,l=Math.sqrt(s*s+a*a),c=e.distanceToBorder(r,o),d=(l-c)/l;return{x:(1-d)*n.x+d*i.x,y:(1-d)*n.y+d*i.y,t:0}}_getDistanceToEdge(e,r,i,n,o,s){return this._getDistanceToLine(e,r,i,n,o,s)}}class yn{constructor(e,r,i,n,o){if(r===void 0)throw new Error("No body provided");this.options=mn(n),this.globalOptions=n,this.defaultOptions=o,this.body=r,this.imagelist=i,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new fs(this.body,this.options,!0),this.setOptions(e)}setOptions(e){if(!e)return;let r=typeof e.physics<"u"&&this.options.physics!==e.physics||typeof e.hidden<"u"&&(this.options.hidden||!1)!==(e.hidden||!1)||typeof e.from<"u"&&this.options.from!==e.from||typeof e.to<"u"&&this.options.to!==e.to;yn.parseOptions(this.options,e,!0,this.globalOptions),e.id!==void 0&&(this.id=e.id),e.from!==void 0&&(this.fromId=e.from),e.to!==void 0&&(this.toId=e.to),e.title!==void 0&&(this.title=e.title),e.value!==void 0&&(e.value=BA(e.value));const i=[e,this.options,this.defaultOptions];return this.chooser=ty("edge",i),this.updateLabelModule(e),r=this.updateEdgeType()||r,this._setInteractionWidths(),this.connect(),r}static parseOptions(e,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(ea(["endPointOffset","arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","selfReference","to","title","value","width","font","chosen","widthConstraint"],e,r,i),r.endPointOffset!==void 0&&r.endPointOffset.from!==void 0&&(Yn(r.endPointOffset.from)?e.endPointOffset.from=r.endPointOffset.from:(e.endPointOffset.from=n.endPointOffset.from!==void 0?n.endPointOffset.from:0,console.error("endPointOffset.from is not a valid number"))),r.endPointOffset!==void 0&&r.endPointOffset.to!==void 0&&(Yn(r.endPointOffset.to)?e.endPointOffset.to=r.endPointOffset.to:(e.endPointOffset.to=n.endPointOffset.to!==void 0?n.endPointOffset.to:0,console.error("endPointOffset.to is not a valid number"))),Jd(r.label)?e.label=r.label:Jd(e.label)||(e.label=void 0),Er(e,r,"smooth",n),Er(e,r,"shadow",n),Er(e,r,"background",n),r.dashes!==void 0&&r.dashes!==null?e.dashes=r.dashes:i===!0&&r.dashes===null&&(e.dashes=no(n.dashes)),r.scaling!==void 0&&r.scaling!==null?(r.scaling.min!==void 0&&(e.scaling.min=r.scaling.min),r.scaling.max!==void 0&&(e.scaling.max=r.scaling.max),Er(e.scaling,r.scaling,"label",n.scaling)):i===!0&&r.scaling===null&&(e.scaling=no(n.scaling)),r.arrows!==void 0&&r.arrows!==null)if(typeof r.arrows=="string"){const a=r.arrows.toLowerCase();e.arrows.to.enabled=Pe(a).call(a,"to")!=-1,e.arrows.middle.enabled=Pe(a).call(a,"middle")!=-1,e.arrows.from.enabled=Pe(a).call(a,"from")!=-1}else if(typeof r.arrows=="object")Er(e.arrows,r.arrows,"to",n.arrows),Er(e.arrows,r.arrows,"middle",n.arrows),Er(e.arrows,r.arrows,"from",n.arrows);else throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+Jl(r.arrows));else i===!0&&r.arrows===null&&(e.arrows=no(n.arrows));if(r.color!==void 0&&r.color!==null){const a=us(r.color)?{color:r.color,highlight:r.color,hover:r.color,inherit:!1,opacity:1}:r.color,l=e.color;if(o)je(l,n.color,!1,i);else for(const c in l)Object.prototype.hasOwnProperty.call(l,c)&&delete l[c];if(us(l))l.color=l,l.highlight=l,l.hover=l,l.inherit=!1,a.opacity===void 0&&(l.opacity=1);else{let c=!1;a.color!==void 0&&(l.color=a.color,c=!0),a.highlight!==void 0&&(l.highlight=a.highlight,c=!0),a.hover!==void 0&&(l.hover=a.hover,c=!0),a.inherit!==void 0&&(l.inherit=a.inherit),a.opacity!==void 0&&(l.opacity=Math.min(1,Math.max(0,a.opacity))),c===!0?l.inherit=!1:l.inherit===void 0&&(l.inherit="from")}}else i===!0&&r.color===null&&(e.color=mn(n.color));i===!0&&r.font===null&&(e.font=mn(n.font)),Object.prototype.hasOwnProperty.call(r,"selfReferenceSize")&&(console.warn("The selfReferenceSize property has been deprecated. Please use selfReference property instead. The selfReference can be set like thise selfReference:{size:30, angle:Math.PI / 4}"),e.selfReference.size=r.selfReferenceSize)}getFormattingValues(){const e=this.options.arrows.to===!0||this.options.arrows.to.enabled===!0,r=this.options.arrows.from===!0||this.options.arrows.from.enabled===!0,i=this.options.arrows.middle===!0||this.options.arrows.middle.enabled===!0,n=this.options.color.inherit,o={toArrow:e,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,toArrowSrc:this.options.arrows.to.src,toArrowImageWidth:this.options.arrows.to.imageWidth,toArrowImageHeight:this.options.arrows.to.imageHeight,middleArrow:i,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,middleArrowSrc:this.options.arrows.middle.src,middleArrowImageWidth:this.options.arrows.middle.imageWidth,middleArrowImageHeight:this.options.arrows.middle.imageHeight,fromArrow:r,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,fromArrowSrc:this.options.arrows.from.src,fromArrowImageWidth:this.options.arrows.from.imageWidth,fromArrowImageHeight:this.options.arrows.from.imageHeight,arrowStrikethrough:this.options.arrowStrikethrough,color:n?void 0:this.options.color.color,inheritsColor:n,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width,background:this.options.background.enabled,backgroundColor:this.options.background.color,backgroundSize:this.options.background.size,backgroundDashes:this.options.background.dashes};if(this.selected||this.hover)if(this.chooser===!0){if(this.selected){const s=this.options.selectionWidth;typeof s=="function"?o.width=s(o.width):typeof s=="number"&&(o.width+=s),o.width=Math.max(o.width,.3/this.body.view.scale),o.color=this.options.color.highlight,o.shadow=this.options.shadow.enabled}else if(this.hover){const s=this.options.hoverWidth;typeof s=="function"?o.width=s(o.width):typeof s=="number"&&(o.width+=s),o.width=Math.max(o.width,.3/this.body.view.scale),o.color=this.options.color.hover,o.shadow=this.options.shadow.enabled}}else typeof this.chooser=="function"&&(this.chooser(o,this.options.id,this.selected,this.hover),o.color!==void 0&&(o.inheritsColor=!1),o.shadow===!1&&(o.shadowColor!==this.options.shadow.color||o.shadowSize!==this.options.shadow.size||o.shadowX!==this.options.shadow.x||o.shadowY!==this.options.shadow.y)&&(o.shadow=!0));else o.shadow=this.options.shadow.enabled,o.width=Math.max(o.width,.3/this.body.view.scale);return o}updateLabelModule(e){const r=[e,this.options,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,r),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}updateEdgeType(){const e=this.options.smooth;let r=!1,i=!0;return this.edgeType!==void 0&&((this.edgeType instanceof T_&&e.enabled===!0&&e.type==="dynamic"||this.edgeType instanceof k_&&e.enabled===!0&&e.type==="cubicBezier"||this.edgeType instanceof O_&&e.enabled===!0&&e.type!=="dynamic"&&e.type!=="cubicBezier"||this.edgeType instanceof x_&&e.type.enabled===!1)&&(i=!1),i===!0&&(r=this.cleanup())),i===!0?e.enabled===!0?e.type==="dynamic"?(r=!0,this.edgeType=new T_(this.options,this.body,this.labelModule)):e.type==="cubicBezier"?this.edgeType=new k_(this.options,this.body,this.labelModule):this.edgeType=new O_(this.options,this.body,this.labelModule):this.edgeType=new x_(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),r}connect(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=this.from!==void 0&&this.to!==void 0,this.connected===!0?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}disconnect(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}getTitle(){return this.title}isSelected(){return this.selected}getValue(){return this.options.value}setValueRange(e,r,i){if(this.options.value!==void 0){const n=this.options.scaling.customScalingFunction(e,r,i,this.options.value),o=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){const s=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+n*s}this.options.width=this.options.scaling.min+n*o}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}_setInteractionWidths(){typeof this.options.hoverWidth=="function"?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width,typeof this.options.selectionWidth=="function"?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}draw(e){const r=this.getFormattingValues();if(r.hidden)return;const i=this.edgeType.getViaNode();this.edgeType.drawLine(e,r,this.selected,this.hover,i),this.drawLabel(e,i)}drawArrows(e){const r=this.getFormattingValues();if(r.hidden)return;const i=this.edgeType.getViaNode(),n={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,r.fromArrow&&(n.from=this.edgeType.getArrowData(e,"from",i,this.selected,this.hover,r),r.arrowStrikethrough===!1&&(this.edgeType.fromPoint=n.from.core),r.fromArrowSrc&&(n.from.image=this.imagelist.load(r.fromArrowSrc)),r.fromArrowImageWidth&&(n.from.imageWidth=r.fromArrowImageWidth),r.fromArrowImageHeight&&(n.from.imageHeight=r.fromArrowImageHeight)),r.toArrow&&(n.to=this.edgeType.getArrowData(e,"to",i,this.selected,this.hover,r),r.arrowStrikethrough===!1&&(this.edgeType.toPoint=n.to.core),r.toArrowSrc&&(n.to.image=this.imagelist.load(r.toArrowSrc)),r.toArrowImageWidth&&(n.to.imageWidth=r.toArrowImageWidth),r.toArrowImageHeight&&(n.to.imageHeight=r.toArrowImageHeight)),r.middleArrow&&(n.middle=this.edgeType.getArrowData(e,"middle",i,this.selected,this.hover,r),r.middleArrowSrc&&(n.middle.image=this.imagelist.load(r.middleArrowSrc)),r.middleArrowImageWidth&&(n.middle.imageWidth=r.middleArrowImageWidth),r.middleArrowImageHeight&&(n.middle.imageHeight=r.middleArrowImageHeight)),r.fromArrow&&this.edgeType.drawArrowHead(e,r,this.selected,this.hover,n.from),r.middleArrow&&this.edgeType.drawArrowHead(e,r,this.selected,this.hover,n.middle),r.toArrow&&this.edgeType.drawArrowHead(e,r,this.selected,this.hover,n.to)}drawLabel(e,r){if(this.options.label!==void 0){const i=this.from,n=this.to;this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(e,this.selected,this.hover);let o;if(i.id!=n.id){this.labelModule.pointToSelf=!1,o=this.edgeType.getPoint(.5,r),e.save();const s=this._getRotation(e);s.angle!=0&&(e.translate(s.x,s.y),e.rotate(s.angle)),this.labelModule.draw(e,o.x,o.y,this.selected,this.hover),e.restore()}else{this.labelModule.pointToSelf=!0;const s=UA(e,this.options.selfReference.angle,this.options.selfReference.size,i);o=this._pointOnCircle(s.x,s.y,this.options.selfReference.size,this.options.selfReference.angle),this.labelModule.draw(e,o.x,o.y,this.selected,this.hover)}}}getItemsOnPoint(e){const r=[];if(this.labelModule.visible()){const n=this._getRotation();ov(this.labelModule.getSize(),e,n)&&r.push({edgeId:this.id,labelId:0})}const i={left:e.x,top:e.y};return this.isOverlappingWith(i)&&r.push({edgeId:this.id}),r}isOverlappingWith(e){if(this.connected){const i=this.from.x,n=this.from.y,o=this.to.x,s=this.to.y,a=e.left,l=e.top;return this.edgeType.getDistanceToEdge(i,n,o,s,a,l)<10}else return!1}_getRotation(e){const r=this.edgeType.getViaNode(),i=this.edgeType.getPoint(.5,r);e!==void 0&&this.labelModule.calculateLabelSize(e,this.selected,this.hover,i.x,i.y);const n={x:i.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible()||this.options.font.align==="horizontal")return n;const o=this.from.y-this.to.y,s=this.from.x-this.to.x;let a=Math.atan2(o,s);return(a<-1&&s<0||a>0&&s<0)&&(a+=Math.PI),n.angle=a,n}_pointOnCircle(e,r,i,n){return{x:e+i*Math.cos(n),y:r-i*Math.sin(n)}}select(){this.selected=!0}unselect(){this.selected=!1}cleanup(){return this.edgeType.cleanup()}remove(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}endPointsValid(){return this.body.nodes[this.fromId]!==void 0&&this.body.nodes[this.toId]!==void 0}}class rme{constructor(e,r,i){var n;this.body=e,this.images=r,this.groups=i,this.body.functions.createEdge=B(n=this.create).call(n,this),this.edgesListeners={add:(o,s)=>{this.add(s.items)},update:(o,s)=>{this.update(s.items)},remove:(o,s)=>{this.remove(s.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},endPointOffset:{from:0,to:0},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(o,s,a,l){if(s===o)return .5;{const c=1/(s-o);return Math.max(0,(l-o)*c)}}},selectionWidth:1.5,selfReference:{size:20,angle:Math.PI/4,renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},background:{enabled:!1,color:"rgba(111,111,111,1)",size:10,dashes:!1},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},je(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e=this,r,i;this.body.emitter.on("_forceDisableDynamicCurves",function(n){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;n==="dynamic"&&(n="continuous");let s=!1;for(const a in e.body.edges)if(Object.prototype.hasOwnProperty.call(e.body.edges,a)){const l=e.body.edges[a],c=e.body.data.edges.get(a);if(c!=null){const d=c.smooth;d!==void 0&&d.enabled===!0&&d.type==="dynamic"&&(n===void 0?l.setOptions({smooth:!1}):l.setOptions({smooth:{type:n}}),s=!0)}}o===!0&&s===!0&&e.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",()=>{this.reconnectEdges()}),this.body.emitter.on("refreshEdges",B(r=this.refresh).call(r,this)),this.body.emitter.on("refresh",B(i=this.refresh).call(i,this)),this.body.emitter.on("destroy",()=>{$e(this.edgesListeners,(n,o)=>{this.body.data.edges&&this.body.data.edges.off(o,n)}),delete this.body.functions.createEdge,delete this.edgesListeners.add,delete this.edgesListeners.update,delete this.edgesListeners.remove,delete this.edgesListeners})}setOptions(e){if(e!==void 0){yn.parseOptions(this.options,e,!0,this.defaultOptions,!0);let r=!1;if(e.smooth!==void 0)for(const i in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,i)&&(r=this.body.edges[i].updateEdgeType()||r);if(e.font!==void 0)for(const i in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,i)&&this.body.edges[i].updateLabelModule();(e.hidden!==void 0||e.physics!==void 0||r===!0)&&this.body.emitter.emit("_dataChanged")}}setData(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const i=this.body.data.edges;if(ck("id",e))this.body.data.edges=e;else if(et(e))this.body.data.edges=new Bd,this.body.data.edges.add(e);else if(!e)this.body.data.edges=new Bd;else throw new TypeError("Array or DataSet expected");if(i&&$e(this.edgesListeners,(n,o)=>{i.off(o,n)}),this.body.edges={},this.body.data.edges){$e(this.edgesListeners,(o,s)=>{this.body.data.edges.on(s,o)});const n=this.body.data.edges.getIds();this.add(n,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),r===!1&&this.body.emitter.emit("_dataChanged")}add(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const i=this.body.edges,n=this.body.data.edges;for(let o=0;o<e.length;o++){const s=e[o],a=i[s];a&&a.disconnect();const l=n.get(s,{showInternalIds:!0});i[s]=this.create(l)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),r===!1&&this.body.emitter.emit("_dataChanged")}update(e){const r=this.body.edges,i=this.body.data.edges;let n=!1;for(let o=0;o<e.length;o++){const s=e[o],a=i.get(s),l=r[s];l!==void 0?(l.disconnect(),n=l.setOptions(a)||n,l.connect()):(this.body.edges[s]=this.create(a),n=!0)}n===!0?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}remove(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.length===0)return;const i=this.body.edges;$e(e,n=>{const o=i[n];o!==void 0&&o.remove()}),r&&this.body.emitter.emit("_dataChanged")}refresh(){$e(this.body.edges,(e,r)=>{const i=this.body.data.edges.get(r);i!==void 0&&e.setOptions(i)})}create(e){return new yn(e,this.body,this.images,this.options,this.defaultOptions)}reconnectEdges(){let e;const r=this.body.nodes,i=this.body.edges;for(e in r)Object.prototype.hasOwnProperty.call(r,e)&&(r[e].edges=[]);for(e in i)if(Object.prototype.hasOwnProperty.call(i,e)){const n=i[e];n.from=null,n.to=null,n.connect()}}getConnectedNodes(e){const r=[];if(this.body.edges[e]!==void 0){const i=this.body.edges[e];i.fromId!==void 0&&r.push(i.fromId),i.toId!==void 0&&r.push(i.toId)}return r}_updateState(){this._addMissingEdges(),this._removeInvalidEdges()}_removeInvalidEdges(){const e=[];$e(this.body.edges,(r,i)=>{const n=this.body.nodes[r.toId],o=this.body.nodes[r.fromId];n!==void 0&&n.isCluster===!0||o!==void 0&&o.isCluster===!0||(n===void 0||o===void 0)&&e.push(i)}),this.remove(e,!1)}_addMissingEdges(){const e=this.body.data.edges;if(e==null)return;const r=this.body.edges,i=[];Fe(e).call(e,(n,o)=>{r[o]===void 0&&i.push(o)}),this.add(i,!0)}}class XA{constructor(e,r,i){this.body=e,this.physicsBody=r,this.barnesHutTree,this.setOptions(i),this._rng=sh("BARNES HUT SOLVER")}setOptions(e){this.options=e,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}solve(){if(this.options.gravitationalConstant!==0&&this.physicsBody.physicsNodeIndices.length>0){let e;const r=this.body.nodes,i=this.physicsBody.physicsNodeIndices,n=i.length,o=this._formBarnesHutTree(r,i);this.barnesHutTree=o;for(let s=0;s<n;s++)e=r[i[s]],e.options.mass>0&&this._getForceContributions(o.root,e)}}_getForceContributions(e,r){this._getForceContribution(e.children.NW,r),this._getForceContribution(e.children.NE,r),this._getForceContribution(e.children.SW,r),this._getForceContribution(e.children.SE,r)}_getForceContribution(e,r){if(e.childrenCount>0){const i=e.centerOfMass.x-r.x,n=e.centerOfMass.y-r.y,o=Math.sqrt(i*i+n*n);o*e.calcSize>this.thetaInversed?this._calculateForces(o,i,n,r,e):e.childrenCount===4?this._getForceContributions(e,r):e.children.data.id!=r.id&&this._calculateForces(o,i,n,r,e)}}_calculateForces(e,r,i,n,o){e===0&&(e=.1,r=e),this.overlapAvoidanceFactor<1&&n.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*n.shape.radius,e-n.shape.radius));const s=this.options.gravitationalConstant*o.mass*n.options.mass/Math.pow(e,3),a=r*s,l=i*s;this.physicsBody.forces[n.id].x+=a,this.physicsBody.forces[n.id].y+=l}_formBarnesHutTree(e,r){let i;const n=r.length;let o=e[r[0]].x,s=e[r[0]].y,a=e[r[0]].x,l=e[r[0]].y;for(let y=1;y<n;y++){const m=e[r[y]],$=m.x,S=m.y;m.options.mass>0&&($<o&&(o=$),$>a&&(a=$),S<s&&(s=S),S>l&&(l=S))}const c=Math.abs(a-o)-Math.abs(l-s);c>0?(s-=.5*c,l+=.5*c):(o+=.5*c,a-=.5*c);const u=Math.max(1e-5,Math.abs(a-o)),h=.5*u,f=.5*(o+a),p=.5*(s+l),v={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:f-h,maxX:f+h,minY:p-h,maxY:p+h},size:u,calcSize:1/u,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(v.root);for(let y=0;y<n;y++)i=e[r[y]],i.options.mass>0&&this._placeInTree(v.root,i);return v}_updateBranchMass(e,r){const i=e.centerOfMass,n=e.mass+r.options.mass,o=1/n;i.x=i.x*e.mass+r.x*r.options.mass,i.x*=o,i.y=i.y*e.mass+r.y*r.options.mass,i.y*=o,e.mass=n;const s=Math.max(Math.max(r.height,r.radius),r.width);e.maxWidth=e.maxWidth<s?s:e.maxWidth}_placeInTree(e,r,i){(i!=!0||i===void 0)&&this._updateBranchMass(e,r);const n=e.children.NW.range;let o;n.maxX>r.x?n.maxY>r.y?o="NW":o="SW":n.maxY>r.y?o="NE":o="SE",this._placeInRegion(e,r,o)}_placeInRegion(e,r,i){const n=e.children[i];switch(n.childrenCount){case 0:n.children.data=r,n.childrenCount=1,this._updateBranchMass(n,r);break;case 1:n.children.data.x===r.x&&n.children.data.y===r.y?(r.x+=this._rng(),r.y+=this._rng()):(this._splitBranch(n),this._placeInTree(n,r));break;case 4:this._placeInTree(n,r);break}}_splitBranch(e){let r=null;e.childrenCount===1&&(r=e.children.data,e.mass=0,e.centerOfMass.x=0,e.centerOfMass.y=0),e.childrenCount=4,e.children.data=null,this._insertRegion(e,"NW"),this._insertRegion(e,"NE"),this._insertRegion(e,"SW"),this._insertRegion(e,"SE"),r!=null&&this._placeInTree(e,r)}_insertRegion(e,r){let i,n,o,s;const a=.5*e.size;switch(r){case"NW":i=e.range.minX,n=e.range.minX+a,o=e.range.minY,s=e.range.minY+a;break;case"NE":i=e.range.minX+a,n=e.range.maxX,o=e.range.minY,s=e.range.minY+a;break;case"SW":i=e.range.minX,n=e.range.minX+a,o=e.range.minY+a,s=e.range.maxY;break;case"SE":i=e.range.minX+a,n=e.range.maxX,o=e.range.minY+a,s=e.range.maxY;break}e.children[r]={centerOfMass:{x:0,y:0},mass:0,range:{minX:i,maxX:n,minY:o,maxY:s},size:.5*e.size,calcSize:2*e.calcSize,children:{data:null},maxWidth:0,level:e.level+1,childrenCount:0}}_debug(e,r){this.barnesHutTree!==void 0&&(e.lineWidth=1,this._drawBranch(this.barnesHutTree.root,e,r))}_drawBranch(e,r,i){i===void 0&&(i="#FF0000"),e.childrenCount===4&&(this._drawBranch(e.children.NW,r),this._drawBranch(e.children.NE,r),this._drawBranch(e.children.SE,r),this._drawBranch(e.children.SW,r)),r.strokeStyle=i,r.beginPath(),r.moveTo(e.range.minX,e.range.minY),r.lineTo(e.range.maxX,e.range.minY),r.stroke(),r.beginPath(),r.moveTo(e.range.maxX,e.range.minY),r.lineTo(e.range.maxX,e.range.maxY),r.stroke(),r.beginPath(),r.moveTo(e.range.maxX,e.range.maxY),r.lineTo(e.range.minX,e.range.maxY),r.stroke(),r.beginPath(),r.moveTo(e.range.minX,e.range.maxY),r.lineTo(e.range.minX,e.range.minY),r.stroke()}}class ime{constructor(e,r,i){this._rng=sh("REPULSION SOLVER"),this.body=e,this.physicsBody=r,this.setOptions(i)}setOptions(e){this.options=e}solve(){let e,r,i,n,o,s,a,l;const c=this.body.nodes,d=this.physicsBody.physicsNodeIndices,u=this.physicsBody.forces,h=this.options.nodeDistance,f=-2/3/h,p=4/3;for(let v=0;v<d.length-1;v++){a=c[d[v]];for(let y=v+1;y<d.length;y++)l=c[d[y]],e=l.x-a.x,r=l.y-a.y,i=Math.sqrt(e*e+r*r),i===0&&(i=.1*this._rng(),e=i),i<2*h&&(i<.5*h?s=1:s=f*i+p,s=s/i,n=e*s,o=r*s,u[a.id].x-=n,u[a.id].y-=o,u[l.id].x+=n,u[l.id].y+=o)}}}class nme{constructor(e,r,i){this.body=e,this.physicsBody=r,this.setOptions(i)}setOptions(e){this.options=e,this.overlapAvoidanceFactor=Math.max(0,Math.min(1,this.options.avoidOverlap||0))}solve(){const e=this.body.nodes,r=this.physicsBody.physicsNodeIndices,i=this.physicsBody.forces,n=this.options.nodeDistance;for(let o=0;o<r.length-1;o++){const s=e[r[o]];for(let a=o+1;a<r.length;a++){const l=e[r[a]];if(s.level===l.level){const c=n+this.overlapAvoidanceFactor*((s.shape.radius||0)/2+(l.shape.radius||0)/2),d=l.x-s.x,u=l.y-s.y,h=Math.sqrt(d*d+u*u),f=.05;let p;h<c?p=-Math.pow(f*h,2)+Math.pow(f*c,2):p=0,h!==0&&(p=p/h);const v=d*p,y=u*p;i[s.id].x-=v,i[s.id].y-=y,i[l.id].x+=v,i[l.id].y+=y}}}}}class Cp{constructor(e,r,i){this.body=e,this.physicsBody=r,this.setOptions(i)}setOptions(e){this.options=e}solve(){let e,r;const i=this.physicsBody.physicsEdgeIndices,n=this.body.edges;let o,s,a;for(let l=0;l<i.length;l++)r=n[i[l]],r.connected===!0&&r.toId!==r.fromId&&this.body.nodes[r.toId]!==void 0&&this.body.nodes[r.fromId]!==void 0&&(r.edgeType.via!==void 0?(e=r.options.length===void 0?this.options.springLength:r.options.length,o=r.to,s=r.edgeType.via,a=r.from,this._calculateSpringForce(o,s,.5*e),this._calculateSpringForce(s,a,.5*e)):(e=r.options.length===void 0?this.options.springLength*1.5:r.options.length,this._calculateSpringForce(r.from,r.to,e)))}_calculateSpringForce(e,r,i){const n=e.x-r.x,o=e.y-r.y,s=Math.max(Math.sqrt(n*n+o*o),.01),a=this.options.springConstant*(i-s)/s,l=n*a,c=o*a;this.physicsBody.forces[e.id]!==void 0&&(this.physicsBody.forces[e.id].x+=l,this.physicsBody.forces[e.id].y+=c),this.physicsBody.forces[r.id]!==void 0&&(this.physicsBody.forces[r.id].x-=l,this.physicsBody.forces[r.id].y-=c)}}class ome{constructor(e,r,i){this.body=e,this.physicsBody=r,this.setOptions(i)}setOptions(e){this.options=e}solve(){let e,r,i,n,o,s,a,l;const c=this.body.edges,d=.5,u=this.physicsBody.physicsEdgeIndices,h=this.physicsBody.physicsNodeIndices,f=this.physicsBody.forces;for(let _=0;_<h.length;_++){const E=h[_];f[E].springFx=0,f[E].springFy=0}for(let _=0;_<u.length;_++)r=c[u[_]],r.connected===!0&&(e=r.options.length===void 0?this.options.springLength:r.options.length,i=r.from.x-r.to.x,n=r.from.y-r.to.y,l=Math.sqrt(i*i+n*n),l=l===0?.01:l,a=this.options.springConstant*(e-l)/l,o=i*a,s=n*a,r.to.level!=r.from.level?(f[r.toId]!==void 0&&(f[r.toId].springFx-=o,f[r.toId].springFy-=s),f[r.fromId]!==void 0&&(f[r.fromId].springFx+=o,f[r.fromId].springFy+=s)):(f[r.toId]!==void 0&&(f[r.toId].x-=d*o,f[r.toId].y-=d*s),f[r.fromId]!==void 0&&(f[r.fromId].x+=d*o,f[r.fromId].y+=d*s)));a=1;let p,v;for(let _=0;_<h.length;_++){const E=h[_];p=Math.min(a,Math.max(-a,f[E].springFx)),v=Math.min(a,Math.max(-a,f[E].springFy)),f[E].x+=p,f[E].y+=v}let y=0,m=0;for(let _=0;_<h.length;_++){const E=h[_];y+=f[E].x,m+=f[E].y}const $=y/h.length,S=m/h.length;for(let _=0;_<h.length;_++){const E=h[_];f[E].x-=$,f[E].y-=S}}}class fd{constructor(e,r,i){this.body=e,this.physicsBody=r,this.setOptions(i)}setOptions(e){this.options=e}solve(){let e,r,i,n;const o=this.body.nodes,s=this.physicsBody.physicsNodeIndices,a=this.physicsBody.forces;for(let l=0;l<s.length;l++){const c=s[l];n=o[c],e=-n.x,r=-n.y,i=Math.sqrt(e*e+r*r),this._calculateForces(i,e,r,a,n)}}_calculateForces(e,r,i,n,o){const s=e===0?0:this.options.centralGravity/e;n[o.id].x=r*s,n[o.id].y=i*s}}class sme extends XA{constructor(e,r,i){super(e,r,i),this._rng=sh("FORCE ATLAS 2 BASED REPULSION SOLVER")}_calculateForces(e,r,i,n,o){e===0&&(e=.1*this._rng(),r=e),this.overlapAvoidanceFactor<1&&n.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*n.shape.radius,e-n.shape.radius));const s=n.edges.length+1,a=this.options.gravitationalConstant*o.mass*n.options.mass*s/Math.pow(e,2),l=r*a,c=i*a;this.physicsBody.forces[n.id].x+=l,this.physicsBody.forces[n.id].y+=c}}class ame extends fd{constructor(e,r,i){super(e,r,i)}_calculateForces(e,r,i,n,o){if(e>0){const s=o.edges.length+1,a=this.options.centralGravity*s*o.options.mass;n[o.id].x=r*a,n[o.id].y=i*a}}}class lme{constructor(e){this.body=e,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0,wind:{x:0,y:0}},pt(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("initPhysics",()=>{this.initPhysics()}),this.body.emitter.on("_layoutFailed",()=>{this.layoutFailed=!0}),this.body.emitter.on("resetPhysics",()=>{this.stopSimulation(),this.ready=!1}),this.body.emitter.on("disablePhysics",()=>{this.physicsEnabled=!1,this.stopSimulation()}),this.body.emitter.on("restorePhysics",()=>{this.setOptions(this.options),this.ready===!0&&this.startSimulation()}),this.body.emitter.on("startSimulation",()=>{this.ready===!0&&this.startSimulation()}),this.body.emitter.on("stopSimulation",()=>{this.stopSimulation()}),this.body.emitter.on("destroy",()=>{this.stopSimulation(!1),this.body.emitter.off()}),this.body.emitter.on("_dataChanged",()=>{this.updatePhysicsData()})}setOptions(e){if(e!==void 0)if(e===!1)this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation();else if(e===!0)this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation();else{this.physicsEnabled=!0,Yd(["stabilization"],this.options,e),Er(this.options,e,"stabilization"),e.enabled===void 0&&(this.options.enabled=!0),this.options.enabled===!1&&(this.physicsEnabled=!1,this.stopSimulation());const r=this.options.wind;r&&((typeof r.x!="number"||nv(r.x))&&(r.x=0),(typeof r.y!="number"||nv(r.y))&&(r.y=0)),this.timestep=this.options.timestep}this.init()}init(){let e;this.options.solver==="forceAtlas2Based"?(e=this.options.forceAtlas2Based,this.nodesSolver=new sme(this.body,this.physicsBody,e),this.edgesSolver=new Cp(this.body,this.physicsBody,e),this.gravitySolver=new ame(this.body,this.physicsBody,e)):this.options.solver==="repulsion"?(e=this.options.repulsion,this.nodesSolver=new ime(this.body,this.physicsBody,e),this.edgesSolver=new Cp(this.body,this.physicsBody,e),this.gravitySolver=new fd(this.body,this.physicsBody,e)):this.options.solver==="hierarchicalRepulsion"?(e=this.options.hierarchicalRepulsion,this.nodesSolver=new nme(this.body,this.physicsBody,e),this.edgesSolver=new ome(this.body,this.physicsBody,e),this.gravitySolver=new fd(this.body,this.physicsBody,e)):(e=this.options.barnesHut,this.nodesSolver=new XA(this.body,this.physicsBody,e),this.edgesSolver=new Cp(this.body,this.physicsBody,e),this.gravitySolver=new fd(this.body,this.physicsBody,e)),this.modelOptions=e}initPhysics(){this.physicsEnabled===!0&&this.options.enabled===!0?this.options.stabilization.enabled===!0?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}startSimulation(){if(this.physicsEnabled===!0&&this.options.enabled===!0){if(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),this.viewFunction===void 0){var e;this.viewFunction=B(e=this.simulationStep).call(e,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}else this.body.emitter.emit("_redraw")}stopSimulation(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.stabilized=!0,e===!0&&this._emitStabilized(),this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,e===!0&&this.body.emitter.emit("_stopRendering"))}simulationStep(){const e=Hd();this.physicsTick(),(Hd()-e<.4*this.simulationInterval||this.runDoubleSpeed===!0)&&this.stabilized===!1&&(this.physicsTick(),this.runDoubleSpeed=!0),this.stabilized===!0&&this.stopSimulation()}_emitStabilized(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||this.startedStabilization===!0)&&xi(()=>{this.body.emitter.emit("stabilized",{iterations:e}),this.startedStabilization=!1,this.stabilizationIterations=0},0)}physicsStep(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}adjustTimeStep(){this._evaluateStepQuality()===!0?this.timestep=1.2*this.timestep:this.timestep/1.2<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/1.2))}physicsTick(){this._startStabilizing(),this.stabilized!==!0&&(this.adaptiveTimestep===!0&&this.adaptiveTimestepEnabled===!0?(this.adaptiveCounter%this.adaptiveInterval===0?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1):(this.timestep=this.options.timestep,this.physicsStep()),this.stabilized===!0&&this.revert(),this.stabilizationIterations++)}updatePhysicsData(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];const e=this.body.nodes,r=this.body.edges;for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&e[i].options.physics===!0&&this.physicsBody.physicsNodeIndices.push(e[i].id);for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&r[i].options.physics===!0&&this.physicsBody.physicsEdgeIndices.push(r[i].id);for(let i=0;i<this.physicsBody.physicsNodeIndices.length;i++){const n=this.physicsBody.physicsNodeIndices[i];this.physicsBody.forces[n]={x:0,y:0},this.physicsBody.velocities[n]===void 0&&(this.physicsBody.velocities[n]={x:0,y:0})}for(const i in this.physicsBody.velocities)e[i]===void 0&&delete this.physicsBody.velocities[i]}revert(){const e=Ze(this.previousStates),r=this.body.nodes,i=this.physicsBody.velocities;this.referenceState={};for(let n=0;n<e.length;n++){const o=e[n];r[o]!==void 0?r[o].options.physics===!0&&(this.referenceState[o]={positions:{x:r[o].x,y:r[o].y}},i[o].x=this.previousStates[o].vx,i[o].y=this.previousStates[o].vy,r[o].x=this.previousStates[o].x,r[o].y=this.previousStates[o].y):delete this.previousStates[o]}}_evaluateStepQuality(){let e,r,i;const n=this.body.nodes,o=this.referenceState,s=.3;for(const a in this.referenceState)if(Object.prototype.hasOwnProperty.call(this.referenceState,a)&&n[a]!==void 0&&(e=n[a].x-o[a].positions.x,r=n[a].y-o[a].positions.y,i=Math.sqrt(Math.pow(e,2)+Math.pow(r,2)),i>s))return!1;return!0}moveNodes(){const e=this.physicsBody.physicsNodeIndices;let r=0,i=0;const n=5;for(let o=0;o<e.length;o++){const s=e[o],a=this._performStep(s);r=Math.max(r,a),i+=a}this.adaptiveTimestepEnabled=i/e.length<n,this.stabilized=r<this.options.minVelocity}calculateComponentVelocity(e,r,i){const n=this.modelOptions.damping*e,o=(r-n)/i;e+=o*this.timestep;const s=this.options.maxVelocity||1e9;return Math.abs(e)>s&&(e=e>0?s:-s),e}_performStep(e){const r=this.body.nodes[e],i=this.physicsBody.forces[e];this.options.wind&&(i.x+=this.options.wind.x,i.y+=this.options.wind.y);const n=this.physicsBody.velocities[e];return this.previousStates[e]={x:r.x,y:r.y,vx:n.x,vy:n.y},r.options.fixed.x===!1?(n.x=this.calculateComponentVelocity(n.x,i.x,r.options.mass),r.x+=n.x*this.timestep):(i.x=0,n.x=0),r.options.fixed.y===!1?(n.y=this.calculateComponentVelocity(n.y,i.y,r.options.mass),r.y+=n.y*this.timestep):(i.y=0,n.y=0),Math.sqrt(Math.pow(n.x,2)+Math.pow(n.y,2))}_freezeNodes(){const e=this.body.nodes;for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&e[r].x&&e[r].y){const i=e[r].options.fixed;this.freezeCache[r]={x:i.x,y:i.y},i.x=!0,i.y=!0}}_restoreFrozenNodes(){const e=this.body.nodes;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&this.freezeCache[r]!==void 0&&(e[r].options.fixed.x=this.freezeCache[r].x,e[r].options.fixed.y=this.freezeCache[r].y);this.freezeCache={}}stabilize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.stabilization.iterations;if(typeof e!="number"&&(e=this.options.stabilization.iterations,console.error("The stabilize method needs a numeric amount of iterations. Switching to default: ",e)),this.physicsBody.physicsNodeIndices.length===0){this.ready=!0;return}this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=e,this.options.stabilization.onlyDynamicEdges===!0&&this._freezeNodes(),this.stabilizationIterations=0,xi(()=>this._stabilizationBatch(),0)}_startStabilizing(){return this.startedStabilization===!0?!1:(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}_stabilizationBatch(){const e=()=>this.stabilized===!1&&this.stabilizationIterations<this.targetIterations,r=()=>{this.body.emitter.emit("stabilizationProgress",{iterations:this.stabilizationIterations,total:this.targetIterations})};this._startStabilizing()&&r();let i=0;for(;e()&&i<this.options.stabilization.updateInterval;)this.physicsTick(),i++;if(r(),e()){var n;xi(B(n=this._stabilizationBatch).call(n,this),0)}else this._finalizeStabilization()}_finalizeStabilization(){this.body.emitter.emit("_allowRedraw"),this.options.stabilization.fit===!0&&this.body.emitter.emit("fit"),this.options.stabilization.onlyDynamicEdges===!0&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),this.stabilized===!0?this._emitStabilized():this.startSimulation(),this.ready=!0}_drawForces(e){for(let r=0;r<this.physicsBody.physicsNodeIndices.length;r++){const i=this.physicsBody.physicsNodeIndices[r],n=this.body.nodes[i],o=this.physicsBody.forces[i],s=20,a=.03,l=Math.sqrt(Math.pow(o.x,2)+Math.pow(o.x,2)),c=Math.min(Math.max(5,l),15),d=3*c,u=tv((180-Math.min(1,Math.max(0,a*l))*180)/360,1,1),h={x:n.x+s*o.x,y:n.y+s*o.y};e.lineWidth=c,e.strokeStyle=u,e.beginPath(),e.moveTo(n.x,n.y),e.lineTo(h.x,h.y),e.stroke();const f=Math.atan2(o.y,o.x);e.fillStyle=u,GA.draw(e,{type:"arrow",point:h,angle:f,length:d}),Ql(e).call(e)}}}let Wc;const cme=new Uint8Array(16);function dme(){if(!Wc&&(Wc=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Wc))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Wc(cme)}const xt=[];for(let t=0;t<256;++t)xt.push((t+256).toString(16).slice(1));function ume(t,e=0){return xt[t[e+0]]+xt[t[e+1]]+xt[t[e+2]]+xt[t[e+3]]+"-"+xt[t[e+4]]+xt[t[e+5]]+"-"+xt[t[e+6]]+xt[t[e+7]]+"-"+xt[t[e+8]]+xt[t[e+9]]+"-"+xt[t[e+10]]+xt[t[e+11]]+xt[t[e+12]]+xt[t[e+13]]+xt[t[e+14]]+xt[t[e+15]]}const hme=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var A_={randomUUID:hme};function Ma(t,e,r){if(A_.randomUUID&&!t)return A_.randomUUID();t=t||{};const i=t.random||(t.rng||dme)();return i[6]=i[6]&15|64,i[8]=i[8]&63|128,ume(i)}class Ut{constructor(){}static getRange(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=1e9,n=-1e9,o=1e9,s=-1e9,a;if(r.length>0)for(let l=0;l<r.length;l++)a=e[r[l]],o>a.shape.boundingBox.left&&(o=a.shape.boundingBox.left),s<a.shape.boundingBox.right&&(s=a.shape.boundingBox.right),i>a.shape.boundingBox.top&&(i=a.shape.boundingBox.top),n<a.shape.boundingBox.bottom&&(n=a.shape.boundingBox.bottom);return o===1e9&&s===-1e9&&i===1e9&&n===-1e9&&(i=0,n=0,o=0,s=0),{minX:o,maxX:s,minY:i,maxY:n}}static getRangeCore(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=1e9,n=-1e9,o=1e9,s=-1e9,a;if(r.length>0)for(let l=0;l<r.length;l++)a=e[r[l]],o>a.x&&(o=a.x),s<a.x&&(s=a.x),i>a.y&&(i=a.y),n<a.y&&(n=a.y);return o===1e9&&s===-1e9&&i===1e9&&n===-1e9&&(i=0,n=0,o=0,s=0),{minX:o,maxX:s,minY:i,maxY:n}}static findCenter(e){return{x:.5*(e.maxX+e.minX),y:.5*(e.maxY+e.minY)}}static cloneOptions(e,r){const i={};return r===void 0||r==="node"?(je(i,e.options,!0),i.x=e.x,i.y=e.y,i.amountOfConnections=e.edges.length):je(i,e.options,!0),i}}class fme extends Ye{constructor(e,r,i,n,o,s){super(e,r,i,n,o,s),this.isCluster=!0,this.containedNodes={},this.containedEdges={}}_openChildCluster(e){const r=this.body.nodes[e];if(this.containedNodes[e]===void 0)throw new Error("node with id: "+e+" not in current cluster");if(!r.isCluster)throw new Error("node with id: "+e+" is not a cluster");delete this.containedNodes[e],$e(r.edges,i=>{delete this.containedEdges[i.id]}),$e(r.containedNodes,(i,n)=>{this.containedNodes[n]=i}),r.containedNodes={},$e(r.containedEdges,(i,n)=>{this.containedEdges[n]=i}),r.containedEdges={},$e(r.edges,i=>{$e(this.edges,n=>{var o,s;const a=Pe(o=n.clusteringEdgeReplacingIds).call(o,i.id);a!==-1&&($e(i.clusteringEdgeReplacingIds,l=>{n.clusteringEdgeReplacingIds.push(l),this.body.edges[l].edgeReplacedById=n.id}),ki(s=n.clusteringEdgeReplacingIds).call(s,a,1))})}),r.edges=[]}}class pme{constructor(e){this.body=e,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},pt(this.options,this.defaultOptions),this.body.emitter.on("_resetData",()=>{this.clusteredNodes={},this.clusteredEdges={}})}clusterByHubsize(e,r){e===void 0?e=this._getHubSize():typeof e=="object"&&(r=this._checkOptions(e),e=this._getHubSize());const i=[];for(let n=0;n<this.body.nodeIndices.length;n++){const o=this.body.nodes[this.body.nodeIndices[n]];o.edges.length>=e&&i.push(o.id)}for(let n=0;n<i.length;n++)this.clusterByConnection(i[n],r,!0);this.body.emitter.emit("_dataChanged")}cluster(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.joinCondition===void 0)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");e=this._checkOptions(e);const i={},n={};$e(this.body.nodes,(o,s)=>{o.options&&e.joinCondition(o.options)===!0&&(i[s]=o,$e(o.edges,a=>{this.clusteredEdges[a.id]===void 0&&(n[a.id]=a)}))}),this._cluster(i,n,e,r)}clusterByEdgeCount(e,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;r=this._checkOptions(r);const n=[],o={};let s,a,l;for(let c=0;c<this.body.nodeIndices.length;c++){const d={},u={},h=this.body.nodeIndices[c],f=this.body.nodes[h];if(o[h]===void 0){l=0,a=[];for(let p=0;p<f.edges.length;p++)s=f.edges[p],this.clusteredEdges[s.id]===void 0&&(s.toId!==s.fromId&&l++,a.push(s));if(l===e){const p=function(y){if(r.joinCondition===void 0||r.joinCondition===null)return!0;const m=Ut.cloneOptions(y);return r.joinCondition(m)};let v=!0;for(let y=0;y<a.length;y++){s=a[y];const m=this._getConnectedId(s,h);if(p(f))u[s.id]=s,d[h]=f,d[m]=this.body.nodes[m],o[h]=!0;else{v=!1;break}}if(Ze(d).length>0&&Ze(u).length>0&&v===!0){const m=function(){for(let $=0;$<n.length;++$)for(const S in d)if(n[$].nodes[S]!==void 0)return n[$]}();if(m!==void 0){for(const $ in d)m.nodes[$]===void 0&&(m.nodes[$]=d[$]);for(const $ in u)m.edges[$]===void 0&&(m.edges[$]=u[$])}else n.push({nodes:d,edges:u})}}}}for(let c=0;c<n.length;c++)this._cluster(n[c].nodes,n[c].edges,r,!1);i===!0&&this.body.emitter.emit("_dataChanged")}clusterOutliers(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(1,e,r)}clusterBridges(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(2,e,r)}clusterByConnection(e,r){var i;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0)throw new Error("No nodeId supplied to clusterByConnection!");if(this.body.nodes[e]===void 0)throw new Error("The nodeId given to clusterByConnection does not exist!");const o=this.body.nodes[e];r=this._checkOptions(r,o),r.clusterNodeProperties.x===void 0&&(r.clusterNodeProperties.x=o.x),r.clusterNodeProperties.y===void 0&&(r.clusterNodeProperties.y=o.y),r.clusterNodeProperties.fixed===void 0&&(r.clusterNodeProperties.fixed={},r.clusterNodeProperties.fixed.x=o.options.fixed.x,r.clusterNodeProperties.fixed.y=o.options.fixed.y);const s={},a={},l=o.id,c=Ut.cloneOptions(o);s[l]=o;for(let u=0;u<o.edges.length;u++){const h=o.edges[u];if(this.clusteredEdges[h.id]===void 0){const f=this._getConnectedId(h,l);if(this.clusteredNodes[f]===void 0)if(f!==l)if(r.joinCondition===void 0)a[h.id]=h,s[f]=this.body.nodes[f];else{const p=Ut.cloneOptions(this.body.nodes[f]);r.joinCondition(c,p)===!0&&(a[h.id]=h,s[f]=this.body.nodes[f])}else a[h.id]=h}}const d=Es(i=Ze(s)).call(i,function(u){return s[u].id});for(const u in s){if(!Object.prototype.hasOwnProperty.call(s,u))continue;const h=s[u];for(let f=0;f<h.edges.length;f++){const p=h.edges[f];Pe(d).call(d,this._getConnectedId(p,h.id))>-1&&(a[p.id]=p)}}this._cluster(s,a,r,n)}_createClusterEdges(e,r,i,n){let o,s,a,l,c,d;const u=Ze(e),h=[];for(let v=0;v<u.length;v++){s=u[v],a=e[s];for(let y=0;y<a.edges.length;y++)o=a.edges[y],this.clusteredEdges[o.id]===void 0&&(o.toId==o.fromId?r[o.id]=o:o.toId==s?(l=i.id,c=o.fromId,d=c):(l=o.toId,c=i.id,d=l),e[d]===void 0&&h.push({edge:o,fromId:c,toId:l}))}const f=[],p=function(v){for(let y=0;y<f.length;y++){const m=f[y],$=v.fromId===m.fromId&&v.toId===m.toId,S=v.fromId===m.toId&&v.toId===m.fromId;if($||S)return m}return null};for(let v=0;v<h.length;v++){const y=h[v],m=y.edge;let $=p(y);$===null?($=this._createClusteredEdge(y.fromId,y.toId,m,n),f.push($)):$.clusteringEdgeReplacingIds.push(m.id),this.body.edges[m.id].edgeReplacedById=$.id,this._backupEdgeOptions(m),m.setOptions({physics:!1})}}_checkOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e.clusterEdgeProperties===void 0&&(e.clusterEdgeProperties={}),e.clusterNodeProperties===void 0&&(e.clusterNodeProperties={}),e}_cluster(e,r,i){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;const o=[];for(const d in e)Object.prototype.hasOwnProperty.call(e,d)&&this.clusteredNodes[d]!==void 0&&o.push(d);for(let d=0;d<o.length;++d)delete e[o[d]];if(Ze(e).length==0||Ze(e).length==1&&i.clusterNodeProperties.allowSingleNodeCluster!=!0)return;let s=je({},i.clusterNodeProperties);if(i.processProperties!==void 0){const d=[];for(const h in e)if(Object.prototype.hasOwnProperty.call(e,h)){const f=Ut.cloneOptions(e[h]);d.push(f)}const u=[];for(const h in r)if(Object.prototype.hasOwnProperty.call(r,h)&&h.substr(0,12)!=="clusterEdge:"){const f=Ut.cloneOptions(r[h],"edge");u.push(f)}if(s=i.processProperties(s,d,u),!s)throw new Error("The processProperties function does not return properties!")}s.id===void 0&&(s.id="cluster:"+Ma());const a=s.id;s.label===void 0&&(s.label="cluster");let l;s.x===void 0&&(l=this._getClusterPosition(e),s.x=l.x),s.y===void 0&&(l===void 0&&(l=this._getClusterPosition(e)),s.y=l.y),s.id=a;const c=this.body.functions.createNode(s,fme);c.containedNodes=e,c.containedEdges=r,c.clusterEdgeProperties=i.clusterEdgeProperties,this.body.nodes[s.id]=c,this._clusterEdges(e,r,s,i.clusterEdgeProperties),s.id=void 0,n===!0&&this.body.emitter.emit("_dataChanged")}_backupEdgeOptions(e){this.clusteredEdges[e.id]===void 0&&(this.clusteredEdges[e.id]={physics:e.options.physics})}_restoreEdge(e){const r=this.clusteredEdges[e.id];r!==void 0&&(e.setOptions({physics:r.physics}),delete this.clusteredEdges[e.id])}isCluster(e){return this.body.nodes[e]!==void 0?this.body.nodes[e].isCluster===!0:(console.error("Node does not exist."),!1)}_getClusterPosition(e){const r=Ze(e);let i=e[r[0]].x,n=e[r[0]].x,o=e[r[0]].y,s=e[r[0]].y,a;for(let l=1;l<r.length;l++)a=e[r[l]],i=a.x<i?a.x:i,n=a.x>n?a.x:n,o=a.y<o?a.y:o,s=a.y>s?a.y:s;return{x:.5*(i+n),y:.5*(o+s)}}openCluster(e,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0)throw new Error("No clusterNodeId supplied to openCluster.");const n=this.body.nodes[e];if(n===void 0)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(n.isCluster!==!0||n.containedNodes===void 0||n.containedEdges===void 0)throw new Error("The node:"+e+" is not a valid cluster.");const o=this.findNode(e),s=Pe(o).call(o,e)-1;if(s>=0){const d=o[s];this.body.nodes[d]._openChildCluster(e),delete this.body.nodes[e],i===!0&&this.body.emitter.emit("_dataChanged");return}const a=n.containedNodes,l=n.containedEdges;if(r!==void 0&&r.releaseFunction!==void 0&&typeof r.releaseFunction=="function"){const d={},u={x:n.x,y:n.y};for(const f in a)if(Object.prototype.hasOwnProperty.call(a,f)){const p=this.body.nodes[f];d[f]={x:p.x,y:p.y}}const h=r.releaseFunction(u,d);for(const f in a)if(Object.prototype.hasOwnProperty.call(a,f)){const p=this.body.nodes[f];h[f]!==void 0&&(p.x=h[f].x===void 0?n.x:h[f].x,p.y=h[f].y===void 0?n.y:h[f].y)}}else $e(a,function(d){d.options.fixed.x===!1&&(d.x=n.x),d.options.fixed.y===!1&&(d.y=n.y)});for(const d in a)if(Object.prototype.hasOwnProperty.call(a,d)){const u=this.body.nodes[d];u.vx=n.vx,u.vy=n.vy,u.setOptions({physics:!0}),delete this.clusteredNodes[d]}const c=[];for(let d=0;d<n.edges.length;d++)c.push(n.edges[d]);for(let d=0;d<c.length;d++){const u=c[d],h=this._getConnectedId(u,e),f=this.clusteredNodes[h];for(let p=0;p<u.clusteringEdgeReplacingIds.length;p++){const v=u.clusteringEdgeReplacingIds[p],y=this.body.edges[v];if(y!==void 0)if(f!==void 0){const m=this.body.nodes[f.clusterId];m.containedEdges[y.id]=y,delete l[y.id];let $=y.fromId,S=y.toId;y.toId==h?S=f.clusterId:$=f.clusterId,this._createClusteredEdge($,S,y,m.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(y)}u.remove()}for(const d in l)Object.prototype.hasOwnProperty.call(l,d)&&this._restoreEdge(l[d]);delete this.body.nodes[e],i===!0&&this.body.emitter.emit("_dataChanged")}getNodesInCluster(e){const r=[];if(this.isCluster(e)===!0){const i=this.body.nodes[e].containedNodes;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&r.push(this.body.nodes[n].id)}return r}findNode(e){const r=[];let n=0,o;for(;this.clusteredNodes[e]!==void 0&&n<100;){if(o=this.body.nodes[e],o===void 0)return[];r.push(o.id),e=this.clusteredNodes[e].clusterId,n++}return o=this.body.nodes[e],o===void 0?[]:(r.push(o.id),io(r).call(r),r)}updateClusteredNode(e,r){if(e===void 0)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(r===void 0)throw new Error("No newOptions supplied to updateClusteredNode.");if(this.body.nodes[e]===void 0)throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[e].setOptions(r),this.body.emitter.emit("_dataChanged")}updateEdge(e,r){if(e===void 0)throw new Error("No startEdgeId supplied to updateEdge.");if(r===void 0)throw new Error("No newOptions supplied to updateEdge.");if(this.body.edges[e]===void 0)throw new Error("The startEdgeId supplied to updateEdge does not exist.");const i=this.getClusteredEdges(e);for(let n=0;n<i.length;n++)this.body.edges[i[n]].setOptions(r);this.body.emitter.emit("_dataChanged")}getClusteredEdges(e){const r=[];let n=0;for(;e!==void 0&&this.body.edges[e]!==void 0&&n<100;)r.push(this.body.edges[e].id),e=this.body.edges[e].edgeReplacedById,n++;return io(r).call(r),r}getBaseEdge(e){return this.getBaseEdges(e)[0]}getBaseEdges(e){const r=[e],i=[],n=[],o=100;let s=0;for(;r.length>0&&s<o;){const a=r.pop();if(a===void 0)continue;const l=this.body.edges[a];if(l===void 0)continue;s++;const c=l.clusteringEdgeReplacingIds;if(c===void 0)n.push(a);else for(let d=0;d<c.length;++d){const u=c[d];Pe(r).call(r,c)!==-1||Pe(i).call(i,c)!==-1||r.push(u)}i.push(a)}return n}_getConnectedId(e,r){return e.toId!=r?e.toId:(e.fromId!=r,e.fromId)}_getHubSize(){let e=0,r=0,i=0,n=0;for(let l=0;l<this.body.nodeIndices.length;l++){const c=this.body.nodes[this.body.nodeIndices[l]];c.edges.length>n&&(n=c.edges.length),e+=c.edges.length,r+=Math.pow(c.edges.length,2),i+=1}e=e/i,r=r/i;const o=r-Math.pow(e,2),s=Math.sqrt(o);let a=Math.floor(e+2*s);return a>n&&(a=n),a}_createClusteredEdge(e,r,i,n,o){const s=Ut.cloneOptions(i,"edge");je(s,n),s.from=e,s.to=r,s.id="clusterEdge:"+Ma(),o!==void 0&&je(s,o);const a=this.body.functions.createEdge(s);return a.clusteringEdgeReplacingIds=[i.id],a.connect(),this.body.edges[a.id]=a,a}_clusterEdges(e,r,i,n){if(r instanceof yn){const o=r,s={};s[o.id]=o,r=s}if(e instanceof Ye){const o=e,s={};s[o.id]=o,e=s}if(i==null)throw new Error("_clusterEdges: parameter clusterNode required");n===void 0&&(n=i.clusterEdgeProperties),this._createClusterEdges(e,r,i,n);for(const o in r)if(Object.prototype.hasOwnProperty.call(r,o)&&this.body.edges[o]!==void 0){const s=this.body.edges[o];this._backupEdgeOptions(s),s.setOptions({physics:!1})}for(const o in e)Object.prototype.hasOwnProperty.call(e,o)&&(this.clusteredNodes[o]={clusterId:i.id,node:this.body.nodes[o]},this.body.nodes[o].setOptions({physics:!1}))}_getClusterNodeForNode(e){if(e===void 0)return;const r=this.clusteredNodes[e];if(r===void 0)return;const i=r.clusterId;if(i!==void 0)return this.body.nodes[i]}_filter(e,r){const i=[];return $e(e,n=>{r(n)&&i.push(n)}),i}_updateState(){let e;const r=[],i={},n=l=>{$e(this.body.nodes,c=>{c.isCluster===!0&&l(c)})};for(e in this.clusteredNodes){if(!Object.prototype.hasOwnProperty.call(this.clusteredNodes,e))continue;this.body.nodes[e]===void 0&&r.push(e)}n(function(l){for(let c=0;c<r.length;c++)delete l.containedNodes[r[c]]});for(let l=0;l<r.length;l++)delete this.clusteredNodes[r[l]];$e(this.clusteredEdges,l=>{const c=this.body.edges[l];(c===void 0||!c.endPointsValid())&&(i[l]=l)}),n(function(l){$e(l.containedEdges,(c,d)=>{!c.endPointsValid()&&!i[d]&&(i[d]=d)})}),$e(this.body.edges,(l,c)=>{let d=!0;const u=l.clusteringEdgeReplacingIds;if(u!==void 0){let h=0;$e(u,f=>{const p=this.body.edges[f];p!==void 0&&p.endPointsValid()&&(h+=1)}),d=h>0}(!l.endPointsValid()||!d)&&(i[c]=c)}),n(l=>{$e(i,c=>{delete l.containedEdges[c],$e(l.edges,(d,u)=>{if(d.id===c){l.edges[u]=null;return}d.clusteringEdgeReplacingIds=this._filter(d.clusteringEdgeReplacingIds,function(h){return!i[h]})}),l.edges=this._filter(l.edges,function(d){return d!==null})})}),$e(i,l=>{delete this.clusteredEdges[l]}),$e(i,l=>{delete this.body.edges[l]});const o=Ze(this.body.edges);$e(o,l=>{const c=this.body.edges[l],d=this._isClusteredNode(c.fromId)||this._isClusteredNode(c.toId);if(d!==this._isClusteredEdge(c.id))if(d){const u=this._getClusterNodeForNode(c.fromId);u!==void 0&&this._clusterEdges(this.body.nodes[c.fromId],c,u);const h=this._getClusterNodeForNode(c.toId);h!==void 0&&this._clusterEdges(this.body.nodes[c.toId],c,h)}else delete this._clusterEdges[l],this._restoreEdge(c)});let s=!1,a=!0;for(;a;){const l=[];n(function(c){const d=Ze(c.containedNodes).length,u=c.options.allowSingleNodeCluster===!0;(u&&d<1||!u&&d<2)&&l.push(c.id)});for(let c=0;c<l.length;++c)this.openCluster(l[c],{},!1);a=l.length>0,s=s||a}s&&this._updateState()}_isClusteredNode(e){return this.clusteredNodes[e]!==void 0}_isClusteredEdge(e){return this.clusteredEdges[e]!==void 0}}class gme{constructor(e,r){this.body=e,this.canvas=r,this.redrawRequested=!1,this.requestAnimationFrameRequestId=void 0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.zooming=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1},pt(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e;this.body.emitter.on("dragStart",()=>{this.dragging=!0}),this.body.emitter.on("dragEnd",()=>{this.dragging=!1}),this.body.emitter.on("zoom",()=>{this.zooming=!0,window.clearTimeout(this.zoomTimeoutId),this.zoomTimeoutId=xi(()=>{var r;this.zooming=!1,B(r=this._requestRedraw).call(r,this)()},250)}),this.body.emitter.on("_resizeNodes",()=>{this._resizeNodes()}),this.body.emitter.on("_redraw",()=>{this.renderingActive===!1&&this._redraw()}),this.body.emitter.on("_blockRedraw",()=>{this.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",()=>{this.allowRedraw=!0,this.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",B(e=this._requestRedraw).call(e,this)),this.body.emitter.on("_startRendering",()=>{this.renderRequests+=1,this.renderingActive=!0,this._startRendering()}),this.body.emitter.on("_stopRendering",()=>{this.renderRequests-=1,this.renderingActive=this.renderRequests>0,this.requestAnimationFrameRequestId=void 0}),this.body.emitter.on("destroy",()=>{this.renderRequests=0,this.allowRedraw=!1,this.renderingActive=!1,window.cancelAnimationFrame(this.requestAnimationFrameRequestId),this.body.emitter.off()})}setOptions(e){e!==void 0&&ea(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag"],this.options,e)}_startRendering(){if(this.renderingActive===!0&&this.requestAnimationFrameRequestId===void 0){var e;this.requestAnimationFrameRequestId=window.requestAnimationFrame(B(e=this._renderStep).call(e,this),this.simulationInterval)}}_renderStep(){this.renderingActive===!0&&(this.requestAnimationFrameRequestId=void 0,this._startRendering(),this._redraw())}redraw(){this.body.emitter.emit("setSize"),this._redraw()}_requestRedraw(){this.redrawRequested!==!0&&this.renderingActive===!1&&this.allowRedraw===!0&&(this.redrawRequested=!0,window.requestAnimationFrame(()=>{this._redraw(!1)}))}_redraw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.allowRedraw===!0){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1;const r={drawExternalLabels:null};(this.canvas.frame.canvas.width===0||this.canvas.frame.canvas.height===0)&&this.canvas.setSize(),this.canvas.setTransform();const i=this.canvas.getContext(),n=this.canvas.frame.canvas.clientWidth,o=this.canvas.frame.canvas.clientHeight;if(i.clearRect(0,0,n,o),this.canvas.frame.clientWidth===0)return;if(i.save(),i.translate(this.body.view.translation.x,this.body.view.translation.y),i.scale(this.body.view.scale,this.body.view.scale),i.beginPath(),this.body.emitter.emit("beforeDrawing",i),i.closePath(),e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawEdges(i),this.dragging===!1||this.dragging===!0&&this.options.hideNodesOnDrag===!1){const{drawExternalLabels:s}=this._drawNodes(i,e);r.drawExternalLabels=s}e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawArrows(i),r.drawExternalLabels!=null&&r.drawExternalLabels(),e===!1&&this._drawSelectionBox(i),i.beginPath(),this.body.emitter.emit("afterDrawing",i),i.closePath(),i.restore(),e===!0&&i.clearRect(0,0,n,o)}}_resizeNodes(){this.canvas.setTransform();const e=this.canvas.getContext();e.save(),e.translate(this.body.view.translation.x,this.body.view.translation.y),e.scale(this.body.view.scale,this.body.view.scale);const r=this.body.nodes;let i;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i=r[n],i.resize(e),i.updateBoundingBox(e,i.selected));e.restore()}_drawNodes(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const i=this.body.nodes,n=this.body.nodeIndices;let o;const s=[],a=[],l=20,c=this.canvas.DOMtoCanvas({x:-l,y:-l}),d=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+l,y:this.canvas.frame.canvas.clientHeight+l}),u={top:c.y,left:c.x,bottom:d.y,right:d.x},h=[];for(let y=0;y<n.length;y++)if(o=i[n[y]],o.hover)a.push(n[y]);else if(o.isSelected())s.push(n[y]);else if(r===!0){const m=o.draw(e);m.drawExternalLabel!=null&&h.push(m.drawExternalLabel)}else if(o.isBoundingBoxOverlappingWith(u)===!0){const m=o.draw(e);m.drawExternalLabel!=null&&h.push(m.drawExternalLabel)}else o.updateBoundingBox(e,o.selected);let f;const p=s.length,v=a.length;for(f=0;f<p;f++){o=i[s[f]];const y=o.draw(e);y.drawExternalLabel!=null&&h.push(y.drawExternalLabel)}for(f=0;f<v;f++){o=i[a[f]];const y=o.draw(e);y.drawExternalLabel!=null&&h.push(y.drawExternalLabel)}return{drawExternalLabels:()=>{for(const y of h)y()}}}_drawEdges(e){const r=this.body.edges,i=this.body.edgeIndices;for(let n=0;n<i.length;n++){const o=r[i[n]];o.connected===!0&&o.draw(e)}}_drawArrows(e){const r=this.body.edges,i=this.body.edgeIndices;for(let n=0;n<i.length;n++){const o=r[i[n]];o.connected===!0&&o.drawArrows(e)}}_drawSelectionBox(e){if(this.body.selectionBox.show){e.beginPath();const r=this.body.selectionBox.position.end.x-this.body.selectionBox.position.start.x,i=this.body.selectionBox.position.end.y-this.body.selectionBox.position.start.y;e.rect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,r,i),e.fillStyle="rgba(151, 194, 252, 0.2)",e.fillRect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,r,i),e.strokeStyle="rgba(151, 194, 252, 1)",e.stroke()}else e.closePath()}}var vme=De,mme=vme.setInterval,yme=mme,bme=pe(yme);function Qd(t,e){e.inputHandler=function(r){r.isFirst&&e(r)},t.on("hammer.input",e.inputHandler)}function JA(t,e){return e.inputHandler=function(r){r.isFinal&&e(r)},t.on("hammer.input",e.inputHandler)}class $me{constructor(e){this.body=e,this.pixelRatio=1,this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this._cleanupCallbacks=[],this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},pt(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e;this.body.emitter.once("resize",r=>{r.width!==0&&(this.body.view.translation.x=r.width*.5),r.height!==0&&(this.body.view.translation.y=r.height*.5)}),this.body.emitter.on("setSize",B(e=this.setSize).call(e,this)),this.body.emitter.on("destroy",()=>{this.hammerFrame.destroy(),this.hammer.destroy(),this._cleanUp()})}setOptions(e){if(e!==void 0&&ea(["width","height","autoResize"],this.options,e),this._cleanUp(),this.options.autoResize===!0){var r;if(window.ResizeObserver){const n=new ResizeObserver(()=>{this.setSize()===!0&&this.body.emitter.emit("_requestRedraw")}),{frame:o}=this;n.observe(o),this._cleanupCallbacks.push(()=>{n.unobserve(o)})}else{const n=bme(()=>{this.setSize()===!0&&this.body.emitter.emit("_requestRedraw")},1e3);this._cleanupCallbacks.push(()=>{clearInterval(n)})}const i=B(r=this._onResize).call(r,this);window.addEventListener("resize",i),this._cleanupCallbacks.push(()=>{window.removeEventListener("resize",i)})}}_cleanUp(){var e,r,i;Fe(e=io(r=ki(i=this._cleanupCallbacks).call(i,0)).call(r)).call(e,n=>{try{n()}catch(o){console.error(o)}})}_onResize(){this.setSize(),this.body.emitter.emit("_redraw")}_getCameraState(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.pixelRatio;this.initialized===!0&&(this.cameraState.previousWidth=this.frame.canvas.width/e,this.cameraState.previousHeight=this.frame.canvas.height/e,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/e,y:.5*this.frame.canvas.height/e}))}_setCameraState(){if(this.cameraState.scale!==void 0&&this.frame.canvas.clientWidth!==0&&this.frame.canvas.clientHeight!==0&&this.pixelRatio!==0&&this.cameraState.previousWidth>0&&this.cameraState.previousHeight>0){const e=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,r=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight;let i=this.cameraState.scale;e!=1&&r!=1?i=this.cameraState.scale*.5*(e+r):e!=1?i=this.cameraState.scale*e:r!=1&&(i=this.cameraState.scale*r),this.body.view.scale=i;const n=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),o={x:n.x-this.cameraState.position.x,y:n.y-this.cameraState.position.y};this.body.view.translation.x+=o.x*this.body.view.scale,this.body.view.translation.y+=o.y*this.body.view.scale}}_prepareValue(e){if(typeof e=="number")return e+"px";if(typeof e=="string"){if(Pe(e).call(e,"%")!==-1||Pe(e).call(e,"px")!==-1)return e;if(Pe(e).call(e,"%")===-1)return e+"px"}throw new Error("Could not use the value supplied for width or height:"+e)}_create(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=0,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{const e=document.createElement("DIV");e.style.color="red",e.style.fontWeight="bold",e.style.padding="10px",e.innerText="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(e)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}_bindHammer(){this.hammer!==void 0&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new hs(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:hs.DIRECTION_ALL}),Qd(this.hammer,e=>{this.body.eventListeners.onTouch(e)}),this.hammer.on("tap",e=>{this.body.eventListeners.onTap(e)}),this.hammer.on("doubletap",e=>{this.body.eventListeners.onDoubleTap(e)}),this.hammer.on("press",e=>{this.body.eventListeners.onHold(e)}),this.hammer.on("panstart",e=>{this.body.eventListeners.onDragStart(e)}),this.hammer.on("panmove",e=>{this.body.eventListeners.onDrag(e)}),this.hammer.on("panend",e=>{this.body.eventListeners.onDragEnd(e)}),this.hammer.on("pinch",e=>{this.body.eventListeners.onPinch(e)}),this.frame.canvas.addEventListener("wheel",e=>{this.body.eventListeners.onMouseWheel(e)}),this.frame.canvas.addEventListener("mousemove",e=>{this.body.eventListeners.onMouseMove(e)}),this.frame.canvas.addEventListener("contextmenu",e=>{this.body.eventListeners.onContext(e)}),this.hammerFrame=new hs(this.frame),JA(this.hammerFrame,e=>{this.body.eventListeners.onRelease(e)})}setSize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.width,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.height;e=this._prepareValue(e),r=this._prepareValue(r);let i=!1;const n=this.frame.canvas.width,o=this.frame.canvas.height,s=this.pixelRatio;if(this._setPixelRatio(),e!=this.options.width||r!=this.options.height||this.frame.style.width!=e||this.frame.style.height!=r)this._getCameraState(s),this.frame.style.width=e,this.frame.style.height=r,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=e,this.options.height=r,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},i=!0;else{const a=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),l=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);(this.frame.canvas.width!==a||this.frame.canvas.height!==l)&&this._getCameraState(s),this.frame.canvas.width!==a&&(this.frame.canvas.width=a,i=!0),this.frame.canvas.height!==l&&(this.frame.canvas.height=l,i=!0)}return i===!0&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(n/this.pixelRatio),oldHeight:Math.round(o/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,i}getContext(){return this.frame.canvas.getContext("2d")}_determinePixelRatio(){const e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");let r=1;typeof window<"u"&&(r=window.devicePixelRatio||1);const i=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return r/i}_setPixelRatio(){this.pixelRatio=this._determinePixelRatio()}setTransform(){const e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}_XconvertDOMtoCanvas(e){return(e-this.body.view.translation.x)/this.body.view.scale}_XconvertCanvasToDOM(e){return e*this.body.view.scale+this.body.view.translation.x}_YconvertDOMtoCanvas(e){return(e-this.body.view.translation.y)/this.body.view.scale}_YconvertCanvasToDOM(e){return e*this.body.view.scale+this.body.view.translation.y}canvasToDOM(e){return{x:this._XconvertCanvasToDOM(e.x),y:this._YconvertCanvasToDOM(e.y)}}DOMtoCanvas(e){return{x:this._XconvertDOMtoCanvas(e.x),y:this._YconvertDOMtoCanvas(e.y)}}}function wme(t,e){const r=pt({nodes:e,minZoomLevel:Number.MIN_VALUE,maxZoomLevel:1},t??{});if(!et(r.nodes))throw new TypeError("Nodes has to be an array of ids.");if(r.nodes.length===0&&(r.nodes=e),!(typeof r.minZoomLevel=="number"&&r.minZoomLevel>0))throw new TypeError("Min zoom level has to be a number higher than zero.");if(!(typeof r.maxZoomLevel=="number"&&r.minZoomLevel<=r.maxZoomLevel))throw new TypeError("Max zoom level has to be a number higher than min zoom level.");return r}class _me{constructor(e,r){var i,n;this.body=e,this.canvas=r,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",B(i=this.fit).call(i,this)),this.body.emitter.on("animationFinished",()=>{this.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",B(n=this.releaseNode).call(n,this))}setOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.options=e}fit(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;e=wme(e,this.body.nodeIndices);const i=this.canvas.frame.canvas.clientWidth,n=this.canvas.frame.canvas.clientHeight;let o,s;if(i===0||n===0)s=1,o=Ut.getRange(this.body.nodes,e.nodes);else if(r===!0){let c=0;for(const h in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,h)&&this.body.nodes[h].predefinedPosition===!0&&(c+=1);if(c>.5*this.body.nodeIndices.length){this.fit(e,!1);return}o=Ut.getRange(this.body.nodes,e.nodes),s=12.662/(this.body.nodeIndices.length+7.4147)+.0964822;const u=Math.min(i/600,n/600);s*=u}else{this.body.emitter.emit("_resizeNodes"),o=Ut.getRange(this.body.nodes,e.nodes);const c=Math.abs(o.maxX-o.minX)*1.1,d=Math.abs(o.maxY-o.minY)*1.1,u=i/c,h=n/d;s=u<=h?u:h}s>e.maxZoomLevel?s=e.maxZoomLevel:s<e.minZoomLevel&&(s=e.minZoomLevel);const l={position:Ut.findCenter(o),scale:s,animation:e.animation};this.moveTo(l)}focus(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.body.nodes[e]!==void 0){const i={x:this.body.nodes[e].x,y:this.body.nodes[e].y};r.position=i,r.lockedOnNode=e,this.moveTo(r)}else console.error("Node: "+e+" cannot be found.")}moveTo(e){if(e===void 0){e={};return}if(e.offset!=null){if(e.offset.x!=null){if(e.offset.x=+e.offset.x,!Yn(e.offset.x))throw new TypeError('The option "offset.x" has to be a finite number.')}else e.offset.x=0;if(e.offset.y!=null){if(e.offset.y=+e.offset.y,!Yn(e.offset.y))throw new TypeError('The option "offset.y" has to be a finite number.')}else e.offset.x=0}else e.offset={x:0,y:0};if(e.position!=null){if(e.position.x!=null){if(e.position.x=+e.position.x,!Yn(e.position.x))throw new TypeError('The option "position.x" has to be a finite number.')}else e.position.x=0;if(e.position.y!=null){if(e.position.y=+e.position.y,!Yn(e.position.y))throw new TypeError('The option "position.y" has to be a finite number.')}else e.position.x=0}else e.position=this.getViewPosition();if(e.scale!=null){if(e.scale=+e.scale,!(e.scale>0))throw new TypeError('The option "scale" has to be a number greater than zero.')}else e.scale=this.body.view.scale;e.animation===void 0&&(e.animation={duration:0}),e.animation===!1&&(e.animation={duration:0}),e.animation===!0&&(e.animation={}),e.animation.duration===void 0&&(e.animation.duration=1e3),e.animation.easingFunction===void 0&&(e.animation.easingFunction="easeInOutQuad"),this.animateView(e)}animateView(e){if(e===void 0)return;this.animationEasingFunction=e.animation.easingFunction,this.releaseNode(),e.locked===!0&&(this.lockedOnNodeId=e.lockedOnNode,this.lockedOnNodeOffset=e.offset),this.easingTime!=0&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=e.scale,this.body.view.scale=this.targetScale;const r=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),i={x:r.x-e.position.x,y:r.y-e.position.y};if(this.targetTranslation={x:this.sourceTranslation.x+i.x*this.targetScale+e.offset.x,y:this.sourceTranslation.y+i.y*this.targetScale+e.offset.y},e.animation.duration===0)if(this.lockedOnNodeId!=null){var n;this.viewFunction=B(n=this._lockedRedraw).call(n,this),this.body.emitter.on("initRedraw",this.viewFunction)}else this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw");else{var o;this.animationSpeed=1/(60*e.animation.duration*.001)||1/60,this.animationEasingFunction=e.animation.easingFunction,this.viewFunction=B(o=this._transitionRedraw).call(o,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}_lockedRedraw(){const e={x:this.body.nodes[this.lockedOnNodeId].x,y:this.body.nodes[this.lockedOnNodeId].y},r=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),i={x:r.x-e.x,y:r.y-e.y},n=this.body.view.translation,o={x:n.x+i.x*this.body.view.scale+this.lockedOnNodeOffset.x,y:n.y+i.y*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=o}releaseNode(){this.lockedOnNodeId!==void 0&&this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}_transitionRedraw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.easingTime+=this.animationSpeed,this.easingTime=e===!0?1:this.easingTime;const r=Cde[this.animationEasingFunction](this.easingTime);if(this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*r,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*r,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*r},this.easingTime>=1){if(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,this.lockedOnNodeId!=null){var i;this.viewFunction=B(i=this._lockedRedraw).call(i,this),this.body.emitter.on("initRedraw",this.viewFunction)}this.body.emitter.emit("animationFinished")}}getScale(){return this.body.view.scale}getViewPosition(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}function C_(t){var e=t&&t.preventDefault||!1,r=t&&t.container||window,i={},n={keydown:{},keyup:{}},o={},s;for(s=97;s<=122;s++)o[String.fromCharCode(s)]={code:65+(s-97),shift:!1};for(s=65;s<=90;s++)o[String.fromCharCode(s)]={code:s,shift:!0};for(s=0;s<=9;s++)o[""+s]={code:48+s,shift:!1};for(s=1;s<=12;s++)o["F"+s]={code:111+s,shift:!1};for(s=0;s<=9;s++)o["num"+s]={code:96+s,shift:!1};o["num*"]={code:106,shift:!1},o["num+"]={code:107,shift:!1},o["num-"]={code:109,shift:!1},o["num/"]={code:111,shift:!1},o["num."]={code:110,shift:!1},o.left={code:37,shift:!1},o.up={code:38,shift:!1},o.right={code:39,shift:!1},o.down={code:40,shift:!1},o.space={code:32,shift:!1},o.enter={code:13,shift:!1},o.shift={code:16,shift:void 0},o.esc={code:27,shift:!1},o.backspace={code:8,shift:!1},o.tab={code:9,shift:!1},o.ctrl={code:17,shift:!1},o.alt={code:18,shift:!1},o.delete={code:46,shift:!1},o.pageup={code:33,shift:!1},o.pagedown={code:34,shift:!1},o["="]={code:187,shift:!1},o["-"]={code:189,shift:!1},o["]"]={code:221,shift:!1},o["["]={code:219,shift:!1};var a=function(d){c(d,"keydown")},l=function(d){c(d,"keyup")},c=function(d,u){if(n[u][d.keyCode]!==void 0){for(var h=n[u][d.keyCode],f=0;f<h.length;f++)(h[f].shift===void 0||h[f].shift==!0&&d.shiftKey==!0||h[f].shift==!1&&d.shiftKey==!1)&&h[f].fn(d);e==!0&&d.preventDefault()}};return i.bind=function(d,u,h){if(h===void 0&&(h="keydown"),o[d]===void 0)throw new Error("unsupported key: "+d);n[h][o[d].code]===void 0&&(n[h][o[d].code]=[]),n[h][o[d].code].push({fn:u,shift:o[d].shift})},i.bindAll=function(d,u){u===void 0&&(u="keydown");for(var h in o)o.hasOwnProperty(h)&&i.bind(h,d,u)},i.getKey=function(d){for(var u in o)if(o.hasOwnProperty(u)){if(d.shiftKey==!0&&o[u].shift==!0&&d.keyCode==o[u].code)return u;if(d.shiftKey==!1&&o[u].shift==!1&&d.keyCode==o[u].code)return u;if(d.keyCode==o[u].code&&u=="shift")return u}return"unknown key, currently not supported"},i.unbind=function(d,u,h){if(h===void 0&&(h="keydown"),o[d]===void 0)throw new Error("unsupported key: "+d);if(u!==void 0){var f=[],p=n[h][o[d].code];if(p!==void 0)for(var v=0;v<p.length;v++)p[v].fn==u&&p[v].shift==o[d].shift||f.push(n[h][o[d].code][v]);n[h][o[d].code]=f}else n[h][o[d].code]=[]},i.reset=function(){n={keydown:{},keyup:{}}},i.destroy=function(){n={keydown:{},keyup:{}},r.removeEventListener("keydown",a,!0),r.removeEventListener("keyup",l,!0)},r.addEventListener("keydown",a,!0),r.addEventListener("keyup",l,!0),i}class Sme{constructor(e,r){this.body=e,this.canvas=r,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",()=>{this.activated=!0,this.configureKeyboardBindings()}),this.body.emitter.on("deactivate",()=>{this.activated=!1,this.configureKeyboardBindings()}),this.body.emitter.on("destroy",()=>{this.keycharm!==void 0&&this.keycharm.destroy()}),this.options={}}setOptions(e){e!==void 0&&(this.options=e,this.create())}create(){this.options.navigationButtons===!0?this.iconsCreated===!1&&this.loadNavigationElements():this.iconsCreated===!0&&this.cleanNavigation(),this.configureKeyboardBindings()}cleanNavigation(){if(this.navigationHammers.length!=0){for(let e=0;e<this.navigationHammers.length;e++)this.navigationHammers[e].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}loadNavigationElements(){this.cleanNavigation(),this.navigationDOM={};const e=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],r=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(let s=0;s<e.length;s++){this.navigationDOM[e[s]]=document.createElement("div"),this.navigationDOM[e[s]].className="vis-button vis-"+e[s],this.navigationDOM.wrapper.appendChild(this.navigationDOM[e[s]]);const a=new hs(this.navigationDOM[e[s]]);if(r[s]==="_fit"){var i;Qd(a,B(i=this._fit).call(i,this))}else{var n;Qd(a,B(n=this.bindToRedraw).call(n,this,r[s]))}this.navigationHammers.push(a)}const o=new hs(this.canvas.frame);JA(o,()=>{this._stopMovement()}),this.navigationHammers.push(o),this.iconsCreated=!0}bindToRedraw(e){if(this.boundFunctions[e]===void 0){var r;this.boundFunctions[e]=B(r=this[e]).call(r,this),this.body.emitter.on("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_startRendering")}}unbindFromRedraw(e){this.boundFunctions[e]!==void 0&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[e])}_fit(){new Date().valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=new Date().valueOf())}_stopMovement(){for(const e in this.boundFunctions)Object.prototype.hasOwnProperty.call(this.boundFunctions,e)&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}_moveUp(){this.body.view.translation.y+=this.options.keyboard.speed.y}_moveDown(){this.body.view.translation.y-=this.options.keyboard.speed.y}_moveLeft(){this.body.view.translation.x+=this.options.keyboard.speed.x}_moveRight(){this.body.view.translation.x-=this.options.keyboard.speed.x}_zoomIn(){const e=this.body.view.scale,r=this.body.view.scale*(1+this.options.keyboard.speed.zoom),i=this.body.view.translation,n=r/e,o=(1-n)*this.canvas.canvasViewCenter.x+i.x*n,s=(1-n)*this.canvas.canvasViewCenter.y+i.y*n;this.body.view.scale=r,this.body.view.translation={x:o,y:s},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}_zoomOut(){const e=this.body.view.scale,r=this.body.view.scale/(1+this.options.keyboard.speed.zoom),i=this.body.view.translation,n=r/e,o=(1-n)*this.canvas.canvasViewCenter.x+i.x*n,s=(1-n)*this.canvas.canvasViewCenter.y+i.y*n;this.body.view.scale=r,this.body.view.translation={x:o,y:s},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}configureKeyboardBindings(){if(this.keycharm!==void 0&&this.keycharm.destroy(),this.options.keyboard.enabled===!0&&(this.options.keyboard.bindToWindow===!0?this.keycharm=C_({container:window,preventDefault:!0}):this.keycharm=C_({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),this.activated===!0)){var e,r,i,n,o,s,a,l,c,d,u,h,f,p,v,y,m,$,S,_,E,W,X,z;B(e=this.keycharm).call(e,"up",()=>{this.bindToRedraw("_moveUp")},"keydown"),B(r=this.keycharm).call(r,"down",()=>{this.bindToRedraw("_moveDown")},"keydown"),B(i=this.keycharm).call(i,"left",()=>{this.bindToRedraw("_moveLeft")},"keydown"),B(n=this.keycharm).call(n,"right",()=>{this.bindToRedraw("_moveRight")},"keydown"),B(o=this.keycharm).call(o,"=",()=>{this.bindToRedraw("_zoomIn")},"keydown"),B(s=this.keycharm).call(s,"num+",()=>{this.bindToRedraw("_zoomIn")},"keydown"),B(a=this.keycharm).call(a,"num-",()=>{this.bindToRedraw("_zoomOut")},"keydown"),B(l=this.keycharm).call(l,"-",()=>{this.bindToRedraw("_zoomOut")},"keydown"),B(c=this.keycharm).call(c,"[",()=>{this.bindToRedraw("_zoomOut")},"keydown"),B(d=this.keycharm).call(d,"]",()=>{this.bindToRedraw("_zoomIn")},"keydown"),B(u=this.keycharm).call(u,"pageup",()=>{this.bindToRedraw("_zoomIn")},"keydown"),B(h=this.keycharm).call(h,"pagedown",()=>{this.bindToRedraw("_zoomOut")},"keydown"),B(f=this.keycharm).call(f,"up",()=>{this.unbindFromRedraw("_moveUp")},"keyup"),B(p=this.keycharm).call(p,"down",()=>{this.unbindFromRedraw("_moveDown")},"keyup"),B(v=this.keycharm).call(v,"left",()=>{this.unbindFromRedraw("_moveLeft")},"keyup"),B(y=this.keycharm).call(y,"right",()=>{this.unbindFromRedraw("_moveRight")},"keyup"),B(m=this.keycharm).call(m,"=",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),B($=this.keycharm).call($,"num+",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),B(S=this.keycharm).call(S,"num-",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),B(_=this.keycharm).call(_,"-",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),B(E=this.keycharm).call(E,"[",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),B(W=this.keycharm).call(W,"]",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),B(X=this.keycharm).call(X,"pageup",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),B(z=this.keycharm).call(z,"pagedown",()=>{this.unbindFromRedraw("_zoomOut")},"keyup")}}}class Ime{constructor(e,r,i){var n,o,s,a,l,c,d,u,h,f,p,v,y;this.body=e,this.canvas=r,this.selectionHandler=i,this.navigationHandler=new Sme(e,r),this.body.eventListeners.onTap=B(n=this.onTap).call(n,this),this.body.eventListeners.onTouch=B(o=this.onTouch).call(o,this),this.body.eventListeners.onDoubleTap=B(s=this.onDoubleTap).call(s,this),this.body.eventListeners.onHold=B(a=this.onHold).call(a,this),this.body.eventListeners.onDragStart=B(l=this.onDragStart).call(l,this),this.body.eventListeners.onDrag=B(c=this.onDrag).call(c,this),this.body.eventListeners.onDragEnd=B(d=this.onDragEnd).call(d,this),this.body.eventListeners.onMouseWheel=B(u=this.onMouseWheel).call(u,this),this.body.eventListeners.onPinch=B(h=this.onPinch).call(h,this),this.body.eventListeners.onMouseMove=B(f=this.onMouseMove).call(f,this),this.body.eventListeners.onRelease=B(p=this.onRelease).call(p,this),this.body.eventListeners.onContext=B(v=this.onContext).call(v,this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=B(y=this.getPointer).call(y,this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0,autoFocus:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0,zoomSpeed:1},pt(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("destroy",()=>{clearTimeout(this.popupTimer),delete this.body.functions.getPointer})}setOptions(e){e!==void 0&&(Yd(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"],this.options,e),Er(this.options,e,"keyboard"),e.tooltip&&(pt(this.options.tooltip,e.tooltip),e.tooltip.color&&(this.options.tooltip.color=ev(e.tooltip.color)))),this.navigationHandler.setOptions(this.options)}getPointer(e){return{x:e.x-Ode(this.canvas.frame.canvas),y:e.y-kde(this.canvas.frame.canvas)}}onTouch(e){new Date().valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(e.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=new Date().valueOf())}onTap(e){const r=this.getPointer(e.center),i=this.selectionHandler.options.multiselect&&(e.changedPointers[0].ctrlKey||e.changedPointers[0].metaKey);this.checkSelectionChanges(r,i),this.selectionHandler.commitAndEmit(r,e),this.selectionHandler.generateClickEvent("click",e,r)}onDoubleTap(e){const r=this.getPointer(e.center);this.selectionHandler.generateClickEvent("doubleClick",e,r)}onHold(e){const r=this.getPointer(e.center),i=this.selectionHandler.options.multiselect;this.checkSelectionChanges(r,i),this.selectionHandler.commitAndEmit(r,e),this.selectionHandler.generateClickEvent("click",e,r),this.selectionHandler.generateClickEvent("hold",e,r)}onRelease(e){if(new Date().valueOf()-this.touchTime>10){const r=this.getPointer(e.center);this.selectionHandler.generateClickEvent("release",e,r),this.touchTime=new Date().valueOf()}}onContext(e){const r=this.getPointer({x:e.clientX,y:e.clientY});this.selectionHandler.generateClickEvent("oncontext",e,r)}checkSelectionChanges(e){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)===!0?this.selectionHandler.selectAdditionalOnPoint(e):this.selectionHandler.selectOnPoint(e)}_determineDifference(e,r){const i=function(n,o){const s=[];for(let a=0;a<n.length;a++){const l=n[a];Pe(o).call(o,l)===-1&&s.push(l)}return s};return{nodes:i(e.nodes,r.nodes),edges:i(e.edges,r.edges)}}onDragStart(e){if(this.drag.dragging)return;this.drag.pointer===void 0&&this.onTouch(e);const r=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=pt({},this.body.view.translation),this.drag.nodeId=void 0,e.srcEvent.shiftKey){this.body.selectionBox.show=!0;const i=this.getPointer(e.center);this.body.selectionBox.position.start={x:this.canvas._XconvertDOMtoCanvas(i.x),y:this.canvas._YconvertDOMtoCanvas(i.y)},this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(i.x),y:this.canvas._YconvertDOMtoCanvas(i.y)}}else if(r!==void 0&&this.options.dragNodes===!0){this.drag.nodeId=r.id,r.isSelected()===!1&&this.selectionHandler.setSelection({nodes:[r.id]}),this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer);for(const i of this.selectionHandler.getSelectedNodes()){const n={id:i.id,node:i,x:i.x,y:i.y,xFixed:i.options.fixed.x,yFixed:i.options.fixed.y};i.options.fixed.x=!0,i.options.fixed.y=!0,this.drag.selection.push(n)}}else this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer,void 0,!0)}onDrag(e){if(this.drag.pinched===!0)return;this.body.emitter.emit("unlockNode");const r=this.getPointer(e.center),i=this.drag.selection;if(i&&i.length&&this.options.dragNodes===!0){this.selectionHandler.generateClickEvent("dragging",e,r);const n=r.x-this.drag.pointer.x,o=r.y-this.drag.pointer.y;Fe(i).call(i,s=>{const a=s.node;s.xFixed===!1&&(a.x=this.canvas._XconvertDOMtoCanvas(this.canvas._XconvertCanvasToDOM(s.x)+n)),s.yFixed===!1&&(a.y=this.canvas._YconvertDOMtoCanvas(this.canvas._YconvertCanvasToDOM(s.y)+o))}),this.body.emitter.emit("startSimulation")}else{if(e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,r,void 0,!0),this.drag.pointer===void 0){this.onDragStart(e);return}this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(r.x),y:this.canvas._YconvertDOMtoCanvas(r.y)},this.body.emitter.emit("_requestRedraw")}if(this.options.dragView===!0&&!e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,r,void 0,!0),this.drag.pointer===void 0){this.onDragStart(e);return}const n=r.x-this.drag.pointer.x,o=r.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+n,y:this.drag.translation.y+o},this.body.emitter.emit("_requestRedraw")}}}onDragEnd(e){if(this.drag.dragging=!1,this.body.selectionBox.show){var r;this.body.selectionBox.show=!1;const i=this.body.selectionBox.position,n={minX:Math.min(i.start.x,i.end.x),minY:Math.min(i.start.y,i.end.y),maxX:Math.max(i.start.x,i.end.x),maxY:Math.max(i.start.y,i.end.y)},o=or(r=this.body.nodeIndices).call(r,a=>{const l=this.body.nodes[a];return l.x>=n.minX&&l.x<=n.maxX&&l.y>=n.minY&&l.y<=n.maxY});Fe(o).call(o,a=>this.selectionHandler.selectObject(this.body.nodes[a]));const s=this.getPointer(e.center);this.selectionHandler.commitAndEmit(s,e),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw")}else{const i=this.drag.selection;i&&i.length?(Fe(i).call(i,function(n){n.node.options.fixed.x=n.xFixed,n.node.options.fixed.y=n.yFixed}),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}}onPinch(e){const r=this.getPointer(e.center);this.drag.pinched=!0,this.pinch.scale===void 0&&(this.pinch.scale=1);const i=this.pinch.scale*e.scale;this.zoom(i,r)}zoom(e,r){if(this.options.zoomView===!0){const i=this.body.view.scale;e<1e-5&&(e=1e-5),e>10&&(e=10);let n;this.drag!==void 0&&this.drag.dragging===!0&&(n=this.canvas.DOMtoCanvas(this.drag.pointer));const o=this.body.view.translation,s=e/i,a=(1-s)*r.x+o.x*s,l=(1-s)*r.y+o.y*s;if(this.body.view.scale=e,this.body.view.translation={x:a,y:l},n!=null){const c=this.canvas.canvasToDOM(n);this.drag.pointer.x=c.x,this.drag.pointer.y=c.y}this.body.emitter.emit("_requestRedraw"),i<e?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:r}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:r})}}onMouseWheel(e){if(this.options.zoomView===!0){if(e.deltaY!==0){let r=this.body.view.scale;r*=1+(e.deltaY<0?1:-1)*(this.options.zoomSpeed*.1);const i=this.getPointer({x:e.clientX,y:e.clientY});this.zoom(r,i)}e.preventDefault()}}onMouseMove(e){const r=this.getPointer({x:e.clientX,y:e.clientY});let i=!1;this.popup!==void 0&&(this.popup.hidden===!1&&this._checkHidePopup(r),this.popup.hidden===!1&&(i=!0,this.popup.setPosition(r.x+3,r.y-5),this.popup.show())),this.options.keyboard.autoFocus&&this.options.keyboard.bindToWindow===!1&&this.options.keyboard.enabled===!0&&this.canvas.frame.focus(),i===!1&&(this.popupTimer!==void 0&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=xi(()=>this._checkShowPopup(r),this.options.tooltipDelay))),this.options.hover===!0&&this.selectionHandler.hoverObject(e,r)}_checkShowPopup(e){const r=this.canvas._XconvertDOMtoCanvas(e.x),i=this.canvas._YconvertDOMtoCanvas(e.y),n={left:r,top:i,right:r,bottom:i},o=this.popupObj===void 0?void 0:this.popupObj.id;let s=!1,a="node";if(this.popupObj===void 0){const l=this.body.nodeIndices,c=this.body.nodes;let d;const u=[];for(let h=0;h<l.length;h++)d=c[l[h]],d.isOverlappingWith(n)===!0&&(s=!0,d.getTitle()!==void 0&&u.push(l[h]));u.length>0&&(this.popupObj=c[u[u.length-1]],s=!0)}if(this.popupObj===void 0&&s===!1){const l=this.body.edgeIndices,c=this.body.edges;let d;const u=[];for(let h=0;h<l.length;h++)d=c[l[h]],d.isOverlappingWith(n)===!0&&d.connected===!0&&d.getTitle()!==void 0&&u.push(l[h]);u.length>0&&(this.popupObj=c[u[u.length-1]],a="edge")}this.popupObj!==void 0?this.popupObj.id!==o&&(this.popup===void 0&&(this.popup=new Bde(this.canvas.frame)),this.popup.popupTargetType=a,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(e.x+3,e.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):this.popup!==void 0&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}_checkHidePopup(e){const r=this.selectionHandler._pointerToPositionObject(e);let i=!1;if(this.popup.popupTargetType==="node"){if(this.body.nodes[this.popup.popupTargetId]!==void 0&&(i=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(r),i===!0)){const n=this.selectionHandler.getNodeAt(e);i=n===void 0?!1:n.id===this.popup.popupTargetId}}else this.selectionHandler.getNodeAt(e)===void 0&&this.body.edges[this.popup.popupTargetId]!==void 0&&(i=this.body.edges[this.popup.popupTargetId].isOverlappingWith(r));i===!1&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}var Eme=Xm,Tme=kA;Eme("Set",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},Tme);var Ome=De,kme=Ome.Set,xme=kme,Ame=xme,Cme=Ame,on=pe(Cme),Pme=ke,P_=Jm,Vc=ah.getWeakData,Dme=Km,Mme=Wi,Rme=Vs,Pp=Lt,Nme=Gm,QA=Pn,D_=Mt,ZA=xo,Fme=ZA.set,qme=ZA.getterFor,Bme=QA.find,Lme=QA.findIndex,jme=Pme([].splice),zme=0,Uc=function(t){return t.frozen||(t.frozen=new eC)},eC=function(){this.entries=[]},Dp=function(t,e){return Bme(t.entries,function(r){return r[0]===e})};eC.prototype={get:function(t){var e=Dp(this,t);if(e)return e[1]},has:function(t){return!!Dp(this,t)},set:function(t,e){var r=Dp(this,t);r?r[1]=e:this.entries.push([t,e])},delete:function(t){var e=Lme(this.entries,function(r){return r[0]===t});return~e&&jme(this.entries,e,1),!!~e}};var Hme={getConstructor:function(t,e,r,i){var n=t(function(l,c){Dme(l,o),Fme(l,{type:e,id:zme++,frozen:void 0}),Rme(c)||Nme(c,l[i],{that:l,AS_ENTRIES:r})}),o=n.prototype,s=qme(e),a=function(l,c,d){var u=s(l),h=Vc(Mme(c),!0);return h===!0?Uc(u).set(c,d):h[u.id]=d,l};return P_(o,{delete:function(l){var c=s(this);if(!Pp(l))return!1;var d=Vc(l);return d===!0?Uc(c).delete(l):d&&D_(d,c.id)&&delete d[c.id]},has:function(c){var d=s(this);if(!Pp(c))return!1;var u=Vc(c);return u===!0?Uc(d).has(c):u&&D_(u,d.id)}}),P_(o,r?{get:function(c){var d=s(this);if(Pp(c)){var u=Vc(c);return u===!0?Uc(d).get(c):u?u[d.id]:void 0}},set:function(c,d){return a(this,c,d)}}:{add:function(c){return a(this,c,!0)}}),n}},Wme=SA,M_=nt,pd=ke,R_=Jm,Vme=ah,Ume=Xm,tC=Hme,Yc=Lt,Gc=xo.enforce,Yme=Oe,Gme=Yk,nc=Object,Kme=Array.isArray,Kc=nc.isExtensible,rC=nc.isFrozen,Xme=nc.isSealed,iC=nc.freeze,Jme=nc.seal,N_={},F_={},Qme=!M_.ActiveXObject&&"ActiveXObject"in M_,ua,nC=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},oC=Ume("WeakMap",nC,tC),Go=oC.prototype,gd=pd(Go.set),Zme=function(){return Wme&&Yme(function(){var t=iC([]);return gd(new oC,t,1),!rC(t)})};if(Gme)if(Qme){ua=tC.getConstructor(nC,"WeakMap",!0),Vme.enable();var q_=pd(Go.delete),Xc=pd(Go.has),B_=pd(Go.get);R_(Go,{delete:function(t){if(Yc(t)&&!Kc(t)){var e=Gc(this);return e.frozen||(e.frozen=new ua),q_(this,t)||e.frozen.delete(t)}return q_(this,t)},has:function(e){if(Yc(e)&&!Kc(e)){var r=Gc(this);return r.frozen||(r.frozen=new ua),Xc(this,e)||r.frozen.has(e)}return Xc(this,e)},get:function(e){if(Yc(e)&&!Kc(e)){var r=Gc(this);return r.frozen||(r.frozen=new ua),Xc(this,e)?B_(this,e):r.frozen.get(e)}return B_(this,e)},set:function(e,r){if(Yc(e)&&!Kc(e)){var i=Gc(this);i.frozen||(i.frozen=new ua),Xc(this,e)?gd(this,e,r):i.frozen.set(e,r)}else gd(this,e,r);return this}})}else Zme()&&R_(Go,{set:function(e,r){var i;return Kme(e)&&(rC(e)?i=N_:Xme(e)&&(i=F_)),gd(this,e,r),i===N_&&iC(e),i===F_&&Jme(e),this}});var eye=De,tye=eye.WeakMap,rye=tye,iye=rye,nye=iye,Ra=pe(nye);function Le(t,e,r,i){if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?i:r==="a"?i.call(t):i?i.value:e.get(t)}function sv(t,e,r,i,n){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,r),r}var Hn,Ir,Xi,Ji,vd;function L_(t,e){const r=new on;for(const i of e)t.has(i)||r.add(i);return r}class j_{constructor(){Hn.set(this,new on),Ir.set(this,new on)}get size(){return Le(this,Ir,"f").size}add(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];for(const n of r)Le(this,Ir,"f").add(n)}delete(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];for(const n of r)Le(this,Ir,"f").delete(n)}clear(){Le(this,Ir,"f").clear()}getSelection(){return[...Le(this,Ir,"f")]}getChanges(){return{added:[...L_(Le(this,Hn,"f"),Le(this,Ir,"f"))],deleted:[...L_(Le(this,Ir,"f"),Le(this,Hn,"f"))],previous:[...new on(Le(this,Hn,"f"))],current:[...new on(Le(this,Ir,"f"))]}}commit(){const e=this.getChanges();sv(this,Hn,Le(this,Ir,"f")),sv(this,Ir,new on(Le(this,Hn,"f")));for(const r of e.added)r.select();for(const r of e.deleted)r.unselect();return e}}Hn=new Ra,Ir=new Ra;class oye{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:()=>{};Xi.set(this,new j_),Ji.set(this,new j_),vd.set(this,void 0),sv(this,vd,e)}get sizeNodes(){return Le(this,Xi,"f").size}get sizeEdges(){return Le(this,Ji,"f").size}getNodes(){return Le(this,Xi,"f").getSelection()}getEdges(){return Le(this,Ji,"f").getSelection()}addNodes(){Le(this,Xi,"f").add(...arguments)}addEdges(){Le(this,Ji,"f").add(...arguments)}deleteNodes(e){Le(this,Xi,"f").delete(e)}deleteEdges(e){Le(this,Ji,"f").delete(e)}clear(){Le(this,Xi,"f").clear(),Le(this,Ji,"f").clear()}commit(){const e={nodes:Le(this,Xi,"f").commit(),edges:Le(this,Ji,"f").commit()};for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return Le(this,vd,"f").call(this,e,...i),e}}Xi=new Ra,Ji=new Ra,vd=new Ra;class sye{constructor(e,r){this.body=e,this.canvas=r,this._selectionAccumulator=new oye,this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},pt(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",()=>{this.updateSelection()})}setOptions(e){e!==void 0&&ea(["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"],this.options,e)}selectOnPoint(e){let r=!1;if(this.options.selectable===!0){const i=this.getNodeAt(e)||this.getEdgeAt(e);this.unselectAll(),i!==void 0&&(r=this.selectObject(i)),this.body.emitter.emit("_requestRedraw")}return r}selectAdditionalOnPoint(e){let r=!1;if(this.options.selectable===!0){const i=this.getNodeAt(e)||this.getEdgeAt(e);i!==void 0&&(r=!0,i.isSelected()===!0?this.deselectObject(i):this.selectObject(i),this.body.emitter.emit("_requestRedraw"))}return r}_initBaseEvent(e,r){const i={};return i.pointer={DOM:{x:r.x,y:r.y},canvas:this.canvas.DOMtoCanvas(r)},i.event=e,i}generateClickEvent(e,r,i,n){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;const s=this._initBaseEvent(r,i);if(o===!0)s.nodes=[],s.edges=[];else{const a=this.getSelection();s.nodes=a.nodes,s.edges=a.edges}n!==void 0&&(s.previousSelection=n),e=="click"&&(s.items=this.getClickedItems(i)),r.controlEdge!==void 0&&(s.controlEdge=r.controlEdge),this.body.emitter.emit(e,s)}selectObject(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.selectConnectedEdges;return e!==void 0?(e instanceof Ye?(r===!0&&this._selectionAccumulator.addEdges(...e.edges),this._selectionAccumulator.addNodes(e)):this._selectionAccumulator.addEdges(e),!0):!1}deselectObject(e){e.isSelected()===!0&&(e.selected=!1,this._removeFromSelection(e))}_getAllNodesOverlappingWith(e){const r=[],i=this.body.nodes;for(let n=0;n<this.body.nodeIndices.length;n++){const o=this.body.nodeIndices[n];i[o].isOverlappingWith(e)&&r.push(o)}return r}_pointerToPositionObject(e){const r=this.canvas.DOMtoCanvas(e);return{left:r.x-1,top:r.y+1,right:r.x+1,bottom:r.y-1}}getNodeAt(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const i=this._pointerToPositionObject(e),n=this._getAllNodesOverlappingWith(i);if(n.length>0)return r===!0?this.body.nodes[n[n.length-1]]:n[n.length-1]}_getEdgesOverlappingWith(e,r){const i=this.body.edges;for(let n=0;n<this.body.edgeIndices.length;n++){const o=this.body.edgeIndices[n];i[o].isOverlappingWith(e)&&r.push(o)}}_getAllEdgesOverlappingWith(e){const r=[];return this._getEdgesOverlappingWith(e,r),r}getEdgeAt(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const i=this.canvas.DOMtoCanvas(e);let n=10,o=null;const s=this.body.edges;for(let a=0;a<this.body.edgeIndices.length;a++){const l=this.body.edgeIndices[a],c=s[l];if(c.connected){const d=c.from.x,u=c.from.y,h=c.to.x,f=c.to.y,p=c.edgeType.getDistanceToEdge(d,u,h,f,i.x,i.y);p<n&&(o=l,n=p)}}if(o!==null)return r===!0?this.body.edges[o]:o}_addToHover(e){e instanceof Ye?this.hoverObj.nodes[e.id]=e:this.hoverObj.edges[e.id]=e}_removeFromSelection(e){e instanceof Ye?(this._selectionAccumulator.deleteNodes(e),this._selectionAccumulator.deleteEdges(...e.edges)):this._selectionAccumulator.deleteEdges(e)}unselectAll(){this._selectionAccumulator.clear()}getSelectedNodeCount(){return this._selectionAccumulator.sizeNodes}getSelectedEdgeCount(){return this._selectionAccumulator.sizeEdges}_hoverConnectedEdges(e){for(let r=0;r<e.edges.length;r++){const i=e.edges[r];i.hover=!0,this._addToHover(i)}}emitBlurEvent(e,r,i){const n=this._initBaseEvent(e,r);i.hover===!0&&(i.hover=!1,i instanceof Ye?(n.node=i.id,this.body.emitter.emit("blurNode",n)):(n.edge=i.id,this.body.emitter.emit("blurEdge",n)))}emitHoverEvent(e,r,i){const n=this._initBaseEvent(e,r);let o=!1;return i.hover===!1&&(i.hover=!0,this._addToHover(i),o=!0,i instanceof Ye?(n.node=i.id,this.body.emitter.emit("hoverNode",n)):(n.edge=i.id,this.body.emitter.emit("hoverEdge",n))),o}hoverObject(e,r){let i=this.getNodeAt(r);i===void 0&&(i=this.getEdgeAt(r));let n=!1;for(const o in this.hoverObj.nodes)Object.prototype.hasOwnProperty.call(this.hoverObj.nodes,o)&&(i===void 0||i instanceof Ye&&i.id!=o||i instanceof yn)&&(this.emitBlurEvent(e,r,this.hoverObj.nodes[o]),delete this.hoverObj.nodes[o],n=!0);for(const o in this.hoverObj.edges)Object.prototype.hasOwnProperty.call(this.hoverObj.edges,o)&&(n===!0?(this.hoverObj.edges[o].hover=!1,delete this.hoverObj.edges[o]):(i===void 0||i instanceof yn&&i.id!=o||i instanceof Ye&&!i.hover)&&(this.emitBlurEvent(e,r,this.hoverObj.edges[o]),delete this.hoverObj.edges[o],n=!0));if(i!==void 0){const o=Ze(this.hoverObj.edges).length,s=Ze(this.hoverObj.nodes).length,a=i instanceof yn&&o===0&&s===0,l=i instanceof Ye&&o===0&&s===0;(n||a||l)&&(n=this.emitHoverEvent(e,r,i)),i instanceof Ye&&this.options.hoverConnectedEdges===!0&&this._hoverConnectedEdges(i)}n===!0&&this.body.emitter.emit("_requestRedraw")}commitWithoutEmitting(){this._selectionAccumulator.commit()}commitAndEmit(e,r){let i=!1;const n=this._selectionAccumulator.commit(),o={nodes:n.nodes.previous,edges:n.edges.previous};n.edges.deleted.length>0&&(this.generateClickEvent("deselectEdge",r,e,o),i=!0),n.nodes.deleted.length>0&&(this.generateClickEvent("deselectNode",r,e,o),i=!0),n.nodes.added.length>0&&(this.generateClickEvent("selectNode",r,e),i=!0),n.edges.added.length>0&&(this.generateClickEvent("selectEdge",r,e),i=!0),i===!0&&this.generateClickEvent("select",r,e)}getSelection(){return{nodes:this.getSelectedNodeIds(),edges:this.getSelectedEdgeIds()}}getSelectedNodes(){return this._selectionAccumulator.getNodes()}getSelectedEdges(){return this._selectionAccumulator.getEdges()}getSelectedNodeIds(){var e;return Es(e=this._selectionAccumulator.getNodes()).call(e,r=>r.id)}getSelectedEdgeIds(){var e;return Es(e=this._selectionAccumulator.getEdges()).call(e,r=>r.id)}setSelection(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!e||!e.nodes&&!e.edges)throw new TypeError("Selection must be an object with nodes and/or edges properties");if((r.unselectAll||r.unselectAll===void 0)&&this.unselectAll(),e.nodes)for(const i of e.nodes){const n=this.body.nodes[i];if(!n)throw new RangeError('Node with id "'+i+'" not found');this.selectObject(n,r.highlightEdges)}if(e.edges)for(const i of e.edges){const n=this.body.edges[i];if(!n)throw new RangeError('Edge with id "'+i+'" not found');this.selectObject(n)}this.body.emitter.emit("_requestRedraw"),this._selectionAccumulator.commit()}selectNodes(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({nodes:e},{highlightEdges:r})}selectEdges(e){if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({edges:e})}updateSelection(){for(const e in this._selectionAccumulator.getNodes())Object.prototype.hasOwnProperty.call(this.body.nodes,e.id)||this._selectionAccumulator.deleteNodes(e);for(const e in this._selectionAccumulator.getEdges())Object.prototype.hasOwnProperty.call(this.body.edges,e.id)||this._selectionAccumulator.deleteEdges(e)}getClickedItems(e){const r=this.canvas.DOMtoCanvas(e),i=[],n=this.body.nodeIndices,o=this.body.nodes;for(let l=n.length-1;l>=0;l--){const d=o[n[l]].getItemsOnPoint(r);i.push.apply(i,d)}const s=this.body.edgeIndices,a=this.body.edges;for(let l=s.length-1;l>=0;l--){const d=a[s[l]].getItemsOnPoint(r);i.push.apply(i,d)}return i}}var z_=Hk,aye=Math.floor,av=function(t,e){var r=t.length,i=aye(r/2);return r<8?lye(t,e):cye(t,av(z_(t,0,i),e),av(z_(t,i),e),e)},lye=function(t,e){for(var r=t.length,i=1,n,o;i<r;){for(o=i,n=t[i];o&&e(t[o-1],n)>0;)t[o]=t[--o];o!==i++&&(t[o]=n)}return t},cye=function(t,e,r,i){for(var n=e.length,o=r.length,s=0,a=0;s<n||a<o;)t[s+a]=s<n&&a<o?i(e[s],r[a])<=0?e[s++]:r[a++]:s<n?e[s++]:r[a++];return t},dye=av,uye=Ml,H_=uye.match(/firefox\/(\d+)/i),hye=!!H_&&+H_[1],fye=Ml,pye=/MSIE|Trident/.test(fye),gye=Ml,W_=gye.match(/AppleWebKit\/(\d+)\./),vye=!!W_&&+W_[1],mye=fe,sC=ke,yye=Ys,bye=Dr,V_=vi,$ye=Ox,U_=mi,ny=Oe,wye=dye,_ye=Qs,Y_=hye,Sye=pye,G_=Rl,K_=vye,ln=[],X_=sC(ln.sort),Iye=sC(ln.push),Eye=ny(function(){ln.sort(void 0)}),Tye=ny(function(){ln.sort(null)}),Oye=_ye("sort"),aC=!ny(function(){if(G_)return G_<70;if(!(Y_&&Y_>3)){if(Sye)return!0;if(K_)return K_<603;var t="",e,r,i,n;for(e=65;e<76;e++){switch(r=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:i=3;break;case 68:case 71:i=4;break;default:i=2}for(n=0;n<47;n++)ln.push({k:r+n,v:i})}for(ln.sort(function(o,s){return s.v-o.v}),n=0;n<ln.length;n++)r=ln[n].k.charAt(0),t.charAt(t.length-1)!==r&&(t+=r);return t!=="DGBEFHACIJK"}}),kye=Eye||!Tye||!Oye||!aC,xye=function(t){return function(e,r){return r===void 0?-1:e===void 0?1:t!==void 0?+t(e,r)||0:U_(e)>U_(r)?1:-1}};mye({target:"Array",proto:!0,forced:kye},{sort:function(e){e!==void 0&&yye(e);var r=bye(this);if(aC)return e===void 0?X_(r):X_(r,e);var i=[],n=V_(r),o,s;for(s=0;s<n;s++)s in r&&Iye(i,r[s]);for(wye(i,xye(e)),o=V_(i),s=0;s<o;)r[s]=i[s++];for(;s<n;)$ye(r,s++);return r}});var Aye=Rt,Cye=Aye("Array").sort,Pye=yt,Dye=Cye,Mp=Array.prototype,Mye=function(t){var e=t.sort;return t===Mp||Pye(Mp,t)&&e===Mp.sort?Dye:e},Rye=Mye,Nye=Rye,Fye=Nye,ps=pe(Fye),qye=Ys,Bye=Dr,Lye=zu,jye=vi,zye=TypeError,Hye=function(t){return function(e,r,i,n){qye(r);var o=Bye(e),s=Lye(o),a=jye(o),l=t?a-1:0,c=t?-1:1;if(i<2)for(;;){if(l in s){n=s[l],l+=c;break}if(l+=c,t?l<0:a<=l)throw new zye("Reduce of empty array with no initial value")}for(;t?l>=0:a>l;l+=c)l in s&&(n=r(n,s[l],l,o));return n}},Wye={left:Hye(!1)},Vye=nt,Uye=Hi,Yye=Uye(Vye.process)==="process",Gye=fe,Kye=Wye.left,Xye=Qs,J_=Rl,Jye=Yye,Qye=!Jye&&J_>79&&J_<83,Zye=Qye||!Xye("reduce");Gye({target:"Array",proto:!0,forced:Zye},{reduce:function(e){var r=arguments.length;return Kye(this,e,r,r>1?arguments[1]:void 0)}});var ebe=Rt,tbe=ebe("Array").reduce,rbe=yt,ibe=tbe,Rp=Array.prototype,nbe=function(t){var e=t.reduce;return t===Rp||rbe(Rp,t)&&e===Rp.reduce?ibe:e},obe=nbe,sbe=obe,abe=sbe,lC=pe(abe);class cC{abstract(){throw new Error("Can't instantiate abstract class!")}fake_use(){}curveType(){return this.abstract()}getPosition(e){return this.fake_use(e),this.abstract()}setPosition(e,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;this.fake_use(e,r,i),this.abstract()}getTreeSize(e){return this.fake_use(e),this.abstract()}sort(e){this.fake_use(e),this.abstract()}fix(e,r){this.fake_use(e,r),this.abstract()}shift(e,r){this.fake_use(e,r),this.abstract()}}class lbe extends cC{constructor(e){super(),this.layout=e}curveType(){return"horizontal"}getPosition(e){return e.x}setPosition(e,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;i!==void 0&&this.layout.hierarchical.addToOrdering(e,i),e.x=r}getTreeSize(e){const r=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:r.min_x,max:r.max_x}}sort(e){ps(e).call(e,function(r,i){return r.x-i.x})}fix(e,r){e.y=this.layout.options.hierarchical.levelSeparation*r,e.options.fixed.y=!0}shift(e,r){this.layout.body.nodes[e].x+=r}}class cbe extends cC{constructor(e){super(),this.layout=e}curveType(){return"vertical"}getPosition(e){return e.y}setPosition(e,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;i!==void 0&&this.layout.hierarchical.addToOrdering(e,i),e.y=r}getTreeSize(e){const r=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:r.min_y,max:r.max_y}}sort(e){ps(e).call(e,function(r,i){return r.y-i.y})}fix(e,r){e.x=this.layout.options.hierarchical.levelSeparation*r,e.options.fixed.x=!0}shift(e,r){this.layout.body.nodes[e].y+=r}}var dbe=fe,ube=Pn.every,hbe=Qs,fbe=hbe("every");dbe({target:"Array",proto:!0,forced:!fbe},{every:function(e){return ube(this,e,arguments.length>1?arguments[1]:void 0)}});var pbe=Rt,gbe=pbe("Array").every,vbe=yt,mbe=gbe,Np=Array.prototype,ybe=function(t){var e=t.every;return t===Np||vbe(Np,t)&&e===Np.every?mbe:e},bbe=ybe,$be=bbe,wbe=$be,dC=pe(wbe);function _be(t,e){const r=new on;return Fe(t).call(t,i=>{var n;Fe(n=i.edges).call(n,o=>{o.connected&&r.add(o)})}),Fe(r).call(r,i=>{const n=i.from.id,o=i.to.id;e[n]==null&&(e[n]=0),(e[o]==null||e[n]>=e[o])&&(e[o]=e[n]+1)}),e}function Sbe(t){return uC(e=>{var r,i;return dC(r=or(i=e.edges).call(i,n=>t.has(n.toId))).call(r,n=>n.to===e)},(e,r)=>r>e,"from",t)}function Ibe(t){return uC(e=>{var r,i;return dC(r=or(i=e.edges).call(i,n=>t.has(n.toId))).call(r,n=>n.from===e)},(e,r)=>r<e,"to",t)}function uC(t,e,r,i){var n;const o=no(null),s=lC(n=[...YA(i).call(i)]).call(n,(u,h)=>u+1+h.edges.length,0),a=r+"Id",l=r==="to"?1:-1;for(const[u,h]of i){if(!i.has(u)||!t(h))continue;o[u]=0;const f=[h];let p=0,v;for(;v=f.pop();){var c,d;if(!i.has(u))continue;const y=o[v.id]+l;if(Fe(c=or(d=v.edges).call(d,m=>m.connected&&m.to!==m.from&&m[r]!==v&&i.has(m.toId)&&i.has(m.fromId))).call(c,m=>{const $=m[a],S=o[$];(S==null||e(y,S))&&(o[$]=y,f.push(m[r]))}),p>s)return _be(i,o);++p}}return o}class Ebe{constructor(){this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}addRelation(e,r){this.childrenReference[e]===void 0&&(this.childrenReference[e]=[]),this.childrenReference[e].push(r),this.parentReference[r]===void 0&&(this.parentReference[r]=[]),this.parentReference[r].push(e)}checkIfTree(){for(const e in this.parentReference)if(this.parentReference[e].length>1){this.isTree=!1;return}this.isTree=!0}numTrees(){return this.treeIndex+1}setTreeIndex(e,r){r!==void 0&&this.trees[e.id]===void 0&&(this.trees[e.id]=r,this.treeIndex=Math.max(r,this.treeIndex))}ensureLevel(e){this.levels[e]===void 0&&(this.levels[e]=0)}getMaxLevel(e){const r={},i=n=>{if(r[n]!==void 0)return r[n];let o=this.levels[n];if(this.childrenReference[n]){const s=this.childrenReference[n];if(s.length>0)for(let a=0;a<s.length;a++)o=Math.max(o,i(s[a]))}return r[n]=o,o};return i(e)}levelDownstream(e,r){this.levels[r.id]===void 0&&(this.levels[e.id]===void 0&&(this.levels[e.id]=0),this.levels[r.id]=this.levels[e.id]+1)}setMinLevelToZero(){var e;const r=new Zm;let i=0;const n=ps(e=[...new on(ale(this.levels))]).call(e,(o,s)=>o-s);for(const o of n)r.set(o,i++);for(const o in this.levels)Object.prototype.hasOwnProperty.call(this.levels,o)&&(this.levels[o]=r.get(this.levels[o]))}getTreeSize(e,r){let i=1e9,n=-1e9,o=1e9,s=-1e9;for(const a in this.trees)if(Object.prototype.hasOwnProperty.call(this.trees,a)&&this.trees[a]===r){const l=e[a];i=Math.min(l.x,i),n=Math.max(l.x,n),o=Math.min(l.y,o),s=Math.max(l.y,s)}return{min_x:i,max_x:n,min_y:o,max_y:s}}hasSameParent(e,r){const i=this.parentReference[e.id],n=this.parentReference[r.id];if(i===void 0||n===void 0)return!1;for(let o=0;o<i.length;o++)for(let s=0;s<n.length;s++)if(i[o]==n[s])return!0;return!1}inSameSubNetwork(e,r){return this.trees[e.id]===this.trees[r.id]}getLevels(){return Ze(this.distributionOrdering)}addToOrdering(e,r){this.distributionOrdering[r]===void 0&&(this.distributionOrdering[r]=[]);let i=!1;const n=this.distributionOrdering[r];for(const o in n)if(n[o]===e){i=!0;break}i||(this.distributionOrdering[r].push(e),this.distributionIndex[e.id]=this.distributionOrdering[r].length-1)}}class Tbe{constructor(e){this.body=e,this._resetRNG(Math.random()+":"+Hd()),this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,clusterThreshold:150,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},pt(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("_dataChanged",()=>{this.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",()=>{this.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",()=>{this.setupHierarchicalLayout()}),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",()=>{if(this.options.hierarchical.enabled!==!0)return;const e=this.direction.curveType();this.body.emitter.emit("_forceDisableDynamicCurves",e,!1)})}setOptions(e,r){if(e!==void 0){const i=this.options.hierarchical,n=i.enabled;if(ea(["randomSeed","improvedLayout","clusterThreshold"],this.options,e),Er(this.options,e,"hierarchical"),e.randomSeed!==void 0&&this._resetRNG(e.randomSeed),i.enabled===!0)return n===!0&&this.body.emitter.emit("refresh",!0),i.direction==="RL"||i.direction==="DU"?i.levelSeparation>0&&(i.levelSeparation*=-1):i.levelSeparation<0&&(i.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(r);if(n===!0)return this.body.emitter.emit("refresh"),je(r,this.optionsBackup)}return r}_resetRNG(e){this.initialRandomSeed=e,this._rng=sh(this.initialRandomSeed)}adaptAllOptionsForHierarchicalLayout(e){if(this.options.hierarchical.enabled===!0){const r=this.optionsBackup.physics;e.physics===void 0||e.physics===!0?(e.physics={enabled:r.enabled===void 0?!0:r.enabled,solver:"hierarchicalRepulsion"},r.enabled=r.enabled===void 0?!0:r.enabled,r.solver=r.solver||"barnesHut"):typeof e.physics=="object"?(r.enabled=e.physics.enabled===void 0?!0:e.physics.enabled,r.solver=e.physics.solver||"barnesHut",e.physics.solver="hierarchicalRepulsion"):e.physics!==!1&&(r.solver="barnesHut",e.physics={solver:"hierarchicalRepulsion"});let i=this.direction.curveType();if(e.edges===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges={smooth:!1};else if(e.edges.smooth===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges.smooth=!1;else if(typeof e.edges.smooth=="boolean")this.optionsBackup.edges={smooth:e.edges.smooth},e.edges.smooth={enabled:e.edges.smooth,type:i};else{const n=e.edges.smooth;n.type!==void 0&&n.type!=="dynamic"&&(i=n.type),this.optionsBackup.edges={smooth:{enabled:n.enabled===void 0?!0:n.enabled,type:n.type===void 0?"dynamic":n.type,roundness:n.roundness===void 0?.5:n.roundness,forceDirection:n.forceDirection===void 0?!1:n.forceDirection}},e.edges.smooth={enabled:n.enabled===void 0?!0:n.enabled,type:i,roundness:n.roundness===void 0?.5:n.roundness,forceDirection:n.forceDirection===void 0?!1:n.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",i)}return e}positionInitially(e){if(this.options.hierarchical.enabled!==!0){this._resetRNG(this.initialRandomSeed);const r=e.length+50;for(let i=0;i<e.length;i++){const n=e[i],o=2*Math.PI*this._rng();n.x===void 0&&(n.x=r*Math.cos(o)),n.y===void 0&&(n.y=r*Math.sin(o))}}}layoutNetwork(){if(this.options.hierarchical.enabled!==!0&&this.options.improvedLayout===!0){const e=this.body.nodeIndices;let r=0;for(let i=0;i<e.length;i++)this.body.nodes[e[i]].predefinedPosition===!0&&(r+=1);if(r<.5*e.length){let n=0;const o=this.options.clusterThreshold,s={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(e.length>o){const l=e.length;for(;e.length>o&&n<=10;){n+=1;const c=e.length;n%3===0?this.body.modules.clustering.clusterBridges(s):this.body.modules.clustering.clusterOutliers(s);const d=e.length;if(c==d&&n%3!==0){this._declusterAll(),this.body.emitter.emit("_layoutFailed"),console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.");return}}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*l)})}n>10&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(e,this.body.edgeIndices,!0),this._shiftToCenter();const a=70;for(let l=0;l<e.length;l++){const c=this.body.nodes[e[l]];c.predefinedPosition===!1&&(c.x+=(.5-this._rng())*a,c.y+=(.5-this._rng())*a)}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}_shiftToCenter(){const e=Ut.getRangeCore(this.body.nodes,this.body.nodeIndices),r=Ut.findCenter(e);for(let i=0;i<this.body.nodeIndices.length;i++){const n=this.body.nodes[this.body.nodeIndices[i]];n.x-=r.x,n.y-=r.y}}_declusterAll(){let e=!0;for(;e===!0;){e=!1;for(let r=0;r<this.body.nodeIndices.length;r++)this.body.nodes[this.body.nodeIndices[r]].isCluster===!0&&(e=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[r],{},!1));e===!0&&this.body.emitter.emit("_dataChanged")}}getSeed(){return this.initialRandomSeed}setupHierarchicalLayout(){if(this.options.hierarchical.enabled===!0&&this.body.nodeIndices.length>0){let e,r,i=!1,n=!1;this.lastNodeOnLevel={},this.hierarchical=new Ebe;for(r in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,r)&&(e=this.body.nodes[r],e.options.level!==void 0?(i=!0,this.hierarchical.levels[r]=e.options.level):n=!0);if(n===!0&&i===!0)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");{if(n===!0){const s=this.options.hierarchical.sortMethod;s==="hubsize"?this._determineLevelsByHubsize():s==="directed"?this._determineLevelsDirected():s==="custom"&&this._determineLevelsCustomCallback()}for(const s in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,s)&&this.hierarchical.ensureLevel(s);const o=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(o),this._condenseHierarchy(),this._shiftToCenter()}}}_condenseHierarchy(){var e=this;let r=!1;const i={},n=()=>{const m=s();let $=0;for(let S=0;S<m.length-1;S++){const _=m[S].max-m[S+1].min;$+=_+this.options.hierarchical.treeSpacing,o(S+1,$)}},o=(m,$)=>{const S=this.hierarchical.trees;for(const _ in S)Object.prototype.hasOwnProperty.call(S,_)&&S[_]===m&&this.direction.shift(_,$)},s=()=>{const m=[];for(let $=0;$<this.hierarchical.numTrees();$++)m.push(this.direction.getTreeSize($));return m},a=(m,$)=>{if(!$[m.id]&&($[m.id]=!0,this.hierarchical.childrenReference[m.id])){const S=this.hierarchical.childrenReference[m.id];if(S.length>0)for(let _=0;_<S.length;_++)a(this.body.nodes[S[_]],$)}},l=function(m){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e9,S=1e9,_=1e9,E=1e9,W=-1e9;for(const X in m)if(Object.prototype.hasOwnProperty.call(m,X)){const z=e.body.nodes[X],R=e.hierarchical.levels[z.id],x=e.direction.getPosition(z),[D,P]=e._getSpaceAroundNode(z,m);S=Math.min(D,S),_=Math.min(P,_),R<=$&&(E=Math.min(x,E),W=Math.max(x,W))}return[E,W,S,_]},c=(m,$)=>{const S=this.hierarchical.getMaxLevel(m.id),_=this.hierarchical.getMaxLevel($.id);return Math.min(S,_)},d=(m,$,S)=>{const _=this.hierarchical;for(let E=0;E<$.length;E++){const W=$[E],X=_.distributionOrdering[W];if(X.length>1)for(let z=0;z<X.length-1;z++){const R=X[z],x=X[z+1];_.hasSameParent(R,x)&&_.inSameSubNetwork(R,x)&&m(R,x,S)}}},u=function(m,$){let S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const _=e.direction.getPosition(m),E=e.direction.getPosition($),W=Math.abs(E-_),X=e.options.hierarchical.nodeSpacing;if(W>X){const z={},R={};a(m,z),a($,R);const x=c(m,$),D=l(z,x),P=l(R,x),oe=D[1],me=P[0],ve=P[2];if(Math.abs(oe-me)>X){let Q=oe-me+X;Q<-ve+X&&(Q=-ve+X),Q<0&&(e._shiftBlock($.id,Q),r=!0,S===!0&&e._centerParent($))}}},h=(m,$)=>{const S=$.id,_=$.edges,E=this.hierarchical.levels[$.id],W=this.options.hierarchical.levelSeparation*this.options.hierarchical.levelSeparation,X={},z=[];for(let ve=0;ve<_.length;ve++){const te=_[ve];if(te.toId!=te.fromId){const Q=te.toId==S?te.from:te.to;X[_[ve].id]=Q,this.hierarchical.levels[Q.id]<E&&z.push(te)}}const R=(ve,te)=>{let Q=0;for(let ae=0;ae<te.length;ae++)if(X[te[ae].id]!==void 0){const Me=this.direction.getPosition(X[te[ae].id])-ve;Q+=Me/Math.sqrt(Me*Me+W)}return Q},x=(ve,te)=>{let Q=0;for(let ae=0;ae<te.length;ae++)if(X[te[ae].id]!==void 0){const Me=this.direction.getPosition(X[te[ae].id])-ve;Q-=W*Math.pow(Me*Me+W,-1.5)}return Q},D=(ve,te)=>{let Q=this.direction.getPosition($);const ae={};for(let Me=0;Me<ve;Me++){const Xe=R(Q,te),Ot=x(Q,te),st=40,Po=Math.max(-st,Math.min(st,Math.round(Xe/Ot)));if(Q=Q-Po,ae[Q]!==void 0)break;ae[Q]=Me}return Q},P=ve=>{const te=this.direction.getPosition($);if(i[$.id]===void 0){const st={};a($,st),i[$.id]=st}const Q=l(i[$.id]),ae=Q[2],Me=Q[3],Xe=ve-te;let Ot=0;Xe>0?Ot=Math.min(Xe,Me-this.options.hierarchical.nodeSpacing):Xe<0&&(Ot=-Math.min(-Xe,ae-this.options.hierarchical.nodeSpacing)),Ot!=0&&(this._shiftBlock($.id,Ot),r=!0)},oe=ve=>{const te=this.direction.getPosition($),[Q,ae]=this._getSpaceAroundNode($),Me=ve-te;let Xe=te;Me>0?Xe=Math.min(te+(ae-this.options.hierarchical.nodeSpacing),ve):Me<0&&(Xe=Math.max(te-(Q-this.options.hierarchical.nodeSpacing),ve)),Xe!==te&&(this.direction.setPosition($,Xe),r=!0)};let me=D(m,z);P(me),me=D(m,_),oe(me)},f=m=>{let $=this.hierarchical.getLevels();$=io($).call($);for(let S=0;S<m;S++){r=!1;for(let _=0;_<$.length;_++){const E=$[_],W=this.hierarchical.distributionOrdering[E];for(let X=0;X<W.length;X++)h(1e3,W[X])}if(r!==!0)break}},p=m=>{let $=this.hierarchical.getLevels();$=io($).call($);for(let S=0;S<m&&(r=!1,d(u,$,!0),r===!0);S++);},v=()=>{for(const m in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,m)&&this._centerParent(this.body.nodes[m])},y=()=>{let m=this.hierarchical.getLevels();m=io(m).call(m);for(let $=0;$<m.length;$++){const S=m[$],_=this.hierarchical.distributionOrdering[S];for(let E=0;E<_.length;E++)this._centerParent(_[E])}};this.options.hierarchical.blockShifting===!0&&(p(5),v()),this.options.hierarchical.edgeMinimization===!0&&f(20),this.options.hierarchical.parentCentralization===!0&&y(),n()}_getSpaceAroundNode(e,r){let i=!0;r===void 0&&(i=!1);const n=this.hierarchical.levels[e.id];if(n!==void 0){const o=this.hierarchical.distributionIndex[e.id],s=this.direction.getPosition(e),a=this.hierarchical.distributionOrdering[n];let l=1e9,c=1e9;if(o!==0){const d=a[o-1];if(i===!0&&r[d.id]===void 0||i===!1){const u=this.direction.getPosition(d);l=s-u}}if(o!=a.length-1){const d=a[o+1];if(i===!0&&r[d.id]===void 0||i===!1){const u=this.direction.getPosition(d);c=Math.min(c,u-s)}}return[l,c]}else return[0,0]}_centerParent(e){if(this.hierarchical.parentReference[e.id]){const r=this.hierarchical.parentReference[e.id];for(let i=0;i<r.length;i++){const n=r[i],o=this.body.nodes[n],s=this.hierarchical.childrenReference[n];if(s!==void 0){const a=this._getCenterPosition(s),l=this.direction.getPosition(o),[c,d]=this._getSpaceAroundNode(o),u=l-a;(u<0&&Math.abs(u)<d-this.options.hierarchical.nodeSpacing||u>0&&Math.abs(u)<c-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(o,a)}}}}_placeNodesByHierarchy(e){this.positionedNodes={};for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var r;let n=Ze(e[i]);n=this._indexArrayToNodes(n),ps(r=this.direction).call(r,n);let o=0;for(let s=0;s<n.length;s++){const a=n[s];if(this.positionedNodes[a.id]===void 0){const l=this.options.hierarchical.nodeSpacing;let c=l*o;o>0&&(c=this.direction.getPosition(n[s-1])+l),this.direction.setPosition(a,c,i),this._validatePositionAndContinue(a,i,c),o++}}}}_placeBranchNodes(e,r){var i;const n=this.hierarchical.childrenReference[e];if(n===void 0)return;const o=[];for(let a=0;a<n.length;a++)o.push(this.body.nodes[n[a]]);ps(i=this.direction).call(i,o);for(let a=0;a<o.length;a++){const l=o[a],c=this.hierarchical.levels[l.id];if(c>r&&this.positionedNodes[l.id]===void 0){const d=this.options.hierarchical.nodeSpacing;let u;a===0?u=this.direction.getPosition(this.body.nodes[e]):u=this.direction.getPosition(o[a-1])+d,this.direction.setPosition(l,u,c),this._validatePositionAndContinue(l,c,u)}else return}const s=this._getCenterPosition(o);this.direction.setPosition(this.body.nodes[e],s,r)}_validatePositionAndContinue(e,r,i){if(this.hierarchical.isTree){if(this.lastNodeOnLevel[r]!==void 0){const n=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[r]]);if(i-n<this.options.hierarchical.nodeSpacing){const o=n+this.options.hierarchical.nodeSpacing-i,s=this._findCommonParent(this.lastNodeOnLevel[r],e.id);this._shiftBlock(s.withChild,o)}}this.lastNodeOnLevel[r]=e.id,this.positionedNodes[e.id]=!0,this._placeBranchNodes(e.id,r)}}_indexArrayToNodes(e){const r=[];for(let i=0;i<e.length;i++)r.push(this.body.nodes[e[i]]);return r}_getDistribution(){const e={};let r,i;for(r in this.body.nodes)if(Object.prototype.hasOwnProperty.call(this.body.nodes,r)){i=this.body.nodes[r];const n=this.hierarchical.levels[r]===void 0?0:this.hierarchical.levels[r];this.direction.fix(i,n),e[n]===void 0&&(e[n]={}),e[n][r]=i}return e}_getActiveEdges(e){const r=[];return $e(e.edges,i=>{var n;Pe(n=this.body.edgeIndices).call(n,i.id)!==-1&&r.push(i)}),r}_getHubSizes(){const e={},r=this.body.nodeIndices;$e(r,n=>{const o=this.body.nodes[n],s=this._getActiveEdges(o).length;e[s]=!0});const i=[];return $e(e,n=>{i.push(Number(n))}),ps(i).call(i,function(n,o){return o-n}),i}_determineLevelsByHubsize(){const e=(i,n)=>{this.hierarchical.levelDownstream(i,n)},r=this._getHubSizes();for(let i=0;i<r.length;++i){const n=r[i];if(n===0)break;$e(this.body.nodeIndices,o=>{const s=this.body.nodes[o];n===this._getActiveEdges(s).length&&this._crawlNetwork(e,o)})}}_determineLevelsCustomCallback(){const r=function(n,o,s){},i=(n,o,s)=>{let a=this.hierarchical.levels[n.id];a===void 0&&(a=this.hierarchical.levels[n.id]=1e5);const l=r(Ut.cloneOptions(n,"node"),Ut.cloneOptions(o,"node"),Ut.cloneOptions(s,"edge"));this.hierarchical.levels[o.id]=a+l};this._crawlNetwork(i),this.hierarchical.setMinLevelToZero()}_determineLevelsDirected(){var e;const r=lC(e=this.body.nodeIndices).call(e,(i,n)=>(i.set(n,this.body.nodes[n]),i),new Zm);this.options.hierarchical.shakeTowards==="roots"?this.hierarchical.levels=Ibe(r):this.hierarchical.levels=Sbe(r),this.hierarchical.setMinLevelToZero()}_generateMap(){const e=(r,i)=>{this.hierarchical.levels[i.id]>this.hierarchical.levels[r.id]&&this.hierarchical.addRelation(r.id,i.id)};this._crawlNetwork(e),this.hierarchical.checkIfTree()}_crawlNetwork(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){},r=arguments.length>1?arguments[1]:void 0;const i={},n=(o,s)=>{if(i[o.id]===void 0){this.hierarchical.setTreeIndex(o,s),i[o.id]=!0;let a;const l=this._getActiveEdges(o);for(let c=0;c<l.length;c++){const d=l[c];d.connected===!0&&(d.toId==o.id?a=d.from:a=d.to,o.id!=a.id&&(e(o,a,d),n(a,s)))}}};if(r===void 0){let o=0;for(let s=0;s<this.body.nodeIndices.length;s++){const a=this.body.nodeIndices[s];if(i[a]===void 0){const l=this.body.nodes[a];n(l,o),o+=1}}}else{const o=this.body.nodes[r];if(o===void 0){console.error("Node not found:",r);return}n(o)}}_shiftBlock(e,r){const i={},n=o=>{if(i[o])return;i[o]=!0,this.direction.shift(o,r);const s=this.hierarchical.childrenReference[o];if(s!==void 0)for(let a=0;a<s.length;a++)n(s[a])};n(e)}_findCommonParent(e,r){const i={},n=(s,a)=>{const l=this.hierarchical.parentReference[a];if(l!==void 0)for(let c=0;c<l.length;c++){const d=l[c];s[d]=!0,n(s,d)}},o=(s,a)=>{const l=this.hierarchical.parentReference[a];if(l!==void 0)for(let c=0;c<l.length;c++){const d=l[c];if(s[d]!==void 0)return{foundParent:d,withChild:a};const u=o(s,d);if(u.foundParent!==null)return u}return{foundParent:null,withChild:a}};return n(i,e),o(i,r)}setDirectionStrategy(){this.options.hierarchical.direction==="UD"||this.options.hierarchical.direction==="DU"?this.direction=new lbe(this):this.direction=new cbe(this)}_getCenterPosition(e){let r=1e9,i=-1e9;for(let n=0;n<e.length;n++){let o;if(e[n].id!==void 0)o=e[n];else{const a=e[n];o=this.body.nodes[a]}const s=this.direction.getPosition(o);r=Math.min(r,s),i=Math.max(i,s)}return .5*(r+i)}}class Obe{constructor(e,r,i,n){var o,s;this.body=e,this.canvas=r,this.selectionHandler=i,this.interactionHandler=n,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this._domEventListenerCleanupQueue=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},pt(this.options,this.defaultOptions),this.body.emitter.on("destroy",()=>{this._clean()}),this.body.emitter.on("_dataChanged",B(o=this._restore).call(o,this)),this.body.emitter.on("_resetData",B(s=this._restore).call(s,this))}_restore(){this.inMode!==!1&&(this.options.initiallyActive===!0?this.enableEditMode():this.disableEditMode())}setOptions(e,r,i){r!==void 0&&(r.locale!==void 0?this.options.locale=r.locale:this.options.locale=i.locale,r.locales!==void 0?this.options.locales=r.locales:this.options.locales=i.locales),e!==void 0&&(typeof e=="boolean"?this.options.enabled=e:(this.options.enabled=!0,je(this.options,e)),this.options.initiallyActive===!0&&(this.editMode=!0),this._setup())}toggleEditMode(){this.editMode===!0?this.disableEditMode():this.enableEditMode()}enableEditMode(){this.editMode=!0,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}disableEditMode(){this.editMode=!1,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}showManipulatorToolbar(){if(this._clean(),this.manipulationDOM={},this.guiEnabled===!0){var e,r;this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";const i=this.selectionHandler.getSelectedNodeCount(),n=this.selectionHandler.getSelectedEdgeCount(),o=i+n,s=this.options.locales[this.options.locale];let a=!1;this.options.addNode!==!1&&(this._createAddNodeButton(s),a=!0),this.options.addEdge!==!1&&(a===!0?this._createSeperator(1):a=!0,this._createAddEdgeButton(s)),i===1&&typeof this.options.editNode=="function"?(a===!0?this._createSeperator(2):a=!0,this._createEditNodeButton(s)):n===1&&i===0&&this.options.editEdge!==!1&&(a===!0?this._createSeperator(3):a=!0,this._createEditEdgeButton(s)),o!==0&&(i>0&&this.options.deleteNode!==!1?(a===!0&&this._createSeperator(4),this._createDeleteButton(s)):i===0&&this.options.deleteEdge!==!1&&(a===!0&&this._createSeperator(4),this._createDeleteButton(s))),this._bindElementEvents(this.closeDiv,B(e=this.toggleEditMode).call(e,this)),this._temporaryBindEvent("select",B(r=this.showManipulatorToolbar).call(r,this))}this.body.emitter.emit("_redraw")}addNodeMode(){var e;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addNode",this.guiEnabled===!0){var r;const i=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(i),this._createSeperator(),this._createDescription(i.addDescription||this.options.locales.en.addDescription),this._bindElementEvents(this.closeDiv,B(r=this.toggleEditMode).call(r,this))}this._temporaryBindEvent("click",B(e=this._performAddNode).call(e,this))}editNode(){this.editMode!==!0&&this.enableEditMode(),this._clean();const e=this.selectionHandler.getSelectedNodes()[0];if(e!==void 0)if(this.inMode="editNode",typeof this.options.editNode=="function")if(e.isCluster!==!0){const r=je({},e.options,!1);if(r.x=e.x,r.y=e.y,this.options.editNode.length===2)this.options.editNode(r,i=>{i!=null&&this.inMode==="editNode"&&this.body.data.nodes.getDataSet().update(i),this.showManipulatorToolbar()});else throw new Error("The function for edit does not support two arguments (data, callback)")}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError);else throw new Error("No function has been configured to handle the editing of nodes.");else this.showManipulatorToolbar()}addEdgeMode(){var e,r,i,n,o;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addEdge",this.guiEnabled===!0){var s;const a=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(a),this._createSeperator(),this._createDescription(a.edgeDescription||this.options.locales.en.edgeDescription),this._bindElementEvents(this.closeDiv,B(s=this.toggleEditMode).call(s,this))}this._temporaryBindUI("onTouch",B(e=this._handleConnect).call(e,this)),this._temporaryBindUI("onDragEnd",B(r=this._finishConnect).call(r,this)),this._temporaryBindUI("onDrag",B(i=this._dragControlNode).call(i,this)),this._temporaryBindUI("onRelease",B(n=this._finishConnect).call(n,this)),this._temporaryBindUI("onDragStart",B(o=this._dragStartEdge).call(o,this)),this._temporaryBindUI("onHold",()=>{})}editEdgeMode(){if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="editEdge",typeof this.options.editEdge=="object"&&typeof this.options.editEdge.editWithoutDrag=="function"&&(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0)){const s=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(s.from.id,s.to.id);return}if(this.guiEnabled===!0){var e;const s=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(s),this._createSeperator(),this._createDescription(s.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindElementEvents(this.closeDiv,B(e=this.toggleEditMode).call(e,this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0){var r,i,n,o;const s=this.body.edges[this.edgeBeingEditedId],a=this._getNewTargetNode(s.from.x,s.from.y),l=this._getNewTargetNode(s.to.x,s.to.y);this.temporaryIds.nodes.push(a.id),this.temporaryIds.nodes.push(l.id),this.body.nodes[a.id]=a,this.body.nodeIndices.push(a.id),this.body.nodes[l.id]=l,this.body.nodeIndices.push(l.id),this._temporaryBindUI("onTouch",B(r=this._controlNodeTouch).call(r,this)),this._temporaryBindUI("onTap",()=>{}),this._temporaryBindUI("onHold",()=>{}),this._temporaryBindUI("onDragStart",B(i=this._controlNodeDragStart).call(i,this)),this._temporaryBindUI("onDrag",B(n=this._controlNodeDrag).call(n,this)),this._temporaryBindUI("onDragEnd",B(o=this._controlNodeDragEnd).call(o,this)),this._temporaryBindUI("onMouseMove",()=>{}),this._temporaryBindEvent("beforeDrawing",c=>{const d=s.edgeType.findBorderPositions(c);a.selected===!1&&(a.x=d.from.x,a.y=d.from.y),l.selected===!1&&(l.x=d.to.x,l.y=d.to.y)}),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}deleteSelected(){this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="delete";const e=this.selectionHandler.getSelectedNodeIds(),r=this.selectionHandler.getSelectedEdgeIds();let i;if(e.length>0){for(let n=0;n<e.length;n++)if(this.body.nodes[e[n]].isCluster===!0){alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);return}typeof this.options.deleteNode=="function"&&(i=this.options.deleteNode)}else r.length>0&&typeof this.options.deleteEdge=="function"&&(i=this.options.deleteEdge);if(typeof i=="function"){const n={nodes:e,edges:r};if(i.length===2)i(n,o=>{o!=null&&this.inMode==="delete"?(this.body.data.edges.getDataSet().remove(o.edges),this.body.data.nodes.getDataSet().remove(o.nodes),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()):(this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar())});else throw new Error("The function for delete does not support two arguments (data, callback)")}else this.body.data.edges.getDataSet().remove(r),this.body.data.nodes.getDataSet().remove(e),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}_setup(){this.options.enabled===!0?(this.guiEnabled=!0,this._createWrappers(),this.editMode===!1?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}_createWrappers(){if(this.manipulationDiv===void 0&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",this.editMode===!0?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.canvas.frame.appendChild(this.manipulationDiv)),this.editModeDiv===void 0&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",this.editMode===!0?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.canvas.frame.appendChild(this.editModeDiv)),this.closeDiv===void 0){var e,r;this.closeDiv=document.createElement("button"),this.closeDiv.className="vis-close",this.closeDiv.setAttribute("aria-label",(e=(r=this.options.locales[this.options.locale])===null||r===void 0?void 0:r.close)!==null&&e!==void 0?e:this.options.locales.en.close),this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv)}}_getNewTargetNode(e,r){const i=je({},this.options.controlNodeStyle);i.id="targetNode"+Ma(),i.hidden=!1,i.physics=!1,i.x=e,i.y=r;const n=this.body.functions.createNode(i);return n.shape.boundingBox={left:e,right:e,top:r,bottom:r},n}_createEditButton(){var e;this._clean(),this.manipulationDOM={},tn(this.editModeDiv);const r=this.options.locales[this.options.locale],i=this._createButton("editMode","vis-edit vis-edit-mode",r.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(i),this._bindElementEvents(i,B(e=this.toggleEditMode).call(e,this))}_clean(){this.inMode=!1,this.guiEnabled===!0&&(tn(this.editModeDiv),tn(this.manipulationDiv),this._cleanupDOMEventListeners()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}_cleanupDOMEventListeners(){for(const r of ki(e=this._domEventListenerCleanupQueue).call(e,0)){var e;r()}}_removeManipulationDOM(){this._clean(),tn(this.manipulationDiv),tn(this.editModeDiv),tn(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}_createSeperator(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+e]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+e].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+e])}_createAddNodeButton(e){var r;const i=this._createButton("addNode","vis-add",e.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,B(r=this.addNodeMode).call(r,this))}_createAddEdgeButton(e){var r;const i=this._createButton("addEdge","vis-connect",e.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,B(r=this.addEdgeMode).call(r,this))}_createEditNodeButton(e){var r;const i=this._createButton("editNode","vis-edit",e.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,B(r=this.editNode).call(r,this))}_createEditEdgeButton(e){var r;const i=this._createButton("editEdge","vis-edit",e.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,B(r=this.editEdgeMode).call(r,this))}_createDeleteButton(e){var r;let i;this.options.rtl?i="vis-delete-rtl":i="vis-delete";const n=this._createButton("delete",i,e.del||this.options.locales.en.del);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,B(r=this.deleteSelected).call(r,this))}_createBackButton(e){var r;const i=this._createButton("back","vis-back",e.back||this.options.locales.en.back);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,B(r=this.showManipulatorToolbar).call(r,this))}_createButton(e,r,i){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"vis-label";return this.manipulationDOM[e+"Div"]=document.createElement("button"),this.manipulationDOM[e+"Div"].className="vis-button "+r,this.manipulationDOM[e+"Label"]=document.createElement("div"),this.manipulationDOM[e+"Label"].className=n,this.manipulationDOM[e+"Label"].innerText=i,this.manipulationDOM[e+"Div"].appendChild(this.manipulationDOM[e+"Label"]),this.manipulationDOM[e+"Div"]}_createDescription(e){this.manipulationDOM.descriptionLabel=document.createElement("div"),this.manipulationDOM.descriptionLabel.className="vis-none",this.manipulationDOM.descriptionLabel.innerText=e,this.manipulationDiv.appendChild(this.manipulationDOM.descriptionLabel)}_temporaryBindEvent(e,r){this.temporaryEventFunctions.push({event:e,boundFunction:r}),this.body.emitter.on(e,r)}_temporaryBindUI(e,r){if(this.body.eventListeners[e]!==void 0)this.temporaryUIFunctions[e]=this.body.eventListeners[e],this.body.eventListeners[e]=r;else throw new Error("This UI function does not exist. Typo? You tried: "+e+" possible are: "+Jl(Ze(this.body.eventListeners)))}_unbindTemporaryUIs(){for(const e in this.temporaryUIFunctions)Object.prototype.hasOwnProperty.call(this.temporaryUIFunctions,e)&&(this.body.eventListeners[e]=this.temporaryUIFunctions[e],delete this.temporaryUIFunctions[e]);this.temporaryUIFunctions={}}_unbindTemporaryEvents(){for(let e=0;e<this.temporaryEventFunctions.length;e++){const r=this.temporaryEventFunctions[e].event,i=this.temporaryEventFunctions[e].boundFunction;this.body.emitter.off(r,i)}this.temporaryEventFunctions=[]}_bindElementEvents(e,r){const i=new hs(e,{});Qd(i,r),this._domEventListenerCleanupQueue.push(()=>{i.destroy()});const n=o=>{let{keyCode:s,key:a}=o;(a==="Enter"||a===" "||s===13||s===32)&&r()};e.addEventListener("keyup",n,!1),this._domEventListenerCleanupQueue.push(()=>{e.removeEventListener("keyup",n,!1)})}_cleanupTemporaryNodesAndEdges(){for(let o=0;o<this.temporaryIds.edges.length;o++){var e;this.body.edges[this.temporaryIds.edges[o]].disconnect(),delete this.body.edges[this.temporaryIds.edges[o]];const s=Pe(e=this.body.edgeIndices).call(e,this.temporaryIds.edges[o]);if(s!==-1){var r;ki(r=this.body.edgeIndices).call(r,s,1)}}for(let o=0;o<this.temporaryIds.nodes.length;o++){var i;delete this.body.nodes[this.temporaryIds.nodes[o]];const s=Pe(i=this.body.nodeIndices).call(i,this.temporaryIds.nodes[o]);if(s!==-1){var n;ki(n=this.body.nodeIndices).call(n,s,1)}}this.temporaryIds={nodes:[],edges:[]}}_controlNodeTouch(e){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=pt({},this.body.view.translation)}_controlNodeDragStart(){const e=this.lastTouch,r=this.selectionHandler._pointerToPositionObject(e),i=this.body.nodes[this.temporaryIds.nodes[0]],n=this.body.nodes[this.temporaryIds.nodes[1]],o=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;const s=i.isOverlappingWith(r),a=n.isOverlappingWith(r);s===!0?(this.selectedControlNode=i,o.edgeType.from=i):a===!0&&(this.selectedControlNode=n,o.edgeType.to=n),this.selectedControlNode!==void 0&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}_controlNodeDrag(e){this.body.emitter.emit("disablePhysics");const r=this.body.functions.getPointer(e.center),i=this.canvas.DOMtoCanvas(r);this.selectedControlNode!==void 0?(this.selectedControlNode.x=i.x,this.selectedControlNode.y=i.y):this.interactionHandler.onDrag(e),this.body.emitter.emit("_redraw")}_controlNodeDragEnd(e){const r=this.body.functions.getPointer(e.center),i=this.selectionHandler._pointerToPositionObject(r),n=this.body.edges[this.edgeBeingEditedId];if(this.selectedControlNode===void 0)return;this.selectionHandler.unselectAll();const o=this.selectionHandler._getAllNodesOverlappingWith(i);let s;for(let a=o.length-1;a>=0;a--)if(o[a]!==this.selectedControlNode.id){s=this.body.nodes[o[a]];break}if(s!==void 0&&this.selectedControlNode!==void 0)if(s.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{const a=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===a.id?this._performEditEdge(s.id,n.to.id):this._performEditEdge(n.from.id,s.id)}else n.updateEdgeType(),this.body.emitter.emit("restorePhysics");this.body.emitter.emit("_redraw")}_handleConnect(e){if(new Date().valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=pt({},this.body.view.translation),this.interactionHandler.drag.pointer=this.lastTouch,this.interactionHandler.drag.translation=this.lastTouch.translation;const r=this.lastTouch,i=this.selectionHandler.getNodeAt(r);if(i!==void 0)if(i.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{const n=this._getNewTargetNode(i.x,i.y);this.body.nodes[n.id]=n,this.body.nodeIndices.push(n.id);const o=this.body.functions.createEdge({id:"connectionEdge"+Ma(),from:i.id,to:n.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[o.id]=o,this.body.edgeIndices.push(o.id),this.temporaryIds.nodes.push(n.id),this.temporaryIds.edges.push(o.id)}this.touchTime=new Date().valueOf()}}_dragControlNode(e){const r=this.body.functions.getPointer(e.center),i=this.selectionHandler._pointerToPositionObject(r);let n;this.temporaryIds.edges[0]!==void 0&&(n=this.body.edges[this.temporaryIds.edges[0]].fromId);const o=this.selectionHandler._getAllNodesOverlappingWith(i);let s;for(let l=o.length-1;l>=0;l--){var a;if(Pe(a=this.temporaryIds.nodes).call(a,o[l])===-1){s=this.body.nodes[o[l]];break}}if(e.controlEdge={from:n,to:s?s.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragging",e,r),this.temporaryIds.nodes[0]!==void 0){const l=this.body.nodes[this.temporaryIds.nodes[0]];l.x=this.canvas._XconvertDOMtoCanvas(r.x),l.y=this.canvas._YconvertDOMtoCanvas(r.y),this.body.emitter.emit("_redraw")}else this.interactionHandler.onDrag(e)}_finishConnect(e){const r=this.body.functions.getPointer(e.center),i=this.selectionHandler._pointerToPositionObject(r);let n;this.temporaryIds.edges[0]!==void 0&&(n=this.body.edges[this.temporaryIds.edges[0]].fromId);const o=this.selectionHandler._getAllNodesOverlappingWith(i);let s;for(let l=o.length-1;l>=0;l--){var a;if(Pe(a=this.temporaryIds.nodes).call(a,o[l])===-1){s=this.body.nodes[o[l]];break}}this._cleanupTemporaryNodesAndEdges(),s!==void 0&&(s.isCluster===!0?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):this.body.nodes[n]!==void 0&&this.body.nodes[s.id]!==void 0&&this._performAddEdge(n,s.id)),e.controlEdge={from:n,to:s?s.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragEnd",e,r),this.body.emitter.emit("_redraw")}_dragStartEdge(e){const r=this.lastTouch;this.selectionHandler.generateClickEvent("dragStart",e,r,void 0,!0)}_performAddNode(e){const r={id:Ma(),x:e.pointer.canvas.x,y:e.pointer.canvas.y,label:"new"};if(typeof this.options.addNode=="function")if(this.options.addNode.length===2)this.options.addNode(r,i=>{i!=null&&this.inMode==="addNode"&&this.body.data.nodes.getDataSet().add(i),this.showManipulatorToolbar()});else throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");else this.body.data.nodes.getDataSet().add(r),this.showManipulatorToolbar()}_performAddEdge(e,r){const i={from:e,to:r};if(typeof this.options.addEdge=="function")if(this.options.addEdge.length===2)this.options.addEdge(i,n=>{n!=null&&this.inMode==="addEdge"&&(this.body.data.edges.getDataSet().add(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar())});else throw new Error("The function for connect does not support two arguments (data,callback)");else this.body.data.edges.getDataSet().add(i),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}_performEditEdge(e,r){const i={id:this.edgeBeingEditedId,from:e,to:r,label:this.body.data.edges.get(this.edgeBeingEditedId).label};let n=this.options.editEdge;if(typeof n=="object"&&(n=n.editWithoutDrag),typeof n=="function")if(n.length===2)n(i,o=>{o==null||this.inMode!=="editEdge"?(this.body.edges[i.id].updateEdgeType(),this.body.emitter.emit("_redraw"),this.showManipulatorToolbar()):(this.body.data.edges.getDataSet().update(o),this.selectionHandler.unselectAll(),this.showManipulatorToolbar())});else throw new Error("The function for edit does not support two arguments (data, callback)");else this.body.data.edges.getDataSet().update(i),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}const V="string",q="boolean",I="number",va="array",ne="object",hC="dom",kbe="any",Fp=["arrow","bar","box","circle","crow","curve","diamond","image","inv_curve","inv_triangle","triangle","vee"],qp={borderWidth:{number:I},borderWidthSelected:{number:I,undefined:"undefined"},brokenImage:{string:V,undefined:"undefined"},chosen:{label:{boolean:q,function:"function"},node:{boolean:q,function:"function"},__type__:{object:ne,boolean:q}},color:{border:{string:V},background:{string:V},highlight:{border:{string:V},background:{string:V},__type__:{object:ne,string:V}},hover:{border:{string:V},background:{string:V},__type__:{object:ne,string:V}},__type__:{object:ne,string:V}},opacity:{number:I,undefined:"undefined"},fixed:{x:{boolean:q},y:{boolean:q},__type__:{object:ne,boolean:q}},font:{align:{string:V},color:{string:V},size:{number:I},face:{string:V},background:{string:V},strokeWidth:{number:I},strokeColor:{string:V},vadjust:{number:I},multi:{boolean:q,string:V},bold:{color:{string:V},size:{number:I},face:{string:V},mod:{string:V},vadjust:{number:I},__type__:{object:ne,string:V}},boldital:{color:{string:V},size:{number:I},face:{string:V},mod:{string:V},vadjust:{number:I},__type__:{object:ne,string:V}},ital:{color:{string:V},size:{number:I},face:{string:V},mod:{string:V},vadjust:{number:I},__type__:{object:ne,string:V}},mono:{color:{string:V},size:{number:I},face:{string:V},mod:{string:V},vadjust:{number:I},__type__:{object:ne,string:V}},__type__:{object:ne,string:V}},group:{string:V,number:I,undefined:"undefined"},heightConstraint:{minimum:{number:I},valign:{string:V},__type__:{object:ne,boolean:q,number:I}},hidden:{boolean:q},icon:{face:{string:V},code:{string:V},size:{number:I},color:{string:V},weight:{string:V,number:I},__type__:{object:ne}},id:{string:V,number:I},image:{selected:{string:V,undefined:"undefined"},unselected:{string:V,undefined:"undefined"},__type__:{object:ne,string:V}},imagePadding:{top:{number:I},right:{number:I},bottom:{number:I},left:{number:I},__type__:{object:ne,number:I}},label:{string:V,undefined:"undefined"},labelHighlightBold:{boolean:q},level:{number:I,undefined:"undefined"},margin:{top:{number:I},right:{number:I},bottom:{number:I},left:{number:I},__type__:{object:ne,number:I}},mass:{number:I},physics:{boolean:q},scaling:{min:{number:I},max:{number:I},label:{enabled:{boolean:q},min:{number:I},max:{number:I},maxVisible:{number:I},drawThreshold:{number:I},__type__:{object:ne,boolean:q}},customScalingFunction:{function:"function"},__type__:{object:ne}},shadow:{enabled:{boolean:q},color:{string:V},size:{number:I},x:{number:I},y:{number:I},__type__:{object:ne,boolean:q}},shape:{string:["custom","ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},ctxRenderer:{function:"function"},shapeProperties:{borderDashes:{boolean:q,array:va},borderRadius:{number:I},interpolation:{boolean:q},useImageSize:{boolean:q},useBorderWithImage:{boolean:q},coordinateOrigin:{string:["center","top-left"]},__type__:{object:ne}},size:{number:I},title:{string:V,dom:hC,undefined:"undefined"},value:{number:I,undefined:"undefined"},widthConstraint:{minimum:{number:I},maximum:{number:I},__type__:{object:ne,boolean:q,number:I}},x:{number:I},y:{number:I},__type__:{object:ne}},xbe={configure:{enabled:{boolean:q},filter:{boolean:q,string:V,array:va,function:"function"},container:{dom:hC},showButton:{boolean:q},__type__:{object:ne,boolean:q,string:V,array:va,function:"function"}},edges:{arrows:{to:{enabled:{boolean:q},scaleFactor:{number:I},type:{string:Fp},imageHeight:{number:I},imageWidth:{number:I},src:{string:V},__type__:{object:ne,boolean:q}},middle:{enabled:{boolean:q},scaleFactor:{number:I},type:{string:Fp},imageWidth:{number:I},imageHeight:{number:I},src:{string:V},__type__:{object:ne,boolean:q}},from:{enabled:{boolean:q},scaleFactor:{number:I},type:{string:Fp},imageWidth:{number:I},imageHeight:{number:I},src:{string:V},__type__:{object:ne,boolean:q}},__type__:{string:["from","to","middle"],object:ne}},endPointOffset:{from:{number:I},to:{number:I},__type__:{object:ne,number:I}},arrowStrikethrough:{boolean:q},background:{enabled:{boolean:q},color:{string:V},size:{number:I},dashes:{boolean:q,array:va},__type__:{object:ne,boolean:q}},chosen:{label:{boolean:q,function:"function"},edge:{boolean:q,function:"function"},__type__:{object:ne,boolean:q}},color:{color:{string:V},highlight:{string:V},hover:{string:V},inherit:{string:["from","to","both"],boolean:q},opacity:{number:I},__type__:{object:ne,string:V}},dashes:{boolean:q,array:va},font:{color:{string:V},size:{number:I},face:{string:V},background:{string:V},strokeWidth:{number:I},strokeColor:{string:V},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:I},multi:{boolean:q,string:V},bold:{color:{string:V},size:{number:I},face:{string:V},mod:{string:V},vadjust:{number:I},__type__:{object:ne,string:V}},boldital:{color:{string:V},size:{number:I},face:{string:V},mod:{string:V},vadjust:{number:I},__type__:{object:ne,string:V}},ital:{color:{string:V},size:{number:I},face:{string:V},mod:{string:V},vadjust:{number:I},__type__:{object:ne,string:V}},mono:{color:{string:V},size:{number:I},face:{string:V},mod:{string:V},vadjust:{number:I},__type__:{object:ne,string:V}},__type__:{object:ne,string:V}},hidden:{boolean:q},hoverWidth:{function:"function",number:I},label:{string:V,undefined:"undefined"},labelHighlightBold:{boolean:q},length:{number:I,undefined:"undefined"},physics:{boolean:q},scaling:{min:{number:I},max:{number:I},label:{enabled:{boolean:q},min:{number:I},max:{number:I},maxVisible:{number:I},drawThreshold:{number:I},__type__:{object:ne,boolean:q}},customScalingFunction:{function:"function"},__type__:{object:ne}},selectionWidth:{function:"function",number:I},selfReferenceSize:{number:I},selfReference:{size:{number:I},angle:{number:I},renderBehindTheNode:{boolean:q},__type__:{object:ne}},shadow:{enabled:{boolean:q},color:{string:V},size:{number:I},x:{number:I},y:{number:I},__type__:{object:ne,boolean:q}},smooth:{enabled:{boolean:q},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:I},forceDirection:{string:["horizontal","vertical","none"],boolean:q},__type__:{object:ne,boolean:q}},title:{string:V,undefined:"undefined"},width:{number:I},widthConstraint:{maximum:{number:I},__type__:{object:ne,boolean:q,number:I}},value:{number:I,undefined:"undefined"},__type__:{object:ne}},groups:{useDefaultGroups:{boolean:q},__any__:qp,__type__:{object:ne}},interaction:{dragNodes:{boolean:q},dragView:{boolean:q},hideEdgesOnDrag:{boolean:q},hideEdgesOnZoom:{boolean:q},hideNodesOnDrag:{boolean:q},hover:{boolean:q},keyboard:{enabled:{boolean:q},speed:{x:{number:I},y:{number:I},zoom:{number:I},__type__:{object:ne}},bindToWindow:{boolean:q},autoFocus:{boolean:q},__type__:{object:ne,boolean:q}},multiselect:{boolean:q},navigationButtons:{boolean:q},selectable:{boolean:q},selectConnectedEdges:{boolean:q},hoverConnectedEdges:{boolean:q},tooltipDelay:{number:I},zoomView:{boolean:q},zoomSpeed:{number:I},__type__:{object:ne}},layout:{randomSeed:{undefined:"undefined",number:I,string:V},improvedLayout:{boolean:q},clusterThreshold:{number:I},hierarchical:{enabled:{boolean:q},levelSeparation:{number:I},nodeSpacing:{number:I},treeSpacing:{number:I},blockShifting:{boolean:q},edgeMinimization:{boolean:q},parentCentralization:{boolean:q},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},shakeTowards:{string:["leaves","roots"]},__type__:{object:ne,boolean:q}},__type__:{object:ne}},manipulation:{enabled:{boolean:q},initiallyActive:{boolean:q},addNode:{boolean:q,function:"function"},addEdge:{boolean:q,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:ne,boolean:q,function:"function"}},deleteNode:{boolean:q,function:"function"},deleteEdge:{boolean:q,function:"function"},controlNodeStyle:qp,__type__:{object:ne,boolean:q}},nodes:qp,physics:{enabled:{boolean:q},barnesHut:{theta:{number:I},gravitationalConstant:{number:I},centralGravity:{number:I},springLength:{number:I},springConstant:{number:I},damping:{number:I},avoidOverlap:{number:I},__type__:{object:ne}},forceAtlas2Based:{theta:{number:I},gravitationalConstant:{number:I},centralGravity:{number:I},springLength:{number:I},springConstant:{number:I},damping:{number:I},avoidOverlap:{number:I},__type__:{object:ne}},repulsion:{centralGravity:{number:I},springLength:{number:I},springConstant:{number:I},nodeDistance:{number:I},damping:{number:I},__type__:{object:ne}},hierarchicalRepulsion:{centralGravity:{number:I},springLength:{number:I},springConstant:{number:I},nodeDistance:{number:I},damping:{number:I},avoidOverlap:{number:I},__type__:{object:ne}},maxVelocity:{number:I},minVelocity:{number:I},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:q},iterations:{number:I},updateInterval:{number:I},onlyDynamicEdges:{boolean:q},fit:{boolean:q},__type__:{object:ne,boolean:q}},timestep:{number:I},adaptiveTimestep:{boolean:q},wind:{x:{number:I},y:{number:I},__type__:{object:ne}},__type__:{object:ne,boolean:q}},autoResize:{boolean:q},clickToUse:{boolean:q},locale:{string:V},locales:{__any__:{any:kbe},__type__:{object:ne}},height:{string:V},width:{string:V},__type__:{object:ne}},fC={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},opacity:[0,0,1,.1],fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},endPointOffset:{from:[0,-10,10,1],to:[0,-10,10,1]},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],selfReference:{size:[20,0,200,1],angle:[Math.PI/2,-6*Math.PI,6*Math.PI,Math.PI/8],renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"],shakeTowards:["leaves","roots"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0,autoFocus:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0,zoomSpeed:[1,.1,2,.1]},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{theta:[.5,.1,1,.05],gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{theta:[.5,.1,1,.05],gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01],wind:{x:[0,-10,10,.1],y:[0,-10,10,.1]}}},Abe=(t,e,r)=>{var i;return!!(gn(t).call(t,"physics")&&gn(i=fC.physics.solver).call(i,e)&&r.physics.solver!==e&&e!=="wind")};class Cbe{constructor(){}getDistances(e,r,i){const n={},o=e.edges;for(let a=0;a<r.length;a++){const l=r[a],c={};n[l]=c;for(let d=0;d<r.length;d++)c[r[d]]=a==d?0:1e9}for(let a=0;a<i.length;a++){const l=o[i[a]];l.connected===!0&&n[l.fromId]!==void 0&&n[l.toId]!==void 0&&(n[l.fromId][l.toId]=1,n[l.toId][l.fromId]=1)}const s=r.length;for(let a=0;a<s;a++){const l=r[a],c=n[l];for(let d=0;d<s-1;d++){const u=r[d],h=n[u];for(let f=d+1;f<s;f++){const p=r[f],v=n[p],y=Math.min(h[p],h[l]+c[p]);h[p]=y,v[u]=y}}}return n}}class Pbe{constructor(e,r,i){this.body=e,this.springLength=r,this.springConstant=i,this.distanceSolver=new Cbe}setOptions(e){e&&(e.springLength&&(this.springLength=e.springLength),e.springConstant&&(this.springConstant=e.springConstant))}solve(e,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const n=this.distanceSolver.getDistances(this.body,e,r);this._createL_matrix(n),this._createK_matrix(n),this._createE_matrix();const o=.01,s=1;let a=0;const l=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),c=5;let d=1e9,u=0,h=0,f=0,p=0,v=0;for(;d>o&&a<l;)for(a+=1,[u,d,h,f]=this._getHighestEnergyNode(i),p=d,v=0;p>s&&v<c;)v+=1,this._moveNode(u,h,f),[p,h,f]=this._getEnergy(u)}_getHighestEnergyNode(e){const r=this.body.nodeIndices,i=this.body.nodes;let n=0,o=r[0],s=0,a=0;for(let l=0;l<r.length;l++){const c=r[l];if(i[c].predefinedPosition!==!0||i[c].isCluster===!0&&e===!0||i[c].options.fixed.x!==!0||i[c].options.fixed.y!==!0){const[d,u,h]=this._getEnergy(c);n<d&&(n=d,o=c,s=u,a=h)}}return[o,n,s,a]}_getEnergy(e){const[r,i]=this.E_sums[e];return[Math.sqrt(r**2+i**2),r,i]}_moveNode(e,r,i){const n=this.body.nodeIndices,o=this.body.nodes;let s=0,a=0,l=0;const c=o[e].x,d=o[e].y,u=this.K_matrix[e],h=this.L_matrix[e];for(let _=0;_<n.length;_++){const E=n[_];if(E!==e){const W=o[E].x,X=o[E].y,z=u[E],R=h[E],x=1/((c-W)**2+(d-X)**2)**1.5;s+=z*(1-R*(d-X)**2*x),a+=z*(R*(c-W)*(d-X)*x),l+=z*(1-R*(c-W)**2*x)}}const f=s,p=a,v=r,y=l,m=i,$=(v/f+m/p)/(p/f-y/p),S=-(p*$+v)/f;o[e].x+=S,o[e].y+=$,this._updateE_matrix(e)}_createL_matrix(e){const r=this.body.nodeIndices,i=this.springLength;this.L_matrix=[];for(let n=0;n<r.length;n++){this.L_matrix[r[n]]={};for(let o=0;o<r.length;o++)this.L_matrix[r[n]][r[o]]=i*e[r[n]][r[o]]}}_createK_matrix(e){const r=this.body.nodeIndices,i=this.springConstant;this.K_matrix=[];for(let n=0;n<r.length;n++){this.K_matrix[r[n]]={};for(let o=0;o<r.length;o++)this.K_matrix[r[n]][r[o]]=i*e[r[n]][r[o]]**-2}}_createE_matrix(){const e=this.body.nodeIndices,r=this.body.nodes;this.E_matrix={},this.E_sums={};for(let i=0;i<e.length;i++)this.E_matrix[e[i]]=[];for(let i=0;i<e.length;i++){const n=e[i],o=r[n].x,s=r[n].y;let a=0,l=0;for(let c=i;c<e.length;c++){const d=e[c];if(d!==n){const u=r[d].x,h=r[d].y,f=1/Math.sqrt((o-u)**2+(s-h)**2);this.E_matrix[n][c]=[this.K_matrix[n][d]*(o-u-this.L_matrix[n][d]*(o-u)*f),this.K_matrix[n][d]*(s-h-this.L_matrix[n][d]*(s-h)*f)],this.E_matrix[d][i]=this.E_matrix[n][c],a+=this.E_matrix[n][c][0],l+=this.E_matrix[n][c][1]}}this.E_sums[n]=[a,l]}}_updateE_matrix(e){const r=this.body.nodeIndices,i=this.body.nodes,n=this.E_matrix[e],o=this.K_matrix[e],s=this.L_matrix[e],a=i[e].x,l=i[e].y;let c=0,d=0;for(let u=0;u<r.length;u++){const h=r[u];if(h!==e){const f=n[u],p=f[0],v=f[1],y=i[h].x,m=i[h].y,$=1/Math.sqrt((a-y)**2+(l-m)**2),S=o[h]*(a-y-s[h]*(a-y)*$),_=o[h]*(l-m-s[h]*(l-m)*$);n[u]=[S,_],c+=S,d+=_;const E=this.E_sums[h];E[0]+=S-p,E[1]+=_-v}}this.E_sums[e]=[c,d]}}function ie(t,e,r){var i,n,o,s;if(!(this instanceof ie))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:cue,clickToUse:!1},pt(this.options,this.defaultOptions),this.body={container:t,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:B(i=this.on).call(i,this),off:B(n=this.off).call(n,this),emit:B(o=this.emit).call(o,this),once:B(s=this.once).call(s,this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}},selectionBox:{show:!1,position:{start:{x:0,y:0},end:{x:0,y:0}}}},this.bindEventListeners(),this.images=new hue(()=>this.body.emitter.emit("_requestRedraw")),this.groups=new afe,this.canvas=new $me(this.body),this.selectionHandler=new sye(this.body,this.canvas),this.interactionHandler=new Ime(this.body,this.canvas,this.selectionHandler),this.view=new _me(this.body,this.canvas),this.renderer=new gme(this.body,this.canvas),this.physics=new lme(this.body),this.layoutEngine=new Tbe(this.body),this.clustering=new pme(this.body),this.manipulation=new Obe(this.body,this.canvas,this.selectionHandler,this.interactionHandler),this.nodesHandler=new Pve(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new rme(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new Pbe(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(r),this.setData(e)}Pk(ie.prototype);ie.prototype.setOptions=function(t){if(t===null&&(t=void 0),t!==void 0){if(Lde.validate(t,xbe)===!0&&console.error("%cErrors have been found in the supplied options object.",pA),ea(["locale","locales","clickToUse"],this.options,t),t.locale!==void 0&&(t.locale=due(t.locales||this.options.locales,t.locale)),t=this.layoutEngine.setOptions(t.layout,t),this.canvas.setOptions(t),this.groups.setOptions(t.groups),this.nodesHandler.setOptions(t.nodes),this.edgesHandler.setOptions(t.edges),this.physics.setOptions(t.physics),this.manipulation.setOptions(t.manipulation,t,this.options),this.interactionHandler.setOptions(t.interaction),this.renderer.setOptions(t.interaction),this.selectionHandler.setOptions(t.interaction),t.groups!==void 0&&this.body.emitter.emit("refreshNodes"),"configure"in t&&(this.configurator||(this.configurator=new qde(this,this.body.container,fC,this.canvas.pixelRatio,Abe)),this.configurator.setOptions(t.configure)),this.configurator&&this.configurator.options.enabled===!0){const i={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};je(i.nodes,this.nodesHandler.options),je(i.edges,this.edgesHandler.options),je(i.layout,this.layoutEngine.options),je(i.interaction,this.selectionHandler.options),je(i.interaction,this.renderer.options),je(i.interaction,this.interactionHandler.options),je(i.manipulation,this.manipulation.options),je(i.physics,this.physics.options),je(i.global,this.canvas.options),je(i.global,this.options),this.configurator.setModuleOptions(i)}t.clickToUse!==void 0?t.clickToUse===!0?this.activator===void 0&&(this.activator=new Fde(this.canvas.frame),this.activator.on("change",()=>{this.body.emitter.emit("activate")})):(this.activator!==void 0&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}};ie.prototype._updateVisibleIndices=function(){const t=this.body.nodes,e=this.body.edges;this.body.nodeIndices=[],this.body.edgeIndices=[];for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&!this.clustering._isClusteredNode(r)&&t[r].options.hidden===!1&&this.body.nodeIndices.push(t[r].id);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const i=e[r],n=t[i.fromId],o=t[i.toId],s=n!==void 0&&o!==void 0;!this.clustering._isClusteredEdge(r)&&i.options.hidden===!1&&s&&n.options.hidden===!1&&o.options.hidden===!1&&this.body.edgeIndices.push(i.id)}};ie.prototype.bindEventListeners=function(){this.body.emitter.on("_dataChanged",()=>{this.edgesHandler._updateState(),this.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",()=>{this.clustering._updateState(),this._updateVisibleIndices(),this._updateValueRange(this.body.nodes),this._updateValueRange(this.body.edges),this.body.emitter.emit("startSimulation"),this.body.emitter.emit("_requestRedraw")})};ie.prototype.setData=function(t){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),t&&t.dot&&(t.nodes||t.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(t&&t.options),t&&t.dot){console.warn("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");const e=Xde(t.dot);this.setData(e);return}else if(t&&t.gephi){console.warn("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");const e=Jde(t.gephi);this.setData(e);return}else this.nodesHandler.setData(t&&t.nodes,!0),this.edgesHandler.setData(t&&t.edges,!0);this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")};ie.prototype.destroy=function(){this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images;for(const t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&delete this.body.nodes[t];for(const t in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,t)&&delete this.body.edges[t];tn(this.body.container)};ie.prototype._updateValueRange=function(t){let e,r,i,n=0;for(e in t)if(Object.prototype.hasOwnProperty.call(t,e)){const o=t[e].getValue();o!==void 0&&(r=r===void 0?o:Math.min(o,r),i=i===void 0?o:Math.max(o,i),n+=o)}if(r!==void 0&&i!==void 0)for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&t[e].setValueRange(r,i,n)};ie.prototype.isActive=function(){return!this.activator||this.activator.active};ie.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)};ie.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)};ie.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)};ie.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)};ie.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)};ie.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)};ie.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)};ie.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)};ie.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)};ie.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)};ie.prototype.updateClusteredNode=function(){return this.clustering.updateClusteredNode.apply(this.clustering,arguments)};ie.prototype.getClusteredEdges=function(){return this.clustering.getClusteredEdges.apply(this.clustering,arguments)};ie.prototype.getBaseEdge=function(){return this.clustering.getBaseEdge.apply(this.clustering,arguments)};ie.prototype.getBaseEdges=function(){return this.clustering.getBaseEdges.apply(this.clustering,arguments)};ie.prototype.updateEdge=function(){return this.clustering.updateEdge.apply(this.clustering,arguments)};ie.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)};ie.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)};ie.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)};ie.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)};ie.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)};ie.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)};ie.prototype.editNodeMode=function(){return console.warn("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)};ie.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)};ie.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)};ie.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)};ie.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)};ie.prototype.getPosition=function(){return this.nodesHandler.getPosition.apply(this.nodesHandler,arguments)};ie.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)};ie.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)};ie.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)};ie.prototype.getConnectedNodes=function(t){return this.body.nodes[t]!==void 0?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)};ie.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)};ie.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)};ie.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)};ie.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)};ie.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)};ie.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)};ie.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodeIds.apply(this.selectionHandler,arguments)};ie.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdgeIds.apply(this.selectionHandler,arguments)};ie.prototype.getNodeAt=function(){const t=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return t!==void 0&&t.id!==void 0?t.id:t};ie.prototype.getEdgeAt=function(){const t=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return t!==void 0&&t.id!==void 0?t.id:t};ie.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)};ie.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)};ie.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.selectionHandler.commitWithoutEmitting.apply(this.selectionHandler),this.redraw()};ie.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)};ie.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)};ie.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)};ie.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)};ie.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)};ie.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)};ie.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)};ie.prototype.getOptionsFromConfigurator=function(){let t={};return this.configurator&&(t=this.configurator.getOptions.apply(this.configurator)),t};function Dbe(){var r;const t=[],e={};for(const[i,n]of Object.entries(za)){const o=n();if(o.metadata){if(o.metadata.routes)for(const s of o.metadata.routes)t.push({from:i,to:s.redirect,label:s.label,aspect:(r=s.aspect)==null?void 0:r.name,manners:s.manners,stat:s.stat});e[o.metadata.sectionId]||(e[o.metadata.sectionId]=[]),e[o.metadata.sectionId].push(i)}}return{links:t,sectionMap:e}}const Bp=["dream-tree-chase-game"],Mbe={class:"wrapper"},Rbe={class:"sidebar"},Nbe=["onClick"],Fbe=We({__name:"SceneGraph",setup(t){const e=Y(),r=It("All"),i=Dbe(),n=Object.keys(i.sectionMap);function o(){var R;const a=document.getElementById("scene-graph"),l=i.links,c=i.sectionMap,d=r.value==="All"?l:l.filter(x=>{var D,P;return((D=c[r.value])==null?void 0:D.includes(x.from))||((P=c[r.value])==null?void 0:P.includes(x.to))}),u={},h={},f={},p={};for(const x of d)u[x.from]||(u[x.from]=new Set),h[x.to]||(h[x.to]=new Set),u[x.from].add(x.to),h[x.to].add(x.from);const v=new Set,y=new Set,m=[],$={};for(const[x,D]of d.entries()){const P=`${D.from}->${D.to}`,oe=$[P]||0;$[P]=oe+1;let me=null;if(D.aspect||D.stat||D.manners){me=`mid:${P}:${oe}`,y.add(me);let ve=((R=D.stat)==null?void 0:R.id)??"",te=D.manners??"";if(D.stat){const ae=f[D.stat.id]??0;f[D.stat.id]=ae+1,ve=`${D.stat.id}_${ae+1}`}if(D.manners){const ae=p[D.manners]??0;p[D.manners]=ae+1,te=`${D.manners}_${ae+1}`}const Q=`${D.aspect??""}^${ve}^${te}`;v.add(Q),m.push({from:D.from,to:me,arrows:"to",label:s(D.label??"",20),font:{size:12,multi:!0},smooth:{enabled:!0,type:x%2===0?"curvedCW":"curvedCCW",roundness:.2+x%3*.1}}),m.push({from:me,to:D.to,arrows:"to",smooth:!0}),m.push({from:me,to:`char:${Q}`,label:D.stat?`${D.stat.amount>0?"+":""}${D.stat.amount}`:"",dashes:!0,arrows:"to",color:{color:"orange"},smooth:{type:"discrete",enabled:!0,roundness:.2},length:10})}!D.aspect&&!D.stat&&!D.manners&&m.push({from:D.from,to:D.to,arrows:"to",label:s(D.label??"",20),font:{size:12,multi:!0},smooth:{enabled:!0,type:x%2===0?"curvedCW":"curvedCCW",roundness:.2+x%3*.1}})}const S=new Set(d.flatMap(x=>[x.from,x.to])),_=Array.from(S).map(x=>{const D=u[x]??new Set,P=h[x]??new Set,oe=D.size===0,me=D.size===1&&[...D].every(Q=>P.has(Q)),ve=P.size==0||oe&&(n.includes(x)||x=="room"||x=="dream-faeries5"||x=="dream1"),te=oe||me;return{id:x,label:x,shape:Bp.includes(x)?"box":"ellipse",color:Bp.includes(x)?"olivedrab":ve?"gold":te?"red":"#9f3a27",font:{color:Bp.includes(x)||te||ve?"black":"white"}}}),E=Array.from(v).map(x=>{const D=x.split("^");let P="";return D[0]!=""&&(P+=`ASPECT: ${D[0]} `),D[1]!=""&&(P+=`STAT: ${D[1]} `),D[2]!=""&&(P+=`MANNERS: ${D[2]} `),{id:`char:${x}`,label:P,shape:"diamond",color:"orange"}}),W=Array.from(y).map(x=>({id:x,label:"",shape:"dot",size:2,color:"#888"})),X=[..._,...E,...W],z=new ie(a,{nodes:X,edges:m},{edges:{length:1200,smooth:{enabled:!0,type:"dynamic",roundness:.4}},layout:{hierarchical:{enabled:r.value==="All",levelSeparation:200,nodeSpacing:200,treeSpacing:300,direction:"UD",sortMethod:"directed"}},physics:{enabled:!1},interaction:{hover:!0,dragNodes:!0,dragView:!0}});z.once("afterDrawing",()=>{z.setOptions({layout:{hierarchical:{enabled:!1}}})}),z.on("click",function(x){const D=x.nodes[0],P=x.edges.length==1,oe=Object.entries(c).filter(([me,ve])=>ve.includes(D)).map(([me])=>me);n.includes(D)&&r.value!=D?r.value=D:P&&oe.length>0?r.value=oe[0]:D&&HM.includes(D)&&(e.toggleShowSceneGraph(),e.goToScene(D))})}As(o),sr(r,o);function s(a,l){const c=a.split(" "),d=[];let u="";for(const h of c)(u+h).length>l&&(d.push(u.trim()),u=""),u+=h+" ";return u&&d.push(u.trim()),d.join(`
`)}return(a,l)=>(N(),J("div",Mbe,[re("div",Rbe,[re("ul",null,[(N(!0),J(_e,null,br(U(n),c=>(N(),J("li",{key:c,onClick:d=>r.value=c,class:Hr({active:r.value===c})},Te(c),11,Nbe))),128)),re("li",{class:Hr({active:r.value==="All"}),onClick:l[0]||(l[0]=c=>r.value="All")}," All ",2),re("li",{onClick:l[1]||(l[1]=(...c)=>U(e).toggleShowSceneGraph&&U(e).toggleShowSceneGraph(...c))},"Exit")])]),l[2]||(l[2]=eD('<div class="key" data-v-5d26f8c2><ul data-v-5d26f8c2> Key <li data-v-5d26f8c2><div class="oval" style="background-color:brown;" data-v-5d26f8c2></div><p data-v-5d26f8c2>Scene</p></li><li data-v-5d26f8c2><div class="oval" style="background-color:gold;" data-v-5d26f8c2></div><p data-v-5d26f8c2>Section</p></li><li data-v-5d26f8c2><div class="oval" style="background-color:red;" data-v-5d26f8c2></div><p data-v-5d26f8c2>Dead end</p></li><li data-v-5d26f8c2><div class="star" data-v-5d26f8c2></div><p data-v-5d26f8c2>Stat</p></li><li data-v-5d26f8c2><div class="diamond" data-v-5d26f8c2></div><p data-v-5d26f8c2>Aspect</p></li></ul></div><div class="graph-area" id="scene-graph" data-v-5d26f8c2></div>',2))]))}}),qbe=tt(Fbe,[["__scopeId","data-v-5d26f8c2"]]),Bbe="/void-leeba/assets/drunk1-DrVlYBK_.png",Lbe="/void-leeba/assets/drunk1-C-V1FUCq.mp3",jbe="/void-leeba/assets/drunk2-kqoVALxo.png",zbe="/void-leeba/assets/drunk2-DO1rXdft.mp3",Hbe="/void-leeba/assets/moon-dog-DzAfiCNY.png",Wbe="/void-leeba/assets/yeth-hound-DWlWnwdJ.png",Q_="/void-leeba/assets/redblack-dog-D_meVqWk.mp3",Vbe="/void-leeba/assets/faerie1-ldHxd3Jw.png",Ube="/void-leeba/assets/faerie1-D0gYEj12.mp3",Ybe="/void-leeba/assets/faerie2-CQAOLkmB.png",Gbe="/void-leeba/assets/faerie2-CfXRWMt3.mp3",Kbe="/void-leeba/assets/faerie3-BUlWbP2m.png",Xbe="/void-leeba/assets/faerie3-1HZvtF_3.mp3",Jbe="/void-leeba/assets/squirrel-aEJzPEzE.png",Qbe="/void-leeba/assets/squirrel-DxNRHW5x.mp3",Zbe="/void-leeba/assets/buzz-c49D3BhK.png",e$e="/void-leeba/assets/buzz-UTxwFvHz.mp3",Z_={drunk1:{id:"drunk1",name:"Drunk #1",avatar:Bbe,sound:Lbe},drunk2:{id:"drunk2",name:"Drunk #2",avatar:jbe,sound:zbe},"black-dog":{id:"black-dog",name:"Redblack Dog",avatar:Hbe,sound:Q_},"black-dog-scary":{id:"black-dog-scary",name:"Redblack Dog",avatar:Wbe,sound:Q_},faerie1:{id:"faerie1",name:"Hongatar #1",avatar:Vbe,sound:Ube},faerie2:{id:"faerie2",name:"Hongatar #2",avatar:Ybe,sound:Gbe},faerie3:{id:"faerie3",name:"Hongatar #3",avatar:Kbe,sound:Xbe},squirrel:{id:"squirrel",name:"Squirrel",avatar:Jbe,sound:Qbe},buzz:{id:"buzz",name:"Buzz Morley",avatar:Zbe,sound:e$e}},lv="/void-leeba/assets/player-pWeKlCUb.png",t$e={key:0,class:"avatar-wrapper"},r$e=["src"],i$e={class:"stack"},n$e=["src"],o$e=["src"],s$e={key:0,class:"avatar-wrapper-right"},a$e=["src"],l$e=We({__name:"Avatar",props:{showUserAvatar:{type:Boolean},currentCharacter:{},hasDialog:{type:Boolean},dialogClicked:{type:Boolean},onAvatarClicked:{type:Function}},setup(t){return(e,r)=>(N(),J(_e,null,[Ne(lo,{name:"slide-up"},{default:Ri(()=>[e.showUserAvatar?(N(),J("div",t$e,[re("img",{src:U(lv),alt:"User avatar",class:"avatar"},null,8,r$e)])):e.hasDialog&&e.currentCharacter?(N(),J("div",{class:"avatar-wrapper",key:e.currentCharacter.id,onClick:r[0]||(r[0]=Ee((...i)=>e.onAvatarClicked&&e.onAvatarClicked(...i),["stop"]))},[re("div",i$e,[re("img",{src:e.currentCharacter.avatar,alt:"",class:"avatar base"},null,8,n$e),re("img",{src:e.currentCharacter.avatar,alt:"",class:"avatar wobble"},null,8,o$e)])])):Re("",!0)]),_:1}),Ne(lo,{name:"slide-up"},{default:Ri(()=>[e.dialogClicked?(N(),J("div",s$e,[re("img",{src:U(lv),alt:"User avatar",class:"avatar-right"},null,8,a$e)])):Re("",!0)]),_:1})],64))}}),c$e=tt(l$e,[["__scopeId","data-v-5feeeffc"]]),d$e={class:"dialog-header"},u$e=["innerHTML"],h$e=We({__name:"Dialog",props:{hasDialog:{type:Boolean},dialogClicked:{type:Boolean},dialog:{},dialogIndex:{},name:{},rotationDeg:{}},emits:["update-dialog-clicked","update-dialog-index"],setup(t,{emit:e}){const r=Y(),i=t,n=e;function o(){i.hasDialog?n("update-dialog-index",i.dialogIndex+1):r.updateShowChoices(!0)}function s(){var a,l,c,d;(a=i.dialog)!=null&&a.onClick&&((l=i.dialog)==null||l.onClick()),(c=i.dialog)!=null&&c.popUp||o(),(d=i.dialog)!=null&&d.popUp&&(n("update-dialog-clicked",!0),r.updateShowChoices(!0))}return(a,l)=>(N(),lt(lo,{name:"slide-in-left"},{default:Ri(()=>[a.hasDialog||a.dialogClicked?(N(),J("div",{key:0,class:Hr(["dialog-wrapper",{"dialog-slide-up":a.dialogClicked}]),onClick:Ee(s,["stop"])},[re("div",d$e,Te(a.name.toUpperCase()),1),re("div",{class:"dialog-foreground",innerHTML:a.dialog.text},null,8,u$e)],2)):Re("",!0)]),_:1}))}}),f$e=tt(h$e,[["__scopeId","data-v-74e4dc5e"]]),p$e={key:0,class:"choices-wrapper"},g$e=["innerHTML","onClick"],v$e=We({__name:"Choices",setup(t){const e=Y(),r=qt(),i=ar(),n=It(0),o=It(!1),s=we(()=>{const S=e.currentScene(e.currentScenePayload).dialogSequence;if(typeof S=="function"){const _=S().length??0;return!!_&&n.value<_&&e.animationSkipped}}),a=we(()=>{const S=e.currentScene(e.currentScenePayload).dialogSequence;if(typeof S=="function")return S()[n.value]}),l=we(()=>a.value?Z_[a.value.characterId]:null),c=we(()=>(!s.value||o.value||n.value>=e.currentScene(e.currentScenePayload).dialogSequence().length)&&e.showChoices),d=we(()=>{const S=e.currentScene(e.currentScenePayload);return S.choices?S.choices():[]}),u=we(()=>e.currentSceneId!=="intro"&&e.currentSceneId!=="intro1"&&e.currentSceneId!=="start");function h(S){const _=Z_[S];_!=null&&_.sound&&r.playCharacterSound(_.sound,_.id)}function f(S){o.value=S}function p(S){n.value=S}function v(){var S,_,E,W;(S=a.value)!=null&&S.onClick?(_=a.value)==null||_.onClick():(E=a.value)!=null&&E.popUp||(s.value?p(n.value+1):e.updateShowChoices(!0)),(W=a.value)!=null&&W.popUp&&(f(!0),e.updateShowChoices(!0))}function y(S){i.toggleDrawer(),i.setDrawerView(S)}function m(S){r.click(),S.drawerView?y(S.drawerView):e.chooseOption(S)}const $=It("0");return sr(()=>({currentDialog:a,hasDialog:s}),()=>{var S;$.value=(Math.random()*2-1).toFixed(2),(S=a.value)!=null&&S.characterId&&s.value&&(o.value=!1,h(a.value.characterId))},{deep:!0}),sr(()=>e.currentSceneId,()=>{n.value=0,o.value=!1}),(S,_)=>{var E;return N(),J(_e,null,[Ne(c$e,{showUserAvatar:u.value&&c.value&&d.value.length>0&&!o.value,currentCharacter:l.value,hasDialog:s.value??!1,dialogClicked:o.value??!1,onAvatarClicked:v},null,8,["showUserAvatar","currentCharacter","hasDialog","dialogClicked"]),Ne(lo,{name:"slide-in-left"},{default:Ri(()=>[c.value&&d.value.length?(N(),J("div",p$e,[(N(!0),J(_e,null,br(d.value,(W,X)=>(N(),J("div",{key:X},[re("div",{innerHTML:` ${W.text}`,class:"choice",onClick:Ee(z=>m(W),["stop"])},null,8,g$e)]))),128))])):Re("",!0)]),_:1}),Ne(f$e,{hasDialog:s.value??!1,dialogClicked:o.value,dialog:a.value,dialogIndex:n.value,name:((E=l.value)==null?void 0:E.name)??"",rotationDeg:$.value,onUpdateDialogClicked:f,onUpdateDialogIndex:p},null,8,["hasDialog","dialogClicked","dialog","dialogIndex","name","rotationDeg"])],64)}}}),m$e=tt(v$e,[["__scopeId","data-v-b1f51700"]]),y$e=We({__name:"FadeInOverlay",setup(t){const e=Y(),r=we(()=>e.showOverlay),i=It(2e3);return(n,o)=>(N(),J("div",{class:Hr(["black-overlay",{"fade-out":!r.value}]),style:kr({transition:`opacity ${i.value/1e3}s ease`}),key:U(e).currentSceneId},null,6))}}),b$e=tt(y$e,[["__scopeId","data-v-6e202666"]]),$$e={class:"menu-list"},w$e={style:{bottom:"100px",position:"absolute"}},_$e=We({__name:"DrawerMenu",setup(t){const e=Y(),r=ar(),i=qt();function n(){window.location.reload()}function o(){r.closeDrawer(),e.toggleShowSceneGraph()}function s(l){i.click(),r.setDrawerView(l)}function a(){i.click(),r.closeDrawer()}return(l,c)=>(N(),J(_e,null,[re("ul",$$e,[re("li",{onClick:Ee(a,["stop"])},"<"),re("li",{onClick:c[0]||(c[0]=Ee(d=>s("bag"),["stop"]))},"Bag"),re("li",{onClick:c[1]||(c[1]=Ee(d=>s("phone"),["stop"]))},[c[5]||(c[5]=Rr(" Phone ")),U(r).notificationCount>0||U(r).phoneIsCrazy?(N(),J("span",{key:0,class:Hr(["notification-bubble",{"phone-crazy":U(r).phoneIsCrazy}])},Te(U(r).phoneIsCrazy?"":U(r).notificationCount),3)):Re("",!0)]),re("li",{onClick:c[2]||(c[2]=Ee(d=>s("dictionary"),["stop"]))},"Dictionary"),re("li",{onClick:c[3]||(c[3]=Ee(d=>s("stats"),["stop"]))},"Stats"),re("li",{onClick:c[4]||(c[4]=Ee(d=>s("scenes"),["stop"]))},"Scenes"),re("li",{onClick:Ee(o,["stop"])},"Scene Graph"),re("li",{onClick:Ee(n,["stop"])},"Restart")]),re("span",w$e,"Current scene: "+Te(U(e).currentSceneId),1)],64))}}),S$e=tt(_$e,[["__scopeId","data-v-49ad3f88"]]),I$e={class:"item-desc"},E$e={class:"button-wrapper"},T$e=We({__name:"DrawerSelectedItem",setup(t){const e=Xn(),r=ee(),i=ar(),n=qt();async function o(){n.click();const a=i.selectedItem;i.closeDrawer(),await e.show(a.actionText??"Nothing happened."),r.useItem(a.id)}function s(){n.click(),r.removeFromInventory(i.selectedItem.id),e.show(`-1 ${i.selectedItem.label}`),i.clearItem()}return(a,l)=>(N(),J(_e,null,[re("div",{class:"sub-menu-header",onClick:l[0]||(l[0]=Ee((...c)=>U(i).clearItem&&U(i).clearItem(...c),["stop"]))}," < "+Te(U(i).selectedItem.label),1),re("p",I$e,Te(U(i).selectedItem.description),1),re("div",E$e,[re("button",{onClick:Ee(o,["stop"])},"Use"),U(i).selectedItem.permanent?Re("",!0):(N(),J("button",{key:0,onClick:Ee(s,["stop"])}," Drop "))])],64))}}),O$e=tt(T$e,[["__scopeId","data-v-ad10f028"]]),k$e={class:"item-desc"},x$e=["onClick"],A$e=["innerHTML"],C$e=We({__name:"DrawerSelectedDictionaryEntry",setup(t){const e=ar(),r=Cv(),i=qt(),n=we(()=>e.selectedDictionaryEntry.description),o=we(()=>{const l=/{([^}]+)}/g,c=[];let d=0,u;for(;(u=l.exec(n.value))!==null;){u.index>d&&c.push({text:n.value.slice(d,u.index)});const h=u[1],f=Av[h];c.push({text:f.name,entry:f}),d=l.lastIndex}return d<n.value.length&&c.push({text:n.value.slice(d)}),c});function s(){i.click(),e.clearDictionaryEntry()}function a(l){i.click(),e.updateSelectedDictionaryEntry(l),r.addEntry(l.id)}return(l,c)=>(N(),J(_e,null,[re("div",{class:"sub-menu-header",onClick:Ee(s,["stop"])}," < "+Te(U(e).selectedDictionaryEntry.name),1),re("p",k$e,[(N(!0),J(_e,null,br(o.value,(d,u)=>(N(),J(_e,{key:u},[d.entry?(N(),J("span",{key:0,class:"clickable-term",onClick:h=>a(d.entry)},Te(d.text),9,x$e)):(N(),J("span",{key:1,innerHTML:d.text},null,8,A$e))],64))),128))])],64))}}),P$e=tt(C$e,[["__scopeId","data-v-6abbae14"]]),D$e={class:"menu-list"},M$e=["onClick"],R$e={key:0},N$e=We({__name:"Bag",setup(t){const e=ar(),r=ee(),i=qt();function n(s){i.click(),e.updateSelectedItem(s)}const o=we(()=>{const s=new Map;for(const a of r.inventory){const l=s.get(a.id);l?l.count++:s.set(a.id,{item:a,count:1})}return Array.from(s.values())});return(s,a)=>(N(),J("ul",D$e,[re("div",{class:"sub-menu-header",onClick:a[0]||(a[0]=Ee((...l)=>U(e).resetDrawerView&&U(e).resetDrawerView(...l),["stop"]))}," < Bag "),(N(!0),J(_e,null,br(o.value,({item:l,count:c},d)=>(N(),J("li",{class:"sub",key:l.id,onClick:Ee(u=>n(l),["stop"])},[re("div",null,[Rr("  "+Te(l.label)+" ",1),c>1?(N(),J("span",R$e,"x"+Te(c),1)):Re("",!0)])],8,M$e))),128))]))}}),F$e=tt(N$e,[["__scopeId","data-v-e65d1bc5"]]),q$e={class:"menu-list"},B$e=["onClick"],L$e=We({__name:"Dictionary",setup(t){const e=ar(),r=Cv(),i=qt();function n(o){i.click(),e.updateSelectedDictionaryEntry(o)}return(o,s)=>(N(),J("ul",q$e,[re("div",{class:"sub-menu-header",onClick:s[0]||(s[0]=Ee((...a)=>U(e).resetDrawerView&&U(e).resetDrawerView(...a),["stop"]))}," < Dictionary "),(N(!0),J(_e,null,br(U(r).entries,(a,l)=>(N(),J("li",{class:"sub",key:a.id,onClick:Ee(c=>n(a),["stop"])},[re("div",null," "+Te(a.name),1)],8,B$e))),128))]))}}),j$e=tt(L$e,[["__scopeId","data-v-489e414e"]]),z$e={key:0,class:"list"},H$e={key:1,class:"list"},W$e=We({__name:"Phone",setup(t){const e=Y(),r=ar(),i=we(()=>e.scenes),n=we(()=>{const c=Array.from(new Set(i.value));return Math.floor(c.length/4)}),o=we(()=>cs.length<=n.value?cs:cs.slice(0,n.value)),s=we(()=>r.phoneIsCrazy),a=we(()=>{const c=[...OM];for(let d=c.length-1;d>0;d--){const u=Math.floor(Math.random()*(d+1));[c[d],c[u]]=[c[u],c[d]]}return c}),l=It(a.value.slice(0,9));return As(()=>{if(s){let c=0;const d=a.value.slice(9),u=setInterval(()=>{c<d.length?(l.value.unshift(d[c]),c++):clearInterval(u)},3e3)}}),(c,d)=>s.value?(N(),J("ul",z$e,[re("div",{class:"sub-menu-header",onClick:d[0]||(d[0]=Ee((...u)=>U(r).resetDrawerView&&U(r).resetDrawerView(...u),["stop"]))}," < Phone "),Ne(ND,{name:"comment"},{default:Ri(()=>[(N(!0),J(_e,null,br(l.value,(u,h)=>(N(),J("li",{key:u},Te(u),1))),128))]),_:1})])):(N(),J("ul",H$e,[re("div",{class:"sub-menu-header",onClick:d[1]||(d[1]=Ee((...u)=>U(r).resetDrawerView&&U(r).resetDrawerView(...u),["stop"]))}," < Phone "),(N(!0),J(_e,null,br(o.value,(u,h)=>(N(),J("li",{key:h,class:Hr({highlight:!u.isRead})},Te(u.title),3))),128))]))}}),V$e=tt(W$e,[["__scopeId","data-v-94dd54eb"]]),U$e={class:"stat"},Y$e={class:"stat"},G$e={class:"stat"},K$e={class:"stat"},X$e={key:0,class:"stat-header"},J$e={class:"stat"},Q$e={key:1,class:"stat-header"},Z$e={class:"stat"},ewe={key:2,class:"stat-header"},twe={class:"stat"},rwe=We({__name:"Stats",setup(t){const e=ar(),r=ee(),i=fi(),n=we(()=>i.aspects);return(o,s)=>(N(),J(_e,null,[re("div",{class:"sub-menu-header",onClick:s[0]||(s[0]=Ee((...a)=>U(e).resetDrawerView&&U(e).resetDrawerView(...a),["stop"]))}," < Stats "),re("p",U$e,"Blue Magic: "+Te(U(r).blueMagic.value),1),re("p",Y$e,"Will: "+Te(U(r).will.value),1),re("p",G$e,"Shitheadedness: "+Te(U(r).shitheadedness.value),1),re("p",K$e,"Athletics: "+Te(U(r).athletics.value),1),n.value.length>0?(N(),J("div",X$e,[s[4]||(s[4]=Rr(" Aspects ")),(N(!0),J(_e,null,br(n.value,(a,l)=>(N(),J("p",J$e,[Rr(Te(a.name)+" ",1),s[1]||(s[1]=re("br",null,null,-1)),Rr(" Duration: "+Te(a.durationScenes)+" ",1),s[2]||(s[2]=re("br",null,null,-1)),Rr(" Scenes remaining: "+Te(a.scenesRemaining)+" ",1),s[3]||(s[3]=re("br",null,null,-1)),Rr(" Description: "+Te(a.description),1)]))),256))])):Re("",!0),Object.keys(U(r).flags).length>0?(N(),J("div",Q$e,[s[5]||(s[5]=Rr(" Flags ")),(N(!0),J(_e,null,br(U(r).flags,(a,l)=>(N(),J("p",Z$e,Te(l)+": "+Te(a),1))),256))])):Re("",!0),U(r).manners?(N(),J("div",ewe,[s[6]||(s[6]=Rr(" Manners ")),re("p",twe,Te(U(r).manners),1)])):Re("",!0)],64))}}),iwe=tt(rwe,[["__scopeId","data-v-a8af4e92"]]),nwe={class:"menu-list"},owe=["onClick"],swe=We({__name:"Scenes",setup(t){const e=Y(),r=ar();function i(n){e.goToScene(n),r.resetDrawerView(),r.closeDrawer()}return(n,o)=>(N(),J("ul",nwe,[re("div",{class:"sub-menu-header",onClick:o[0]||(o[0]=Ee((...s)=>U(r).resetDrawerView&&U(r).resetDrawerView(...s),["stop"]))}," < Scenes "),(N(!0),J(_e,null,br(U(za),(s,a)=>(N(),J("li",{key:a,onClick:Ee(l=>i(a),["stop"])},Te(a),9,owe))),128))]))}}),awe=We({__name:"Drawer",setup(t){const e=ar();return sr(()=>e.isDrawerOpen,()=>{e.isDrawerOpen||(e.clearItem(),e.setDrawerView("main"))}),(r,i)=>(N(),lt(lo,{name:"slide"},{default:Ri(()=>[U(e).isDrawerOpen?(N(),J("div",{key:0,class:"drawer",onClick:i[0]||(i[0]=Ee((...n)=>U(e).toggleDrawer&&U(e).toggleDrawer(...n),["self"]))},[U(e).drawerView==="main"?(N(),lt(S$e,{key:0})):U(e).selectedItem?(N(),lt(O$e,{key:1})):U(e).selectedDictionaryEntry?(N(),lt(P$e,{key:2})):U(e).drawerView==="bag"?(N(),lt(F$e,{key:3})):U(e).drawerView==="phone"?(N(),lt(V$e,{key:4})):U(e).drawerView==="dictionary"?(N(),lt(j$e,{key:5})):U(e).drawerView==="stats"?(N(),lt(iwe,{key:6})):U(e).drawerView==="scenes"?(N(),lt(swe,{key:7})):Re("",!0)])):Re("",!0)]),_:1}))}}),lwe=tt(awe,[["__scopeId","data-v-abf926b8"]]),cwe={class:"sidebar"},dwe=We({__name:"Sidebar",setup(t){const e=Y(),r=Zp(),i=ar(),n=qt(),o=we(()=>e.scenes),s=we(()=>o.value.indexOf(e.currentSceneId)),a=we(()=>s.value<o.value.length-1),l=we(()=>{const v=Array.from(new Set(o.value));return Math.floor(v.length/4)}),c=It(i.notificationCount);let d=!1;function u(v,y=100){let m=v;const $=()=>{if(d||m>=y)return;m+=1,c.value=m;const _=100-(m-v)/(y-v)*45;setTimeout($,_)};$()}function h(){n.click(),e.goBack()}function f(){n.click(),e.goForward()}function p(){n.click(),i.toggleDrawer()}return sr(()=>i.phoneIsCrazy,v=>{d=!1,v?u(c.value):(d=!0,c.value=i.notificationCount)},{immediate:!0}),sr(()=>({phone:r.$state,scene:e.currentSceneId,isDrawerOpen:i.isDrawerOpen}),()=>{const v=l.value-r.$state.filter(y=>y.isRead).length;i.updateNotificationCount(v)},{deep:!0}),(v,y)=>(N(),J(_e,null,[re("div",cwe,[o.value.length>1&&s.value>0?(N(),J("button",{key:0,onClick:Ee(h,["stop"])}," < ")):Re("",!0),a.value?(N(),J("button",{key:1,onClick:Ee(f,["stop"])},">")):Re("",!0),re("button",{onClick:Ee(p,["stop"])},[y[1]||(y[1]=Rr("  ")),c.value>0?(N(),J("span",{key:0,class:Hr(["notification-bubble",{"phone-crazy":U(i).phoneIsCrazy}]),style:kr({position:"absolute",top:o.value.length>1&&s.value>0&&a.value?"6.8vw":"3.2vw"})},Te(c.value==100?"":c.value),7)):Re("",!0)])]),Ne(lo,{name:"fade"},{default:Ri(()=>[U(i).isDrawerOpen?(N(),J("div",{key:0,class:"drawer-overlay",onClick:y[0]||(y[0]=Ee((...m)=>U(i).toggleDrawer&&U(i).toggleDrawer(...m),["self"]))})):Re("",!0)]),_:1}),Ne(lwe)],64))}}),uwe=tt(dwe,[["__scopeId","data-v-c79c6081"]]),hwe="/void-leeba/assets/plant-matter-lock-of-hair-DuljO2I8.png",fwe=["src"],pwe=We({__name:"DisappearingItem",setup(t){const e=Y(),r=It(!1);sr(()=>e.showDisappearingItem,()=>{e.showDisappearingItem&&(r.value=!0,setTimeout(()=>{r.value=!1},4e3))});function i(){e.updateShowDisappearingItem(!1)}return(n,o)=>(N(),lt(lo,{name:"fade-out",onAfterLeave:i},{default:Ri(()=>[r.value?(N(),J("img",{key:0,class:"fade-message",src:U(hwe)},null,8,fwe)):Re("",!0)]),_:1}))}}),gwe=tt(pwe,[["__scopeId","data-v-153d528c"]]),vwe="/void-leeba/assets/pine-needles-_-PYWavi.jpg",mwe="/void-leeba/assets/player-hurt-mOtPW9eH.mp3",ywe=["src"],bwe=["src"],$we=We({__name:"MiniGameTreeChase",setup(t){const e=It(null),r=It(null),i=It(0),n=It(0);let o=0;const s=ee(),a=Y(),l=qt(),d=40-s.inventory.reduce((v,y)=>v+y.weight,0)*5;function u(){var z;const v=document.createElement("div");v.textContent="",v.classList.add("tree");const y=document.getElementById("game"),m=((y==null?void 0:y.offsetWidth)??0)/20,S=Math.floor(Math.random()*20)*m;v.style.left=`${S}px`,(z=e.value)==null||z.appendChild(v);const _=document.getElementById("player"),E=Math.random()*30+15;let W=0;const X=setInterval(()=>{var R,x;W+=E,v.style.top=`${W}px`,h(v,_)?(l.playGenericSound(mwe),p(),clearInterval(X),(R=e.value)==null||R.removeChild(v),i.value=i.value+1,i.value>3&&(clearInterval(o),fi().addAspect(OI),a.goToScene("dream-tree-chase-game-lose"))):W>window.innerHeight&&(clearInterval(X),(x=e.value)==null||x.removeChild(v))},50)}function h(v,y){const m=v==null?void 0:v.getBoundingClientRect(),$=y==null?void 0:y.getBoundingClientRect();return!m||!$?!1:m.right>=$.left+d&&m.left<=$.right-d&&m.bottom>=$.top&&m.top<=$.bottom}function f(){const v=Math.random()*300;setTimeout(()=>{u(),f()},v)}function p(){const v=document.getElementById("flash"),y=document.getElementById("player");v&&(v.style.opacity="0.6",setTimeout(()=>{v.style.opacity="0"},200),y&&(y.style.filter="sepia(1) saturate(10) hue-rotate(-50deg)",setTimeout(()=>{y.style.filter=""},200)))}return As(()=>{const v=document.getElementById("game"),y=document.getElementById("player");v==null||v.addEventListener("mousemove",m=>{const $=v.getBoundingClientRect();let S=m.clientX-$.left;if(S=Math.min(Math.max(0,S),$.width),y){const _=y.offsetWidth;y.style.left=`${S-_/2}px`}}),f(),o=setInterval(()=>{n.value++,n.value==30&&(clearInterval(o),fi().addAspect(kI),a.goToScene("dream-tree-chase-game-win"))},1e3)}),(v,y)=>(N(),J(_e,null,[re("div",{id:"game",ref_key:"gameRef",ref:e},[y[0]||(y[0]=re("div",{id:"flash",class:"flash"},null,-1)),re("img",{id:"player",src:U(lv),ref_key:"playerRef",ref:r,alt:"Player"},null,8,ywe)],512),re("img",{class:"pine-needles",style:kr({height:`${i.value*1.5}vw`}),src:U(vwe)},null,12,bwe)],64))}}),wwe=We({__name:"MiniGame",props:{miniGameId:{}},setup(t){return(e,r)=>e.miniGameId=="tree-chase"?(N(),lt($we,{key:0})):Re("",!0)}}),_we={key:0},Swe={key:1},Iwe=We({__name:"Scene",setup(t){const e=AI(),r=Y(),i=qt(),{finishAnimation:n,triggerFade:o,onSceneChanged:s}=CI(),a=we(()=>r.currentScene().background),l=we(()=>a.value?{backgroundImage:`url(${a.value})`}:""),c=we(()=>r.currentScene(r.currentScenePayload).text),d=we(()=>c.value.split("")),u=we(()=>r.currentScene(r.currentScenePayload).animationRate??30),h=we(()=>900+(d.value.length-1)*u.value),f=we(()=>r.animationSkipped),p=we(()=>!xI.includes(r.currentSceneId)),v=we(()=>r.currentScene(r.currentScenePayload).miniGameId),y=we(()=>p.value?"":{alignItems:"center",justifyContent:"center"}),m=we(()=>r.currentScene(r.currentScenePayload).backgroundFilter?{filter:r.currentScene(r.currentScenePayload).backgroundFilter}:""),$=we(()=>i.isMuted.value);return As(()=>{o(),e.set(r.currentSceneId,()=>{r.updateShowChoices(!0)},h.value)}),sr(()=>r.currentSceneId,async()=>{await s(h.value)}),sr(()=>r.currentScene(r.currentScenePayload),S=>{i.playBackgroundAudio(S.audio),S.onPageLoad&&S.onPageLoad()}),(S,_)=>v.value?(N(),lt(wwe,{key:0,miniGameId:v.value},null,8,["miniGameId"])):U(r).showSceneGraph?(N(),lt(qbe,{key:1})):(N(),J("div",{key:2,class:Hr(["scene-wrapper",{psychedelic:U(r).isPsychedelic,"zoom-out":U(r).isZoomedOut}]),style:kr([l.value,y.value,m.value]),onClick:_[1]||(_[1]=(...E)=>U(n)&&U(n)(...E))},[Ne(b$e),p.value?(N(),lt(uwe,{key:0})):Re("",!0),re("button",{onClick:_[0]||(_[0]=Ee((...E)=>U(i).mute&&U(i).mute(...E),["stop"])),class:"mute-btn"},[$.value?(N(),J("span",_we,"")):(N(),J("span",Swe,""))]),U(r).currentSceneId==="start"?(N(),lt(ZM,{key:U(r).currentSceneId,letters:d.value,animationSkipped:f.value},null,8,["letters","animationSkipped"])):Re("",!0),U(r).currentSceneId==="credits"?(N(),lt(tR,{key:2})):Re("",!0),U(r).currentSceneId=="intro"||U(r).currentSceneId=="intro1"?(N(),lt(lR,{key:U(r).currentSceneId,letters:d.value,animationSkipped:f.value,eyeIsOpened:U(r).currentSceneId=="intro1"},null,8,["letters","animationSkipped","eyeIsOpened"])):Re("",!0),p.value&&d.value.length>0?(N(),lt(pR,{key:U(r).currentSceneId,animationSkipped:f.value,letters:d.value},null,8,["animationSkipped","letters"])):Re("",!0),Ne(gwe),Ne(m$e)],6))}}),Ewe=tt(Iwe,[["__scopeId","data-v-56a9eebe"]]),Twe=We({__name:"Snackbar",setup(t){const e=Xn();return(r,i)=>U(e).visible?(N(),J("div",{key:0,class:"snackbar",onClick:i[0]||(i[0]=Ee(n=>U(e).dismiss(),["stop"]))},Te(U(e).message),1)):Re("",!0)}}),Owe=tt(Twe,[["__scopeId","data-v-deb7d6a4"]]),kwe=We({__name:"App",setup(t){const e=Y();return(r,i)=>(N(),J(_e,null,[Ne(UM),U(e).started?(N(),lt(Ewe,{key:0})):Re("",!0),Ne(Owe)],64))}}),pC=GD();pC.use(cM);VD(kwe).use(pC).mount("#app");
