(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function r(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(n){if(n.ep)return;n.ep=!0;const o=r(n);fetch(n.href,o)}})();/**
* @vue/shared v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Jv(t){const e=Object.create(null);for(const r of t.split(","))e[r]=1;return r=>r in e}const Le={},Xo=[],ii=()=>{},Lk=()=>!1,Wd=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Zv=t=>t.startsWith("onUpdate:"),wt=Object.assign,Qv=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},jk=Object.prototype.hasOwnProperty,Oe=(t,e)=>jk.call(t,e),se=Array.isArray,Jo=t=>Vd(t)==="[object Map]",M_=t=>Vd(t)==="[object Set]",ve=t=>typeof t=="function",lt=t=>typeof t=="string",yn=t=>typeof t=="symbol",Ve=t=>t!==null&&typeof t=="object",R_=t=>(Ve(t)||ve(t))&&ve(t.then)&&ve(t.catch),N_=Object.prototype.toString,Vd=t=>N_.call(t),zk=t=>Vd(t).slice(8,-1),F_=t=>Vd(t)==="[object Object]",eg=t=>lt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,aa=Jv(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ud=t=>{const e=Object.create(null);return r=>e[r]||(e[r]=t(r))},Hk=/-(\w)/g,dn=Ud(t=>t.replace(Hk,(e,r)=>r?r.toUpperCase():"")),Wk=/\B([A-Z])/g,co=Ud(t=>t.replace(Wk,"-$1").toLowerCase()),B_=Ud(t=>t.charAt(0).toUpperCase()+t.slice(1)),rh=Ud(t=>t?`on${B_(t)}`:""),Qi=(t,e)=>!Object.is(t,e),ih=(t,...e)=>{for(let r=0;r<t.length;r++)t[r](...e)},L_=(t,e,r,i=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:i,value:r})},Vk=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Uk=t=>{const e=lt(t)?Number(t):NaN;return isNaN(e)?t:e};let Gm;const Yd=()=>Gm||(Gm=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function _r(t){if(se(t)){const e={};for(let r=0;r<t.length;r++){const i=t[r],n=lt(i)?Gk(i):_r(i);if(n)for(const o in n)e[o]=n[o]}return e}else if(lt(t)||Ve(t))return t}const Yk=/;(?![^(]*\))/g,qk=/:([^]+)/,Kk=/\/\*[^]*?\*\//g;function Gk(t){const e={};return t.replace(Kk,"").split(Yk).forEach(r=>{if(r){const i=r.split(qk);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function Ai(t){let e="";if(lt(t))e=t;else if(se(t))for(let r=0;r<t.length;r++){const i=Ai(t[r]);i&&(e+=i+" ")}else if(Ve(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}const Xk="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Jk=Jv(Xk);function j_(t){return!!t||t===""}const z_=t=>!!(t&&t.__v_isRef===!0),ze=t=>lt(t)?t:t==null?"":se(t)||Ve(t)&&(t.toString===N_||!ve(t.toString))?z_(t)?ze(t.value):JSON.stringify(t,H_,2):String(t),H_=(t,e)=>z_(e)?H_(t,e.value):Jo(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[i,n],o)=>(r[nh(i,o)+" =>"]=n,r),{})}:M_(e)?{[`Set(${e.size})`]:[...e.values()].map(r=>nh(r))}:yn(e)?nh(e):Ve(e)&&!se(e)&&!F_(e)?String(e):e,nh=(t,e="")=>{var r;return yn(t)?`Symbol(${(r=t.description)!=null?r:e})`:t};/**
* @vue/reactivity v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Dt;class W_{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Dt,!e&&Dt&&(this.index=(Dt.scopes||(Dt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].pause();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].resume();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].resume()}}run(e){if(this._active){const r=Dt;try{return Dt=this,e()}finally{Dt=r}}}on(){++this._on===1&&(this.prevScope=Dt,Dt=this)}off(){this._on>0&&--this._on===0&&(Dt=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let r,i;for(r=0,i=this.effects.length;r<i;r++)this.effects[r].stop();for(this.effects.length=0,r=0,i=this.cleanups.length;r<i;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,i=this.scopes.length;r<i;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function V_(t){return new W_(t)}function U_(){return Dt}function Zk(t,e=!1){Dt&&Dt.cleanups.push(t)}let Ne;const oh=new WeakSet;class Y_{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Dt&&Dt.active&&Dt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,oh.has(this)&&(oh.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||K_(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Xm(this),G_(this);const e=Ne,r=Nr;Ne=this,Nr=!0;try{return this.fn()}finally{X_(this),Ne=e,Nr=r,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)ig(e);this.deps=this.depsTail=void 0,Xm(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?oh.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Pp(this)&&this.run()}get dirty(){return Pp(this)}}let q_=0,la,ca;function K_(t,e=!1){if(t.flags|=8,e){t.next=ca,ca=t;return}t.next=la,la=t}function tg(){q_++}function rg(){if(--q_>0)return;if(ca){let e=ca;for(ca=void 0;e;){const r=e.next;e.next=void 0,e.flags&=-9,e=r}}let t;for(;la;){let e=la;for(la=void 0;e;){const r=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(i){t||(t=i)}e=r}}if(t)throw t}function G_(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function X_(t){let e,r=t.depsTail,i=r;for(;i;){const n=i.prevDep;i.version===-1?(i===r&&(r=n),ig(i),Qk(i)):e=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=n}t.deps=e,t.depsTail=r}function Pp(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(J_(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function J_(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Ia)||(t.globalVersion=Ia,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!Pp(t))))return;t.flags|=2;const e=t.dep,r=Ne,i=Nr;Ne=t,Nr=!0;try{G_(t);const n=t.fn(t._value);(e.version===0||Qi(n,t._value))&&(t.flags|=128,t._value=n,e.version++)}catch(n){throw e.version++,n}finally{Ne=r,Nr=i,X_(t),t.flags&=-3}}function ig(t,e=!1){const{dep:r,prevSub:i,nextSub:n}=t;if(i&&(i.nextSub=n,t.prevSub=void 0),n&&(n.prevSub=i,t.nextSub=void 0),r.subs===t&&(r.subs=i,!i&&r.computed)){r.computed.flags&=-5;for(let o=r.computed.deps;o;o=o.nextDep)ig(o,!0)}!e&&!--r.sc&&r.map&&r.map.delete(r.key)}function Qk(t){const{prevDep:e,nextDep:r}=t;e&&(e.nextDep=r,t.prevDep=void 0),r&&(r.prevDep=e,t.nextDep=void 0)}let Nr=!0;const Z_=[];function Ii(){Z_.push(Nr),Nr=!1}function Oi(){const t=Z_.pop();Nr=t===void 0?!0:t}function Xm(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const r=Ne;Ne=void 0;try{e()}finally{Ne=r}}}let Ia=0;class eC{constructor(e,r){this.sub=e,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class ng{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Ne||!Nr||Ne===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==Ne)r=this.activeLink=new eC(Ne,this),Ne.deps?(r.prevDep=Ne.depsTail,Ne.depsTail.nextDep=r,Ne.depsTail=r):Ne.deps=Ne.depsTail=r,Q_(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const i=r.nextDep;i.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=i),r.prevDep=Ne.depsTail,r.nextDep=void 0,Ne.depsTail.nextDep=r,Ne.depsTail=r,Ne.deps===r&&(Ne.deps=i)}return r}trigger(e){this.version++,Ia++,this.notify(e)}notify(e){tg();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{rg()}}}function Q_(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let i=e.deps;i;i=i.nextDep)Q_(i)}const r=t.dep.subs;r!==t&&(t.prevSub=r,r&&(r.nextSub=t)),t.dep.subs=t}}const ad=new WeakMap,jn=Symbol(""),kp=Symbol(""),Oa=Symbol("");function Mt(t,e,r){if(Nr&&Ne){let i=ad.get(t);i||ad.set(t,i=new Map);let n=i.get(r);n||(i.set(r,n=new ng),n.map=i,n.key=r),n.track()}}function pi(t,e,r,i,n,o){const s=ad.get(t);if(!s){Ia++;return}const a=l=>{l&&l.trigger()};if(tg(),e==="clear")s.forEach(a);else{const l=se(t),c=l&&eg(r);if(l&&r==="length"){const d=Number(i);s.forEach((u,h)=>{(h==="length"||h===Oa||!yn(h)&&h>=d)&&a(u)})}else switch((r!==void 0||s.has(void 0))&&a(s.get(r)),c&&a(s.get(Oa)),e){case"add":l?c&&a(s.get("length")):(a(s.get(jn)),Jo(t)&&a(s.get(kp)));break;case"delete":l||(a(s.get(jn)),Jo(t)&&a(s.get(kp)));break;case"set":Jo(t)&&a(s.get(jn));break}}rg()}function tC(t,e){const r=ad.get(t);return r&&r.get(e)}function Eo(t){const e=$e(t);return e===t?e:(Mt(e,"iterate",Oa),Sr(t)?e:e.map(Ot))}function qd(t){return Mt(t=$e(t),"iterate",Oa),t}const rC={__proto__:null,[Symbol.iterator](){return sh(this,Symbol.iterator,Ot)},concat(...t){return Eo(this).concat(...t.map(e=>se(e)?Eo(e):e))},entries(){return sh(this,"entries",t=>(t[1]=Ot(t[1]),t))},every(t,e){return ui(this,"every",t,e,void 0,arguments)},filter(t,e){return ui(this,"filter",t,e,r=>r.map(Ot),arguments)},find(t,e){return ui(this,"find",t,e,Ot,arguments)},findIndex(t,e){return ui(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return ui(this,"findLast",t,e,Ot,arguments)},findLastIndex(t,e){return ui(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return ui(this,"forEach",t,e,void 0,arguments)},includes(...t){return ah(this,"includes",t)},indexOf(...t){return ah(this,"indexOf",t)},join(t){return Eo(this).join(t)},lastIndexOf(...t){return ah(this,"lastIndexOf",t)},map(t,e){return ui(this,"map",t,e,void 0,arguments)},pop(){return Ys(this,"pop")},push(...t){return Ys(this,"push",t)},reduce(t,...e){return Jm(this,"reduce",t,e)},reduceRight(t,...e){return Jm(this,"reduceRight",t,e)},shift(){return Ys(this,"shift")},some(t,e){return ui(this,"some",t,e,void 0,arguments)},splice(...t){return Ys(this,"splice",t)},toReversed(){return Eo(this).toReversed()},toSorted(t){return Eo(this).toSorted(t)},toSpliced(...t){return Eo(this).toSpliced(...t)},unshift(...t){return Ys(this,"unshift",t)},values(){return sh(this,"values",Ot)}};function sh(t,e,r){const i=qd(t),n=i[e]();return i!==t&&!Sr(t)&&(n._next=n.next,n.next=()=>{const o=n._next();return o.value&&(o.value=r(o.value)),o}),n}const iC=Array.prototype;function ui(t,e,r,i,n,o){const s=qd(t),a=s!==t&&!Sr(t),l=s[e];if(l!==iC[e]){const u=l.apply(t,o);return a?Ot(u):u}let c=r;s!==t&&(a?c=function(u,h){return r.call(this,Ot(u),h,t)}:r.length>2&&(c=function(u,h){return r.call(this,u,h,t)}));const d=l.call(s,c,i);return a&&n?n(d):d}function Jm(t,e,r,i){const n=qd(t);let o=r;return n!==t&&(Sr(t)?r.length>3&&(o=function(s,a,l){return r.call(this,s,a,l,t)}):o=function(s,a,l){return r.call(this,s,Ot(a),l,t)}),n[e](o,...i)}function ah(t,e,r){const i=$e(t);Mt(i,"iterate",Oa);const n=i[e](...r);return(n===-1||n===!1)&&ag(r[0])?(r[0]=$e(r[0]),i[e](...r)):n}function Ys(t,e,r=[]){Ii(),tg();const i=$e(t)[e].apply(t,r);return rg(),Oi(),i}const nC=Jv("__proto__,__v_isRef,__isVue"),eS=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(yn));function oC(t){yn(t)||(t=String(t));const e=$e(this);return Mt(e,"has",t),e.hasOwnProperty(t)}class tS{constructor(e=!1,r=!1){this._isReadonly=e,this._isShallow=r}get(e,r,i){if(r==="__v_skip")return e.__v_skip;const n=this._isReadonly,o=this._isShallow;if(r==="__v_isReactive")return!n;if(r==="__v_isReadonly")return n;if(r==="__v_isShallow")return o;if(r==="__v_raw")return i===(n?o?vC:oS:o?nS:iS).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(i)?e:void 0;const s=se(e);if(!n){let l;if(s&&(l=rC[r]))return l;if(r==="hasOwnProperty")return oC}const a=Reflect.get(e,r,st(e)?e:i);return(yn(r)?eS.has(r):nC(r))||(n||Mt(e,"get",r),o)?a:st(a)?s&&eg(r)?a:a.value:Ve(a)?n?sS(a):Kd(a):a}}class rS extends tS{constructor(e=!1){super(!1,e)}set(e,r,i,n){let o=e[r];if(!this._isShallow){const l=un(o);if(!Sr(i)&&!un(i)&&(o=$e(o),i=$e(i)),!se(e)&&st(o)&&!st(i))return l?!1:(o.value=i,!0)}const s=se(e)&&eg(r)?Number(r)<e.length:Oe(e,r),a=Reflect.set(e,r,i,st(e)?e:n);return e===$e(n)&&(s?Qi(i,o)&&pi(e,"set",r,i):pi(e,"add",r,i)),a}deleteProperty(e,r){const i=Oe(e,r);e[r];const n=Reflect.deleteProperty(e,r);return n&&i&&pi(e,"delete",r,void 0),n}has(e,r){const i=Reflect.has(e,r);return(!yn(r)||!eS.has(r))&&Mt(e,"has",r),i}ownKeys(e){return Mt(e,"iterate",se(e)?"length":jn),Reflect.ownKeys(e)}}class sC extends tS{constructor(e=!1){super(!0,e)}set(e,r){return!0}deleteProperty(e,r){return!0}}const aC=new rS,lC=new sC,cC=new rS(!0);const Cp=t=>t,Jl=t=>Reflect.getPrototypeOf(t);function dC(t,e,r){return function(...i){const n=this.__v_raw,o=$e(n),s=Jo(o),a=t==="entries"||t===Symbol.iterator&&s,l=t==="keys"&&s,c=n[t](...i),d=r?Cp:e?ld:Ot;return!e&&Mt(o,"iterate",l?kp:jn),{next(){const{value:u,done:h}=c.next();return h?{value:u,done:h}:{value:a?[d(u[0]),d(u[1])]:d(u),done:h}},[Symbol.iterator](){return this}}}}function Zl(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function uC(t,e){const r={get(n){const o=this.__v_raw,s=$e(o),a=$e(n);t||(Qi(n,a)&&Mt(s,"get",n),Mt(s,"get",a));const{has:l}=Jl(s),c=e?Cp:t?ld:Ot;if(l.call(s,n))return c(o.get(n));if(l.call(s,a))return c(o.get(a));o!==s&&o.get(n)},get size(){const n=this.__v_raw;return!t&&Mt($e(n),"iterate",jn),Reflect.get(n,"size",n)},has(n){const o=this.__v_raw,s=$e(o),a=$e(n);return t||(Qi(n,a)&&Mt(s,"has",n),Mt(s,"has",a)),n===a?o.has(n):o.has(n)||o.has(a)},forEach(n,o){const s=this,a=s.__v_raw,l=$e(a),c=e?Cp:t?ld:Ot;return!t&&Mt(l,"iterate",jn),a.forEach((d,u)=>n.call(o,c(d),c(u),s))}};return wt(r,t?{add:Zl("add"),set:Zl("set"),delete:Zl("delete"),clear:Zl("clear")}:{add(n){!e&&!Sr(n)&&!un(n)&&(n=$e(n));const o=$e(this);return Jl(o).has.call(o,n)||(o.add(n),pi(o,"add",n,n)),this},set(n,o){!e&&!Sr(o)&&!un(o)&&(o=$e(o));const s=$e(this),{has:a,get:l}=Jl(s);let c=a.call(s,n);c||(n=$e(n),c=a.call(s,n));const d=l.call(s,n);return s.set(n,o),c?Qi(o,d)&&pi(s,"set",n,o):pi(s,"add",n,o),this},delete(n){const o=$e(this),{has:s,get:a}=Jl(o);let l=s.call(o,n);l||(n=$e(n),l=s.call(o,n)),a&&a.call(o,n);const c=o.delete(n);return l&&pi(o,"delete",n,void 0),c},clear(){const n=$e(this),o=n.size!==0,s=n.clear();return o&&pi(n,"clear",void 0,void 0),s}}),["keys","values","entries",Symbol.iterator].forEach(n=>{r[n]=dC(n,t,e)}),r}function og(t,e){const r=uC(t,e);return(i,n,o)=>n==="__v_isReactive"?!t:n==="__v_isReadonly"?t:n==="__v_raw"?i:Reflect.get(Oe(r,n)&&n in i?r:i,n,o)}const hC={get:og(!1,!1)},fC={get:og(!1,!0)},pC={get:og(!0,!1)};const iS=new WeakMap,nS=new WeakMap,oS=new WeakMap,vC=new WeakMap;function gC(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function mC(t){return t.__v_skip||!Object.isExtensible(t)?0:gC(zk(t))}function Kd(t){return un(t)?t:sg(t,!1,aC,hC,iS)}function yC(t){return sg(t,!1,cC,fC,nS)}function sS(t){return sg(t,!0,lC,pC,oS)}function sg(t,e,r,i,n){if(!Ve(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=mC(t);if(o===0)return t;const s=n.get(t);if(s)return s;const a=new Proxy(t,o===2?i:r);return n.set(t,a),a}function en(t){return un(t)?en(t.__v_raw):!!(t&&t.__v_isReactive)}function un(t){return!!(t&&t.__v_isReadonly)}function Sr(t){return!!(t&&t.__v_isShallow)}function ag(t){return t?!!t.__v_raw:!1}function $e(t){const e=t&&t.__v_raw;return e?$e(e):t}function lg(t){return!Oe(t,"__v_skip")&&Object.isExtensible(t)&&L_(t,"__v_skip",!0),t}const Ot=t=>Ve(t)?Kd(t):t,ld=t=>Ve(t)?sS(t):t;function st(t){return t?t.__v_isRef===!0:!1}function Rt(t){return bC(t,!1)}function bC(t,e){return st(t)?t:new $C(t,e)}class $C{constructor(e,r){this.dep=new ng,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?e:$e(e),this._value=r?e:Ot(e),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(e){const r=this._rawValue,i=this.__v_isShallow||Sr(e)||un(e);e=i?e:$e(e),Qi(e,r)&&(this._rawValue=e,this._value=i?e:Ot(e),this.dep.trigger())}}function P(t){return st(t)?t.value:t}const wC={get:(t,e,r)=>e==="__v_raw"?t:P(Reflect.get(t,e,r)),set:(t,e,r,i)=>{const n=t[e];return st(n)&&!st(r)?(n.value=r,!0):Reflect.set(t,e,r,i)}};function aS(t){return en(t)?t:new Proxy(t,wC)}function _C(t){const e=se(t)?new Array(t.length):{};for(const r in t)e[r]=EC(t,r);return e}class SC{constructor(e,r,i){this._object=e,this._key=r,this._defaultValue=i,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return tC($e(this._object),this._key)}}function EC(t,e,r){const i=t[e];return st(i)?i:new SC(t,e,r)}class TC{constructor(e,r,i){this.fn=e,this.setter=r,this._value=void 0,this.dep=new ng(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ia-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&Ne!==this)return K_(this,!0),!0}get value(){const e=this.dep.track();return J_(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function IC(t,e,r=!1){let i,n;return ve(t)?i=t:(i=t.get,n=t.set),new TC(i,n,r)}const Ql={},cd=new WeakMap;let Mn;function OC(t,e=!1,r=Mn){if(r){let i=cd.get(r);i||cd.set(r,i=[]),i.push(t)}}function xC(t,e,r=Le){const{immediate:i,deep:n,once:o,scheduler:s,augmentJob:a,call:l}=r,c=_=>n?_:Sr(_)||n===!1||n===0?Ki(_,1):Ki(_);let d,u,h,f,p=!1,g=!1;if(st(t)?(u=()=>t.value,p=Sr(t)):en(t)?(u=()=>c(t),p=!0):se(t)?(g=!0,p=t.some(_=>en(_)||Sr(_)),u=()=>t.map(_=>{if(st(_))return _.value;if(en(_))return c(_);if(ve(_))return l?l(_,2):_()})):ve(t)?e?u=l?()=>l(t,2):t:u=()=>{if(h){Ii();try{h()}finally{Oi()}}const _=Mn;Mn=d;try{return l?l(t,3,[f]):t(f)}finally{Mn=_}}:u=ii,e&&n){const _=u,T=n===!0?1/0:n;u=()=>Ki(_(),T)}const $=U_(),y=()=>{d.stop(),$&&$.active&&Qv($.effects,d)};if(o&&e){const _=e;e=(...T)=>{_(...T),y()}}let b=g?new Array(t.length).fill(Ql):Ql;const S=_=>{if(!(!(d.flags&1)||!d.dirty&&!_))if(e){const T=d.run();if(n||p||(g?T.some((W,Y)=>Qi(W,b[Y])):Qi(T,b))){h&&h();const W=Mn;Mn=d;try{const Y=[T,b===Ql?void 0:g&&b[0]===Ql?[]:b,f];b=T,l?l(e,3,Y):e(...Y)}finally{Mn=W}}}else d.run()};return a&&a(S),d=new Y_(u),d.scheduler=s?()=>s(S,!1):S,f=_=>OC(_,!1,d),h=d.onStop=()=>{const _=cd.get(d);if(_){if(l)l(_,4);else for(const T of _)T();cd.delete(d)}},e?i?S(!0):b=d.run():s?s(S.bind(null,!0),!0):d.run(),y.pause=d.pause.bind(d),y.resume=d.resume.bind(d),y.stop=y,y}function Ki(t,e=1/0,r){if(e<=0||!Ve(t)||t.__v_skip||(r=r||new Set,r.has(t)))return t;if(r.add(t),e--,st(t))Ki(t.value,e,r);else if(se(t))for(let i=0;i<t.length;i++)Ki(t[i],e,r);else if(M_(t)||Jo(t))t.forEach(i=>{Ki(i,e,r)});else if(F_(t)){for(const i in t)Ki(t[i],e,r);for(const i of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,i)&&Ki(t[i],e,r)}return t}/**
* @vue/runtime-core v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ja(t,e,r,i){try{return i?t(...i):t()}catch(n){Gd(n,e,r)}}function Fr(t,e,r,i){if(ve(t)){const n=Ja(t,e,r,i);return n&&R_(n)&&n.catch(o=>{Gd(o,e,r)}),n}if(se(t)){const n=[];for(let o=0;o<t.length;o++)n.push(Fr(t[o],e,r,i));return n}}function Gd(t,e,r,i=!0){const n=e?e.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:s}=e&&e.appContext.config||Le;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${r}`;for(;a;){const d=a.ec;if(d){for(let u=0;u<d.length;u++)if(d[u](t,l,c)===!1)return}a=a.parent}if(o){Ii(),Ja(o,null,10,[t,l,c]),Oi();return}}PC(t,r,n,i,s)}function PC(t,e,r,i=!0,n=!1){if(n)throw t;console.error(t)}const zt=[];let Jr=-1;const Zo=[];let Wi=null,Fo=0;const lS=Promise.resolve();let dd=null;function cg(t){const e=dd||lS;return t?e.then(this?t.bind(this):t):e}function kC(t){let e=Jr+1,r=zt.length;for(;e<r;){const i=e+r>>>1,n=zt[i],o=xa(n);o<t||o===t&&n.flags&2?e=i+1:r=i}return e}function dg(t){if(!(t.flags&1)){const e=xa(t),r=zt[zt.length-1];!r||!(t.flags&2)&&e>=xa(r)?zt.push(t):zt.splice(kC(e),0,t),t.flags|=1,cS()}}function cS(){dd||(dd=lS.then(uS))}function CC(t){se(t)?Zo.push(...t):Wi&&t.id===-1?Wi.splice(Fo+1,0,t):t.flags&1||(Zo.push(t),t.flags|=1),cS()}function Zm(t,e,r=Jr+1){for(;r<zt.length;r++){const i=zt[r];if(i&&i.flags&2){if(t&&i.id!==t.uid)continue;zt.splice(r,1),r--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function dS(t){if(Zo.length){const e=[...new Set(Zo)].sort((r,i)=>xa(r)-xa(i));if(Zo.length=0,Wi){Wi.push(...e);return}for(Wi=e,Fo=0;Fo<Wi.length;Fo++){const r=Wi[Fo];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}Wi=null,Fo=0}}const xa=t=>t.id==null?t.flags&2?-1:1/0:t.id;function uS(t){try{for(Jr=0;Jr<zt.length;Jr++){const e=zt[Jr];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Ja(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Jr<zt.length;Jr++){const e=zt[Jr];e&&(e.flags&=-2)}Jr=-1,zt.length=0,dS(),dd=null,(zt.length||Zo.length)&&uS()}}let wr=null,hS=null;function ud(t){const e=wr;return wr=t,hS=t&&t.type.__scopeId||null,e}function hn(t,e=wr,r){if(!e||t._n)return t;const i=(...n)=>{i._d&&ly(-1);const o=ud(e);let s;try{s=t(...n)}finally{ud(o),i._d&&ly(1)}return s};return i._n=!0,i._c=!0,i._d=!0,i}function xn(t,e,r,i){const n=t.dirs,o=e&&e.dirs;for(let s=0;s<n.length;s++){const a=n[s];o&&(a.oldValue=o[s].value);let l=a.dir[i];l&&(Ii(),Fr(l,r,8,[t.el,a,t,e]),Oi())}}const AC=Symbol("_vte"),fS=t=>t.__isTeleport,Vi=Symbol("_leaveCb"),ec=Symbol("_enterCb");function DC(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Za(()=>{t.isMounted=!0}),wS(()=>{t.isUnmounting=!0}),t}const mr=[Function,Array],pS={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:mr,onEnter:mr,onAfterEnter:mr,onEnterCancelled:mr,onBeforeLeave:mr,onLeave:mr,onAfterLeave:mr,onLeaveCancelled:mr,onBeforeAppear:mr,onAppear:mr,onAfterAppear:mr,onAppearCancelled:mr},vS=t=>{const e=t.subTree;return e.component?vS(e.component):e},MC={name:"BaseTransition",props:pS,setup(t,{slots:e}){const r=kA(),i=DC();return()=>{const n=e.default&&yS(e.default(),!0);if(!n||!n.length)return;const o=gS(n),s=$e(t),{mode:a}=s;if(i.isLeaving)return lh(o);const l=Qm(o);if(!l)return lh(o);let c=Ap(l,s,i,r,u=>c=u);l.type!==Wt&&Pa(l,c);let d=r.subTree&&Qm(r.subTree);if(d&&d.type!==Wt&&!Nn(l,d)&&vS(r).type!==Wt){let u=Ap(d,s,i,r);if(Pa(d,u),a==="out-in"&&l.type!==Wt)return i.isLeaving=!0,u.afterLeave=()=>{i.isLeaving=!1,r.job.flags&8||r.update(),delete u.afterLeave,d=void 0},lh(o);a==="in-out"&&l.type!==Wt?u.delayLeave=(h,f,p)=>{const g=mS(i,d);g[String(d.key)]=d,h[Vi]=()=>{f(),h[Vi]=void 0,delete c.delayedLeave,d=void 0},c.delayedLeave=()=>{p(),delete c.delayedLeave,d=void 0}}:d=void 0}else d&&(d=void 0);return o}}};function gS(t){let e=t[0];if(t.length>1){for(const r of t)if(r.type!==Wt){e=r;break}}return e}const RC=MC;function mS(t,e){const{leavingVNodes:r}=t;let i=r.get(e.type);return i||(i=Object.create(null),r.set(e.type,i)),i}function Ap(t,e,r,i,n){const{appear:o,mode:s,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:d,onEnterCancelled:u,onBeforeLeave:h,onLeave:f,onAfterLeave:p,onLeaveCancelled:g,onBeforeAppear:$,onAppear:y,onAfterAppear:b,onAppearCancelled:S}=e,_=String(t.key),T=mS(r,t),W=(C,X)=>{C&&Fr(C,i,9,X)},Y=(C,X)=>{const de=X[1];W(C,X),se(C)?C.every(j=>j.length<=1)&&de():C.length<=1&&de()},z={mode:s,persisted:a,beforeEnter(C){let X=l;if(!r.isMounted)if(o)X=$||l;else return;C[Vi]&&C[Vi](!0);const de=T[_];de&&Nn(t,de)&&de.el[Vi]&&de.el[Vi](),W(X,[C])},enter(C){let X=c,de=d,j=u;if(!r.isMounted)if(o)X=y||c,de=b||d,j=S||u;else return;let ue=!1;const _e=C[ec]=ye=>{ue||(ue=!0,ye?W(j,[C]):W(de,[C]),z.delayedLeave&&z.delayedLeave(),C[ec]=void 0)};X?Y(X,[C,_e]):_e()},leave(C,X){const de=String(t.key);if(C[ec]&&C[ec](!0),r.isUnmounting)return X();W(h,[C]);let j=!1;const ue=C[Vi]=_e=>{j||(j=!0,X(),_e?W(g,[C]):W(p,[C]),C[Vi]=void 0,T[de]===t&&delete T[de])};T[de]=t,f?Y(f,[C,ue]):ue()},clone(C){const X=Ap(C,e,r,i,n);return n&&n(X),X}};return z}function lh(t){if(Xd(t))return t=fn(t),t.children=null,t}function Qm(t){if(!Xd(t))return fS(t.type)&&t.children?gS(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:e,children:r}=t;if(r){if(e&16)return r[0];if(e&32&&ve(r.default))return r.default()}}function Pa(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Pa(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function yS(t,e=!1,r){let i=[],n=0;for(let o=0;o<t.length;o++){let s=t[o];const a=r==null?s.key:String(r)+String(s.key!=null?s.key:o);s.type===we?(s.patchFlag&128&&n++,i=i.concat(yS(s.children,e,a))):(e||s.type!==Wt)&&i.push(a!=null?fn(s,{key:a}):s)}if(n>1)for(let o=0;o<i.length;o++)i[o].patchFlag=-2;return i}/*! #__NO_SIDE_EFFECTS__ */function He(t,e){return ve(t)?wt({name:t.name},e,{setup:t}):t}function bS(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function hd(t,e,r,i,n=!1){if(se(t)){t.forEach((p,g)=>hd(p,e&&(se(e)?e[g]:e),r,i,n));return}if(da(i)&&!n){i.shapeFlag&512&&i.type.__asyncResolved&&i.component.subTree.component&&hd(t,e,r,i.component.subTree);return}const o=i.shapeFlag&4?pg(i.component):i.el,s=n?null:o,{i:a,r:l}=t,c=e&&e.r,d=a.refs===Le?a.refs={}:a.refs,u=a.setupState,h=$e(u),f=u===Le?()=>!1:p=>Oe(h,p);if(c!=null&&c!==l&&(lt(c)?(d[c]=null,f(c)&&(u[c]=null)):st(c)&&(c.value=null)),ve(l))Ja(l,a,12,[s,d]);else{const p=lt(l),g=st(l);if(p||g){const $=()=>{if(t.f){const y=p?f(l)?u[l]:d[l]:l.value;n?se(y)&&Qv(y,o):se(y)?y.includes(o)||y.push(o):p?(d[l]=[o],f(l)&&(u[l]=d[l])):(l.value=[o],t.k&&(d[t.k]=l.value))}else p?(d[l]=s,f(l)&&(u[l]=s)):g&&(l.value=s,t.k&&(d[t.k]=s))};s?($.id=-1,lr($,r)):$()}}}Yd().requestIdleCallback;Yd().cancelIdleCallback;const da=t=>!!t.type.__asyncLoader,Xd=t=>t.type.__isKeepAlive;function NC(t,e){$S(t,"a",e)}function FC(t,e){$S(t,"da",e)}function $S(t,e,r=xt){const i=t.__wdc||(t.__wdc=()=>{let n=r;for(;n;){if(n.isDeactivated)return;n=n.parent}return t()});if(Jd(e,i,r),r){let n=r.parent;for(;n&&n.parent;)Xd(n.parent.vnode)&&BC(i,e,r,n),n=n.parent}}function BC(t,e,r,i){const n=Jd(e,t,i,!0);_S(()=>{Qv(i[e],n)},r)}function Jd(t,e,r=xt,i=!1){if(r){const n=r[t]||(r[t]=[]),o=e.__weh||(e.__weh=(...s)=>{Ii();const a=Qa(r),l=Fr(e,r,t,s);return a(),Oi(),l});return i?n.unshift(o):n.push(o),o}}const Di=t=>(e,r=xt)=>{(!Ca||t==="sp")&&Jd(t,(...i)=>e(...i),r)},LC=Di("bm"),Za=Di("m"),jC=Di("bu"),zC=Di("u"),wS=Di("bum"),_S=Di("um"),HC=Di("sp"),WC=Di("rtg"),VC=Di("rtc");function UC(t,e=xt){Jd("ec",t,e)}const YC=Symbol.for("v-ndc");function Br(t,e,r,i){let n;const o=r,s=se(t);if(s||lt(t)){const a=s&&en(t);let l=!1,c=!1;a&&(l=!Sr(t),c=un(t),t=qd(t)),n=new Array(t.length);for(let d=0,u=t.length;d<u;d++)n[d]=e(l?c?ld(Ot(t[d])):Ot(t[d]):t[d],d,void 0,o)}else if(typeof t=="number"){n=new Array(t);for(let a=0;a<t;a++)n[a]=e(a+1,a,void 0,o)}else if(Ve(t))if(t[Symbol.iterator])n=Array.from(t,(a,l)=>e(a,l,void 0,o));else{const a=Object.keys(t);n=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const d=a[l];n[l]=e(t[d],d,l,o)}}else n=[];return n}const Dp=t=>t?HS(t)?pg(t):Dp(t.parent):null,ua=wt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Dp(t.parent),$root:t=>Dp(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>ES(t),$forceUpdate:t=>t.f||(t.f=()=>{dg(t.update)}),$nextTick:t=>t.n||(t.n=cg.bind(t.proxy)),$watch:t=>vA.bind(t)}),ch=(t,e)=>t!==Le&&!t.__isScriptSetup&&Oe(t,e),qC={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:r,setupState:i,data:n,props:o,accessCache:s,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const f=s[e];if(f!==void 0)switch(f){case 1:return i[e];case 2:return n[e];case 4:return r[e];case 3:return o[e]}else{if(ch(i,e))return s[e]=1,i[e];if(n!==Le&&Oe(n,e))return s[e]=2,n[e];if((c=t.propsOptions[0])&&Oe(c,e))return s[e]=3,o[e];if(r!==Le&&Oe(r,e))return s[e]=4,r[e];Mp&&(s[e]=0)}}const d=ua[e];let u,h;if(d)return e==="$attrs"&&Mt(t.attrs,"get",""),d(t);if((u=a.__cssModules)&&(u=u[e]))return u;if(r!==Le&&Oe(r,e))return s[e]=4,r[e];if(h=l.config.globalProperties,Oe(h,e))return h[e]},set({_:t},e,r){const{data:i,setupState:n,ctx:o}=t;return ch(n,e)?(n[e]=r,!0):i!==Le&&Oe(i,e)?(i[e]=r,!0):Oe(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(o[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:i,appContext:n,propsOptions:o}},s){let a;return!!r[s]||t!==Le&&Oe(t,s)||ch(e,s)||(a=o[0])&&Oe(a,s)||Oe(i,s)||Oe(ua,s)||Oe(n.config.globalProperties,s)},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:Oe(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}};function ey(t){return se(t)?t.reduce((e,r)=>(e[r]=null,e),{}):t}let Mp=!0;function KC(t){const e=ES(t),r=t.proxy,i=t.ctx;Mp=!1,e.beforeCreate&&ty(e.beforeCreate,t,"bc");const{data:n,computed:o,methods:s,watch:a,provide:l,inject:c,created:d,beforeMount:u,mounted:h,beforeUpdate:f,updated:p,activated:g,deactivated:$,beforeDestroy:y,beforeUnmount:b,destroyed:S,unmounted:_,render:T,renderTracked:W,renderTriggered:Y,errorCaptured:z,serverPrefetch:C,expose:X,inheritAttrs:de,components:j,directives:ue,filters:_e}=e;if(c&&GC(c,i,null),s)for(const K in s){const le=s[K];ve(le)&&(i[K]=le.bind(r))}if(n){const K=n.call(r,r);Ve(K)&&(t.data=Kd(K))}if(Mp=!0,o)for(const K in o){const le=o[K],Ae=ve(le)?le.bind(r,r):ve(le.get)?le.get.bind(r,r):ii,Ge=!ve(le)&&ve(le.set)?le.set.bind(r):ii,Et=Se({get:Ae,set:Ge});Object.defineProperty(i,K,{enumerable:!0,configurable:!0,get:()=>Et.value,set:nt=>Et.value=nt})}if(a)for(const K in a)SS(a[K],i,r,K);if(l){const K=ve(l)?l.call(r):l;Reflect.ownKeys(K).forEach(le=>{tA(le,K[le])})}d&&ty(d,t,"c");function Q(K,le){se(le)?le.forEach(Ae=>K(Ae.bind(r))):le&&K(le.bind(r))}if(Q(LC,u),Q(Za,h),Q(jC,f),Q(zC,p),Q(NC,g),Q(FC,$),Q(UC,z),Q(VC,W),Q(WC,Y),Q(wS,b),Q(_S,_),Q(HC,C),se(X))if(X.length){const K=t.exposed||(t.exposed={});X.forEach(le=>{Object.defineProperty(K,le,{get:()=>r[le],set:Ae=>r[le]=Ae})})}else t.exposed||(t.exposed={});T&&t.render===ii&&(t.render=T),de!=null&&(t.inheritAttrs=de),j&&(t.components=j),ue&&(t.directives=ue),C&&bS(t)}function GC(t,e,r=ii){se(t)&&(t=Rp(t));for(const i in t){const n=t[i];let o;Ve(n)?"default"in n?o=ha(n.from||i,n.default,!0):o=ha(n.from||i):o=ha(n),st(o)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>o.value,set:s=>o.value=s}):e[i]=o}}function ty(t,e,r){Fr(se(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,r)}function SS(t,e,r,i){let n=i.includes(".")?FS(r,i):()=>r[i];if(lt(t)){const o=e[t];ve(o)&&hr(n,o)}else if(ve(t))hr(n,t.bind(r));else if(Ve(t))if(se(t))t.forEach(o=>SS(o,e,r,i));else{const o=ve(t.handler)?t.handler.bind(r):e[t.handler];ve(o)&&hr(n,o,t)}}function ES(t){const e=t.type,{mixins:r,extends:i}=e,{mixins:n,optionsCache:o,config:{optionMergeStrategies:s}}=t.appContext,a=o.get(e);let l;return a?l=a:!n.length&&!r&&!i?l=e:(l={},n.length&&n.forEach(c=>fd(l,c,s,!0)),fd(l,e,s)),Ve(e)&&o.set(e,l),l}function fd(t,e,r,i=!1){const{mixins:n,extends:o}=e;o&&fd(t,o,r,!0),n&&n.forEach(s=>fd(t,s,r,!0));for(const s in e)if(!(i&&s==="expose")){const a=XC[s]||r&&r[s];t[s]=a?a(t[s],e[s]):e[s]}return t}const XC={data:ry,props:iy,emits:iy,methods:ra,computed:ra,beforeCreate:Bt,created:Bt,beforeMount:Bt,mounted:Bt,beforeUpdate:Bt,updated:Bt,beforeDestroy:Bt,beforeUnmount:Bt,destroyed:Bt,unmounted:Bt,activated:Bt,deactivated:Bt,errorCaptured:Bt,serverPrefetch:Bt,components:ra,directives:ra,watch:ZC,provide:ry,inject:JC};function ry(t,e){return e?t?function(){return wt(ve(t)?t.call(this,this):t,ve(e)?e.call(this,this):e)}:e:t}function JC(t,e){return ra(Rp(t),Rp(e))}function Rp(t){if(se(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function Bt(t,e){return t?[...new Set([].concat(t,e))]:e}function ra(t,e){return t?wt(Object.create(null),t,e):e}function iy(t,e){return t?se(t)&&se(e)?[...new Set([...t,...e])]:wt(Object.create(null),ey(t),ey(e??{})):e}function ZC(t,e){if(!t)return e;if(!e)return t;const r=wt(Object.create(null),t);for(const i in e)r[i]=Bt(t[i],e[i]);return r}function TS(){return{app:null,config:{isNativeTag:Lk,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let QC=0;function eA(t,e){return function(i,n=null){ve(i)||(i=wt({},i)),n!=null&&!Ve(n)&&(n=null);const o=TS(),s=new WeakSet,a=[];let l=!1;const c=o.app={_uid:QC++,_component:i,_props:n,_container:null,_context:o,_instance:null,version:FA,get config(){return o.config},set config(d){},use(d,...u){return s.has(d)||(d&&ve(d.install)?(s.add(d),d.install(c,...u)):ve(d)&&(s.add(d),d(c,...u))),c},mixin(d){return o.mixins.includes(d)||o.mixins.push(d),c},component(d,u){return u?(o.components[d]=u,c):o.components[d]},directive(d,u){return u?(o.directives[d]=u,c):o.directives[d]},mount(d,u,h){if(!l){const f=c._ceVNode||We(i,n);return f.appContext=o,h===!0?h="svg":h===!1&&(h=void 0),t(f,d,h),l=!0,c._container=d,d.__vue_app__=c,pg(f.component)}},onUnmount(d){a.push(d)},unmount(){l&&(Fr(a,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(d,u){return o.provides[d]=u,c},runWithContext(d){const u=zn;zn=c;try{return d()}finally{zn=u}}};return c}}let zn=null;function tA(t,e){if(xt){let r=xt.provides;const i=xt.parent&&xt.parent.provides;i===r&&(r=xt.provides=Object.create(i)),r[t]=e}}function ha(t,e,r=!1){const i=xt||wr;if(i||zn){let n=zn?zn._context.provides:i?i.parent==null||i.ce?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(n&&t in n)return n[t];if(arguments.length>1)return r&&ve(e)?e.call(i&&i.proxy):e}}function rA(){return!!(xt||wr||zn)}const IS={},OS=()=>Object.create(IS),xS=t=>Object.getPrototypeOf(t)===IS;function iA(t,e,r,i=!1){const n={},o=OS();t.propsDefaults=Object.create(null),PS(t,e,n,o);for(const s in t.propsOptions[0])s in n||(n[s]=void 0);r?t.props=i?n:yC(n):t.type.props?t.props=n:t.props=o,t.attrs=o}function nA(t,e,r,i){const{props:n,attrs:o,vnode:{patchFlag:s}}=t,a=$e(n),[l]=t.propsOptions;let c=!1;if((i||s>0)&&!(s&16)){if(s&8){const d=t.vnode.dynamicProps;for(let u=0;u<d.length;u++){let h=d[u];if(Zd(t.emitsOptions,h))continue;const f=e[h];if(l)if(Oe(o,h))f!==o[h]&&(o[h]=f,c=!0);else{const p=dn(h);n[p]=Np(l,a,p,f,t,!1)}else f!==o[h]&&(o[h]=f,c=!0)}}}else{PS(t,e,n,o)&&(c=!0);let d;for(const u in a)(!e||!Oe(e,u)&&((d=co(u))===u||!Oe(e,d)))&&(l?r&&(r[u]!==void 0||r[d]!==void 0)&&(n[u]=Np(l,a,u,void 0,t,!0)):delete n[u]);if(o!==a)for(const u in o)(!e||!Oe(e,u))&&(delete o[u],c=!0)}c&&pi(t.attrs,"set","")}function PS(t,e,r,i){const[n,o]=t.propsOptions;let s=!1,a;if(e)for(let l in e){if(aa(l))continue;const c=e[l];let d;n&&Oe(n,d=dn(l))?!o||!o.includes(d)?r[d]=c:(a||(a={}))[d]=c:Zd(t.emitsOptions,l)||(!(l in i)||c!==i[l])&&(i[l]=c,s=!0)}if(o){const l=$e(r),c=a||Le;for(let d=0;d<o.length;d++){const u=o[d];r[u]=Np(n,l,u,c[u],t,!Oe(c,u))}}return s}function Np(t,e,r,i,n,o){const s=t[r];if(s!=null){const a=Oe(s,"default");if(a&&i===void 0){const l=s.default;if(s.type!==Function&&!s.skipFactory&&ve(l)){const{propsDefaults:c}=n;if(r in c)i=c[r];else{const d=Qa(n);i=c[r]=l.call(null,e),d()}}else i=l;n.ce&&n.ce._setProp(r,i)}s[0]&&(o&&!a?i=!1:s[1]&&(i===""||i===co(r))&&(i=!0))}return i}const oA=new WeakMap;function kS(t,e,r=!1){const i=r?oA:e.propsCache,n=i.get(t);if(n)return n;const o=t.props,s={},a=[];let l=!1;if(!ve(t)){const d=u=>{l=!0;const[h,f]=kS(u,e,!0);wt(s,h),f&&a.push(...f)};!r&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}if(!o&&!l)return Ve(t)&&i.set(t,Xo),Xo;if(se(o))for(let d=0;d<o.length;d++){const u=dn(o[d]);ny(u)&&(s[u]=Le)}else if(o)for(const d in o){const u=dn(d);if(ny(u)){const h=o[d],f=s[u]=se(h)||ve(h)?{type:h}:wt({},h),p=f.type;let g=!1,$=!0;if(se(p))for(let y=0;y<p.length;++y){const b=p[y],S=ve(b)&&b.name;if(S==="Boolean"){g=!0;break}else S==="String"&&($=!1)}else g=ve(p)&&p.name==="Boolean";f[0]=g,f[1]=$,(g||Oe(f,"default"))&&a.push(u)}}const c=[s,a];return Ve(t)&&i.set(t,c),c}function ny(t){return t[0]!=="$"&&!aa(t)}const ug=t=>t[0]==="_"||t==="$stable",hg=t=>se(t)?t.map(Zr):[Zr(t)],sA=(t,e,r)=>{if(e._n)return e;const i=hn((...n)=>hg(e(...n)),r);return i._c=!1,i},CS=(t,e,r)=>{const i=t._ctx;for(const n in t){if(ug(n))continue;const o=t[n];if(ve(o))e[n]=sA(n,o,i);else if(o!=null){const s=hg(o);e[n]=()=>s}}},AS=(t,e)=>{const r=hg(e);t.slots.default=()=>r},DS=(t,e,r)=>{for(const i in e)(r||!ug(i))&&(t[i]=e[i])},aA=(t,e,r)=>{const i=t.slots=OS();if(t.vnode.shapeFlag&32){const n=e._;n?(DS(i,e,r),r&&L_(i,"_",n,!0)):CS(e,i)}else e&&AS(t,e)},lA=(t,e,r)=>{const{vnode:i,slots:n}=t;let o=!0,s=Le;if(i.shapeFlag&32){const a=e._;a?r&&a===1?o=!1:DS(n,e,r):(o=!e.$stable,CS(e,n)),s=e}else e&&(AS(t,e),s={default:1});if(o)for(const a in n)!ug(a)&&s[a]==null&&delete n[a]},lr=_A;function cA(t){return dA(t)}function dA(t,e){const r=Yd();r.__VUE__=!0;const{insert:i,remove:n,patchProp:o,createElement:s,createText:a,createComment:l,setText:c,setElementText:d,parentNode:u,nextSibling:h,setScopeId:f=ii,insertStaticContent:p}=t,g=(v,m,w,O=null,I=null,x=null,H=void 0,N=null,R=!!m.dynamicChildren)=>{if(v===m)return;v&&!Nn(v,m)&&(O=Bi(v),nt(v,I,x,!0),v=null),m.patchFlag===-2&&(R=!1,m.dynamicChildren=null);const{type:A,ref:ie,shapeFlag:U}=m;switch(A){case Qd:$(v,m,w,O);break;case Wt:y(v,m,w,O);break;case uh:v==null&&b(m,w,O,H);break;case we:j(v,m,w,O,I,x,H,N,R);break;default:U&1?T(v,m,w,O,I,x,H,N,R):U&6?ue(v,m,w,O,I,x,H,N,R):(U&64||U&128)&&A.process(v,m,w,O,I,x,H,N,R,k)}ie!=null&&I&&hd(ie,v&&v.ref,x,m||v,!m)},$=(v,m,w,O)=>{if(v==null)i(m.el=a(m.children),w,O);else{const I=m.el=v.el;m.children!==v.children&&c(I,m.children)}},y=(v,m,w,O)=>{v==null?i(m.el=l(m.children||""),w,O):m.el=v.el},b=(v,m,w,O)=>{[v.el,v.anchor]=p(v.children,m,w,O,v.el,v.anchor)},S=({el:v,anchor:m},w,O)=>{let I;for(;v&&v!==m;)I=h(v),i(v,w,O),v=I;i(m,w,O)},_=({el:v,anchor:m})=>{let w;for(;v&&v!==m;)w=h(v),n(v),v=w;n(m)},T=(v,m,w,O,I,x,H,N,R)=>{m.type==="svg"?H="svg":m.type==="math"&&(H="mathml"),v==null?W(m,w,O,I,x,H,N,R):C(v,m,I,x,H,N,R)},W=(v,m,w,O,I,x,H,N)=>{let R,A;const{props:ie,shapeFlag:U,transition:te,dirs:fe}=v;if(R=v.el=s(v.type,x,ie&&ie.is,ie),U&8?d(R,v.children):U&16&&z(v.children,R,null,O,I,dh(v,x),H,N),fe&&xn(v,null,O,"created"),Y(R,v,v.scopeId,H,O),ie){for(const Re in ie)Re!=="value"&&!aa(Re)&&o(R,Re,null,ie[Re],x,O);"value"in ie&&o(R,"value",null,ie.value,x),(A=ie.onVnodeBeforeMount)&&qr(A,O,v)}fe&&xn(v,null,O,"beforeMount");const be=uA(I,te);be&&te.beforeEnter(R),i(R,m,w),((A=ie&&ie.onVnodeMounted)||be||fe)&&lr(()=>{A&&qr(A,O,v),be&&te.enter(R),fe&&xn(v,null,O,"mounted")},I)},Y=(v,m,w,O,I)=>{if(w&&f(v,w),O)for(let x=0;x<O.length;x++)f(v,O[x]);if(I){let x=I.subTree;if(m===x||LS(x.type)&&(x.ssContent===m||x.ssFallback===m)){const H=I.vnode;Y(v,H,H.scopeId,H.slotScopeIds,I.parent)}}},z=(v,m,w,O,I,x,H,N,R=0)=>{for(let A=R;A<v.length;A++){const ie=v[A]=N?Ui(v[A]):Zr(v[A]);g(null,ie,m,w,O,I,x,H,N)}},C=(v,m,w,O,I,x,H)=>{const N=m.el=v.el;let{patchFlag:R,dynamicChildren:A,dirs:ie}=m;R|=v.patchFlag&16;const U=v.props||Le,te=m.props||Le;let fe;if(w&&Pn(w,!1),(fe=te.onVnodeBeforeUpdate)&&qr(fe,w,m,v),ie&&xn(m,v,w,"beforeUpdate"),w&&Pn(w,!0),(U.innerHTML&&te.innerHTML==null||U.textContent&&te.textContent==null)&&d(N,""),A?X(v.dynamicChildren,A,N,w,O,dh(m,I),x):H||le(v,m,N,null,w,O,dh(m,I),x,!1),R>0){if(R&16)de(N,U,te,w,I);else if(R&2&&U.class!==te.class&&o(N,"class",null,te.class,I),R&4&&o(N,"style",U.style,te.style,I),R&8){const be=m.dynamicProps;for(let Re=0;Re<be.length;Re++){const Pe=be[Re],sr=U[Pe],qt=te[Pe];(qt!==sr||Pe==="value")&&o(N,Pe,sr,qt,I,w)}}R&1&&v.children!==m.children&&d(N,m.children)}else!H&&A==null&&de(N,U,te,w,I);((fe=te.onVnodeUpdated)||ie)&&lr(()=>{fe&&qr(fe,w,m,v),ie&&xn(m,v,w,"updated")},O)},X=(v,m,w,O,I,x,H)=>{for(let N=0;N<m.length;N++){const R=v[N],A=m[N],ie=R.el&&(R.type===we||!Nn(R,A)||R.shapeFlag&198)?u(R.el):w;g(R,A,ie,null,O,I,x,H,!0)}},de=(v,m,w,O,I)=>{if(m!==w){if(m!==Le)for(const x in m)!aa(x)&&!(x in w)&&o(v,x,m[x],null,I,O);for(const x in w){if(aa(x))continue;const H=w[x],N=m[x];H!==N&&x!=="value"&&o(v,x,N,H,I,O)}"value"in w&&o(v,"value",m.value,w.value,I)}},j=(v,m,w,O,I,x,H,N,R)=>{const A=m.el=v?v.el:a(""),ie=m.anchor=v?v.anchor:a("");let{patchFlag:U,dynamicChildren:te,slotScopeIds:fe}=m;fe&&(N=N?N.concat(fe):fe),v==null?(i(A,w,O),i(ie,w,O),z(m.children||[],w,ie,I,x,H,N,R)):U>0&&U&64&&te&&v.dynamicChildren?(X(v.dynamicChildren,te,w,I,x,H,N),(m.key!=null||I&&m===I.subTree)&&MS(v,m,!0)):le(v,m,w,ie,I,x,H,N,R)},ue=(v,m,w,O,I,x,H,N,R)=>{m.slotScopeIds=N,v==null?m.shapeFlag&512?I.ctx.activate(m,w,O,H,R):_e(m,w,O,I,x,H,R):ye(v,m,R)},_e=(v,m,w,O,I,x,H)=>{const N=v.component=PA(v,O,I);if(Xd(v)&&(N.ctx.renderer=k),CA(N,!1,H),N.asyncDep){if(I&&I.registerDep(N,Q,H),!v.el){const R=N.subTree=We(Wt);y(null,R,m,w)}}else Q(N,v,m,w,I,x,H)},ye=(v,m,w)=>{const O=m.component=v.component;if($A(v,m,w))if(O.asyncDep&&!O.asyncResolved){K(O,m,w);return}else O.next=m,O.update();else m.el=v.el,O.vnode=m},Q=(v,m,w,O,I,x,H)=>{const N=()=>{if(v.isMounted){let{next:U,bu:te,u:fe,parent:be,vnode:Re}=v;{const Ur=RS(v);if(Ur){U&&(U.el=Re.el,K(v,U,H)),Ur.asyncDep.then(()=>{v.isUnmounted||N()});return}}let Pe=U,sr;Pn(v,!1),U?(U.el=Re.el,K(v,U,H)):U=Re,te&&ih(te),(sr=U.props&&U.props.onVnodeBeforeUpdate)&&qr(sr,be,U,Re),Pn(v,!0);const qt=sy(v),Vr=v.subTree;v.subTree=qt,g(Vr,qt,u(Vr.el),Bi(Vr),v,I,x),U.el=qt.el,Pe===null&&wA(v,qt.el),fe&&lr(fe,I),(sr=U.props&&U.props.onVnodeUpdated)&&lr(()=>qr(sr,be,U,Re),I)}else{let U;const{el:te,props:fe}=m,{bm:be,m:Re,parent:Pe,root:sr,type:qt}=v,Vr=da(m);Pn(v,!1),be&&ih(be),!Vr&&(U=fe&&fe.onVnodeBeforeMount)&&qr(U,Pe,m),Pn(v,!0);{sr.ce&&sr.ce._injectChildStyle(qt);const Ur=v.subTree=sy(v);g(null,Ur,w,O,v,I,x),m.el=Ur.el}if(Re&&lr(Re,I),!Vr&&(U=fe&&fe.onVnodeMounted)){const Ur=m;lr(()=>qr(U,Pe,Ur),I)}(m.shapeFlag&256||Pe&&da(Pe.vnode)&&Pe.vnode.shapeFlag&256)&&v.a&&lr(v.a,I),v.isMounted=!0,m=w=O=null}};v.scope.on();const R=v.effect=new Y_(N);v.scope.off();const A=v.update=R.run.bind(R),ie=v.job=R.runIfDirty.bind(R);ie.i=v,ie.id=v.uid,R.scheduler=()=>dg(ie),Pn(v,!0),A()},K=(v,m,w)=>{m.component=v;const O=v.vnode.props;v.vnode=m,v.next=null,nA(v,m.props,O,w),lA(v,m.children,w),Ii(),Zm(v),Oi()},le=(v,m,w,O,I,x,H,N,R=!1)=>{const A=v&&v.children,ie=v?v.shapeFlag:0,U=m.children,{patchFlag:te,shapeFlag:fe}=m;if(te>0){if(te&128){Ge(A,U,w,O,I,x,H,N,R);return}else if(te&256){Ae(A,U,w,O,I,x,H,N,R);return}}fe&8?(ie&16&&di(A,I,x),U!==A&&d(w,U)):ie&16?fe&16?Ge(A,U,w,O,I,x,H,N,R):di(A,I,x,!0):(ie&8&&d(w,""),fe&16&&z(U,w,O,I,x,H,N,R))},Ae=(v,m,w,O,I,x,H,N,R)=>{v=v||Xo,m=m||Xo;const A=v.length,ie=m.length,U=Math.min(A,ie);let te;for(te=0;te<U;te++){const fe=m[te]=R?Ui(m[te]):Zr(m[te]);g(v[te],fe,w,null,I,x,H,N,R)}A>ie?di(v,I,x,!0,!1,U):z(m,w,O,I,x,H,N,R,U)},Ge=(v,m,w,O,I,x,H,N,R)=>{let A=0;const ie=m.length;let U=v.length-1,te=ie-1;for(;A<=U&&A<=te;){const fe=v[A],be=m[A]=R?Ui(m[A]):Zr(m[A]);if(Nn(fe,be))g(fe,be,w,null,I,x,H,N,R);else break;A++}for(;A<=U&&A<=te;){const fe=v[U],be=m[te]=R?Ui(m[te]):Zr(m[te]);if(Nn(fe,be))g(fe,be,w,null,I,x,H,N,R);else break;U--,te--}if(A>U){if(A<=te){const fe=te+1,be=fe<ie?m[fe].el:O;for(;A<=te;)g(null,m[A]=R?Ui(m[A]):Zr(m[A]),w,be,I,x,H,N,R),A++}}else if(A>te)for(;A<=U;)nt(v[A],I,x,!0),A++;else{const fe=A,be=A,Re=new Map;for(A=be;A<=te;A++){const ar=m[A]=R?Ui(m[A]):Zr(m[A]);ar.key!=null&&Re.set(ar.key,A)}let Pe,sr=0;const qt=te-be+1;let Vr=!1,Ur=0;const Us=new Array(qt);for(A=0;A<qt;A++)Us[A]=0;for(A=fe;A<=U;A++){const ar=v[A];if(sr>=qt){nt(ar,I,x,!0);continue}let Yr;if(ar.key!=null)Yr=Re.get(ar.key);else for(Pe=be;Pe<=te;Pe++)if(Us[Pe-be]===0&&Nn(ar,m[Pe])){Yr=Pe;break}Yr===void 0?nt(ar,I,x,!0):(Us[Yr-be]=A+1,Yr>=Ur?Ur=Yr:Vr=!0,g(ar,m[Yr],w,null,I,x,H,N,R),sr++)}const qm=Vr?hA(Us):Xo;for(Pe=qm.length-1,A=qt-1;A>=0;A--){const ar=be+A,Yr=m[ar],Km=ar+1<ie?m[ar+1].el:O;Us[A]===0?g(null,Yr,w,Km,I,x,H,N,R):Vr&&(Pe<0||A!==qm[Pe]?Et(Yr,w,Km,2):Pe--)}}},Et=(v,m,w,O,I=null)=>{const{el:x,type:H,transition:N,children:R,shapeFlag:A}=v;if(A&6){Et(v.component.subTree,m,w,O);return}if(A&128){v.suspense.move(m,w,O);return}if(A&64){H.move(v,m,w,k);return}if(H===we){i(x,m,w);for(let U=0;U<R.length;U++)Et(R[U],m,w,O);i(v.anchor,m,w);return}if(H===uh){S(v,m,w);return}if(O!==2&&A&1&&N)if(O===0)N.beforeEnter(x),i(x,m,w),lr(()=>N.enter(x),I);else{const{leave:U,delayLeave:te,afterLeave:fe}=N,be=()=>{v.ctx.isUnmounted?n(x):i(x,m,w)},Re=()=>{U(x,()=>{be(),fe&&fe()})};te?te(x,be,Re):Re()}else i(x,m,w)},nt=(v,m,w,O=!1,I=!1)=>{const{type:x,props:H,ref:N,children:R,dynamicChildren:A,shapeFlag:ie,patchFlag:U,dirs:te,cacheIndex:fe}=v;if(U===-2&&(I=!1),N!=null&&(Ii(),hd(N,null,w,v,!0),Oi()),fe!=null&&(m.renderCache[fe]=void 0),ie&256){m.ctx.deactivate(v);return}const be=ie&1&&te,Re=!da(v);let Pe;if(Re&&(Pe=H&&H.onVnodeBeforeUnmount)&&qr(Pe,m,v),ie&6)th(v.component,w,O);else{if(ie&128){v.suspense.unmount(w,O);return}be&&xn(v,null,m,"beforeUnmount"),ie&64?v.type.remove(v,m,w,k,O):A&&!A.hasOnce&&(x!==we||U>0&&U&64)?di(A,m,w,!1,!0):(x===we&&U&384||!I&&ie&16)&&di(R,m,w),O&&So(v)}(Re&&(Pe=H&&H.onVnodeUnmounted)||be)&&lr(()=>{Pe&&qr(Pe,m,v),be&&xn(v,null,m,"unmounted")},w)},So=v=>{const{type:m,el:w,anchor:O,transition:I}=v;if(m===we){Xl(w,O);return}if(m===uh){_(v);return}const x=()=>{n(w),I&&!I.persisted&&I.afterLeave&&I.afterLeave()};if(v.shapeFlag&1&&I&&!I.persisted){const{leave:H,delayLeave:N}=I,R=()=>H(w,x);N?N(v.el,x,R):R()}else x()},Xl=(v,m)=>{let w;for(;v!==m;)w=h(v),n(v),v=w;n(m)},th=(v,m,w)=>{const{bum:O,scope:I,job:x,subTree:H,um:N,m:R,a:A,parent:ie,slots:{__:U}}=v;oy(R),oy(A),O&&ih(O),ie&&se(U)&&U.forEach(te=>{ie.renderCache[te]=void 0}),I.stop(),x&&(x.flags|=8,nt(H,v,m,w)),N&&lr(N,m),lr(()=>{v.isUnmounted=!0},m),m&&m.pendingBranch&&!m.isUnmounted&&v.asyncDep&&!v.asyncResolved&&v.suspenseId===m.pendingId&&(m.deps--,m.deps===0&&m.resolve())},di=(v,m,w,O=!1,I=!1,x=0)=>{for(let H=x;H<v.length;H++)nt(v[H],m,w,O,I)},Bi=v=>{if(v.shapeFlag&6)return Bi(v.component.subTree);if(v.shapeFlag&128)return v.suspense.next();const m=h(v.anchor||v.el),w=m&&m[AC];return w?h(w):m};let On=!1;const V=(v,m,w)=>{v==null?m._vnode&&nt(m._vnode,null,null,!0):g(m._vnode||null,v,m,null,null,null,w),m._vnode=v,On||(On=!0,Zm(),dS(),On=!1)},k={p:g,um:nt,m:Et,r:So,mt:_e,mc:z,pc:le,pbc:X,n:Bi,o:t};return{render:V,hydrate:void 0,createApp:eA(V)}}function dh({type:t,props:e},r){return r==="svg"&&t==="foreignObject"||r==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:r}function Pn({effect:t,job:e},r){r?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function uA(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function MS(t,e,r=!1){const i=t.children,n=e.children;if(se(i)&&se(n))for(let o=0;o<i.length;o++){const s=i[o];let a=n[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[o]=Ui(n[o]),a.el=s.el),!r&&a.patchFlag!==-2&&MS(s,a)),a.type===Qd&&(a.el=s.el),a.type===Wt&&!a.el&&(a.el=s.el)}}function hA(t){const e=t.slice(),r=[0];let i,n,o,s,a;const l=t.length;for(i=0;i<l;i++){const c=t[i];if(c!==0){if(n=r[r.length-1],t[n]<c){e[i]=n,r.push(i);continue}for(o=0,s=r.length-1;o<s;)a=o+s>>1,t[r[a]]<c?o=a+1:s=a;c<t[r[o]]&&(o>0&&(e[i]=r[o-1]),r[o]=i)}}for(o=r.length,s=r[o-1];o-- >0;)r[o]=s,s=e[s];return r}function RS(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:RS(e)}function oy(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const fA=Symbol.for("v-scx"),pA=()=>ha(fA);function hr(t,e,r){return NS(t,e,r)}function NS(t,e,r=Le){const{immediate:i,deep:n,flush:o,once:s}=r,a=wt({},r),l=e&&i||!e&&o!=="post";let c;if(Ca){if(o==="sync"){const f=pA();c=f.__watcherHandles||(f.__watcherHandles=[])}else if(!l){const f=()=>{};return f.stop=ii,f.resume=ii,f.pause=ii,f}}const d=xt;a.call=(f,p,g)=>Fr(f,d,p,g);let u=!1;o==="post"?a.scheduler=f=>{lr(f,d&&d.suspense)}:o!=="sync"&&(u=!0,a.scheduler=(f,p)=>{p?f():dg(f)}),a.augmentJob=f=>{e&&(f.flags|=4),u&&(f.flags|=2,d&&(f.id=d.uid,f.i=d))};const h=xC(t,e,a);return Ca&&(c?c.push(h):l&&h()),h}function vA(t,e,r){const i=this.proxy,n=lt(t)?t.includes(".")?FS(i,t):()=>i[t]:t.bind(i,i);let o;ve(e)?o=e:(o=e.handler,r=e);const s=Qa(this),a=NS(n,o.bind(i),r);return s(),a}function FS(t,e){const r=e.split(".");return()=>{let i=t;for(let n=0;n<r.length&&i;n++)i=i[r[n]];return i}}const gA=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${dn(e)}Modifiers`]||t[`${co(e)}Modifiers`];function mA(t,e,...r){if(t.isUnmounted)return;const i=t.vnode.props||Le;let n=r;const o=e.startsWith("update:"),s=o&&gA(i,e.slice(7));s&&(s.trim&&(n=r.map(d=>lt(d)?d.trim():d)),s.number&&(n=r.map(Vk)));let a,l=i[a=rh(e)]||i[a=rh(dn(e))];!l&&o&&(l=i[a=rh(co(e))]),l&&Fr(l,t,6,n);const c=i[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Fr(c,t,6,n)}}function BS(t,e,r=!1){const i=e.emitsCache,n=i.get(t);if(n!==void 0)return n;const o=t.emits;let s={},a=!1;if(!ve(t)){const l=c=>{const d=BS(c,e,!0);d&&(a=!0,wt(s,d))};!r&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!o&&!a?(Ve(t)&&i.set(t,null),null):(se(o)?o.forEach(l=>s[l]=null):wt(s,o),Ve(t)&&i.set(t,s),s)}function Zd(t,e){return!t||!Wd(e)?!1:(e=e.slice(2).replace(/Once$/,""),Oe(t,e[0].toLowerCase()+e.slice(1))||Oe(t,co(e))||Oe(t,e))}function sy(t){const{type:e,vnode:r,proxy:i,withProxy:n,propsOptions:[o],slots:s,attrs:a,emit:l,render:c,renderCache:d,props:u,data:h,setupState:f,ctx:p,inheritAttrs:g}=t,$=ud(t);let y,b;try{if(r.shapeFlag&4){const _=n||i,T=_;y=Zr(c.call(T,_,d,u,f,h,p)),b=a}else{const _=e;y=Zr(_.length>1?_(u,{attrs:a,slots:s,emit:l}):_(u,null)),b=e.props?a:yA(a)}}catch(_){fa.length=0,Gd(_,t,1),y=We(Wt)}let S=y;if(b&&g!==!1){const _=Object.keys(b),{shapeFlag:T}=S;_.length&&T&7&&(o&&_.some(Zv)&&(b=bA(b,o)),S=fn(S,b,!1,!0))}return r.dirs&&(S=fn(S,null,!1,!0),S.dirs=S.dirs?S.dirs.concat(r.dirs):r.dirs),r.transition&&Pa(S,r.transition),y=S,ud($),y}const yA=t=>{let e;for(const r in t)(r==="class"||r==="style"||Wd(r))&&((e||(e={}))[r]=t[r]);return e},bA=(t,e)=>{const r={};for(const i in t)(!Zv(i)||!(i.slice(9)in e))&&(r[i]=t[i]);return r};function $A(t,e,r){const{props:i,children:n,component:o}=t,{props:s,children:a,patchFlag:l}=e,c=o.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return i?ay(i,s,c):!!s;if(l&8){const d=e.dynamicProps;for(let u=0;u<d.length;u++){const h=d[u];if(s[h]!==i[h]&&!Zd(c,h))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:i===s?!1:i?s?ay(i,s,c):!0:!!s;return!1}function ay(t,e,r){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let n=0;n<i.length;n++){const o=i[n];if(e[o]!==t[o]&&!Zd(r,o))return!0}return!1}function wA({vnode:t,parent:e},r){for(;e;){const i=e.subTree;if(i.suspense&&i.suspense.activeBranch===t&&(i.el=t.el),i===t)(t=e.vnode).el=r,e=e.parent;else break}}const LS=t=>t.__isSuspense;function _A(t,e){e&&e.pendingBranch?se(t)?e.effects.push(...t):e.effects.push(t):CC(t)}const we=Symbol.for("v-fgt"),Qd=Symbol.for("v-txt"),Wt=Symbol.for("v-cmt"),uh=Symbol.for("v-stc"),fa=[];let dr=null;function F(t=!1){fa.push(dr=t?null:[])}function SA(){fa.pop(),dr=fa[fa.length-1]||null}let ka=1;function ly(t,e=!1){ka+=t,t<0&&dr&&e&&(dr.hasOnce=!0)}function jS(t){return t.dynamicChildren=ka>0?dr||Xo:null,SA(),ka>0&&dr&&dr.push(t),t}function G(t,e,r,i,n,o){return jS(re(t,e,r,i,n,o,!0))}function ot(t,e,r,i,n){return jS(We(t,e,r,i,n,!0))}function pd(t){return t?t.__v_isVNode===!0:!1}function Nn(t,e){return t.type===e.type&&t.key===e.key}const zS=({key:t})=>t??null,Hc=({ref:t,ref_key:e,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?lt(t)||st(t)||ve(t)?{i:wr,r:t,k:e,f:!!r}:t:null);function re(t,e=null,r=null,i=0,n=null,o=t===we?0:1,s=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&zS(e),ref:e&&Hc(e),scopeId:hS,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:i,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:wr};return a?(fg(l,r),o&128&&t.normalize(l)):r&&(l.shapeFlag|=lt(r)?8:16),ka>0&&!s&&dr&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&dr.push(l),l}const We=EA;function EA(t,e=null,r=null,i=0,n=null,o=!1){if((!t||t===YC)&&(t=Wt),pd(t)){const a=fn(t,e,!0);return r&&fg(a,r),ka>0&&!o&&dr&&(a.shapeFlag&6?dr[dr.indexOf(t)]=a:dr.push(a)),a.patchFlag=-2,a}if(RA(t)&&(t=t.__vccOpts),e){e=TA(e);let{class:a,style:l}=e;a&&!lt(a)&&(e.class=Ai(a)),Ve(l)&&(ag(l)&&!se(l)&&(l=wt({},l)),e.style=_r(l))}const s=lt(t)?1:LS(t)?128:fS(t)?64:Ve(t)?4:ve(t)?2:0;return re(t,e,r,i,n,s,o,!0)}function TA(t){return t?ag(t)||xS(t)?wt({},t):t:null}function fn(t,e,r=!1,i=!1){const{props:n,ref:o,patchFlag:s,children:a,transition:l}=t,c=e?IA(n||{},e):n,d={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&zS(c),ref:e&&e.ref?r&&o?se(o)?o.concat(Hc(e)):[o,Hc(e)]:Hc(e):o,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==we?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&fn(t.ssContent),ssFallback:t.ssFallback&&fn(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&i&&Pa(d,l.clone(d)),d}function os(t=" ",e=0){return We(Qd,null,t,e)}function De(t="",e=!1){return e?(F(),ot(Wt,null,t)):We(Wt,null,t)}function Zr(t){return t==null||typeof t=="boolean"?We(Wt):se(t)?We(we,null,t.slice()):pd(t)?Ui(t):We(Qd,null,String(t))}function Ui(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:fn(t)}function fg(t,e){let r=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(se(e))r=16;else if(typeof e=="object")if(i&65){const n=e.default;n&&(n._c&&(n._d=!1),fg(t,n()),n._c&&(n._d=!0));return}else{r=32;const n=e._;!n&&!xS(e)?e._ctx=wr:n===3&&wr&&(wr.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ve(e)?(e={default:e,_ctx:wr},r=32):(e=String(e),i&64?(r=16,e=[os(e)]):r=8);t.children=e,t.shapeFlag|=r}function IA(...t){const e={};for(let r=0;r<t.length;r++){const i=t[r];for(const n in i)if(n==="class")e.class!==i.class&&(e.class=Ai([e.class,i.class]));else if(n==="style")e.style=_r([e.style,i.style]);else if(Wd(n)){const o=e[n],s=i[n];s&&o!==s&&!(se(o)&&o.includes(s))&&(e[n]=o?[].concat(o,s):s)}else n!==""&&(e[n]=i[n])}return e}function qr(t,e,r,i=null){Fr(t,e,7,[r,i])}const OA=TS();let xA=0;function PA(t,e,r){const i=t.type,n=(e?e.appContext:t.appContext)||OA,o={uid:xA++,vnode:t,type:i,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new W_(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:kS(i,n),emitsOptions:BS(i,n),emit:null,emitted:null,propsDefaults:Le,inheritAttrs:i.inheritAttrs,ctx:Le,data:Le,props:Le,attrs:Le,slots:Le,refs:Le,setupState:Le,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=mA.bind(null,o),t.ce&&t.ce(o),o}let xt=null;const kA=()=>xt||wr;let vd,Fp;{const t=Yd(),e=(r,i)=>{let n;return(n=t[r])||(n=t[r]=[]),n.push(i),o=>{n.length>1?n.forEach(s=>s(o)):n[0](o)}};vd=e("__VUE_INSTANCE_SETTERS__",r=>xt=r),Fp=e("__VUE_SSR_SETTERS__",r=>Ca=r)}const Qa=t=>{const e=xt;return vd(t),t.scope.on(),()=>{t.scope.off(),vd(e)}},cy=()=>{xt&&xt.scope.off(),vd(null)};function HS(t){return t.vnode.shapeFlag&4}let Ca=!1;function CA(t,e=!1,r=!1){e&&Fp(e);const{props:i,children:n}=t.vnode,o=HS(t);iA(t,i,o,e),aA(t,n,r||e);const s=o?AA(t,e):void 0;return e&&Fp(!1),s}function AA(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,qC);const{setup:i}=r;if(i){Ii();const n=t.setupContext=i.length>1?MA(t):null,o=Qa(t),s=Ja(i,t,0,[t.props,n]),a=R_(s);if(Oi(),o(),(a||t.sp)&&!da(t)&&bS(t),a){if(s.then(cy,cy),e)return s.then(l=>{dy(t,l)}).catch(l=>{Gd(l,t,0)});t.asyncDep=s}else dy(t,s)}else WS(t)}function dy(t,e,r){ve(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ve(e)&&(t.setupState=aS(e)),WS(t)}function WS(t,e,r){const i=t.type;t.render||(t.render=i.render||ii);{const n=Qa(t);Ii();try{KC(t)}finally{Oi(),n()}}}const DA={get(t,e){return Mt(t,"get",""),t[e]}};function MA(t){const e=r=>{t.exposed=r||{}};return{attrs:new Proxy(t.attrs,DA),slots:t.slots,emit:t.emit,expose:e}}function pg(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(aS(lg(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in ua)return ua[r](t)},has(e,r){return r in e||r in ua}})):t.proxy}function RA(t){return ve(t)&&"__vccOpts"in t}const Se=(t,e)=>IC(t,e,Ca);function NA(t,e,r){const i=arguments.length;return i===2?Ve(e)&&!se(e)?pd(e)?We(t,null,[e]):We(t,e):We(t,null,e):(i>3?r=Array.prototype.slice.call(arguments,2):i===3&&pd(r)&&(r=[r]),We(t,e,r))}const FA="3.5.16";/**
* @vue/runtime-dom v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Bp;const uy=typeof window<"u"&&window.trustedTypes;if(uy)try{Bp=uy.createPolicy("vue",{createHTML:t=>t})}catch{}const VS=Bp?t=>Bp.createHTML(t):t=>t,BA="http://www.w3.org/2000/svg",LA="http://www.w3.org/1998/Math/MathML",fi=typeof document<"u"?document:null,hy=fi&&fi.createElement("template"),jA={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,i)=>{const n=e==="svg"?fi.createElementNS(BA,t):e==="mathml"?fi.createElementNS(LA,t):r?fi.createElement(t,{is:r}):fi.createElement(t);return t==="select"&&i&&i.multiple!=null&&n.setAttribute("multiple",i.multiple),n},createText:t=>fi.createTextNode(t),createComment:t=>fi.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>fi.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,i,n,o){const s=r?r.previousSibling:e.lastChild;if(n&&(n===o||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),r),!(n===o||!(n=n.nextSibling)););else{hy.innerHTML=VS(i==="svg"?`<svg>${t}</svg>`:i==="mathml"?`<math>${t}</math>`:t);const a=hy.content;if(i==="svg"||i==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,r)}return[s?s.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}},Li="transition",qs="animation",Aa=Symbol("_vtc"),US={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},zA=wt({},pS,US),HA=t=>(t.displayName="Transition",t.props=zA,t),Zn=HA((t,{slots:e})=>NA(RC,WA(t),e)),kn=(t,e=[])=>{se(t)?t.forEach(r=>r(...e)):t&&t(...e)},fy=t=>t?se(t)?t.some(e=>e.length>1):t.length>1:!1;function WA(t){const e={};for(const j in t)j in US||(e[j]=t[j]);if(t.css===!1)return e;const{name:r="v",type:i,duration:n,enterFromClass:o=`${r}-enter-from`,enterActiveClass:s=`${r}-enter-active`,enterToClass:a=`${r}-enter-to`,appearFromClass:l=o,appearActiveClass:c=s,appearToClass:d=a,leaveFromClass:u=`${r}-leave-from`,leaveActiveClass:h=`${r}-leave-active`,leaveToClass:f=`${r}-leave-to`}=t,p=VA(n),g=p&&p[0],$=p&&p[1],{onBeforeEnter:y,onEnter:b,onEnterCancelled:S,onLeave:_,onLeaveCancelled:T,onBeforeAppear:W=y,onAppear:Y=b,onAppearCancelled:z=S}=e,C=(j,ue,_e,ye)=>{j._enterCancelled=ye,Cn(j,ue?d:a),Cn(j,ue?c:s),_e&&_e()},X=(j,ue)=>{j._isLeaving=!1,Cn(j,u),Cn(j,f),Cn(j,h),ue&&ue()},de=j=>(ue,_e)=>{const ye=j?Y:b,Q=()=>C(ue,j,_e);kn(ye,[ue,Q]),py(()=>{Cn(ue,j?l:o),hi(ue,j?d:a),fy(ye)||vy(ue,i,g,Q)})};return wt(e,{onBeforeEnter(j){kn(y,[j]),hi(j,o),hi(j,s)},onBeforeAppear(j){kn(W,[j]),hi(j,l),hi(j,c)},onEnter:de(!1),onAppear:de(!0),onLeave(j,ue){j._isLeaving=!0;const _e=()=>X(j,ue);hi(j,u),j._enterCancelled?(hi(j,h),yy()):(yy(),hi(j,h)),py(()=>{j._isLeaving&&(Cn(j,u),hi(j,f),fy(_)||vy(j,i,$,_e))}),kn(_,[j,_e])},onEnterCancelled(j){C(j,!1,void 0,!0),kn(S,[j])},onAppearCancelled(j){C(j,!0,void 0,!0),kn(z,[j])},onLeaveCancelled(j){X(j),kn(T,[j])}})}function VA(t){if(t==null)return null;if(Ve(t))return[hh(t.enter),hh(t.leave)];{const e=hh(t);return[e,e]}}function hh(t){return Uk(t)}function hi(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.add(r)),(t[Aa]||(t[Aa]=new Set)).add(e)}function Cn(t,e){e.split(/\s+/).forEach(i=>i&&t.classList.remove(i));const r=t[Aa];r&&(r.delete(e),r.size||(t[Aa]=void 0))}function py(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let UA=0;function vy(t,e,r,i){const n=t._endId=++UA,o=()=>{n===t._endId&&i()};if(r!=null)return setTimeout(o,r);const{type:s,timeout:a,propCount:l}=YA(t,e);if(!s)return i();const c=s+"end";let d=0;const u=()=>{t.removeEventListener(c,h),o()},h=f=>{f.target===t&&++d>=l&&u()};setTimeout(()=>{d<l&&u()},a+1),t.addEventListener(c,h)}function YA(t,e){const r=window.getComputedStyle(t),i=p=>(r[p]||"").split(", "),n=i(`${Li}Delay`),o=i(`${Li}Duration`),s=gy(n,o),a=i(`${qs}Delay`),l=i(`${qs}Duration`),c=gy(a,l);let d=null,u=0,h=0;e===Li?s>0&&(d=Li,u=s,h=o.length):e===qs?c>0&&(d=qs,u=c,h=l.length):(u=Math.max(s,c),d=u>0?s>c?Li:qs:null,h=d?d===Li?o.length:l.length:0);const f=d===Li&&/\b(transform|all)(,|$)/.test(i(`${Li}Property`).toString());return{type:d,timeout:u,propCount:h,hasTransform:f}}function gy(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((r,i)=>my(r)+my(t[i])))}function my(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function yy(){return document.body.offsetHeight}function qA(t,e,r){const i=t[Aa];i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}const by=Symbol("_vod"),KA=Symbol("_vsh"),GA=Symbol(""),XA=/(^|;)\s*display\s*:/;function JA(t,e,r){const i=t.style,n=lt(r);let o=!1;if(r&&!n){if(e)if(lt(e))for(const s of e.split(";")){const a=s.slice(0,s.indexOf(":")).trim();r[a]==null&&Wc(i,a,"")}else for(const s in e)r[s]==null&&Wc(i,s,"");for(const s in r)s==="display"&&(o=!0),Wc(i,s,r[s])}else if(n){if(e!==r){const s=i[GA];s&&(r+=";"+s),i.cssText=r,o=XA.test(r)}}else e&&t.removeAttribute("style");by in t&&(t[by]=o?i.display:"",t[KA]&&(i.display="none"))}const $y=/\s*!important$/;function Wc(t,e,r){if(se(r))r.forEach(i=>Wc(t,e,i));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const i=ZA(t,e);$y.test(r)?t.setProperty(co(i),r.replace($y,""),"important"):t[i]=r}}const wy=["Webkit","Moz","ms"],fh={};function ZA(t,e){const r=fh[e];if(r)return r;let i=dn(e);if(i!=="filter"&&i in t)return fh[e]=i;i=B_(i);for(let n=0;n<wy.length;n++){const o=wy[n]+i;if(o in t)return fh[e]=o}return e}const _y="http://www.w3.org/1999/xlink";function Sy(t,e,r,i,n,o=Jk(e)){i&&e.startsWith("xlink:")?r==null?t.removeAttributeNS(_y,e.slice(6,e.length)):t.setAttributeNS(_y,e,r):r==null||o&&!j_(r)?t.removeAttribute(e):t.setAttribute(e,o?"":yn(r)?String(r):r)}function Ey(t,e,r,i,n){if(e==="innerHTML"||e==="textContent"){r!=null&&(t[e]=e==="innerHTML"?VS(r):r);return}const o=t.tagName;if(e==="value"&&o!=="PROGRESS"&&!o.includes("-")){const a=o==="OPTION"?t.getAttribute("value")||"":t.value,l=r==null?t.type==="checkbox"?"on":"":String(r);(a!==l||!("_value"in t))&&(t.value=l),r==null&&t.removeAttribute(e),t._value=r;return}let s=!1;if(r===""||r==null){const a=typeof t[e];a==="boolean"?r=j_(r):r==null&&a==="string"?(r="",s=!0):a==="number"&&(r=0,s=!0)}try{t[e]=r}catch{}s&&t.removeAttribute(n||e)}function QA(t,e,r,i){t.addEventListener(e,r,i)}function eD(t,e,r,i){t.removeEventListener(e,r,i)}const Ty=Symbol("_vei");function tD(t,e,r,i,n=null){const o=t[Ty]||(t[Ty]={}),s=o[e];if(i&&s)s.value=i;else{const[a,l]=rD(e);if(i){const c=o[e]=oD(i,n);QA(t,a,c,l)}else s&&(eD(t,a,s,l),o[e]=void 0)}}const Iy=/(?:Once|Passive|Capture)$/;function rD(t){let e;if(Iy.test(t)){e={};let i;for(;i=t.match(Iy);)t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):co(t.slice(2)),e]}let ph=0;const iD=Promise.resolve(),nD=()=>ph||(iD.then(()=>ph=0),ph=Date.now());function oD(t,e){const r=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=r.attached)return;Fr(sD(i,r.value),e,5,[i])};return r.value=t,r.attached=nD(),r}function sD(t,e){if(se(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(i=>n=>!n._stopped&&i&&i(n))}else return e}const Oy=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,aD=(t,e,r,i,n,o)=>{const s=n==="svg";e==="class"?qA(t,i,s):e==="style"?JA(t,r,i):Wd(e)?Zv(e)||tD(t,e,r,i,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):lD(t,e,i,s))?(Ey(t,e,i),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Sy(t,e,i,s,o,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!lt(i))?Ey(t,dn(e),i,o,e):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),Sy(t,e,i,s))};function lD(t,e,r,i){if(i)return!!(e==="innerHTML"||e==="textContent"||e in t&&Oy(e)&&ve(r));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const n=t.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return Oy(e)&&lt(r)?!1:e in t}const cD=["ctrl","shift","alt","meta"],dD={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>cD.some(r=>t[`${r}Key`]&&!e.includes(r))},Ee=(t,e)=>{const r=t._withMods||(t._withMods={}),i=e.join(".");return r[i]||(r[i]=(n,...o)=>{for(let s=0;s<e.length;s++){const a=dD[e[s]];if(a&&a(n,e))return}return t(n,...o)})},uD=wt({patchProp:aD},jA);let xy;function hD(){return xy||(xy=cA(uD))}const fD=(...t)=>{const e=hD().createApp(...t),{mount:r}=e;return e.mount=i=>{const n=vD(i);if(!n)return;const o=e._component;!ve(o)&&!o.render&&!o.template&&(o.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const s=r(n,!1,pD(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),s},e};function pD(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function vD(t){return lt(t)?document.querySelector(t):t}/*!
 * pinia v3.0.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let YS;const eu=t=>YS=t,qS=Symbol();function Lp(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var pa;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(pa||(pa={}));function gD(){const t=V_(!0),e=t.run(()=>Rt({}));let r=[],i=[];const n=lg({install(o){eu(n),n._a=o,o.provide(qS,n),o.config.globalProperties.$pinia=n,i.forEach(s=>r.push(s)),i=[]},use(o){return this._a?r.push(o):i.push(o),this},_p:r,_a:null,_e:t,_s:new Map,state:e});return n}const KS=()=>{};function Py(t,e,r,i=KS){t.push(e);const n=()=>{const o=t.indexOf(e);o>-1&&(t.splice(o,1),i())};return!r&&U_()&&Zk(n),n}function To(t,...e){t.slice().forEach(r=>{r(...e)})}const mD=t=>t(),ky=Symbol(),vh=Symbol();function jp(t,e){t instanceof Map&&e instanceof Map?e.forEach((r,i)=>t.set(i,r)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const r in e){if(!e.hasOwnProperty(r))continue;const i=e[r],n=t[r];Lp(n)&&Lp(i)&&t.hasOwnProperty(r)&&!st(i)&&!en(i)?t[r]=jp(n,i):t[r]=i}return t}const yD=Symbol();function bD(t){return!Lp(t)||!Object.prototype.hasOwnProperty.call(t,yD)}const{assign:ji}=Object;function $D(t){return!!(st(t)&&t.effect)}function wD(t,e,r,i){const{state:n,actions:o,getters:s}=e,a=r.state.value[t];let l;function c(){a||(r.state.value[t]=n?n():{});const d=_C(r.state.value[t]);return ji(d,o,Object.keys(s||{}).reduce((u,h)=>(u[h]=lg(Se(()=>{eu(r);const f=r._s.get(t);return s[h].call(f,f)})),u),{}))}return l=GS(t,c,e,r,i,!0),l}function GS(t,e,r={},i,n,o){let s;const a=ji({actions:{}},r),l={deep:!0};let c,d,u=[],h=[],f;const p=i.state.value[t];!o&&!p&&(i.state.value[t]={}),Rt({});let g;function $(z){let C;c=d=!1,typeof z=="function"?(z(i.state.value[t]),C={type:pa.patchFunction,storeId:t,events:f}):(jp(i.state.value[t],z),C={type:pa.patchObject,payload:z,storeId:t,events:f});const X=g=Symbol();cg().then(()=>{g===X&&(c=!0)}),d=!0,To(u,C,i.state.value[t])}const y=o?function(){const{state:C}=r,X=C?C():{};this.$patch(de=>{ji(de,X)})}:KS;function b(){s.stop(),u=[],h=[],i._s.delete(t)}const S=(z,C="")=>{if(ky in z)return z[vh]=C,z;const X=function(){eu(i);const de=Array.from(arguments),j=[],ue=[];function _e(K){j.push(K)}function ye(K){ue.push(K)}To(h,{args:de,name:X[vh],store:T,after:_e,onError:ye});let Q;try{Q=z.apply(this&&this.$id===t?this:T,de)}catch(K){throw To(ue,K),K}return Q instanceof Promise?Q.then(K=>(To(j,K),K)).catch(K=>(To(ue,K),Promise.reject(K))):(To(j,Q),Q)};return X[ky]=!0,X[vh]=C,X},_={_p:i,$id:t,$onAction:Py.bind(null,h),$patch:$,$reset:y,$subscribe(z,C={}){const X=Py(u,z,C.detached,()=>de()),de=s.run(()=>hr(()=>i.state.value[t],j=>{(C.flush==="sync"?d:c)&&z({storeId:t,type:pa.direct,events:f},j)},ji({},l,C)));return X},$dispose:b},T=Kd(_);i._s.set(t,T);const Y=(i._a&&i._a.runWithContext||mD)(()=>i._e.run(()=>(s=V_()).run(()=>e({action:S}))));for(const z in Y){const C=Y[z];if(st(C)&&!$D(C)||en(C))o||(p&&bD(C)&&(st(C)?C.value=p[z]:jp(C,p[z])),i.state.value[t][z]=C);else if(typeof C=="function"){const X=S(C,z);Y[z]=X,a.actions[z]=C}}return ji(T,Y),ji($e(T),Y),Object.defineProperty(T,"$state",{get:()=>i.state.value[t],set:z=>{$(C=>{ji(C,z)})}}),i._p.forEach(z=>{ji(T,s.run(()=>z({store:T,app:i._a,pinia:i,options:a})))}),p&&o&&r.hydrate&&r.hydrate(T.$state,p),c=!0,d=!0,T}/*! #__NO_SIDE_EFFECTS__ */function bn(t,e,r){let i;const n=typeof e=="function";i=n?r:e;function o(s,a){const l=rA();return s=s||(l?ha(qS,null):null),s&&eu(s),s=YS,s._s.has(t)||(n?GS(t,e,i,s):wD(t,i,s)),s._s.get(t)}return o.$id=t,o}const _D=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,SD=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,ED=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function TD(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){ID(t);return}return e}function ID(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function OD(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const r=t.trim();if(r.length<=9)switch(r.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!ED.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(_D.test(t)||SD.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,TD)}return JSON.parse(t)}catch(i){if(e.strict)throw i;return t}}function xD(t,e){if(t==null)return;let r=t;for(let i=0;i<e.length;i++){if(r==null||r[e[i]]==null)return;r=r[e[i]]}return r}function vg(t,e,r){if(r.length===0)return e;const i=r[0];return r.length>1&&(e=vg(typeof t!="object"||t===null||!Object.prototype.hasOwnProperty.call(t,i)?Number.isInteger(Number(r[1]))?[]:{}:t[i],e,Array.prototype.slice.call(r,1))),Number.isInteger(Number(i))&&Array.isArray(t)?t.slice()[i]:Object.assign({},t,{[i]:e})}function XS(t,e){if(t==null||e.length===0)return t;if(e.length===1){if(t==null)return t;if(Number.isInteger(e[0])&&Array.isArray(t))return Array.prototype.slice.call(t,0).splice(e[0],1);const r={};for(const i in t)r[i]=t[i];return delete r[e[0]],r}if(t[e[0]]==null){if(Number.isInteger(e[0])&&Array.isArray(t))return Array.prototype.concat.call([],t);const r={};for(const i in t)r[i]=t[i];return r}return vg(t,XS(t[e[0]],Array.prototype.slice.call(e,1)),[e[0]])}function JS(t,e){return e.map(r=>r.split(".")).map(r=>[r,xD(t,r)]).filter(r=>r[1]!==void 0).reduce((r,i)=>vg(r,i[1],i[0]),{})}function ZS(t,e){return e.map(r=>r.split(".")).reduce((r,i)=>XS(r,i),t)}function Cy(t,{storage:e,serializer:r,key:i,debug:n,pick:o,omit:s,beforeHydrate:a,afterHydrate:l},c,d=!0){try{d&&(a==null||a(c));const u=e.getItem(i);if(u){const h=r.deserialize(u),f=o?JS(h,o):h,p=s?ZS(f,s):f;t.$patch(p)}d&&(l==null||l(c))}catch(u){n&&console.error("[pinia-plugin-persistedstate]",u)}}function Ay(t,{storage:e,serializer:r,key:i,debug:n,pick:o,omit:s}){try{const a=o?JS(t,o):t,l=s?ZS(a,s):a,c=r.serialize(l);e.setItem(i,c)}catch(a){n&&console.error("[pinia-plugin-persistedstate]",a)}}function PD(t,e,r){const{pinia:i,store:n,options:{persist:o=r}}=t;if(!o)return;if(!(n.$id in i.state.value)){const l=i._s.get(n.$id.replace("__hot:",""));l&&Promise.resolve().then(()=>l.$persist());return}const a=(Array.isArray(o)?o:o===!0?[{}]:[o]).map(e);n.$hydrate=({runHooks:l=!0}={})=>{a.forEach(c=>{Cy(n,c,t,l)})},n.$persist=()=>{a.forEach(l=>{Ay(n.$state,l)})},a.forEach(l=>{Cy(n,l,t),n.$subscribe((c,d)=>Ay(d,l),{detached:!0})})}function kD(t={}){return function(e){PD(e,r=>({key:(t.key?t.key:i=>i)(r.key??e.store.$id),debug:r.debug??t.debug??!1,serializer:r.serializer??t.serializer??{serialize:i=>JSON.stringify(i),deserialize:i=>OD(i)},storage:r.storage??t.storage??window.localStorage,beforeHydrate:r.beforeHydrate,afterHydrate:r.afterHydrate,pick:r.pick,omit:r.omit}),t.auto??!1)}}var CD=kD();const va={"dragon-ring":{id:"dragon-ring",label:"Dragon ring",description:"The dragon is made of stainless steel with ruby red eyes, and in its claws, it holds a swirling planet of turquoise.",actionText:"You slip your dragon ring on. It always makes you feel connected to the Gurpy you never met.",value:0,weight:0,permanent:!0},"patched-coat":{id:"patched-coat",label:"Patched coat",description:"There is an intricately-hooked patch on its back that shows four images: an ancient windmill, an historic longship, a modern wind turbine, and a lobster boat.",actionText:"You put on the coat. Smells like Mormor.",value:0,weight:0,permanent:!0},pinecone:{id:"pinecone",label:"Pinecone",description:"A pinecone.",actionText:"It's prickly to the touch.",value:0,weight:1},"pine-needles":{id:"pine-needles",label:"Pine needles",description:"Long, brown and pointy on one end. Some are paired together, others in bunches of three.",actionText:"Pine needly.",value:0,weight:1},mushroom:{id:"mushroom",label:"Mushroom",description:"Spongy, earthy, fungal.",actionText:"Tastes like dirt. You feel funny.",value:0,weight:1,type:"consumable"},"hongatar-trash":{id:"hongatar-trash",label:"Hongatar trash",description:"Empty snail shells. Looks like they were licked clean.",actionText:"You roll the shells around in your palm. They emit a delicate clacking sound.",value:0,weight:1},"self-help-book":{id:"self-help-book",label:"Self help book",description:`The book is titled "Sisu". The author's name sounds Finnish. There is an illustration of two hikers at the top of a snowy peak.`,actionText:"You aren't fluent enough in Finnish to read this.",value:0,weight:2},"dog-food":{id:"dog-food",label:"Dog food can",description:"",value:0,weight:1},cards:{id:"cards",label:"Playing cards",description:"",value:0,weight:1},"spray-paint":{id:"spray-paint",label:"Orange spray paint",description:"",value:0,weight:1,type:"consumable"},translator:{id:"translator",label:"Translator",description:"",value:0,weight:1},"beest-recording":{id:"beest-recording",label:"Beest recording",description:"",value:0,weight:1},"brain-moss":{id:"brain-moss",label:"Brain moss",description:"Fine, leathery strings of pink stuff.",actionText:"You twirl the moss around above your head like a ribbon dancer.",value:0,weight:1},axe:{id:"axe",label:"Ax",description:"A single-headed carbon-fiber ax.",value:0,weight:5}},AD=[va["dragon-ring"],va["patched-coat"]];let Ks;const ss=bn("snackbar",{state:()=>({visible:!1,message:"",timeout:5e3}),actions:{async show(t){this.message=t,this.visible=!0,await new Promise(e=>{Ks=setTimeout(e,this.timeout)}),Ks&&Ks!=0&&(this.visible=!1)},dismiss(){clearTimeout(Ks),Ks=0,this.visible=!1}}}),pe=bn("character",{state:()=>({name:"Adventurer",health:100,blueMagic:0,will:0,shitheadedness:0,athletics:0,inventory:[...AD],flags:{}}),actions:{takeDamage(t){this.health=Math.max(this.health-t,0)},gainStat(t,e){this[t]!==void 0&&(this[t]+=e)},loseStat(t,e){this[t]!==void 0&&(this[t]-=e)},setFlag(t,e){this.flags[t]=e},addToInventory(t,e){const r=va[t];r.pageAcquired=e,this.inventory.push(r),ss().show(`+1 ${r.label}`)},removeFromInventory(t,e=!0){const r=this.inventory.findIndex(i=>i.id===t);if(r!==-1){const i=va[t];this.inventory.splice(r,1);const n=ss();e&&n.show(`-1 ${i.label}`)}},async useItem(t){t=="mushroom"&&Z().startPsychedelicEffect(),va[t].type=="consumable"&&this.removeFromInventory(t,!1)},hasItem(t){return this.inventory.some(e=>e.id==t)}}}),DD="/void-leeba/assets/Landing-Page-BeHrxynY.png",MD={start:t=>({id:"start",text:"An intro to the Leakyverse",animationRate:250,background:DD,audio:"src/assets/audio/story/intro.mp3",choices:()=>[{text:"New game",next:"intro"},{text:"Credits",next:"credits"}]}),intro:t=>({id:"intro",text:"I left the home I'd come to know",audio:"src/assets/audio/story/wind-tunnel.mp3",animationRate:250,buttonActions:[{action:()=>{Z().goToScene("home")}}]}),intro1:t=>({id:"intro1",text:"I stayed alive to find a way to grow",audio:"src/assets/audio/story/wind-tunnel.mp3",animationRate:250}),credits:t=>({id:"credits",text:"credits"}),preamble:()=>({id:"preamble",text:""})},q="/void-leeba/assets/new-game-DItTJ8YH.png",RD={home:t=>({id:"home",background:q,audio:"src/assets/audio/story/morning-birds.mp3",text:"You have just moved away from the countryside, finally. Endless evergreens, oceans and coves, silence and stars, and quiet. People knew you, but you only knew a few. You didn't grow up near the ocean. You're from away. Isolation multiplies where one doesn't belong. Your grandma died recently, removing your last obligation to stay.^^Now you live in the suburbs of the city of Poetland. In the suburbs, you can choose to know your neighbors, or not. No one knows you unless you want them to know you.^^You have on your grandfather's dragon ring. The dragon is made of stainless steel with ruby red eyes, and in its claws, it holds a swirling planet of turquoise. You wear your grandmother's wool coat, with an intricately-hooked patch on its back that shows four images: an ancient windmill, an historic longship, a modern wind turbine, and a lobster boat. {Continue.}",buttonActions:[{action:()=>{Z().goToScene("home1")}}]}),home1:t=>({id:"home1",background:q,audio:"src/assets/audio/story/morning-birds.mp3",text:"Your rented room shares its house with roommates, who are at work. Daylight filters through the blinds of the living room window and is spilt onto the ceiling in stripes. The view out your window shows a lawn, a small tree speckled with red berries, and a quiet road with cars parked along its length.^^You could go out and explore. Also, no one is home. You might enjoy some quiet time in your room.",choices:()=>[{text:"Go out and explore.",next:"home2"},{text:"Enjoy some quiet time in your room.",next:"room"},{text:"You can do anything! Look at your phone.",drawerView:"phone"}]}),home2:t=>({id:"home2",background:q,text:"Will you take anything with you?",choices:()=>[{text:"Dog food can",next:"home3",payload:{text:"Maybe you'll meet a hungry dog. {Continue.}"},onChoose:()=>{pe().addToInventory("dog-food","home2")}},{text:"Playing cards",next:"home3",payload:{text:"Maybe someone will want to play. {Continue.}"},onChoose:()=>{pe().addToInventory("cards","home2")}},{text:"Orange spray paint",next:"home3",payload:{text:"Maybe you'll spray paint something. {Continue.}"},onChoose:()=>{pe().addToInventory("spray-paint","home2")}},{text:"Translator",next:"home3",payload:{text:"Maybe you'll encounter a language you can't comprehend. {Continue.}"},onChoose:()=>{pe().addToInventory("translator","home2")}},{text:"Nothing",next:"home3",payload:{text:"Maybe you won't need anything. {Continue.}"}}]}),home3:t=>({id:"home3",background:q,text:(t==null?void 0:t.text)??"",buttonActions:[{action:()=>{Z().goToScene("park")}}]}),room:t=>({id:"room",background:q,text:"You trudge up the light green carpeted narrow stairs to your room. Your room is festooned with posters, orderly piles of sorted odds and ends, and trinkets. Your bed may be a full, but its puffy yellow comforter looks inviting. {A nap sounds nice}.^^A notebook sits on a little desk, a stiff chair next to it. Drawing utensils rest here. {Settle into the chair to make something}.^^The empty bed and the blank page remind you of fresh snow, a bright day, the smell of morning mud, and afternoon heat. Wait, {I'm going to the park}.",buttonActions:[{action:()=>{Z().goToScene("nap")}},{action:()=>{Z().goToScene("make-something")}},{action:()=>{Z().goToScene("park")}}]}),nap:t=>({id:"nap",background:q,text:"You get over to your bed, pull up the sheets, slip in and nestle into the blankets. You're not very tired, but you're so unmotivated it hardly matters.",choices:()=>[{text:"Close your eyes.",next:"dream"},{text:"Noooo!!! I'm not sleepy! I'd rather sit at my desk.",next:"make-something"}]}),"make-something":t=>({id:"make-something",text:"You sit down at the desk and open to a fresh page of the pad.^You look down onto the off-white paper. A void to fill. Dimensionless.^The desire to form and create something in that void. It pulls you, amuses you, scares you. You feel like proving your stoicism, resisting the urge to make marks. Go {into the Void}.^^You can feel the spirit rising in you, and the thrill of channeling that spirit! Feelings with no where to go are like idle hands...they animate. Or, no, do they become animate hands!? Nonononono! You pick up the paintbrush, smoosh some acrylic paint into the palette and {paint with your heart}.^^Nah, nevermind, I'm {going to sleep}.",background:q,buttonActions:[{action:()=>{}},{action:()=>{}},{action:()=>{Z().goToScene("nap")}}]})},ND={park:t=>({id:"park",background:q,text:"You are in the park. In the distance, a children's play structure. Behind the play structure, an empty public pool in yellow and light blue. Behind you, a soccer field, basketball court, and extensive skatepark. To your side, a huge snow pile.",choices:()=>[{text:"Still yourself and listen to the sounds.",next:"park-drunks"},{text:"Leave the park and enter the neighborhood."},{text:"Play on the snowpile."}]}),"park-drunks":t=>({id:"park-drunks",background:q,text:"The sun sets over the park. A few stars resist the city's lights. The playground and fences now set into silhouettes. As your eyes adjust, the park takes on a dark grey black clarity. The stars and a white crescent illuminate it with a soft whiteness devoid of color.^^You hear two drunks arguing as they walk along, looking up and pointing.",dialogSequence:()=>[{characterId:"drunk1",text:"That's not the Moon! It's the Sun!"},{characterId:"drunk2",text:"That's not the Sun! It's the Moon!",onClick:()=>{Z().goToScene("park-drunks1")}}],choices:()=>[]}),"park-drunks1":t=>({id:"park-drunks1",background:q,text:"In loopy diagonals from either direction, they come up to you.^^The first drunk seizes on the opportunity to accost you, her breath bequeathing hot sick.",dialogSequence:()=>[{characterId:"drunk1",text:"Hey <i>obversant</i> one, settle this for us. <i>*hiccup*</i> You see that thing up there in the sky? Is that the Sun or the Moon?",popUp:!0}],choices:()=>[{text:`"I'm sorry, I'm not from around here."`,next:"park-drunks2a",onChoose:()=>{pe().setFlag("drunk-choice",void 0)}},{text:`"It's the Sun."`,next:"park-drunks2b",onChoose:()=>{pe().setFlag("drunk-choice","sun")}},{text:`"It's the Moon."`,next:"park-drunks2b",onChoose:()=>{pe().setFlag("drunk-choice","moon")}}]}),"park-drunks2a":t=>({id:"park-drunks2a",background:q,text:"",dialogSequence:()=>[{characterId:"drunk1",text:"And you never looked up before neither, huh?",popUp:!0}],choices:()=>[{text:`"I don't have time for this."`,next:"park-drunks3",onChoose:()=>{pe().setFlag("drunk-manners","rude")}},{text:'"Looking up is for the young and hopeful."',next:"park-drunks3",onChoose:()=>{pe().setFlag("drunk-manners","depressing")}},{text:"Just laugh.",next:"park-drunks3",onChoose:()=>{pe().setFlag("drunk-manners","polite")}}]}),"park-drunks2b":t=>({id:"park-drunks2b",background:q,text:"",dialogSequence:()=>{const e=pe();return[{characterId:e.flags["drunk-choice"]=="sun"?"drunk1":"drunk2",text:e.flags["drunk-choice"]=="sun"?"THANK YOU!!":"BOOYAH!!"},{characterId:e.flags["drunk-choice"]=="sun"?"drunk2":"drunk1",text:".........",onClick:()=>{Z().goToScene("park-drunks2c")}}]},choices:()=>[{text:'"Not cool."',next:"park-drunks3",onChoose:()=>{pe().setFlag("drunk-manners","depressing")}},{text:'"YEAH! EAT IT, YA DOPE!"',next:"park-drunks3",onChoose:()=>{pe().setFlag("drunk-manners","rude")}},{text:"Just laugh.",next:"park-drunks3",onChoose:()=>{pe().setFlag("drunk-manners","polite")}}]}),"park-drunks2c":t=>({id:"park-drunks2c",background:q,text:"The one celebrates to the other.",dialogSequence:()=>[{characterId:pe().flags["drunk-choice"]=="sun"?"drunk1":"drunk2",text:"HA, EAT IT!",popUp:!0}],choices:()=>[{text:'"Not cool."',next:"park-drunks3",onChoose:()=>{pe().setFlag("drunk-manners","depressing")}},{text:'"YEAH! EAT IT, YA DOPE!"',next:"park-drunks3",onChoose:()=>{pe().setFlag("drunk-manners","rude")}},{text:"Just laugh.",next:"park-drunks3",onChoose:()=>{pe().setFlag("drunk-manners","polite")}}]}),"park-drunks3":t=>({id:"park-drunks3",background:q,text:"",dialogSequence:()=>{const e=pe(),r=e.flags["drunk-manners"],i=e.flags["drunk-choice"],n=r=="rude"?i?"Woah. Easy man, that's my friend you're talking about! ":"Rude! ":r=="depressing"?"Depressing! ":"";return[{characterId:i=="moon"?"drunk2":"drunk1",text:`${n}Oh dang! A skatepark! Cool! Bye!`,onClick:()=>{Z().goToScene("black-dog")}}]}})};function Dy(){return Array.from({length:4},()=>{const e=Math.floor(Math.random()*3);return e===0?-1:e===1?0:1}).reduce((e,r)=>e+r,0)}function gg(t,e){const r=Dy(),i=Dy(),n=t+r,o=e+i;return n-o}function FD(t){return t>=2?{text:"You take a running step toward it and fly through the air feet-first in preparation for a two-legged drop kick. The human-faced dog yelps. The dog-bodied human snarls. It looks right into your eyes. You abandon your maneuver mid-air and start to {feel bad}.",success:!0}:t==1?{text:"With malicious fury, you wind your leg up to your chest to prepare a wanton one-footed stomp. The human-faced dog squeals. The dog-bodied human snarls. It looks right into your eyes. You lower your foot and start to {feel bad}.",success:!0}:t==0?{text:"You close your eyes and kick out quickly where you think its face is. Your hear its panting as your leg furtively kicks out. You hit nothing. But strangely, you hear it depart. You open your eyes.^^Seeing the human-faced dog scamper away, you wonder if it was wrong to judge it so quickly. You start to {feel bad}.",success:!0}:{text:"As you prepare your attack, you lose your footing. The redblack dog's eyes flicker with an all-to-human violence. It's bared teeth shimmer with the certainty of death. The dog-body rushes toward you. The human-face is inches from yours. {You close your eyes.}",success:!1}}function BD(t){return t>0?{text:"chop-success",success:!0}:t<0?{text:"chop-fail",success:!1}:{text:"chop-neutral",success:!0}}function LD(t){switch(t){case"bow":return"The {hongatar} seem giddy at your gracious display and you can feel your nosehairs tingling.";case"lesson":return"The {hongatar} nod solemnly. After a moment of quiet reflection, they all begin to extol the virtues of not littering.";case"thanks":return'"Thanks!".."`Thanks!`".."tHaNkS!!" The {hongatar} are mocking you ruthlessly in what you tell yourself is all in good fun.';case"wink":return"This excites the {hongatar} very much. They start to flip and spin and shout and yip.";case"flatter":return"The {hongatar} blush simultaneously. What you said has them all a-titter!";case"insult":return"\"`tHaT's ThE sTuPiDeSt ThInG i'Ve EvEr HeArD!`\" The {hongatar} are mocking you ruthlessly, totally unfazed by your shallow insult.";case"accuse":return"The {hongatar} dismiss you summarily. You simply don't have the proof to back your accusations.";default:return""}}function jD(t){switch(t){case"dream":return"The thuds you were hearing turned out to be very real. Well, for a dream... especially considering you were dreaming twice.^^";case"squirrel":return"As you swat at the pesky vermin you lose your grip and fall backwards like a defeated villain in slow-motion, finally hitting the ground with a thud. ";case"chop-success":return'You slice through the tree with one fell swoop. Wow! Your parking lot dreams just might come true!^^The huge tree creaks ominously as it starts to fall. Just as you are about to yell, "Timber!", you hear strange noises from the depths of the forest. The tree hits the ground with a dull, lifeless thud. ';case"chop-fail":return"The axe bounces off the tree and flies out of your hands, disappearing into the forest. Not even a dent. Lame! Looks like you won't get your parking lot after all. ";case"chop-neutral":return"You manage to slice into the tree, but the axe gets stuck in the trunk. You yank it free, and as you do, it flies out of your hands, disappearing into the forest. ";default:return""}}function zD(t){return t?"The drunk from before stumbles by.":"There are those drunks from before. You cry out for help, but they don't see to care."}function HD(t){switch(t){case"rude":return"Serves them right. Probably deserve whatever Paul has in mind for them.";case"depressing":return"A good dose of mortal fear should remind them how to appreciate the little things in life.";case"polite":return"We'll help you, but only because you so polite to us earlier."}}const Qo=[{title:"New CDC director: Byron Leakschild."},{title:"CDC director declares sweeping staff cuts."},{title:'"Too many scientists, political bias, living off citizens.", Leakschild says.'},{title:`"Too many maintenance workers and technicians." No one is safe from Leakschild's cuts.`},{title:'"Infectious disease labs overstaffed", staff cuts imminent.'},{title:`CDC director finds 15 employees all whose job it is to maintain watch and status of world's healthiest goblin, "waste of taxpayer money".`},{title:`World's healthiest goblin escapes when the one employee left to maintain facility falls asleep. Leakschild blames "Shleepy Shoshana".`},{title:"Escaped goblin now believed to carry a single deadly disease per reports."},{title:"Block your windows, quarantine in your homes, don't let the disease spread."},{title:"Army deployed to contain outbreak. Shelter in palce."}],zp=bn("phone",{state:()=>Qo,actions:{markAsRead(){const t=Z(),e=Array.from(new Set(t.scenes)),r=Math.floor(e.length/4);for(let i=0;i<Qo.length;i++)i<r&&(Qo[i].isRead=!0)}}}),fr=bn("drawer",{state:()=>({isDrawerOpen:!1,notificationCount:0,didViewPhone:!1,drawerView:"main",selectedItem:null,selectedDictionaryEntry:null,phoneIsCrazy:!1}),actions:{toggleDrawer(){this.isDrawerOpen=!this.isDrawerOpen,this.didViewPhone&&!this.isDrawerOpen&&(zp().markAsRead(),this.didViewPhone=!1)},updateNotificationCount(t){this.notificationCount=t},closeDrawer(){this.selectedItem=null,this.selectedDictionaryEntry=null,this.drawerView="main",this.toggleDrawer()},resetDrawerView(){this.drawerView=="phone"&&zp().markAsRead(),this.drawerView="main"},clearItem(){this.selectedItem=null},setDrawerView(t){this.drawerView=t,t=="phone"&&(this.didViewPhone=!0,this.notificationCount=0)},updateSelectedItem(t){this.selectedItem=t},updateSelectedDictionaryEntry(t){this.selectedDictionaryEntry=t},clearDictionaryEntry(){this.selectedDictionaryEntry=null},togglePhoneIsCrazy(){this.phoneIsCrazy=!this.phoneIsCrazy}}}),WD={"black-dog":t=>({id:"black-dog",background:q,text:"They run past you to the skatepark. As they lope off, you turn around and lean against a tree.^^Your attention shifts to the field as the distant lights of the highway pull your gaze, like shooting stars.^^Below your gaze, you think you can see a form hunched across the field from you. Like a dark and burly bush, you can't make out its features. You are sure that was not there a minute ago.",choices:()=>[{text:"Go closer.",next:"black-dog1",onChoose:()=>{const e=pe();e.setFlag("closer-to-black-dog","true"),e.gainStat("will",1)}},{text:"Back away.",next:"black-dog1",onChoose:()=>{const e=pe();e.setFlag("closer-to-black-dog","false"),e.loseStat("will",1)}}]}),"black-dog1":t=>({id:"black-dog1",background:q,text:'Before you move a muscle, the dark star advances at a clip. As the distance closes, you notice rust red fur, interspersed with oily black. You feel riveted to the spot, unable to look away.^^You recall the words of your sister the last time she read your fortune using those weird blocks and strings, "You must be careful! There is a Red Dog. And, there is a Black Dog." But...^^...this is both? ^^{You start acting careful.}',buttonActions:[{action:()=>{Z().goToScene("black-dog2")}}]}),"black-dog2":t=>({id:"black-dog2",background:q,text:"As the Redblack dog approaches, you observe with rising nausea that it has a humanlike face but with dog flesh, and full dark eyes. The dog snarls, and it sounds like a hungry snarl. As it closes the distance to you, you see that its hair is caught in snarls too. Ungroomed...^^The human-faced dog circles you, growling, barking, with human-like lips that reveal its strong jaw and saliva-wet teeth. The redblack dog lunges at your ankles, its teeth snapping around your heels as you leap back.",dialogSequence:()=>[{characterId:"black-dog",text:"<i>Grrrrrrrrrrr</i>",popUp:!0}],choices:()=>[{text:"Good puppy.",next:"black-dog-good"},{text:"Defend yourself.",next:"black-dog-bad"}]}),"black-dog-good":t=>({id:"black-dog-good",background:q,text:"You remember back to your childhood, to a dog you had, Calla. Calla, so stinky, so sweet, so loyal. The contrast between your childhood pet and this creature is striking. You feel few of the same feelings, despite the bodily similarity. And yet, you just love dogs, and you know that if you follow certain procedures, a mean-seeming dog may flip onto its back.^^The dog submits to your touch, and leans against you. You find a collar with a locket wrapped around its neck. The locket is glowing faintly with a sigul of a crescent moon. The dog does not react to you touching the locket, and you think to {open it}.",buttonActions:[{action:()=>{Z().goToScene("black-dog-good1")}}]}),"black-dog-good1":t=>({id:"black-dog-good1",background:q,text:"Inside the locket is a dried bit of plant matter that smells of vanilla, and a taped lock of hair.^^As you hold these items, they dissolve in your palm, and you feel an energy fill you with intention.",choices:()=>{const e=pe();return[{text:"Heal the human-faced dog's face back into a dog's face.",next:"black-dog-heal-dog",onChoose:()=>{e.setFlag("healed-dog","dog")}},{text:"Heal the human-faced dog's body back into a human's body.",next:"black-dog-heal-human",onChoose:()=>{e.setFlag("healed-dog","human")}}]},onPageLoad:()=>{Z().updateShowDisappearingItem(!0)}}),"black-dog-heal-dog":t=>({id:"black-dog-heal-dog",background:q,text:"The creature's body seems to glow blue. Its human features morph and melt into the shape of a regular dog, keeping its general size, shape, and coloration, albeit red and black piebald.^^The dog looks up at you, panting, its eyes searching you cautiously for treats or pets. Seeing mostly surprise and wonder in your eyes, but no action, it turns tail to traipse across the field, stopping here and there to sniff the ground, but disappearing into the neighborhood.",choices:()=>{const e=[],r=pe();return r.hasItem("dog-food")&&e.push({text:"Give it some dog food.",onChoose:()=>{r.setFlag("gave-dog-food","true"),r.removeFromInventory("dog-food")},next:"black-dog-heal-dog-food"}),e}}),"black-dog-heal-dog-food":t=>({id:"black-dog-heal-dog-food",background:q,text:""}),"black-dog-heal-human":t=>({id:"black-dog-heal-human",background:q,text:"The creature's body seems to glow pink. Its dog features seem to morph and melt into the shape of a human, kneeling on the ground, its limbs lengthening and its fur receeding and shifting into a mop of red-black hair on the top of the skull, and faint hairs on the back and arms.^^The man looks up into your eyes, looking confused and wild, looking down at himself, he covers his gonads, and turns tail to sprint across the field into the neighborhood.",choices:()=>[]}),"black-dog-heal-human-redux":t=>({id:"black-dog-heal-human-redux",background:q,text:"I saw the Moondog again today. Under the empty playground slide in the park. An empty locket hangs around their neck. They contemplate the slide and my hide. I work up the guts to say, “You're not a dog now, what the heck!”Moondog says, “You made me this way, and it's been so long since I've been just one thing. Don't you think you ought to take responsibility?”I thought about it, and with my gait, I rose to the top of the slide's deck. I purse my lips, open my chest, and sing. The Moon-former-dog pipes up, “You've got real ability! Though, please, could you show me how to be human?” I looked the Moondog in its eyes, eyes unchanged through the transformation. Then I took them to a museum. But they wouldn't let the Moondog in. Something about <i>parts flapping in the wind</i>. So I took the Moondog to a Lost and Found full of clothes they could fit into.Then I brought the Moondog to a swamp, the wastewater treatment plant, the grocery store, a shelter, and a job placement agency.The Moondog said, “I don't want to be human if I have to be poor, to stop my howling before I get too loud, and keep things I find inside a door, inside a box within a box, in a box. I'm out.” I never saw the Moondog again, until I went to buy some used CDs. I heard the Moondog at the counter—I stop, I freeze. There they were, winking back at me, bearded, beastly, and barking up the tree—of music—it was music to my ease."}),"black-dog-bad":t=>({id:"black-dog-bad",background:q,text:"Its bloodshot eyes stare into yours with shameless hunger. The smell of stale smoke like the stench of clothing bathed in campfire fills your nostrils. It begins to howl. The sound is eerily human, distincly <i>evil</i> in its gleeful exuberance. Its lips purse, and its cheeks tighen around its jaw, baring a mouth filled with human teeth. A stomach-seizing terror builds in you and you know...^^<i>This kind of creature feeds on fear.</i>^^You shall try a gambit, or it may best ye. You must latch onto a solid wavelength, to stabilize, secure your base.",dialogSequence:()=>[{characterId:"black-dog-scary",text:"AWOOOOOOOOOOO!!!!",onClick:()=>{const e=pe(),r=3,i=e.athletics+(e.flags["closer-to-black-dog"]=="true"?0:1),n=gg(i,r),o=FD(n),s=Z();o.success?s.goToScene("black-dog-bad-success",{text:o.text}):s.goToScene("black-dog-bad-fail",{text:o.text})}}]}),"black-dog-bad-success":t=>({id:"black-dog-bad-success",background:q,text:(t==null?void 0:t.text)??"",buttonActions:[{action:()=>{Z().goToScene("black-dog-feel-bad")}}]}),"black-dog-bad-fail":t=>({id:"black-dog-bad-fail",background:q,text:(t==null?void 0:t.text)??"",buttonActions:[{action:()=>{const e=Z(),r=pe(),i=r.inventory.some(o=>o.id=="dog-food"),n=r.flags["drunk-choice"];i?e.goToScene("black-dog-bad-fail-food"):e.goToScene("black-dog-bad-fail-drunks",{filter:n})}}]}),"black-dog-bad-fail-food":t=>({id:"black-dog-bad-fail-food",background:q,text:"...^^But wait! You're still here... You open your eyes. The redblack dog is harmlessly sniffing around your pack. That's when you remember -- the dog food! Sweet serendiptity! Cautiously, you open your pack and {let the creature take the food}.",buttonActions:[{action:()=>{const e=pe(),r=Z();e.removeFromInventory("dog-food"),r.goToScene("black-dog-bad-fail-food1")}}]}),"black-dog-bad-fail-food1":t=>({id:"black-dog-bad-fail-food1",background:q,text:"",dialogSequence:()=>[{characterId:"black-dog",text:"<i>*whimpers happily*</i>"}]}),"black-dog-bad-fail-drunks":t=>({id:"black-dog-bad-fail-drunks",background:q,text:zD(t==null?void 0:t.filter),dialogSequence:()=>{if(t!=null&&t.filter)return[{characterId:t.filter=="sun"?"drunk1":"drunk2",text:"Hey, my friend! I see you've met Paul. He's not as scary as he looks. The little fella's jus' hangry. Don't you have any dog food?"},{characterId:t.filter=="sun"?"drunk1":"drunk2",text:"No worries. I owe you one from before!",onClick:()=>{Z().goToScene("black-dog-bad-fail-drunks-help",{filter:"single"})}}];{const r=pe().flags["drunk-manners"];return[{characterId:"drunk2",text:`Look! It's Mr. <i>"Not-from-around-here"</i>!`},{characterId:"drunk1",text:"HAHAHA!! Looks like they made a new friend!"},{characterId:"drunk2",text:`They were awfully <i>${r}</i> for someone who's <i>not from around here</i>.`},{characterId:"drunk1",text:`Facts. ${HD(r)}`,onClick:()=>{const i=Z();r=="polite"?i.goToScene("black-dog-bad-fail-drunks-help",{filter:"both"}):i.goToScene("black-dog-bad-fail-drunks-leave",{filter:"both"})}}]}}}),"black-dog-bad-fail-drunks-help":t=>({id:"black-dog-bad-fail-drunks-help",background:q,text:`The ${(t==null?void 0:t.filter)=="both"?"drunks scatters":"drunk scatters"}  some dog food on the ground. The redblack dog retreats and busies itself with the food.`}),"black-dog-bad-fail-drunks-leave":t=>({id:"black-dog-bad-fail-drunks-leave",background:q,text:"They leave. And miracualously, so does the redblack dog. It seems to recognize the drunks and follows them happily.^^You feel embarassed for what just happened. {And alone}.",buttonActions:[{action:()=>{Z().goToScene("black-dog-viral")}}]}),"black-dog-feel-bad":t=>({id:"black-dog-feel-bad",background:q,text:"You animal abuser!! But...its face is human, you say. Does that make it okay?^^Do you hate the human-faced dog because it's pieces of you?^Did you kick the dog-bodied human because it's pieces of you?^^Or was it because it was <i>{so scary}</i>?",buttonActions:[{action:()=>{Z().goToScene("black-dog-viral")}}]}),"black-dog-viral":t=>({id:"black-dog-viral",background:q,text:"Suddenly, it's like a bomb went off on your phone. Alerts chirping like crazy.",onPageLoad:()=>{fr().togglePhoneIsCrazy()}})},Qn=bn("aspect",()=>{const t=Rt([]);function e(o){t.value.find(a=>a.id===o.id)||t.value.push({...o,scenesRemaining:o.durationScenes})}function r(o){t.value=t.value.filter(s=>s.id!==o)}function i(o){return t.value.some(s=>s.id===o)}function n(){t.value.forEach(o=>o.scenesRemaining--),t.value=t.value.filter(o=>o.scenesRemaining>0)}return{activeAspects:t,addAspect:e,removeAspect:r,hasAspect:i,decrementDurations:n}}),VD={id:"magic-nosehairs",name:"Magic Nosehairs",description:"Unknown",durationScenes:-1,scenesRemaining:0},UD={id:"squirrel-tamer",name:"Squirrel Tamer",description:"Unknown",durationScenes:-1,scenesRemaining:0},YD={id:"squirrel-bitch",name:"Squirrel Bitch",description:"Unknown",durationScenes:-1,scenesRemaining:0},qD={id:"tree-murderer",name:"Tree Murderer",description:"Unknown",durationScenes:-1,scenesRemaining:0},KD={id:"all-your-bones-are-broken",name:"All Your Bones Are Broken",description:"Unknown",durationScenes:-1,scenesRemaining:0},GD={id:"jack-be-nimble",name:"Jack Be Nimble",description:"Unknown",durationScenes:-1,scenesRemaining:0},XD={dream:t=>({id:"dream",background:q,text:'"Ah, to sleep, perchance to dream."^^...^^A great forest towers over you. The ground is layered with pine needles. The stacked needles must be at least 40cm deep! It feels like this bed of needles is just barely supporting your weight and if you were any heavier, you might start to sink. Your progress is slow while you focus on balance. {Pick up a handful of pine needles.}',choices:()=>[{text:"Admire the trees.",next:"dream1"}],buttonActions:[{isItem:!0,action:()=>{pe().addToInventory("pine-needles","dream")}}]}),dream1:t=>({id:"dream1",background:q,text:`${(t==null?void 0:t.filter)=="fromNap"?"You're able to wake up from the dream within the dream, but you're still dreaming. You are back where you started.^^":t!=null&&t.filter?"You find your way back to where you started.^^":""}Trees! Grand, huge, awe-inspiring trees! The crisp, beautiful pine scent cuts through the pervading damp of the forest. ${(t==null?void 0:t.filter)=="noSquirrel"?"":"There are squirrels and spiders scurrying and spindling. {Try to catch one}. "}Above, the pines' trunks creak. Their creaky columns bend into the sky. You gaze at the trees, taking them in like a worshipper at the shrine. The woody deities are set in bas-relief against the backdrop of clear sky.${(t==null?void 0:t.filter)=="noFaeries"?"":"^^A group of {pine faeries} emerge from the knot of a nearby tree. They circle around you, teasing you, plucking your eyelashes and spitting in your nostril holes. They swirl away off to your left.^{Follow them}."}^^Dad-gum forest faeries. Yep, if you had you an ax, you'd {start chopping} down all these trees, right this second. If you don't, someone else surely will. A place like this? Prime real estate. Goodbye paradise, hello parking lot!${(t==null?void 0:t.filter)=="noNap"?"":"^^Forget the faeries, forget the trees, forget the parking lot... look at that brain-colored moss over there! Mmm, awww.... you wanna curl up and {take a nap}.^^{Pick up a handful of pine needles.}"}`,buttonActions:[{action:()=>{Z().goToScene("dream-squirrel")}},{dictionaryEntryId:"hongatar"},{action:()=>{Z().goToScene("dream-faeries")}},{action:()=>{Z().goToScene("dream-chop")}},{action:()=>{Z().goToScene("dream-within-a-dream")}},{isItem:!0,action:()=>{pe().addToInventory("pine-needles","dream1")}}]}),"dream-within-a-dream":t=>({id:"dream-within-a-dream",background:q,text:"It's so serene and beautiful here. It would be funny if you could go to sleep again when you are already dreaming. You pick a spot to nap on the brain moss, sinking into it, supple and cozy.^^{Pick up a handful of brain moss.}",buttonActions:[{isItem:!0,action:()=>{pe().addToInventory("brain-moss","dream-within-a-dream")}}],choices:()=>[{text:"Fall asleep.",next:"dream-within-a-dream1"},{text:"Nevermind",next:"dream1"}]}),"dream-within-a-dream1":t=>({id:"dream-within-a-dream1",background:q,text:"You fell asleep on some brain moss. Now you are dreaming twice.",choices:()=>[{text:"Wait... will I fall asleep <i>forever</i>?",next:"dream-within-a-dream2"},{text:"No, that's silly. Don't entertain that worry.",next:"dream-within-a-dream-refuse"}]}),"dream-within-a-dream-refuse":t=>({id:"dream-within-a-dream-refuse",background:q,text:`...^^The concept of dreaming twice is so scary! What if you don't wake up? ^^Too late, you fell asleep anyway. Radiating anxiety, your raw nerves attack you.^^After a spiral of overthinking, you notice that you are hugging a brightly colored mushroom. You can tell because your face is right up against it and your arms are surrounding it. The mushroom smells like marshmallows, pencil shavings, sad carnivals and tests. Its flesh is soft, like a rotting orange. You recoil. What a gross mushroom! What a cruddy day! You feel off.^^You hear yourself say aloud, "Eugh! What a wash."^^You lean back for a while just admiring the mushroom's disgustingness, worrying that you'll never wake up again.^^{Grab up a handful of the mushroom's flesh.}^^You begin to hear a faint thudding noise like the labored heartbeat of some distant goliath. Oh no. Your dreaming was weak, filled with worry. A foreboding sense of doom cuts forces you to {awaken back into the first dream}.`,buttonActions:[{isItem:!0,action:()=>{pe().addToInventory("mushroom","dream-within-a-dream-refuse")}},{action:()=>{Z().goToScene("dream-tree-chase",{filter:"dream"})}}]}),"dream-within-a-dream2":t=>({id:"dream-within-a-dream2",background:q,text:`Completely serene, without a worry in your mind, you fall asleep in your dream. You breathe in.^^A new dream! You notice that you are hugging a brightly colored mushroom! You can tell because your face is right up against it and your arms are embracing it. The mushroom smells like a marshmallow pencil, graphite and sugar. Its flesh is soft, yet springy. What a special mushroom! What a special day! You feel content.^^You hear yourself say aloud, "Wow! What a colorful mushroom."^^You lean back for a while just admiring the mushroom's shape.^^{Grab up a handful of the mushroom's flesh.}^^Looking up from the shroom, {a hilly landscape sprawls out before you}.`,buttonActions:[{isItem:!0,action:()=>{pe().addToInventory("mushroom","dream-within-a-dream2")}},{action:()=>{Z().goToScene("dream-within-a-dream3")}}]}),"dream-within-a-dream3":t=>({id:"dream-within-a-dream3",background:q,text:"The landscape expands into a void panorama, filling every corner of the emptiness as you inhale deeper. Day, night, day, night. Seasons cycle and time dutifully carves the terrain with imperceptible changes.^^You've never had a dream like this before. Usually it's packing, or missing busses.^^Settlements form. Clusters of huts dot the hillsides. Farms appear in patchwork sewn around the huts.^^You begin to exhale and as you do, the huts morph into vinyl-sided cookie-cutter houses. Spidery networks of highways fan out and spread upon the landscape like mycelia exploring a forest floor.^^A hill flattens here, a plain rises into a mountain there. The houses multiply and spread out along the roads, and from their coverage, large buildings and the grey of steel and asphalt overtakes the vegetative green. The stars in the night sky become less, the clarity of day is obscured by haze. The quiet is consumed by an ever-surmounting hum.^^{Breathe in.}",buttonActions:[{action:()=>{Z().goToScene("dream-within-a-dream4")}}]}),"dream-within-a-dream4":t=>({id:"dream-within-a-dream4",background:q,text:"The hum intensifies until it almost becomes unbearable, making you wince. It reaches a cresecendo and slowly begins its ebb back into entropic silence, leaving a ghostly impression of its power in your memory.^^With each milliliter of breath that exits your lungs, the pervading artifical glow diminishes and the stars return to their former glory, one by one.^^Buildings topple and decay as trees and fields reclaim the landscape. The highways wither like wisps of smoke disintegrating into the hills. The once imposing grids of farms and neighborhoods fade into amorphous wilderness.^^Day, night, day, night. Seasons cycle and time dutifully carves the terrain with imperceptible changes. All is as it was before.^^{Open your eyes}.",buttonActions:[{action:()=>{Z().goToScene("hypno")}}]}),"dream-chop":t=>({id:"dream-chop",background:q,text:"You have chosen to swing a dream ax at a dream tree.^^Looking down, you see a single-headed carbon-fiber ax in your left hand. Heh. Hefty!^^You spit into each of your palms and aiming at the nearest tree, you get a good look at its bark. The brown armor is thick and full of a maze of paths, following the pine's vertical growth. You position the ax over your left shoulder, and closing one eye, take a swing at a healthy angle to hit the tree.",onPageLoad:()=>{const e=pe();e.hasItem("axe")||e.addToInventory("axe","dream-chop")},choices:()=>[{text:"THUNK",onChoose:()=>{const e=pe(),i=gg(e.athletics,0),n=BD(i);n.success&&Qn().addAspect(qD),Z().goToScene("dream-tree-chase",{filter:n.text}),i<=0&&e.removeFromInventory("axe")}}]})},JD={"dream-squirrel":t=>({id:"dream-squirrel",background:q,text:"You lock in on a squirrel. Its grey body is a corkscrew streak around the trunk. It's time to give chase. You straddle the trunk, feeling the roughness of the bark tugging at your turtleneck as you shimmy up. Just a little closer... The squirrel is right there! Its little face, filled with alarm (or is it amusement?), fills you with determination.",choices:()=>[{text:"Reach for the closest branch.",next:"dream-squirrel1a"},{text:"Keep shimmying up.",next:"dream-squirrel1b"}]}),"dream-squirrel1a":t=>({id:"dream-squirrel1a",background:q,text:"You reach for a nearby branch. It breaks, but your thighs remain firmly clenched on the trunk. {Keep shimmying up}.",buttonActions:[{action:()=>{Z().goToScene("dream-squirrel1b")}}]}),"dream-squirrel1b":t=>({id:"dream-squirrel1b",background:q,text:"You keep shimmying up the trunk, past the first branch. Your arms and legs are giving out. The squirrel hasn't moved. The way it watches you, vacillating between tepid curiosity and utter indifference, suggests the thought of you as a threat could not be further from its mind.",choices:()=>[{text:"Push yourself even harder.",next:"dream-squirrel2"},{text:"This was a bad idea. Shimmy back down before you get hurt.",next:"dream-squirrel-give-up"}]}),"dream-squirrel2":t=>({id:"dream-squirrel2",background:q,text:"Atta boy! Quitters never win. Your brow is wet with dream sweat. Your hands and limbs are all scraped up from climbing. You feel sappy bits on your clothes and face. The squirrel comes a little closer to you.^^Your muscles start to tremble. The squirrel gets up in your grill.",dialogSequence:()=>[{characterId:"squirrel",text:"Putoat! Putoat!",onClick:()=>{Z().goToScene("dream-squirrel3")}}]}),"dream-squirrel3":t=>({id:"dream-squirrel3",background:q,text:"The little vermin is taunting you!",choices:()=>[{text:"In a last ditch effort, dart your hand out to snatch the furball.",next:"dream-squirrel4",onChoose:()=>{const e=pe(),r=Qn(),n=gg(e.athletics,2),o=n>=0?"success":"fail";n>=0?r.addAspect(UD):r.addAspect(YD),Z().goToScene("dream-squirrel4",{filter:o})}}]}),"dream-squirrel4":t=>({id:"dream-squirrel4",background:q,text:(t==null?void 0:t.filter)=="success"?"Sweet synergy! You grabbed that sucker! It almost squirms free before you can recover from the shock of actually catching it. Overjoyed and triumphant, you shimmy back down to the forest floor with an easy swagger. The squirrel crawls up your sleeve and runs a circle around your neck. You made a friend!^^The squirrel wants you to follow it.":"Pfft. Of course you missed. Who catches a squirrel with their bare hands? As a result, you lose your grip and fall backwards like a defeated villain in slow-motion.^^You hit the ground with a soft thud and several pinecones scatter down around you. {Pick up a pinecone.}^^The squirrel wants you to follow it.",buttonActions:(t==null?void 0:t.filter)=="success"?[]:[{isItem:!0,action:()=>{pe().addToInventory("pinecone","dream-squirrel4")}}],dialogSequence:()=>[{characterId:"squirrel",text:"Puolue! Puolue!",onClick:()=>{Z().goToScene("dream-squirrel5")}}]}),"dream-squirrel5":t=>({id:"dream-squirrel5",background:q,text:""}),"dream-squirrel-give-up":t=>({id:"dream-squirrel-give-up",background:q,text:"The squirrel is right. You could never expect to be compete with its arboreal superiority. Better to slide back down the tree before you get hurt.",dialogSequence:()=>[{characterId:"squirrel",text:"Putoat! Putoat!",onClick:()=>{Z().goToScene("dream-squirrel-give-up1")}}]}),"dream-squirrel-give-up1":t=>({id:"dream-squirrel-give-up1",background:q,text:"Dang squirrel! It's becoming aggressive, jumping on and off your head and yanking your hair.",dialogSequence:()=>[{characterId:"squirrel",text:"PUTOAT! PUTOAT!",onClick:()=>{Z().goToScene("dream-tree-chase",{filter:"squirrel"})}}]})},ZD={"dream-faeries":t=>({id:"dream-faeries",background:q,audio:"src/assets/audio/story/faeries.mp3",text:"You follow after the {hongatar}. They all have the same dutch boy haircut and cro-magnon facial features. The wings look like fly's wings. The pack flies through the air, leaving rapidly fading trails of light in their wake. They seem to be eating small snails, and then casting their shells to the forest floor.^^{Pick up a handful of hongatar trash.}^^The faeries are excitedly chattering amongst themselves.",buttonActions:[{dictionaryEntryId:"hongatar"},{isItem:!0,action:()=>{pe().addToInventory("hongatar-trash","dream-faeries")}}],dialogSequence:()=>[{characterId:"faerie1",text:"Mun muru, if you're with me, I can endure any frat party without crying."},{characterId:"faerie2",text:"Aww kullannuppu, that's so sweet. Are you gonna do a Keg stand this time?"},{characterId:"faerie1",text:"Muru, I would do it, but I would have to cry first."},{characterId:"faerie3",text:"Hey funny faces, let's see if the Keg can do an us-stand!"},{characterId:"faerie2",text:"Söpöt pikku puput, a thingy is following us.",onClick:()=>{Z().goToScene("dream-faeries1")}}]}),"dream-faeries1":t=>({id:"dream-faeries1",background:q,audio:"src/assets/audio/story/faeries.mp3",text:"The group of {hongatar} turn to look at you.",buttonActions:[{dictionaryEntryId:"hongatar"}],choices:()=>[{text:'Bow graciously. "Thanks for spitting in my nostril holes."',next:"dream-faeries2",payload:{filter:"bow"},onChoose:()=>{Qn().addAspect(VD)}},{text:"Get on their case about littering.",next:"dream-faeries-litter"},{text:"There's that squirrel again! Try to catch it.",next:"dream-squirrel"}]}),"dream-faeries2":t=>({id:"dream-faeries2",background:q,audio:"src/assets/audio/story/faeries.mp3",text:`${LD(t==null?void 0:t.filter)} Their excited chattering finds a rhythmic unison in a sing-song chant.`,buttonActions:[{dictionaryEntryId:"hongatar"}],dialogSequence:()=>[{characterId:"faerie1",text:"We're going to a party!"},{characterId:"faerie2",text:"We're going to a party!"},{characterId:"faerie1",text:"We want to sing and drink and eat!"},{characterId:"faerie3",text:"A party is the thing we need!"},{characterId:"faerie2",text:"Heed the call!"},{characterId:"faerie1",text:"Come one, come all!"},{characterId:"faerie3",text:"We're going to a party!"},{characterId:"faerie1",text:"We're going to a party!",onClick:()=>{Z().goToScene("dream-faeries3")}}]}),"dream-faeries3":t=>({id:"dream-faeries3",background:q,audio:"src/assets/audio/story/faeries.mp3",text:"The {hongatar} with the coolest outfit addresses you.",buttonActions:[{dictionaryEntryId:"hongatar"}],dialogSequence:()=>[{characterId:"faerie2",text:"Wow, a human that understands Fairy etiquette, how amusing, how rare! What a find! Will you join us? We are headed to a Leak Party.",popUp:!0}],choices:()=>[{text:"Um...",next:"dream-faeries-party-check"},{text:"PARTY!!!",next:"dream-faeries4"}]}),"dream-faeries4":t=>({id:"dream-faeries4",background:q,audio:"src/assets/audio/story/faeries.mp3",text:"You follow them into a clearing where the hongatar with the dullest outfit starts handing out eggcorns. He hands you one.",dialogSequence:()=>[{characterId:"faerie3",text:"See you soon raccoon!",onClick:()=>{Z().goToScene("dream-faeries5")}}]}),"dream-faeries5":t=>({id:"dream-faeries5",background:q,audio:"src/assets/audio/story/faeries.mp3",text:"Whatever that means.^^The eggcorn's skin is a luscious, lacquered brown. It has a neat little cap and a fine pointy bottom. In fact, you've never found an eggcorn to be so... tantalizing. Definitely something odd about these eggcorns. You notice that after eating an eggcorn, the hongatar fall to the ground unconscious. Soon you're the only one left standing.",choices:()=>[{text:"YOLO! Eat the eggcorn.",next:"party-eggcorn"},{text:"On second thought...",next:"party-eggcorn-check"}]}),"dream-faeries-litter":t=>({id:"dream-faeries-litter",background:q,audio:"src/assets/audio/story/faeries.mp3",text:"",dialogSequence:()=>[{characterId:"faerie1",text:"What? Pölkkypää! Everyone knows hongatar don't litter.",popUp:!0}],choices:()=>(pe().inventory.some(r=>r.id=="hongatar-trash"),[])}),"dream-faeries-litter-police":t=>({id:"dream-faeries-litter-police",background:q,audio:"src/assets/audio/story/faeries.mp3",text:""}),"dream-faeries-party-check":t=>({id:"dream-faeries-party-check",background:q,audio:"src/assets/audio/story/faeries.mp3",text:"",dialogSequence:()=>[{characterId:"faerie2",text:"Are you sure Armaani? The party train is leaving!",popUp:!0}],choices:()=>[{text:"I'm good. Thanks",next:"dream-faeries-party-decline"},{text:"PARTY!!!",next:"dream-faeries4"}]}),"dream-faeries-party-decline":t=>({id:"dream-faeries-party-decline",background:q,audio:"src/assets/audio/story/faeries.mp3",text:"",dialogSequence:()=>[{characterId:"faerie2",text:"Suit yourself!",onClick:()=>{Z().goToScene("dream1",{filter:"noFaeries"})}}]})},QD={"party-eggcorn":t=>({id:"party-eggcorn",background:q,text:`Yuck! It tastes like...^^You don't get a chance to finish the thought. It feels like the whole world is being stretched inside-out. You hear a voice, like an echo in your mind, "See you soon, raccoon!" Then {everything goes dark}.`,buttonActions:[{action:()=>{Z().goToScene("party")}}]}),"party-eggcorn-check":t=>({id:"party-eggcorn-check",background:q,text:"But it's <i>so tantalizing!</i>",choices:()=>[{text:"YOLO! Eat the eggcorn.",next:"party-eggcorn"},{text:"No. Seriously. I'm not eating it.",next:"dream1",payload:{filter:"noFaeries"}}]}),party:t=>({id:"party",background:q,text:(t==null?void 0:t.filter)=="isKeg"?"You're the life of the party. You're the Keg.":"When you come to, you're still in the clearing, but it all seems <i>different</i>. The squirrel and hongatar are all here, but perfectly conscious. There is upbeat music, merry-making and of course, a keg!",audio:"src/assets/audio/story/party.mp3",backgroundFilter:"invert(1)",dialogSequence:()=>[{characterId:"faerie1",text:"WOOOOOOOTTT!"},{characterId:"squirrel",text:"JOOOOOOOO!"}]})},eM={"dream-tree-chase":t=>({id:"dream-tree-chase",background:q,text:jD(t==null?void 0:t.filter)+"As the dull sound resounds, it is joined by a chorus of snapping, cracking, creaking. Soft at first, the din grows louder and louder.^^A tree slams as it splinters and crashes into the ground behind you, making you jump. Another tree falls, narrowly missing your shoulder. A tree that wasn't even there before begins to fall directly overhead. You dive out of the way at the last moment.^^The trees are chasing you!^^You {run} forward through the forest.^^{Pick up a handful of pine needles.}",buttonActions:[{action:()=>{const e=Z(),i=pe().inventory.reduce((n,o)=>n+o.weight,0);e.goToScene("dream-tree-chase-game-intro",{text:i<4?"You feel unencumbered and are able to move nimbly.":i<7?"You feel somewhat burdened by the weight of your bag. Your agility is limited.":"Why did you pick up so much stuff? You can barely move to save your life."})}},{isItem:!0,action:()=>{pe().addToInventory("pine-needles","dream-tree-chase")}}]}),"dream-tree-chase-game-intro":t=>({id:"dream-tree-chase-game-intro",background:q,text:((t==null?void 0:t.text)??"")+"^^Trees are falling all around you. You have to {dodge them}.",buttonActions:[{action:()=>{Z().goToScene("dream-tree-chase-game")}}]}),"dream-tree-chase-game":t=>({id:"dream-tree-chase-game",background:q,text:"",miniGameId:"tree-chase"}),"dream-tree-chase-game-win":t=>({id:"dream-tree-chase-game-win",background:q,text:"It suddenly occurs to you that your legs feel unprecedentedly supple. Like those little rubber caps you used to get from the toy dispensers at the front of the grocery store. You'd put a quarter in and you'd get a round clear plastic capsule with a colorful little rubber cap inside. You'd turn the cap inside-out, set it down and...^^FWOOM!!! You're leaping and bounding through the air, {springing off the pine needles} like a tree frog on a trampoline.",buttonActions:[{action:()=>{}}]}),"dream-tree-chase-game-lose":t=>({id:"dream-tree-chase-game-lose",background:q,text:"You feel yourself starting to sink. You try to run but you can't move your legs, like in a bad dream. You remember that you're dreaming and realize that's exactly what this is. A bad dream.^^The trees are closing in on you now and there is nothing you can do.^^WHACK!^THOOMB!!^CRACK!!!^^You're mangled in a barrage of falling trees. {All your bones are broken.}",buttonActions:[{action:()=>{}}]})},tM={hypno:t=>({id:"hypno",text:`You had fallen asleep on some dream moss, but you open your eyes to find yourself in a dressing room with a script in your hands, practicing lines for a play:^^"What a good boy am I, so far from being an ant."^"What a good boy... am I! So... <i>far</i> from being an ant!"^"What a good boy am I, so far... from <i>being</i> an ant."^...^"Builder of the gods, put an orange-soda fountain in my bedroom!"^"Builder... <i>of the gods</i>, put an orange-soda fountain in... <i>my bedroom</i>!"^"BUILDER OF THE GODS... PUT AN ORANGE-SODA FOUNTAIN IN MY BEDROOM!"^...^"Where's my wife? I miss her."^"Where's my... <i>wife?</i> I miss her!"^"Where's <i>my</i> wife? <i>I miiiiiss herrrrrrr</i>!!!"`,background:q,choices:()=>[{text:"Keep practicing."},{text:"Finish."}]})},gd={...MD,...RD,...ND,...WD,...XD,...JD,...ZD,...eM,...QD,...tM},QS=["intro","intro1","start","credits","preamble"],Z=bn("game",{state:()=>({currentSceneId:"preamble",currentScenePayload:void 0,started:!1,showChoices:!1,animationSkipped:!1,showOverlay:!0,scenes:[],showDisappearingItem:!1,isPsychedelic:!1,psychedelicScenesRemaining:0,showSceneGraph:!1}),getters:{currentScene(t){return gd[t.currentSceneId]}},actions:{start(){this.currentSceneId="start",this.started=!0},goToScene(t,e){gd[t]?(this.showDisappearingItem=!1,this.currentSceneId=t,e&&(this.currentScenePayload=e),this.scenes.includes(t)||Qn().decrementDurations(),this.psychedelicScenesRemaining>0&&(this.psychedelicScenesRemaining--,this.psychedelicScenesRemaining<=0&&(this.isPsychedelic=!1))):ss().show("This path has not been built yet")},goBack(){const e=this.scenes.lastIndexOf(this.currentSceneId)-1;if(e>-1){const r=this.scenes[e],i=pe(),n=i.inventory.filter(o=>o.pageAcquired!=r);i.inventory=n,this.goToScene(r)}},goForward(){const e=this.scenes.indexOf(this.currentSceneId)+1,r=this.scenes[e];this.goToScene(r)},addSceneToHistory(){!QS.includes(this.currentSceneId)&&!this.scenes.includes(this.currentSceneId)&&this.scenes.push(this.currentSceneId)},chooseOption(t){t.next||t.onChoose?(this.currentScenePayload=t.payload||void 0,t.onChoose&&t.onChoose(),t.next&&this.goToScene(t.next)):ss().show("This path has not been built yet")},updateShowChoices(t){this.showChoices=t},updateAnimationSkipped(t){this.animationSkipped=t},updateShowOverlay(t){this.showOverlay=t},updateShowDisappearingItem(t){this.showDisappearingItem=t},startPsychedelicEffect(t=3){this.isPsychedelic=!0,this.psychedelicScenesRemaining=t},toggleShowSceneGraph(){this.showSceneGraph=!this.showSceneGraph}}});let My,Ry=0;const Ny=new Map,rM=15e3,Pr=Rt(null),gh=1e3;function mg(){function t(o,s){const a=Date.now(),l=Ny.get(s)||0;if(a-l<rM)return;Ny.set(s,a),new Audio(o).play().catch(d=>{console.warn("Audio playback failed:",d)})}function e(o){var a;if(!o){Pr.value&&(i(Pr.value),Pr.value=null);return}if((a=Pr.value)!=null&&a.src.includes(o))return;const s=new Audio(o);r(s,Pr.value)}function r(o,s){var a;if(s){Pr.value=o;const l=s.volume/(gh/50),c=setInterval(()=>{s.volume>.05?s.volume-=l:(clearInterval(c),s.pause(),n(o))},50)}else Pr.value=o,Pr.value.volume=0,n(Pr.value);(a=Pr.value)==null||a.addEventListener("loadedmetadata",()=>{eE()})}function i(o){const s=o.volume/(gh/50),a=setInterval(()=>{o.volume>.05?o.volume-=s:(clearInterval(a),o.pause())},50)}function n(o){o.play();const s=1/(gh/50),a=setInterval(()=>{o.volume<.95?o.volume+=s:(o.volume=1,clearInterval(a))},50)}return{playBackgroundAudio:e,playCharacterSound:t}}function eE(){const t=Pr.value;clearInterval(My),t&&(Ry=t.duration-t.currentTime,My=setInterval(()=>{!t.paused&&!t.ended&&(t.currentTime=0,eE())},Ry*1e3))}const iM={key:0,class:"overlay"},nM=He({__name:"StartDialog",setup(t){const e=Rt(!0),r=Z(),{playBackgroundAudio:i}=mg();function n(){i("src/assets/audio/story/intro.mp3"),e.value=!1,r.start()}return(o,s)=>e.value?(F(),G("div",iM,[re("div",{class:"box"},[s[0]||(s[0]=re("p",{class:"message"},"This game uses sound. Please click “Play” to begin.",-1)),re("button",{onClick:n},"Play")])])):De("",!0)}}),ct=(t,e)=>{const r=t.__vccOpts||t;for(const[i,n]of e)r[i]=n;return r},oM=ct(nM,[["__scopeId","data-v-c6c53fc6"]]),tE=bn("timeout",{state:()=>({timeouts:{}}),actions:{set(t,e,r){this.clear(t,!1);const i=setTimeout(()=>{e(),delete this.timeouts[t]},r);this.timeouts[t]={timeoutId:i,callback:e}},clear(t,e){const r=this.timeouts[t];r&&(clearTimeout(r.timeoutId),e&&r.callback&&r.callback(),delete this.timeouts[t])},clearAll(){for(const t in this.timeouts)clearTimeout(this.timeouts[t].timeoutId);this.timeouts={}}}});function sM(){const t=Z(),e=tE();function r(){const o=t.animationSkipped,s=t.currentSceneId;(o&&s=="intro"||s=="intro1")&&(e.clearAll(),t.goToScene(s==="intro"?"intro1":"home")),t.updateAnimationSkipped(!0),t.updateShowChoices(!0),e.clear(s,!0)}function i(){t.updateShowOverlay(!0),requestAnimationFrame(()=>{t.updateShowOverlay(!1)})}async function n(o){t.scenes.includes(t.currentSceneId)||(t.updateAnimationSkipped(!1),t.updateShowChoices(!1)),t.addSceneToHistory(),await cg(),i(),e.set(t.currentSceneId,async()=>{(t.currentSceneId=="intro"||t.currentSceneId=="intro1")&&e.set(`${t.currentSceneId}-overlay`,()=>{t.updateShowOverlay(!0),e.set(`${t.currentSceneId}-scene`,()=>{t.goToScene(t.currentSceneId=="intro"?"intro1":"home")},2e3)},2e3),t.updateShowChoices(!0),t.updateAnimationSkipped(!0)},o)}return{finishAnimation:r,triggerFade:i,onSceneChanged:n}}const aM="/void-leeba/assets/void-leeba-logo-DeaNUMHk.png",lM={class:"col"},cM=["src"],dM={class:"text"},uM=["innerHTML"],hM=He({__name:"StartBody",props:{letters:{},animationSkipped:{type:Boolean}},setup(t){return(e,r)=>(F(),G("div",lM,[re("img",{src:P(aM),alt:"Game Logo",class:"centered-logo"},null,8,cM),re("div",dM,[(F(!0),G(we,null,Br(e.letters,(i,n)=>(F(),G("span",{key:`${n}-start-base`,class:"letter",style:_r(e.animationSkipped?{animation:"none",opacity:1}:{animationDelay:`${n*.15}s`,opacity:0}),innerHTML:i===" "?" ":i},null,12,uM))),128))])]))}}),fM=ct(hM,[["__scopeId","data-v-70b1336a"]]),pM=He({__name:"Credits",setup(t){const e=Z();return(r,i)=>(F(),G(we,null,[re("button",{class:"back-button",onClick:i[0]||(i[0]=Ee(n=>P(e).goToScene("start"),["stop"]))},"<"),i[1]||(i[1]=re("div",{style:{color:"white"}},"CREDITS",-1))],64))}}),vM=ct(pM,[["__scopeId","data-v-71385cb3"]]),Fy="/void-leeba/assets/closed-eye-DZpySIhl.png",By="/void-leeba/assets/open-eye-CqBbuo-3.png",gM={class:"col"},mM={class:"eyes"},yM=["src"],bM=["src"],$M={class:"animated-text"},wM=He({__name:"IntroBody",props:{letters:{},animationSkipped:{type:Boolean},eyeIsOpened:{type:Boolean}},setup(t){return(e,r)=>(F(),G("div",gM,[re("div",mM,[re("img",{class:"eye",src:e.eyeIsOpened?P(By):P(Fy)},null,8,yM),re("img",{class:"eye flipped",src:e.eyeIsOpened?P(By):P(Fy)},null,8,bM)]),re("div",$M,[(F(!0),G(we,null,Br(e.letters,(i,n)=>(F(),G("span",{key:`${n}-intro`,class:"intro-text",style:_r(e.animationSkipped?{animation:"none",opacity:1}:{animationDelay:`${n*.25}s`,opacity:0})},ze(i),5))),128))])]))}}),_M=ct(wM,[["__scopeId","data-v-3ffce796"]]),yg={hongatar:{id:"hongatar",name:"Hongatar",description:"Hongatar are mischief incarnate. They, like nature, are neither good nor evil, not lawful nor chaotic. Sometimes they help a small child escape a cave, even though they might complain about the nuisance cuttingly, and make fun of the kid. Sometimes they will help a megalomaniac into great power by hacking their competitor's {hyperleak}s. The reason faeries glow is because they have a pure and beautiful life force like {dorgang}."},hyperleak:{id:"hyperleak",name:"Hyperleak",description:"A Hyperleak is a prosumer product. Invented by Survecap, this machine is under constant corporate surveillance throughout all Leaks. If you do anything on this machine, Survecap will know for sure. Client-side scanning, baby.<br><br>That being said, this machine is SO user-friendly or 'easy-to-use'. Though, it is easy to use mostly because everyone in the Leakyverse uses Survecap interfaces and are used to their particular type of user-hostile. Organisms resist change."},dorgang:{id:"dorgang",name:"Dorgang",description:"If Dorgang were not so ethical, he might be a real sex wizard. But don't get your hopes up, this guy is GREY in many ways. He does like puns and dry humor, however. Always cleverness is Dorgang's jam. And he also knows a lot about anything weird, powerful or mystical. He's always on his enemies' asses, making sure they do not commit evil against large swatches of other people. Dorgang is not exactly what one might call 'chill' or 'bussin'. That being said, you REALLY want Dorgang on your team, no matter what.<br><br>Dorgang is a Gandalf-like parody character made up by someone at Wendall Carefare's Leaktable. If a comparative reference to Dorgang led you here, just know that Dorgang can be used as a comparative character-reference to the chracter that is being compared to Dorgang. They are Dorgang-like."},whatever:{id:"whatever",name:"Whatever",description:"Whatever can be somewhere, somehow, something. But it has not figured out where that is yet."}},bg=bn("dictionary",{state:()=>({entries:[]}),actions:{addEntry(t){this.entries.every(e=>e.id!==t)&&(this.entries.push(yg[t]),this.entries.sort((e,r)=>e.id.localeCompare(r.id)))}}}),SM={class:"wrapper"},EM={class:"animated-text"},TM={key:2},IM=["onClick"],OM=He({__name:"SceneBody",props:{letters:{},animationSkipped:{type:Boolean}},setup(t){const e=t,r=Se(()=>{const l=[],c=/(\^)|(\{[^}]+\})|(<i>.*?<\/i>)|([^<{^]+)/g,u=[...e.letters.join("").matchAll(c)];let h=0;for(const f of u)if(f[1])l.push({type:"br"});else if(f[2])l.push({type:"button",value:f[2].slice(1,-1),index:h}),h++;else if(f[3])l.push({type:"italic",value:f[3].slice(3,-4)});else if(f[4])for(const p of f[4])l.push({type:"text",value:p});return l}),i=Z(),n=i.currentScene(i.currentScenePayload).buttonActions??[],o=Se(()=>i.animationSkipped),s=Rt([]);function a(l){if(o.value){const c=n[l];if(c&&(c.action&&c.action(),c.isItem&&s.value.push(l),c.dictionaryEntryId)){const d=fr();bg().addEntry(c.dictionaryEntryId),d.toggleDrawer(),d.setDrawerView("dictionary"),d.updateSelectedDictionaryEntry(yg[c.dictionaryEntryId])}}}return hr(()=>i.currentSceneId,async()=>{s.value=[]}),(l,c)=>(F(),G("div",SM,[re("div",EM,[(F(!0),G(we,null,Br(r.value,(d,u)=>(F(),G(we,{key:u},[d.type==="text"?(F(),G("span",{key:0,class:"text",style:_r(o.value?{animation:"none",opacity:1}:{animationDelay:`${u*.03}s`,opacity:0})},ze(d.value),5)):De("",!0),d.type==="italic"?(F(),G("span",{key:1,class:"text",style:_r([{"font-style":"italic"},o.value?{animation:"none",opacity:1}:{animationDelay:`${u*.03}s`,opacity:0}])},ze(d.value),5)):d.type==="br"?(F(),G("br",TM)):d.type==="button"&&!s.value.includes(d.index)?(F(),G("span",{key:3,class:"text-button",onClick:Ee(h=>a(d.index),["stop"]),style:_r(o.value?{animation:"none",opacity:1}:{animationDelay:`${u*.03}s`,opacity:0})},ze(d.value),13,IM)):De("",!0)],64))),128))])]))}}),xM=ct(OM,[["__scopeId","data-v-91df661a"]]);/**
 * vis-data
 * http://visjs.org/
 *
 * Manage unstructured data using DataSet. Add, update, and remove data, and listen for changes in the data.
 *
 * @version 7.1.9
 * @date    2023-11-24T17:53:34.179Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */function tu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var mh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ae(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var rE={exports:{}},tc=function(t){return t&&t.Math===Math&&t},qe=tc(typeof globalThis=="object"&&globalThis)||tc(typeof window=="object"&&window)||tc(typeof self=="object"&&self)||tc(typeof mh=="object"&&mh)||function(){return this}()||mh||Function("return this")(),xe=function(t){try{return!!t()}catch{return!0}},PM=xe,el=!PM(function(){var t=(function(){}).bind();return typeof t!="function"||t.hasOwnProperty("prototype")}),kM=el,iE=Function.prototype,Ly=iE.apply,jy=iE.call,ws=typeof Reflect=="object"&&Reflect.apply||(kM?jy.bind(Ly):function(){return jy.apply(Ly,arguments)}),nE=el,oE=Function.prototype,Hp=oE.call,CM=nE&&oE.bind.bind(Hp,Hp),Ue=nE?CM:function(t){return function(){return Hp.apply(t,arguments)}},sE=Ue,AM=sE({}.toString),DM=sE("".slice),$n=function(t){return DM(AM(t),8,-1)},MM=$n,RM=Ue,aE=function(t){if(MM(t)==="Function")return RM(t)},Wp=typeof document=="object"&&document.all,NM=typeof Wp>"u"&&Wp!==void 0,lE={all:Wp,IS_HTMLDDA:NM},cE=lE,FM=cE.all,et=cE.IS_HTMLDDA?function(t){return typeof t=="function"||t===FM}:function(t){return typeof t=="function"},uo={},BM=xe,_t=!BM(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),LM=el,rc=Function.prototype.call,St=LM?rc.bind(rc):function(){return rc.apply(rc,arguments)},ru={},dE={}.propertyIsEnumerable,uE=Object.getOwnPropertyDescriptor,jM=uE&&!dE.call({1:2},1);ru.f=jM?function(e){var r=uE(this,e);return!!r&&r.enumerable}:dE;var ho=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}},zM=Ue,HM=xe,WM=$n,yh=Object,VM=zM("".split),iu=HM(function(){return!yh("z").propertyIsEnumerable(0)})?function(t){return WM(t)==="String"?VM(t,""):yh(t)}:yh,_s=function(t){return t==null},UM=_s,YM=TypeError,$g=function(t){if(UM(t))throw new YM("Can't call method on "+t);return t},qM=iu,KM=$g,si=function(t){return qM(KM(t))},zy=et,hE=lE,GM=hE.all,Pt=hE.IS_HTMLDDA?function(t){return typeof t=="object"?t!==null:zy(t)||t===GM}:function(t){return typeof t=="object"?t!==null:zy(t)},Ke={},bh=Ke,$h=qe,XM=et,Hy=function(t){return XM(t)?t:void 0},Yt=function(t,e){return arguments.length<2?Hy(bh[t])||Hy($h[t]):bh[t]&&bh[t][e]||$h[t]&&$h[t][e]},JM=Ue,pt=JM({}.isPrototypeOf),wn=typeof navigator<"u"&&String(navigator.userAgent)||"",fE=qe,wh=wn,Wy=fE.process,Vy=fE.Deno,Uy=Wy&&Wy.versions||Vy&&Vy.version,Yy=Uy&&Uy.v8,kr,md;Yy&&(kr=Yy.split("."),md=kr[0]>0&&kr[0]<4?1:+(kr[0]+kr[1]));!md&&wh&&(kr=wh.match(/Edge\/(\d+)/),(!kr||kr[1]>=74)&&(kr=wh.match(/Chrome\/(\d+)/),kr&&(md=+kr[1])));var Ss=md,qy=Ss,ZM=xe,QM=qe,eR=QM.String,Es=!!Object.getOwnPropertySymbols&&!ZM(function(){var t=Symbol("symbol detection");return!eR(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&qy&&qy<41}),tR=Es,pE=tR&&!Symbol.sham&&typeof Symbol.iterator=="symbol",rR=Yt,iR=et,nR=pt,oR=pE,sR=Object,tl=oR?function(t){return typeof t=="symbol"}:function(t){var e=rR("Symbol");return iR(e)&&nR(e.prototype,sR(t))},aR=String,Ts=function(t){try{return aR(t)}catch{return"Object"}},lR=et,cR=Ts,dR=TypeError,ir=function(t){if(lR(t))return t;throw new dR(cR(t)+" is not a function")},uR=ir,hR=_s,wg=function(t,e){var r=t[e];return hR(r)?void 0:uR(r)},_h=St,Sh=et,Eh=Pt,fR=TypeError,pR=function(t,e){var r,i;if(e==="string"&&Sh(r=t.toString)&&!Eh(i=_h(r,t))||Sh(r=t.valueOf)&&!Eh(i=_h(r,t))||e!=="string"&&Sh(r=t.toString)&&!Eh(i=_h(r,t)))return i;throw new fR("Can't convert object to primitive value")},vE={exports:{}},vR=!0,Ky=qe,gR=Object.defineProperty,mR=function(t,e){try{gR(Ky,t,{value:e,configurable:!0,writable:!0})}catch{Ky[t]=e}return e},yR=qe,bR=mR,Gy="__core-js_shared__",$R=yR[Gy]||bR(Gy,{}),_g=$R,Xy=_g;(vE.exports=function(t,e){return Xy[t]||(Xy[t]=e!==void 0?e:{})})("versions",[]).push({version:"3.33.2",mode:"pure",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.2/LICENSE",source:"https://github.com/zloirock/core-js"});var Is=vE.exports,wR=$g,_R=Object,nr=function(t){return _R(wR(t))},SR=Ue,ER=nr,TR=SR({}.hasOwnProperty),vt=Object.hasOwn||function(e,r){return TR(ER(e),r)},IR=Ue,OR=0,xR=Math.random(),PR=IR(1 .toString),nu=function(t){return"Symbol("+(t===void 0?"":t)+")_"+PR(++OR+xR,36)},kR=qe,CR=Is,Jy=vt,AR=nu,DR=Es,MR=pE,Lo=kR.Symbol,Th=CR("wks"),RR=MR?Lo.for||Lo:Lo&&Lo.withoutSetter||AR,Xe=function(t){return Jy(Th,t)||(Th[t]=DR&&Jy(Lo,t)?Lo[t]:RR("Symbol."+t)),Th[t]},NR=St,Zy=Pt,Qy=tl,FR=wg,BR=pR,LR=Xe,jR=TypeError,zR=LR("toPrimitive"),HR=function(t,e){if(!Zy(t)||Qy(t))return t;var r=FR(t,zR),i;if(r){if(e===void 0&&(e="default"),i=NR(r,t,e),!Zy(i)||Qy(i))return i;throw new jR("Can't convert object to primitive value")}return e===void 0&&(e="number"),BR(t,e)},WR=HR,VR=tl,ou=function(t){var e=WR(t,"string");return VR(e)?e:e+""},UR=qe,eb=Pt,Vp=UR.document,YR=eb(Vp)&&eb(Vp.createElement),Sg=function(t){return YR?Vp.createElement(t):{}},qR=_t,KR=xe,GR=Sg,gE=!qR&&!KR(function(){return Object.defineProperty(GR("div"),"a",{get:function(){return 7}}).a!==7}),XR=_t,JR=St,ZR=ru,QR=ho,eN=si,tN=ou,rN=vt,iN=gE,tb=Object.getOwnPropertyDescriptor;uo.f=XR?tb:function(e,r){if(e=eN(e),r=tN(r),iN)try{return tb(e,r)}catch{}if(rN(e,r))return QR(!JR(ZR.f,e,r),e[r])};var nN=xe,oN=et,sN=/#|\.prototype\./,rl=function(t,e){var r=lN[aN(t)];return r===dN?!0:r===cN?!1:oN(e)?nN(e):!!e},aN=rl.normalize=function(t){return String(t).replace(sN,".").toLowerCase()},lN=rl.data={},cN=rl.NATIVE="N",dN=rl.POLYFILL="P",mE=rl,rb=aE,uN=ir,hN=el,fN=rb(rb.bind),_n=function(t,e){return uN(t),e===void 0?t:hN?fN(t,e):function(){return t.apply(e,arguments)}},or={},pN=_t,vN=xe,yE=pN&&vN(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),gN=Pt,mN=String,yN=TypeError,pr=function(t){if(gN(t))return t;throw new yN(mN(t)+" is not an object")},bN=_t,$N=gE,wN=yE,ic=pr,ib=ou,_N=TypeError,Ih=Object.defineProperty,SN=Object.getOwnPropertyDescriptor,Oh="enumerable",xh="configurable",Ph="writable";or.f=bN?wN?function(e,r,i){if(ic(e),r=ib(r),ic(i),typeof e=="function"&&r==="prototype"&&"value"in i&&Ph in i&&!i[Ph]){var n=SN(e,r);n&&n[Ph]&&(e[r]=i.value,i={configurable:xh in i?i[xh]:n[xh],enumerable:Oh in i?i[Oh]:n[Oh],writable:!1})}return Ih(e,r,i)}:Ih:function(e,r,i){if(ic(e),r=ib(r),ic(i),$N)try{return Ih(e,r,i)}catch{}if("get"in i||"set"in i)throw new _N("Accessors not supported");return"value"in i&&(e[r]=i.value),e};var EN=_t,TN=or,IN=ho,Mi=EN?function(t,e,r){return TN.f(t,e,IN(1,r))}:function(t,e,r){return t[e]=r,t},nc=qe,ON=ws,xN=aE,PN=et,kN=uo.f,CN=mE,Io=Ke,AN=_n,Oo=Mi,nb=vt,DN=function(t){var e=function(r,i,n){if(this instanceof e){switch(arguments.length){case 0:return new t;case 1:return new t(r);case 2:return new t(r,i)}return new t(r,i,n)}return ON(t,this,arguments)};return e.prototype=t.prototype,e},ne=function(t,e){var r=t.target,i=t.global,n=t.stat,o=t.proto,s=i?nc:n?nc[r]:(nc[r]||{}).prototype,a=i?Io:Io[r]||Oo(Io,r,{})[r],l=a.prototype,c,d,u,h,f,p,g,$,y;for(h in e)c=CN(i?h:r+(n?".":"#")+h,t.forced),d=!c&&s&&nb(s,h),p=a[h],d&&(t.dontCallGetSet?(y=kN(s,h),g=y&&y.value):g=s[h]),f=d&&g?g:e[h],!(d&&typeof p==typeof f)&&(t.bind&&d?$=AN(f,nc):t.wrap&&d?$=DN(f):o&&PN(f)?$=xN(f):$=f,(t.sham||f&&f.sham||p&&p.sham)&&Oo($,"sham",!0),Oo(a,h,$),o&&(u=r+"Prototype",nb(Io,u)||Oo(Io,u,{}),Oo(Io[u],h,f),t.real&&l&&(c||!l[h])&&Oo(l,h,f)))},MN=ne,RN=_t,ob=or.f;MN({target:"Object",stat:!0,forced:Object.defineProperty!==ob,sham:!RN},{defineProperty:ob});var NN=Ke,bE=NN.Object,FN=rE.exports=function(e,r,i){return bE.defineProperty(e,r,i)};bE.defineProperty.sham&&(FN.sham=!0);var BN=rE.exports,LN=BN,$E=LN,jN=$E,zN=jN,HN=zN,WN=HN,wE=WN,su=ae(wE),VN=$n,Sn=Array.isArray||function(e){return VN(e)==="Array"},UN=Math.ceil,YN=Math.floor,qN=Math.trunc||function(e){var r=+e;return(r>0?YN:UN)(r)},KN=qN,au=function(t){var e=+t;return e!==e||e===0?0:KN(e)},GN=au,XN=Math.min,JN=function(t){return t>0?XN(GN(t),9007199254740991):0},ZN=JN,vr=function(t){return ZN(t.length)},QN=TypeError,eF=9007199254740991,lu=function(t){if(t>eF)throw QN("Maximum allowed index exceeded");return t},tF=ou,rF=or,iF=ho,Os=function(t,e,r){var i=tF(e);i in t?rF.f(t,i,iF(0,r)):t[i]=r},nF=Xe,oF=nF("toStringTag"),_E={};_E[oF]="z";var Eg=String(_E)==="[object z]",sF=Eg,aF=et,Vc=$n,lF=Xe,cF=lF("toStringTag"),dF=Object,uF=Vc(function(){return arguments}())==="Arguments",hF=function(t,e){try{return t[e]}catch{}},Ri=sF?Vc:function(t){var e,r,i;return t===void 0?"Undefined":t===null?"Null":typeof(r=hF(e=dF(t),cF))=="string"?r:uF?Vc(e):(i=Vc(e))==="Object"&&aF(e.callee)?"Arguments":i},fF=Ue,pF=et,Up=_g,vF=fF(Function.toString);pF(Up.inspectSource)||(Up.inspectSource=function(t){return vF(t)});var SE=Up.inspectSource,gF=Ue,mF=xe,EE=et,yF=Ri,bF=Yt,$F=SE,TE=function(){},wF=[],IE=bF("Reflect","construct"),Tg=/^\s*(?:class|function)\b/,_F=gF(Tg.exec),SF=!Tg.test(TE),Gs=function(e){if(!EE(e))return!1;try{return IE(TE,wF,e),!0}catch{return!1}},OE=function(e){if(!EE(e))return!1;switch(yF(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return SF||!!_F(Tg,$F(e))}catch{return!0}};OE.sham=!0;var cu=!IE||mF(function(){var t;return Gs(Gs.call)||!Gs(Object)||!Gs(function(){t=!0})||t})?OE:Gs,sb=Sn,EF=cu,TF=Pt,IF=Xe,OF=IF("species"),ab=Array,xF=function(t){var e;return sb(t)&&(e=t.constructor,EF(e)&&(e===ab||sb(e.prototype))?e=void 0:TF(e)&&(e=e[OF],e===null&&(e=void 0))),e===void 0?ab:e},PF=xF,du=function(t,e){return new(PF(t))(e===0?0:e)},kF=xe,CF=Xe,AF=Ss,DF=CF("species"),il=function(t){return AF>=51||!kF(function(){var e=[],r=e.constructor={};return r[DF]=function(){return{foo:1}},e[t](Boolean).foo!==1})},MF=ne,RF=xe,NF=Sn,FF=Pt,BF=nr,LF=vr,lb=lu,cb=Os,jF=du,zF=il,HF=Xe,WF=Ss,xE=HF("isConcatSpreadable"),VF=WF>=51||!RF(function(){var t=[];return t[xE]=!1,t.concat()[0]!==t}),UF=function(t){if(!FF(t))return!1;var e=t[xE];return e!==void 0?!!e:NF(t)},YF=!VF||!zF("concat");MF({target:"Array",proto:!0,forced:YF},{concat:function(e){var r=BF(this),i=jF(r,0),n=0,o,s,a,l,c;for(o=-1,a=arguments.length;o<a;o++)if(c=o===-1?r:arguments[o],UF(c))for(l=LF(c),lb(n+l),s=0;s<l;s++,n++)s in c&&cb(i,n,c[s]);else lb(n+1),cb(i,n++,c);return i.length=n,i}});var qF=Ri,KF=String,fo=function(t){if(qF(t)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return KF(t)},uu={},GF=au,XF=Math.max,JF=Math.min,hu=function(t,e){var r=GF(t);return r<0?XF(r+e,0):JF(r,e)},ZF=si,QF=hu,e2=vr,t2=function(t){return function(e,r,i){var n=ZF(e),o=e2(n),s=QF(i,o),a;if(t&&r!==r){for(;o>s;)if(a=n[s++],a!==a)return!0}else for(;o>s;s++)if((t||s in n)&&n[s]===r)return t||s||0;return!t&&-1}},r2={indexOf:t2(!1)},nl={},i2=Ue,kh=vt,n2=si,o2=r2.indexOf,s2=nl,db=i2([].push),PE=function(t,e){var r=n2(t),i=0,n=[],o;for(o in r)!kh(s2,o)&&kh(r,o)&&db(n,o);for(;e.length>i;)kh(r,o=e[i++])&&(~o2(n,o)||db(n,o));return n},Ig=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],a2=PE,l2=Ig,fu=Object.keys||function(e){return a2(e,l2)},c2=_t,d2=yE,u2=or,h2=pr,f2=si,p2=fu;uu.f=c2&&!d2?Object.defineProperties:function(e,r){h2(e);for(var i=f2(r),n=p2(r),o=n.length,s=0,a;o>s;)u2.f(e,a=n[s++],i[a]);return e};var v2=Yt,kE=v2("document","documentElement"),g2=Is,m2=nu,ub=g2("keys"),pu=function(t){return ub[t]||(ub[t]=m2(t))},y2=pr,b2=uu,hb=Ig,$2=nl,w2=kE,_2=Sg,S2=pu,fb=">",pb="<",Yp="prototype",qp="script",CE=S2("IE_PROTO"),Ch=function(){},AE=function(t){return pb+qp+fb+t+pb+"/"+qp+fb},vb=function(t){t.write(AE("")),t.close();var e=t.parentWindow.Object;return t=null,e},E2=function(){var t=_2("iframe"),e="java"+qp+":",r;return t.style.display="none",w2.appendChild(t),t.src=String(e),r=t.contentWindow.document,r.open(),r.write(AE("document.F=Object")),r.close(),r.F},oc,Uc=function(){try{oc=new ActiveXObject("htmlfile")}catch{}Uc=typeof document<"u"?document.domain&&oc?vb(oc):E2():vb(oc);for(var t=hb.length;t--;)delete Uc[Yp][hb[t]];return Uc()};$2[CE]=!0;var po=Object.create||function(e,r){var i;return e!==null?(Ch[Yp]=y2(e),i=new Ch,Ch[Yp]=null,i[CE]=e):i=Uc(),r===void 0?i:b2.f(i,r)},ol={},T2=PE,I2=Ig,O2=I2.concat("length","prototype");ol.f=Object.getOwnPropertyNames||function(e){return T2(e,O2)};var Og={},gb=hu,x2=vr,P2=Os,k2=Array,C2=Math.max,DE=function(t,e,r){for(var i=x2(t),n=gb(e,i),o=gb(r===void 0?i:r,i),s=k2(C2(o-n,0)),a=0;n<o;n++,a++)P2(s,a,t[n]);return s.length=a,s},A2=$n,D2=si,ME=ol.f,M2=DE,RE=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],R2=function(t){try{return ME(t)}catch{return M2(RE)}};Og.f=function(e){return RE&&A2(e)==="Window"?R2(e):ME(D2(e))};var sl={};sl.f=Object.getOwnPropertySymbols;var N2=Mi,xs=function(t,e,r,i){return i&&i.enumerable?t[e]=r:N2(t,e,r),t},F2=or,xg=function(t,e,r){return F2.f(t,e,r)},al={},B2=Xe;al.f=B2;var mb=Ke,L2=vt,j2=al,z2=or.f,tt=function(t){var e=mb.Symbol||(mb.Symbol={});L2(e,t)||z2(e,t,{value:j2.f(t)})},H2=St,W2=Yt,V2=Xe,U2=xs,NE=function(){var t=W2("Symbol"),e=t&&t.prototype,r=e&&e.valueOf,i=V2("toPrimitive");e&&!e[i]&&U2(e,i,function(n){return H2(r,this)},{})},Y2=Eg,q2=Ri,K2=Y2?{}.toString:function(){return"[object "+q2(this)+"]"},G2=Eg,X2=or.f,J2=Mi,Z2=vt,Q2=K2,eB=Xe,yb=eB("toStringTag"),vo=function(t,e,r,i){if(t){var n=r?t:t.prototype;Z2(n,yb)||X2(n,yb,{configurable:!0,value:e}),i&&!G2&&J2(n,"toString",Q2)}},tB=qe,rB=et,bb=tB.WeakMap,iB=rB(bb)&&/native code/.test(String(bb)),nB=iB,FE=qe,oB=Pt,sB=Mi,Ah=vt,Dh=_g,aB=pu,lB=nl,$b="Object already initialized",Kp=FE.TypeError,cB=FE.WeakMap,yd,Da,bd,dB=function(t){return bd(t)?Da(t):yd(t,{})},uB=function(t){return function(e){var r;if(!oB(e)||(r=Da(e)).type!==t)throw new Kp("Incompatible receiver, "+t+" required");return r}};if(nB||Dh.state){var Kr=Dh.state||(Dh.state=new cB);Kr.get=Kr.get,Kr.has=Kr.has,Kr.set=Kr.set,yd=function(t,e){if(Kr.has(t))throw new Kp($b);return e.facade=t,Kr.set(t,e),e},Da=function(t){return Kr.get(t)||{}},bd=function(t){return Kr.has(t)}}else{var xo=aB("state");lB[xo]=!0,yd=function(t,e){if(Ah(t,xo))throw new Kp($b);return e.facade=t,sB(t,xo,e),e},Da=function(t){return Ah(t,xo)?t[xo]:{}},bd=function(t){return Ah(t,xo)}}var Ps={set:yd,get:Da,has:bd,enforce:dB,getterFor:uB},hB=_n,fB=Ue,pB=iu,vB=nr,gB=vr,mB=du,wb=fB([].push),sc=function(t){var e=t===1,r=t===2,i=t===3,n=t===4,o=t===6,s=t===7,a=t===5||o;return function(l,c,d,u){for(var h=vB(l),f=pB(h),p=hB(c,d),g=gB(f),$=0,y=u||mB,b=e?y(l,g):r||s?y(l,0):void 0,S,_;g>$;$++)if((a||$ in f)&&(S=f[$],_=p(S,$,h),t))if(e)b[$]=_;else if(_)switch(t){case 3:return!0;case 5:return S;case 6:return $;case 2:wb(b,S)}else switch(t){case 4:return!1;case 7:wb(b,S)}return o?-1:i||n?n:b}},ks={forEach:sc(0),map:sc(1),filter:sc(2),some:sc(3)},vu=ne,ll=qe,Pg=St,yB=Ue,as=_t,ls=Es,bB=xe,bt=vt,$B=pt,Gp=pr,gu=si,kg=ou,wB=fo,Xp=ho,Ma=po,BE=fu,_B=ol,LE=Og,SB=sl,jE=uo,zE=or,EB=uu,HE=ru,_b=xs,TB=xg,Cg=Is,IB=pu,WE=nl,Sb=nu,OB=Xe,xB=al,PB=tt,kB=NE,CB=vo,VE=Ps,mu=ks.forEach,Jt=IB("hidden"),yu="Symbol",Ra="prototype",AB=VE.set,Eb=VE.getterFor(yu),Mr=Object[Ra],Hn=ll.Symbol,ia=Hn&&Hn[Ra],DB=ll.RangeError,MB=ll.TypeError,Mh=ll.QObject,UE=jE.f,Wn=zE.f,YE=LE.f,RB=HE.f,qE=yB([].push),xi=Cg("symbols"),cl=Cg("op-symbols"),NB=Cg("wks"),Jp=!Mh||!Mh[Ra]||!Mh[Ra].findChild,KE=function(t,e,r){var i=UE(Mr,e);i&&delete Mr[e],Wn(t,e,r),i&&t!==Mr&&Wn(Mr,e,i)},Zp=as&&bB(function(){return Ma(Wn({},"a",{get:function(){return Wn(this,"a",{value:7}).a}})).a!==7})?KE:Wn,Rh=function(t,e){var r=xi[t]=Ma(ia);return AB(r,{type:yu,tag:t,description:e}),as||(r.description=e),r},bu=function(e,r,i){e===Mr&&bu(cl,r,i),Gp(e);var n=kg(r);return Gp(i),bt(xi,n)?(i.enumerable?(bt(e,Jt)&&e[Jt][n]&&(e[Jt][n]=!1),i=Ma(i,{enumerable:Xp(0,!1)})):(bt(e,Jt)||Wn(e,Jt,Xp(1,{})),e[Jt][n]=!0),Zp(e,n,i)):Wn(e,n,i)},Ag=function(e,r){Gp(e);var i=gu(r),n=BE(i).concat(ZE(i));return mu(n,function(o){(!as||Pg(GE,i,o))&&bu(e,o,i[o])}),e},FB=function(e,r){return r===void 0?Ma(e):Ag(Ma(e),r)},GE=function(e){var r=kg(e),i=Pg(RB,this,r);return this===Mr&&bt(xi,r)&&!bt(cl,r)?!1:i||!bt(this,r)||!bt(xi,r)||bt(this,Jt)&&this[Jt][r]?i:!0},XE=function(e,r){var i=gu(e),n=kg(r);if(!(i===Mr&&bt(xi,n)&&!bt(cl,n))){var o=UE(i,n);return o&&bt(xi,n)&&!(bt(i,Jt)&&i[Jt][n])&&(o.enumerable=!0),o}},JE=function(e){var r=YE(gu(e)),i=[];return mu(r,function(n){!bt(xi,n)&&!bt(WE,n)&&qE(i,n)}),i},ZE=function(t){var e=t===Mr,r=YE(e?cl:gu(t)),i=[];return mu(r,function(n){bt(xi,n)&&(!e||bt(Mr,n))&&qE(i,xi[n])}),i};ls||(Hn=function(){if($B(ia,this))throw new MB("Symbol is not a constructor");var e=!arguments.length||arguments[0]===void 0?void 0:wB(arguments[0]),r=Sb(e),i=function(n){var o=this===void 0?ll:this;o===Mr&&Pg(i,cl,n),bt(o,Jt)&&bt(o[Jt],r)&&(o[Jt][r]=!1);var s=Xp(1,n);try{Zp(o,r,s)}catch(a){if(!(a instanceof DB))throw a;KE(o,r,s)}};return as&&Jp&&Zp(Mr,r,{configurable:!0,set:i}),Rh(r,e)},ia=Hn[Ra],_b(ia,"toString",function(){return Eb(this).tag}),_b(Hn,"withoutSetter",function(t){return Rh(Sb(t),t)}),HE.f=GE,zE.f=bu,EB.f=Ag,jE.f=XE,_B.f=LE.f=JE,SB.f=ZE,xB.f=function(t){return Rh(OB(t),t)},as&&TB(ia,"description",{configurable:!0,get:function(){return Eb(this).description}}));vu({global:!0,wrap:!0,forced:!ls,sham:!ls},{Symbol:Hn});mu(BE(NB),function(t){PB(t)});vu({target:yu,stat:!0,forced:!ls},{useSetter:function(){Jp=!0},useSimple:function(){Jp=!1}});vu({target:"Object",stat:!0,forced:!ls,sham:!as},{create:FB,defineProperty:bu,defineProperties:Ag,getOwnPropertyDescriptor:XE});vu({target:"Object",stat:!0,forced:!ls},{getOwnPropertyNames:JE});kB();CB(Hn,yu);WE[Jt]=!0;var BB=Es,QE=BB&&!!Symbol.for&&!!Symbol.keyFor,LB=ne,jB=Yt,zB=vt,HB=fo,eT=Is,WB=QE,Nh=eT("string-to-symbol-registry"),VB=eT("symbol-to-string-registry");LB({target:"Symbol",stat:!0,forced:!WB},{for:function(t){var e=HB(t);if(zB(Nh,e))return Nh[e];var r=jB("Symbol")(e);return Nh[e]=r,VB[r]=e,r}});var UB=ne,YB=vt,qB=tl,KB=Ts,GB=Is,XB=QE,Tb=GB("symbol-to-string-registry");UB({target:"Symbol",stat:!0,forced:!XB},{keyFor:function(e){if(!qB(e))throw new TypeError(KB(e)+" is not a symbol");if(YB(Tb,e))return Tb[e]}});var JB=Ue,dl=JB([].slice),ZB=Ue,Ib=Sn,QB=et,Ob=$n,eL=fo,xb=ZB([].push),tL=function(t){if(QB(t))return t;if(Ib(t)){for(var e=t.length,r=[],i=0;i<e;i++){var n=t[i];typeof n=="string"?xb(r,n):(typeof n=="number"||Ob(n)==="Number"||Ob(n)==="String")&&xb(r,eL(n))}var o=r.length,s=!0;return function(a,l){if(s)return s=!1,l;if(Ib(this))return l;for(var c=0;c<o;c++)if(r[c]===a)return l}}},rL=ne,tT=Yt,rT=ws,iL=St,ul=Ue,iT=xe,Pb=et,kb=tl,nT=dl,nL=tL,oL=Es,sL=String,tn=tT("JSON","stringify"),ac=ul(/./.exec),Cb=ul("".charAt),aL=ul("".charCodeAt),lL=ul("".replace),cL=ul(1 .toString),dL=/[\uD800-\uDFFF]/g,Ab=/^[\uD800-\uDBFF]$/,Db=/^[\uDC00-\uDFFF]$/,Mb=!oL||iT(function(){var t=tT("Symbol")("stringify detection");return tn([t])!=="[null]"||tn({a:t})!=="{}"||tn(Object(t))!=="{}"}),Rb=iT(function(){return tn("\uDF06\uD834")!=='"\\udf06\\ud834"'||tn("\uDEAD")!=='"\\udead"'}),uL=function(t,e){var r=nT(arguments),i=nL(e);if(!(!Pb(i)&&(t===void 0||kb(t))))return r[1]=function(n,o){if(Pb(i)&&(o=iL(i,this,sL(n),o)),!kb(o))return o},rT(tn,null,r)},hL=function(t,e,r){var i=Cb(r,e-1),n=Cb(r,e+1);return ac(Ab,t)&&!ac(Db,n)||ac(Db,t)&&!ac(Ab,i)?"\\u"+cL(aL(t,0),16):t};tn&&rL({target:"JSON",stat:!0,forced:Mb||Rb},{stringify:function(e,r,i){var n=nT(arguments),o=rT(Mb?uL:tn,null,n);return Rb&&typeof o=="string"?lL(o,dL,hL):o}});var fL=ne,pL=Es,vL=xe,oT=sl,gL=nr,mL=!pL||vL(function(){oT.f(1)});fL({target:"Object",stat:!0,forced:mL},{getOwnPropertySymbols:function(e){var r=oT.f;return r?r(gL(e)):[]}});var yL=tt;yL("asyncIterator");var bL=tt;bL("hasInstance");var $L=tt;$L("isConcatSpreadable");var wL=tt;wL("iterator");var _L=tt;_L("match");var SL=tt;SL("matchAll");var EL=tt;EL("replace");var TL=tt;TL("search");var IL=tt;IL("species");var OL=tt;OL("split");var xL=tt,PL=NE;xL("toPrimitive");PL();var kL=Yt,CL=tt,AL=vo;CL("toStringTag");AL(kL("Symbol"),"Symbol");var DL=tt;DL("unscopables");var ML=qe,RL=vo;RL(ML.JSON,"JSON",!0);var NL=Ke,FL=NL.Symbol,Cs={},Qp=_t,BL=vt,sT=Function.prototype,LL=Qp&&Object.getOwnPropertyDescriptor,aT=BL(sT,"name"),jL=aT&&(function(){}).name==="something";aT&&(!Qp||Qp&&LL(sT,"name").configurable);var zL={PROPER:jL},HL=xe,lT=!HL(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}),WL=vt,VL=et,UL=nr,YL=pu,qL=lT,Nb=YL("IE_PROTO"),ev=Object,KL=ev.prototype,$u=qL?ev.getPrototypeOf:function(t){var e=UL(t);if(WL(e,Nb))return e[Nb];var r=e.constructor;return VL(r)&&e instanceof r?r.prototype:e instanceof ev?KL:null},GL=xe,XL=et,JL=Pt,ZL=po,Fb=$u,QL=xs,ej=Xe,tv=ej("iterator"),cT=!1,gi,Fh,Bh;[].keys&&(Bh=[].keys(),"next"in Bh?(Fh=Fb(Fb(Bh)),Fh!==Object.prototype&&(gi=Fh)):cT=!0);var tj=!JL(gi)||GL(function(){var t={};return gi[tv].call(t)!==t});tj?gi={}:gi=ZL(gi);XL(gi[tv])||QL(gi,tv,function(){return this});var dT={IteratorPrototype:gi,BUGGY_SAFARI_ITERATORS:cT},rj=dT.IteratorPrototype,ij=po,nj=ho,oj=vo,sj=Cs,aj=function(){return this},lj=function(t,e,r,i){var n=e+" Iterator";return t.prototype=ij(rj,{next:nj(+!i,r)}),oj(t,n,!1,!0),sj[n]=aj,t},cj=Ue,dj=ir,uj=function(t,e,r){try{return cj(dj(Object.getOwnPropertyDescriptor(t,e)[r]))}catch{}},hj=et,fj=String,pj=TypeError,vj=function(t){if(typeof t=="object"||hj(t))return t;throw new pj("Can't set "+fj(t)+" as a prototype")},gj=uj,mj=pr,yj=vj,uT=Object.setPrototypeOf||("__proto__"in{}?function(){var t=!1,e={},r;try{r=gj(Object.prototype,"__proto__","set"),r(e,[]),t=e instanceof Array}catch{}return function(n,o){return mj(n),yj(o),t?r(n,o):n.__proto__=o,n}}():void 0),bj=ne,$j=St,wj=zL,_j=lj,Sj=$u,Ej=vo,Bb=xs,Tj=Xe,Lb=Cs,Ij=dT,Oj=wj.PROPER,lc=Ij.BUGGY_SAFARI_ITERATORS,Lh=Tj("iterator"),jb="keys",cc="values",zb="entries",xj=function(){return this},Dg=function(t,e,r,i,n,o,s){_j(r,e,i);var a=function(y){if(y===n&&h)return h;if(!lc&&y&&y in d)return d[y];switch(y){case jb:return function(){return new r(this,y)};case cc:return function(){return new r(this,y)};case zb:return function(){return new r(this,y)}}return function(){return new r(this)}},l=e+" Iterator",c=!1,d=t.prototype,u=d[Lh]||d["@@iterator"]||n&&d[n],h=!lc&&u||a(n),f=e==="Array"&&d.entries||u,p,g,$;if(f&&(p=Sj(f.call(new t)),p!==Object.prototype&&p.next&&(Ej(p,l,!0,!0),Lb[l]=xj)),Oj&&n===cc&&u&&u.name!==cc&&(c=!0,h=function(){return $j(u,this)}),n)if(g={values:a(cc),keys:o?h:a(jb),entries:a(zb)},s)for($ in g)(lc||c||!($ in d))&&Bb(d,$,g[$]);else bj({target:e,proto:!0,forced:lc||c},g);return s&&d[Lh]!==h&&Bb(d,Lh,h,{}),Lb[e]=h,g},Mg=function(t,e){return{value:t,done:e}},Pj=si,Hb=Cs,hT=Ps;or.f;var kj=Dg,dc=Mg,fT="Array Iterator",Cj=hT.set,Aj=hT.getterFor(fT);kj(Array,"Array",function(t,e){Cj(this,{type:fT,target:Pj(t),index:0,kind:e})},function(){var t=Aj(this),e=t.target,r=t.index++;if(!e||r>=e.length)return t.target=void 0,dc(void 0,!0);switch(t.kind){case"keys":return dc(r,!1);case"values":return dc(e[r],!1)}return dc([r,e[r]],!1)},"values");Hb.Arguments=Hb.Array;var Dj={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Mj=Dj,Rj=qe,Nj=Ri,Fj=Mi,Wb=Cs,Bj=Xe,Vb=Bj("toStringTag");for(var jh in Mj){var Ub=Rj[jh],zh=Ub&&Ub.prototype;zh&&Nj(zh)!==Vb&&Fj(zh,Vb,jh),Wb[jh]=Wb.Array}var Lj=FL,pT=Lj,jj=Xe,zj=or.f,Yb=jj("metadata"),qb=Function.prototype;qb[Yb]===void 0&&zj(qb,Yb,{value:null});var Hj=tt;Hj("asyncDispose");var Wj=tt;Wj("dispose");var Vj=tt;Vj("metadata");var Uj=pT,Yj=Uj,qj=Yt,Kj=Ue,Rg=qj("Symbol"),Gj=Rg.keyFor,Xj=Kj(Rg.prototype.valueOf),vT=Rg.isRegisteredSymbol||function(e){try{return Gj(Xj(e))!==void 0}catch{return!1}},Jj=ne,Zj=vT;Jj({target:"Symbol",stat:!0},{isRegisteredSymbol:Zj});var Qj=Is,gT=Yt,e3=Ue,t3=tl,r3=Xe,$d=gT("Symbol"),Kb=$d.isWellKnownSymbol,mT=gT("Object","getOwnPropertyNames"),i3=e3($d.prototype.valueOf),Gb=Qj("wks");for(var Hh=0,Xb=mT($d),n3=Xb.length;Hh<n3;Hh++)try{var Jb=Xb[Hh];t3($d[Jb])&&r3(Jb)}catch{}var yT=function(e){if(Kb&&Kb(e))return!0;try{for(var r=i3(e),i=0,n=mT(Gb),o=n.length;i<o;i++)if(Gb[n[i]]==r)return!0}catch{}return!1},o3=ne,s3=yT;o3({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:s3});var a3=tt;a3("matcher");var l3=tt;l3("observable");var c3=ne,d3=vT;c3({target:"Symbol",stat:!0},{isRegistered:d3});var u3=ne,h3=yT;u3({target:"Symbol",stat:!0,forced:!0},{isWellKnown:h3});var f3=tt;f3("metadataKey");var p3=tt;p3("patternMatch");var v3=tt;v3("replaceAll");var g3=Yj,m3=g3,Ng=m3,jo=ae(Ng),Fg=Ue,y3=au,b3=fo,$3=$g,w3=Fg("".charAt),Zb=Fg("".charCodeAt),_3=Fg("".slice),S3=function(t){return function(e,r){var i=b3($3(e)),n=y3(r),o=i.length,s,a;return n<0||n>=o?t?"":void 0:(s=Zb(i,n),s<55296||s>56319||n+1===o||(a=Zb(i,n+1))<56320||a>57343?t?w3(i,n):s:t?_3(i,n,n+2):(s-55296<<10)+(a-56320)+65536)}},E3={charAt:S3(!0)},T3=E3.charAt,I3=fo,bT=Ps,O3=Dg,Qb=Mg,$T="String Iterator",x3=bT.set,P3=bT.getterFor($T);O3(String,"String",function(t){x3(this,{type:$T,string:I3(t),index:0})},function(){var e=P3(this),r=e.string,i=e.index,n;return i>=r.length?Qb(void 0,!0):(n=T3(r,i),e.index+=n.length,Qb(n,!1))});var k3=al,C3=k3.f("iterator"),A3=C3,wT=A3,D3=wT,M3=D3,R3=M3,N3=R3,_T=N3,F3=ae(_T);function cs(t){"@babel/helpers - typeof";return cs=typeof jo=="function"&&typeof F3=="symbol"?function(e){return typeof e}:function(e){return e&&typeof jo=="function"&&e.constructor===jo&&e!==jo.prototype?"symbol":typeof e},cs(t)}var B3=al,L3=B3.f("toPrimitive"),j3=L3,z3=j3,H3=z3,W3=H3,V3=W3,U3=V3,Y3=U3,q3=ae(Y3);function K3(t,e){if(cs(t)!=="object"||t===null)return t;var r=t[q3];if(r!==void 0){var i=r.call(t,e);if(cs(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ST(t){var e=K3(t,"string");return cs(e)==="symbol"?e:String(e)}function e$(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),su(t,ST(i.key),i)}}function wu(t,e,r){return e&&e$(t.prototype,e),r&&e$(t,r),su(t,"prototype",{writable:!1}),t}function rn(t,e,r){return e=ST(e),e in t?su(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var ET=Ue,G3=ir,X3=Pt,J3=vt,t$=dl,Z3=el,TT=Function,Q3=ET([].concat),ez=ET([].join),Wh={},tz=function(t,e,r){if(!J3(Wh,e)){for(var i=[],n=0;n<e;n++)i[n]="a["+n+"]";Wh[e]=TT("C,a","return new C("+ez(i,",")+")")}return Wh[e](t,r)},IT=Z3?TT.bind:function(e){var r=G3(this),i=r.prototype,n=t$(arguments,1),o=function(){var a=Q3(n,t$(arguments));return this instanceof o?tz(r,a.length,a):r.apply(e,a)};return X3(i)&&(o.prototype=i),o},rz=ne,r$=IT;rz({target:"Function",proto:!0,forced:Function.bind!==r$},{bind:r$});var iz=qe,nz=Ke,Nt=function(t,e){var r=nz[t+"Prototype"],i=r&&r[e];if(i)return i;var n=iz[t],o=n&&n.prototype;return o&&o[e]},oz=Nt,sz=oz("Function","bind"),az=pt,lz=sz,Vh=Function.prototype,cz=function(t){var e=t.bind;return t===Vh||az(Vh,t)&&e===Vh.bind?lz:e},dz=cz,OT=dz,uz=OT,xT=ae(uz),hz=ir,fz=nr,pz=iu,vz=vr,gz=TypeError,mz=function(t){return function(e,r,i,n){hz(r);var o=fz(e),s=pz(o),a=vz(o),l=t?a-1:0,c=t?-1:1;if(i<2)for(;;){if(l in s){n=s[l],l+=c;break}if(l+=c,t?l<0:a<=l)throw new gz("Reduce of empty array with no initial value")}for(;t?l>=0:a>l;l+=c)l in s&&(n=r(n,s[l],l,o));return n}},yz={left:mz(!1)},bz=xe,_u=function(t,e){var r=[][t];return!!r&&bz(function(){r.call(null,e||function(){return 1},1)})},$z=qe,wz=$n,hl=wz($z.process)==="process",_z=ne,Sz=yz.left,Ez=_u,i$=Ss,Tz=hl,Iz=!Tz&&i$>79&&i$<83,Oz=Iz||!Ez("reduce");_z({target:"Array",proto:!0,forced:Oz},{reduce:function(e){var r=arguments.length;return Sz(this,e,r,r>1?arguments[1]:void 0)}});var xz=Nt,Pz=xz("Array","reduce"),kz=pt,Cz=Pz,Uh=Array.prototype,Az=function(t){var e=t.reduce;return t===Uh||kz(Uh,t)&&e===Uh.reduce?Cz:e},Dz=Az,Mz=Dz,Rz=Mz,Nz=ae(Rz),Fz=ne,Bz=ks.filter,Lz=il,jz=Lz("filter");Fz({target:"Array",proto:!0,forced:!jz},{filter:function(e){return Bz(this,e,arguments.length>1?arguments[1]:void 0)}});var zz=Nt,Hz=zz("Array","filter"),Wz=pt,Vz=Hz,Yh=Array.prototype,Uz=function(t){var e=t.filter;return t===Yh||Wz(Yh,t)&&e===Yh.filter?Vz:e},Yz=Uz,qz=Yz,Kz=qz,zo=ae(Kz),Gz=ne,Xz=ks.map,Jz=il,Zz=Jz("map");Gz({target:"Array",proto:!0,forced:!Zz},{map:function(e){return Xz(this,e,arguments.length>1?arguments[1]:void 0)}});var Qz=Nt,e5=Qz("Array","map"),t5=pt,r5=e5,qh=Array.prototype,i5=function(t){var e=t.map;return t===qh||t5(qh,t)&&e===qh.map?r5:e},n5=i5,o5=n5,s5=o5,Cr=ae(s5),a5=Sn,l5=vr,c5=lu,d5=_n,PT=function(t,e,r,i,n,o,s,a){for(var l=n,c=0,d=s?d5(s,a):!1,u,h;c<i;)c in r&&(u=d?d(r[c],c,e):r[c],o>0&&a5(u)?(h=l5(u),l=PT(t,e,u,h,l,o-1)-1):(c5(l+1),t[l]=u),l++),c++;return l},u5=PT,h5=ne,f5=u5,p5=ir,v5=nr,g5=vr,m5=du;h5({target:"Array",proto:!0},{flatMap:function(e){var r=v5(this),i=g5(r),n;return p5(e),n=m5(r,0),n.length=f5(n,r,r,i,0,1,e,arguments.length>1?arguments[1]:void 0),n}});var y5=Nt;y5("Array","flatMap");var b5=St,n$=pr,$5=wg,kT=function(t,e,r){var i,n;n$(t);try{if(i=$5(t,"return"),!i){if(e==="throw")throw r;return r}i=b5(i,t)}catch(o){n=!0,i=o}if(e==="throw")throw r;if(n)throw i;return n$(i),r},w5=pr,_5=kT,S5=function(t,e,r,i){try{return i?e(w5(r)[0],r[1]):e(r)}catch(n){_5(t,"throw",n)}},E5=Xe,T5=Cs,I5=E5("iterator"),O5=Array.prototype,CT=function(t){return t!==void 0&&(T5.Array===t||O5[I5]===t)},x5=Ri,o$=wg,P5=_s,k5=Cs,C5=Xe,A5=C5("iterator"),Su=function(t){if(!P5(t))return o$(t,A5)||o$(t,"@@iterator")||k5[x5(t)]},D5=St,M5=ir,R5=pr,N5=Ts,F5=Su,B5=TypeError,Bg=function(t,e){var r=arguments.length<2?F5(t):e;if(M5(r))return R5(D5(r,t));throw new B5(N5(t)+" is not iterable")},L5=_n,j5=St,z5=nr,H5=S5,W5=CT,V5=cu,U5=vr,s$=Os,Y5=Bg,q5=Su,a$=Array,K5=function(e){var r=z5(e),i=V5(this),n=arguments.length,o=n>1?arguments[1]:void 0,s=o!==void 0;s&&(o=L5(o,n>2?arguments[2]:void 0));var a=q5(r),l=0,c,d,u,h,f,p;if(a&&!(this===a$&&W5(a)))for(h=Y5(r,a),f=h.next,d=i?new this:[];!(u=j5(f,h)).done;l++)p=s?H5(h,o,[u.value,l],!0):u.value,s$(d,l,p);else for(c=U5(r),d=i?new this(c):a$(c);c>l;l++)p=s?o(r[l],l):r[l],s$(d,l,p);return d.length=l,d},G5=Xe,AT=G5("iterator"),DT=!1;try{var X5=0,l$={next:function(){return{done:!!X5++}},return:function(){DT=!0}};l$[AT]=function(){return this},Array.from(l$,function(){throw 2})}catch{}var MT=function(t,e){try{if(!e&&!DT)return!1}catch{return!1}var r=!1;try{var i={};i[AT]=function(){return{next:function(){return{done:r=!0}}}},t(i)}catch{}return r},J5=ne,Z5=K5,Q5=MT,eH=!Q5(function(t){Array.from(t)});J5({target:"Array",stat:!0,forced:eH},{from:Z5});var tH=Ke,rH=tH.Array.from,iH=rH,RT=iH,nH=RT,Lg=ae(nH),oH=Su,sH=oH,aH=sH,lH=aH,cH=lH,dH=cH,uH=dH,hH=uH,NT=hH,FT=ae(NT),fH=NT,jg=ae(fH),pH=ne,vH=Sn;pH({target:"Array",stat:!0},{isArray:vH});var gH=Ke,mH=gH.Array.isArray,yH=mH,BT=yH,bH=BT,$H=bH,wH=$H,_H=wH,SH=_H,LT=ae(SH);function EH(t){if(LT(t))return t}var TH=_t,IH=Sn,OH=TypeError,xH=Object.getOwnPropertyDescriptor,PH=TH&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}(),jT=PH?function(t,e){if(IH(t)&&!xH(t,"length").writable)throw new OH("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e},kH=ne,CH=nr,AH=vr,DH=jT,MH=lu,RH=xe,NH=RH(function(){return[].push.call({length:4294967296},1)!==4294967297}),FH=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}},BH=NH||!FH();kH({target:"Array",proto:!0,forced:BH},{push:function(e){var r=CH(this),i=AH(r),n=arguments.length;MH(i+n);for(var o=0;o<n;o++)r[i]=arguments[o],i++;return DH(r,i),i}});var LH=Nt,jH=LH("Array","push"),zH=pt,HH=jH,Kh=Array.prototype,WH=function(t){var e=t.push;return t===Kh||zH(Kh,t)&&e===Kh.push?HH:e},VH=WH,UH=VH,YH=UH,qH=YH,KH=qH,GH=KH,zT=GH,XH=ae(zT);function JH(t,e){var r=t==null?null:typeof jo<"u"&&FT(t)||t["@@iterator"];if(r!=null){var i,n,o,s,a=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(i=o.call(r)).done)&&(XH(a).call(a,i.value),a.length!==e);l=!0);}catch(d){c=!0,n=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw n}}return a}}var ZH=ne,c$=Sn,QH=cu,eW=Pt,d$=hu,tW=vr,rW=si,iW=Os,nW=Xe,oW=il,sW=dl,aW=oW("slice"),lW=nW("species"),Gh=Array,cW=Math.max;ZH({target:"Array",proto:!0,forced:!aW},{slice:function(e,r){var i=rW(this),n=tW(i),o=d$(e,n),s=d$(r===void 0?n:r,n),a,l,c;if(c$(i)&&(a=i.constructor,QH(a)&&(a===Gh||c$(a.prototype))?a=void 0:eW(a)&&(a=a[lW],a===null&&(a=void 0)),a===Gh||a===void 0))return sW(i,o,s);for(l=new(a===void 0?Gh:a)(cW(s-o,0)),c=0;o<s;o++,c++)o in i&&iW(l,c,i[o]);return l.length=c,l}});var dW=Nt,uW=dW("Array","slice"),hW=pt,fW=uW,Xh=Array.prototype,pW=function(t){var e=t.slice;return t===Xh||hW(Xh,t)&&e===Xh.slice?fW:e},vW=pW,HT=vW,gW=HT,mW=gW,yW=mW,bW=yW,WT=bW,$W=ae(WT),wW=RT,_W=wW,SW=_W,EW=SW,TW=EW,VT=ae(TW);function rv(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=t[r];return i}function UT(t,e){var r;if(t){if(typeof t=="string")return rv(t,e);var i=$W(r=Object.prototype.toString.call(t)).call(r,8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return VT(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return rv(t,e)}}function IW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kt(t,e){return EH(t)||JH(t,e)||UT(t,e)||IW()}function OW(t){if(LT(t))return rv(t)}function xW(t){if(typeof jo<"u"&&FT(t)!=null||t["@@iterator"]!=null)return VT(t)}function PW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zt(t){return OW(t)||xW(t)||UT(t)||PW()}var kW=pT,Eu=ae(kW),CW=Nt,AW=CW("Array","concat"),DW=pt,MW=AW,Jh=Array.prototype,RW=function(t){var e=t.concat;return t===Jh||DW(Jh,t)&&e===Jh.concat?MW:e},NW=RW,FW=NW,BW=FW,Tu=ae(BW),LW=HT,Iu=ae(LW),jW=Yt,zW=Ue,HW=ol,WW=sl,VW=pr,UW=zW([].concat),zg=jW("Reflect","ownKeys")||function(e){var r=HW.f(VW(e)),i=WW.f;return i?UW(r,i(e)):r},YW=ne,qW=zg;YW({target:"Reflect",stat:!0},{ownKeys:qW});var KW=Ke,GW=KW.Reflect.ownKeys,XW=GW,JW=XW,ZW=JW,QW=ae(ZW),e4=BT,cr=ae(e4),t4=ne,r4=nr,YT=fu,i4=xe,n4=i4(function(){YT(1)});t4({target:"Object",stat:!0,forced:n4},{keys:function(e){return YT(r4(e))}});var o4=Ke,s4=o4.Object.keys,a4=s4,l4=a4,c4=l4,Hg=ae(c4),d4=ks.forEach,u4=_u,h4=u4("forEach"),f4=h4?[].forEach:function(e){return d4(this,e,arguments.length>1?arguments[1]:void 0)},p4=ne,u$=f4;p4({target:"Array",proto:!0,forced:[].forEach!==u$},{forEach:u$});var v4=Nt,g4=v4("Array","forEach"),m4=g4,y4=m4,b4=Ri,$4=vt,w4=pt,_4=y4,Zh=Array.prototype,S4={DOMTokenList:!0,NodeList:!0},qT=function(t){var e=t.forEach;return t===Zh||w4(Zh,t)&&e===Zh.forEach||$4(S4,b4(t))?_4:e},E4=qT,eo=ae(E4),T4=ne,I4=Ue,O4=Sn,x4=I4([].reverse),h$=[1,2];T4({target:"Array",proto:!0,forced:String(h$)===String(h$.reverse())},{reverse:function(){return O4(this)&&(this.length=this.length),x4(this)}});var P4=Nt,k4=P4("Array","reverse"),C4=pt,A4=k4,Qh=Array.prototype,D4=function(t){var e=t.reverse;return t===Qh||C4(Qh,t)&&e===Qh.reverse?A4:e},M4=D4,KT=M4,R4=KT,N4=ae(R4),f$=Ts,F4=TypeError,GT=function(t,e){if(!delete t[e])throw new F4("Cannot delete property "+f$(e)+" of "+f$(t))},B4=ne,L4=nr,j4=hu,z4=au,H4=vr,W4=jT,V4=lu,U4=du,Y4=Os,ef=GT,q4=il,K4=q4("splice"),G4=Math.max,X4=Math.min;B4({target:"Array",proto:!0,forced:!K4},{splice:function(e,r){var i=L4(this),n=H4(i),o=j4(e,n),s=arguments.length,a,l,c,d,u,h;for(s===0?a=l=0:s===1?(a=0,l=n-o):(a=s-2,l=X4(G4(z4(r),0),n-o)),V4(n+a-l),c=U4(i,l),d=0;d<l;d++)u=o+d,u in i&&Y4(c,d,i[u]);if(c.length=l,a<l){for(d=o;d<n-l;d++)u=d+l,h=d+a,u in i?i[h]=i[u]:ef(i,h);for(d=n;d>n-l+a;d--)ef(i,d-1)}else if(a>l)for(d=n-l;d>o;d--)u=d+l-1,h=d+a-1,u in i?i[h]=i[u]:ef(i,h);for(d=0;d<a;d++)i[d+o]=arguments[d+2];return W4(i,n-l+a),c}});var J4=Nt,Z4=J4("Array","splice"),Q4=pt,eV=Z4,tf=Array.prototype,tV=function(t){var e=t.splice;return t===tf||Q4(tf,t)&&e===tf.splice?eV:e},rV=tV,iV=rV,nV=iV,XT=ae(nV),p$=_t,oV=Ue,sV=St,aV=xe,rf=fu,lV=sl,cV=ru,dV=nr,uV=iu,Po=Object.assign,v$=Object.defineProperty,hV=oV([].concat),fV=!Po||aV(function(){if(p$&&Po({b:1},Po(v$({},"a",{enumerable:!0,get:function(){v$(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var t={},e={},r=Symbol("assign detection"),i="abcdefghijklmnopqrst";return t[r]=7,i.split("").forEach(function(n){e[n]=n}),Po({},t)[r]!==7||rf(Po({},e)).join("")!==i})?function(e,r){for(var i=dV(e),n=arguments.length,o=1,s=lV.f,a=cV.f;n>o;)for(var l=uV(arguments[o++]),c=s?hV(rf(l),s(l)):rf(l),d=c.length,u=0,h;d>u;)h=c[u++],(!p$||sV(a,l,h))&&(i[h]=l[h]);return i}:Po,pV=ne,g$=fV;pV({target:"Object",stat:!0,forced:Object.assign!==g$},{assign:g$});var vV=Ke,gV=vV.Object.assign,mV=gV,yV=mV,bV=yV,$V=ae(bV),wV=ne,_V=xe,SV=nr,JT=$u,EV=lT,TV=_V(function(){JT(1)});wV({target:"Object",stat:!0,forced:TV,sham:!EV},{getPrototypeOf:function(e){return JT(SV(e))}});var IV=Ke,OV=IV.Object.getPrototypeOf,xV=OV,PV=xV,kV=ne,CV=_t,AV=po;kV({target:"Object",stat:!0,sham:!CV},{create:AV});var DV=Ke,MV=DV.Object,RV=function(e,r){return MV.create(e,r)},NV=RV,ZT=NV,FV=ZT,BV=ae(FV),iv=Ke,LV=ws;iv.JSON||(iv.JSON={stringify:JSON.stringify});var jV=function(e,r,i){return LV(iv.JSON.stringify,null,arguments)},zV=jV,HV=zV,WV=HV,VV=ae(WV),UV=typeof Bun=="function"&&Bun&&typeof Bun.version=="string",YV=TypeError,QT=function(t,e){if(t<e)throw new YV("Not enough arguments");return t},eI=qe,qV=ws,KV=et,GV=UV,XV=wn,JV=dl,ZV=QT,QV=eI.Function,e6=/MSIE .\./.test(XV)||GV&&function(){var t=eI.Bun.version.split(".");return t.length<3||t[0]==="0"&&(t[1]<3||t[1]==="3"&&t[2]==="0")}(),tI=function(t,e){var r=e?2:1;return e6?function(i,n){var o=ZV(arguments.length,1)>r,s=KV(i)?i:QV(i),a=o?JV(arguments,r):[],l=o?function(){qV(s,this,a)}:s;return e?t(l,n):t(l)}:t},t6=ne,rI=qe,r6=tI,m$=r6(rI.setInterval,!0);t6({global:!0,bind:!0,forced:rI.setInterval!==m$},{setInterval:m$});var i6=ne,iI=qe,n6=tI,y$=n6(iI.setTimeout,!0);i6({global:!0,bind:!0,forced:iI.setTimeout!==y$},{setTimeout:y$});var o6=Ke,s6=o6.setTimeout,a6=s6,l6=ae(a6),nI={exports:{}};(function(t){function e(i){if(i)return r(i);this._callbacks=new Map}function r(i){return Object.assign(i,e.prototype),i._callbacks=new Map,i}e.prototype.on=function(i,n){const o=this._callbacks.get(i)??[];return o.push(n),this._callbacks.set(i,o),this},e.prototype.once=function(i,n){const o=(...s)=>{this.off(i,o),n.apply(this,s)};return o.fn=n,this.on(i,o),this},e.prototype.off=function(i,n){if(i===void 0&&n===void 0)return this._callbacks.clear(),this;if(n===void 0)return this._callbacks.delete(i),this;const o=this._callbacks.get(i);if(o){for(const[s,a]of o.entries())if(a===n||a.fn===n){o.splice(s,1);break}o.length===0?this._callbacks.delete(i):this._callbacks.set(i,o)}return this},e.prototype.emit=function(i,...n){const o=this._callbacks.get(i);if(o){const s=[...o];for(const a of s)a.apply(this,n)}return this},e.prototype.listeners=function(i){return this._callbacks.get(i)??[]},e.prototype.listenerCount=function(i){if(i)return this.listeners(i).length;let n=0;for(const o of this._callbacks.values())n+=o.length;return n},e.prototype.hasListeners=function(i){return this.listenerCount(i)>0},e.prototype.addEventListener=e.prototype.on,e.prototype.removeListener=e.prototype.off,e.prototype.removeEventListener=e.prototype.off,e.prototype.removeAllListeners=e.prototype.off,t.exports=e})(nI);var c6=nI.exports,d6=ae(c6);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function Lr(){return Lr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Lr.apply(this,arguments)}function Ir(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function uc(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var nv;typeof Object.assign!="function"?nv=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(e),i=1;i<arguments.length;i++){var n=arguments[i];if(n!=null)for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])}return r}:nv=Object.assign;var to=nv,b$=["","webkit","Moz","MS","ms","o"],u6=typeof document>"u"?{style:{}}:document.createElement("div"),h6="function",Ho=Math.round,ro=Math.abs,Wg=Date.now;function Ou(t,e){for(var r,i,n=e[0].toUpperCase()+e.slice(1),o=0;o<b$.length;){if(r=b$[o],i=r?r+n:e,i in t)return i;o++}}var mi;typeof window>"u"?mi={}:mi=window;var oI=Ou(u6.style,"touchAction"),sI=oI!==void 0;function f6(){if(!sI)return!1;var t={},e=mi.CSS&&mi.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(r){return t[r]=e?mi.CSS.supports("touch-action",r):!0}),t}var aI="compute",lI="auto",ov="manipulation",Vn="none",Na="pan-x",Fa="pan-y",hc=f6(),p6=/mobile|tablet|ip(ad|hone|od)|android/i,cI="ontouchstart"in mi,v6=Ou(mi,"PointerEvent")!==void 0,g6=cI&&p6.test(navigator.userAgent),fl="touch",m6="pen",Vg="mouse",y6="kinect",b6=25,Vt=1,go=2,ut=4,tr=8,wd=1,pl=2,vl=4,gl=8,ds=16,ni=pl|vl,Un=gl|ds,dI=ni|Un,uI=["x","y"],_d=["clientX","clientY"];function yi(t,e,r){var i;if(t)if(t.forEach)t.forEach(e,r);else if(t.length!==void 0)for(i=0;i<t.length;)e.call(r,t[i],i,t),i++;else for(i in t)t.hasOwnProperty(i)&&e.call(r,t[i],i,t)}function xu(t,e){return typeof t===h6?t.apply(e&&e[0]||void 0,e):t}function Fn(t,e){return t.indexOf(e)>-1}function $6(t){if(Fn(t,Vn))return Vn;var e=Fn(t,Na),r=Fn(t,Fa);return e&&r?Vn:e||r?e?Na:Fa:Fn(t,ov)?ov:lI}var hI=function(){function t(r,i){this.manager=r,this.set(i)}var e=t.prototype;return e.set=function(i){i===aI&&(i=this.compute()),sI&&this.manager.element.style&&hc[i]&&(this.manager.element.style[oI]=i),this.actions=i.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var i=[];return yi(this.manager.recognizers,function(n){xu(n.options.enable,[n])&&(i=i.concat(n.getTouchAction()))}),$6(i.join(" "))},e.preventDefaults=function(i){var n=i.srcEvent,o=i.offsetDirection;if(this.manager.session.prevented){n.preventDefault();return}var s=this.actions,a=Fn(s,Vn)&&!hc[Vn],l=Fn(s,Fa)&&!hc[Fa],c=Fn(s,Na)&&!hc[Na];if(a){var d=i.pointers.length===1,u=i.distance<2,h=i.deltaTime<250;if(d&&u&&h)return}if(!(c&&l)&&(a||l&&o&ni||c&&o&Un))return this.preventSrc(n)},e.preventSrc=function(i){this.manager.session.prevented=!0,i.preventDefault()},t}();function Ug(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function fI(t){var e=t.length;if(e===1)return{x:Ho(t[0].clientX),y:Ho(t[0].clientY)};for(var r=0,i=0,n=0;n<e;)r+=t[n].clientX,i+=t[n].clientY,n++;return{x:Ho(r/e),y:Ho(i/e)}}function $$(t){for(var e=[],r=0;r<t.pointers.length;)e[r]={clientX:Ho(t.pointers[r].clientX),clientY:Ho(t.pointers[r].clientY)},r++;return{timeStamp:Wg(),pointers:e,center:fI(e),deltaX:t.deltaX,deltaY:t.deltaY}}function Sd(t,e,r){r||(r=uI);var i=e[r[0]]-t[r[0]],n=e[r[1]]-t[r[1]];return Math.sqrt(i*i+n*n)}function sv(t,e,r){r||(r=uI);var i=e[r[0]]-t[r[0]],n=e[r[1]]-t[r[1]];return Math.atan2(n,i)*180/Math.PI}function pI(t,e){return t===e?wd:ro(t)>=ro(e)?t<0?pl:vl:e<0?gl:ds}function w6(t,e){var r=e.center,i=t.offsetDelta||{},n=t.prevDelta||{},o=t.prevInput||{};(e.eventType===Vt||o.eventType===ut)&&(n=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=t.offsetDelta={x:r.x,y:r.y}),e.deltaX=n.x+(r.x-i.x),e.deltaY=n.y+(r.y-i.y)}function vI(t,e,r){return{x:e/t||0,y:r/t||0}}function _6(t,e){return Sd(e[0],e[1],_d)/Sd(t[0],t[1],_d)}function S6(t,e){return sv(e[1],e[0],_d)+sv(t[1],t[0],_d)}function E6(t,e){var r=t.lastInterval||e,i=e.timeStamp-r.timeStamp,n,o,s,a;if(e.eventType!==tr&&(i>b6||r.velocity===void 0)){var l=e.deltaX-r.deltaX,c=e.deltaY-r.deltaY,d=vI(i,l,c);o=d.x,s=d.y,n=ro(d.x)>ro(d.y)?d.x:d.y,a=pI(l,c),t.lastInterval=e}else n=r.velocity,o=r.velocityX,s=r.velocityY,a=r.direction;e.velocity=n,e.velocityX=o,e.velocityY=s,e.direction=a}function T6(t,e){var r=t.session,i=e.pointers,n=i.length;r.firstInput||(r.firstInput=$$(e)),n>1&&!r.firstMultiple?r.firstMultiple=$$(e):n===1&&(r.firstMultiple=!1);var o=r.firstInput,s=r.firstMultiple,a=s?s.center:o.center,l=e.center=fI(i);e.timeStamp=Wg(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=sv(a,l),e.distance=Sd(a,l),w6(r,e),e.offsetDirection=pI(e.deltaX,e.deltaY);var c=vI(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=ro(c.x)>ro(c.y)?c.x:c.y,e.scale=s?_6(s.pointers,i):1,e.rotation=s?S6(s.pointers,i):0,e.maxPointers=r.prevInput?e.pointers.length>r.prevInput.maxPointers?e.pointers.length:r.prevInput.maxPointers:e.pointers.length,E6(r,e);var d=t.element,u=e.srcEvent,h;u.composedPath?h=u.composedPath()[0]:u.path?h=u.path[0]:h=u.target,Ug(h,d)&&(d=h),e.target=d}function I6(t,e,r){var i=r.pointers.length,n=r.changedPointers.length,o=e&Vt&&i-n===0,s=e&(ut|tr)&&i-n===0;r.isFirst=!!o,r.isFinal=!!s,o&&(t.session={}),r.eventType=e,T6(t,r),t.emit("hammer.input",r),t.recognize(r),t.session.prevInput=r}function Ba(t){return t.trim().split(/\s+/g)}function ga(t,e,r){yi(Ba(e),function(i){t.addEventListener(i,r,!1)})}function ma(t,e,r){yi(Ba(e),function(i){t.removeEventListener(i,r,!1)})}function w$(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var As=function(){function t(r,i){var n=this;this.manager=r,this.callback=i,this.element=r.element,this.target=r.options.inputTarget,this.domHandler=function(o){xu(r.options.enable,[r])&&n.handler(o)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&ga(this.element,this.evEl,this.domHandler),this.evTarget&&ga(this.target,this.evTarget,this.domHandler),this.evWin&&ga(w$(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&ma(this.element,this.evEl,this.domHandler),this.evTarget&&ma(this.target,this.evTarget,this.domHandler),this.evWin&&ma(w$(this.element),this.evWin,this.domHandler)},t}();function io(t,e,r){if(t.indexOf&&!r)return t.indexOf(e);for(var i=0;i<t.length;){if(r&&t[i][r]==e||!r&&t[i]===e)return i;i++}return-1}var O6={pointerdown:Vt,pointermove:go,pointerup:ut,pointercancel:tr,pointerout:tr},x6={2:fl,3:m6,4:Vg,5:y6},gI="pointerdown",mI="pointermove pointerup pointercancel";mi.MSPointerEvent&&!mi.PointerEvent&&(gI="MSPointerDown",mI="MSPointerMove MSPointerUp MSPointerCancel");var yI=function(t){Ir(e,t);function e(){var i,n=e.prototype;return n.evEl=gI,n.evWin=mI,i=t.apply(this,arguments)||this,i.store=i.manager.session.pointerEvents=[],i}var r=e.prototype;return r.handler=function(n){var o=this.store,s=!1,a=n.type.toLowerCase().replace("ms",""),l=O6[a],c=x6[n.pointerType]||n.pointerType,d=c===fl,u=io(o,n.pointerId,"pointerId");l&Vt&&(n.button===0||d)?u<0&&(o.push(n),u=o.length-1):l&(ut|tr)&&(s=!0),!(u<0)&&(o[u]=n,this.callback(this.manager,l,{pointers:o,changedPointers:[n],pointerType:c,srcEvent:n}),s&&o.splice(u,1))},e}(As);function La(t){return Array.prototype.slice.call(t,0)}function Yg(t,e,r){for(var i=[],n=[],o=0;o<t.length;){var s=e?t[o][e]:t[o];io(n,s)<0&&i.push(t[o]),n[o]=s,o++}return r&&(e?i=i.sort(function(a,l){return a[e]>l[e]}):i=i.sort()),i}var P6={touchstart:Vt,touchmove:go,touchend:ut,touchcancel:tr},k6="touchstart touchmove touchend touchcancel",qg=function(t){Ir(e,t);function e(){var i;return e.prototype.evTarget=k6,i=t.apply(this,arguments)||this,i.targetIds={},i}var r=e.prototype;return r.handler=function(n){var o=P6[n.type],s=C6.call(this,n,o);s&&this.callback(this.manager,o,{pointers:s[0],changedPointers:s[1],pointerType:fl,srcEvent:n})},e}(As);function C6(t,e){var r=La(t.touches),i=this.targetIds;if(e&(Vt|go)&&r.length===1)return i[r[0].identifier]=!0,[r,r];var n,o,s=La(t.changedTouches),a=[],l=this.target;if(o=r.filter(function(c){return Ug(c.target,l)}),e===Vt)for(n=0;n<o.length;)i[o[n].identifier]=!0,n++;for(n=0;n<s.length;)i[s[n].identifier]&&a.push(s[n]),e&(ut|tr)&&delete i[s[n].identifier],n++;if(a.length)return[Yg(o.concat(a),"identifier",!0),a]}var A6={mousedown:Vt,mousemove:go,mouseup:ut},D6="mousedown",M6="mousemove mouseup",Kg=function(t){Ir(e,t);function e(){var i,n=e.prototype;return n.evEl=D6,n.evWin=M6,i=t.apply(this,arguments)||this,i.pressed=!1,i}var r=e.prototype;return r.handler=function(n){var o=A6[n.type];o&Vt&&n.button===0&&(this.pressed=!0),o&go&&n.which!==1&&(o=ut),this.pressed&&(o&ut&&(this.pressed=!1),this.callback(this.manager,o,{pointers:[n],changedPointers:[n],pointerType:Vg,srcEvent:n}))},e}(As),R6=2500,_$=25;function S$(t){var e=t.changedPointers,r=e[0];if(r.identifier===this.primaryTouch){var i={x:r.clientX,y:r.clientY},n=this.lastTouches;this.lastTouches.push(i);var o=function(){var a=n.indexOf(i);a>-1&&n.splice(a,1)};setTimeout(o,R6)}}function N6(t,e){t&Vt?(this.primaryTouch=e.changedPointers[0].identifier,S$.call(this,e)):t&(ut|tr)&&S$.call(this,e)}function F6(t){for(var e=t.srcEvent.clientX,r=t.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var n=this.lastTouches[i],o=Math.abs(e-n.x),s=Math.abs(r-n.y);if(o<=_$&&s<=_$)return!0}return!1}var bI=function(){var t=function(e){Ir(r,e);function r(n,o){var s;return s=e.call(this,n,o)||this,s.handler=function(a,l,c){var d=c.pointerType===fl,u=c.pointerType===Vg;if(!(u&&c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents)){if(d)N6.call(uc(uc(s)),l,c);else if(u&&F6.call(uc(uc(s)),c))return;s.callback(a,l,c)}},s.touch=new qg(s.manager,s.handler),s.mouse=new Kg(s.manager,s.handler),s.primaryTouch=null,s.lastTouches=[],s}var i=r.prototype;return i.destroy=function(){this.touch.destroy(),this.mouse.destroy()},r}(As);return t}();function B6(t){var e,r=t.options.inputClass;return r?e=r:v6?e=yI:g6?e=qg:cI?e=bI:e=Kg,new e(t,I6)}function Wo(t,e,r){return Array.isArray(t)?(yi(t,r[e],r),!0):!1}var Yc=1,Er=2,us=4,nn=8,bi=nn,ja=16,ei=32,L6=1;function j6(){return L6++}function fc(t,e){var r=e.manager;return r?r.get(t):t}function E$(t){return t&ja?"cancel":t&nn?"end":t&us?"move":t&Er?"start":""}var ml=function(){function t(r){r===void 0&&(r={}),this.options=Lr({enable:!0},r),this.id=j6(),this.manager=null,this.state=Yc,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(i){return to(this.options,i),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(i){if(Wo(i,"recognizeWith",this))return this;var n=this.simultaneous;return i=fc(i,this),n[i.id]||(n[i.id]=i,i.recognizeWith(this)),this},e.dropRecognizeWith=function(i){return Wo(i,"dropRecognizeWith",this)?this:(i=fc(i,this),delete this.simultaneous[i.id],this)},e.requireFailure=function(i){if(Wo(i,"requireFailure",this))return this;var n=this.requireFail;return i=fc(i,this),io(n,i)===-1&&(n.push(i),i.requireFailure(this)),this},e.dropRequireFailure=function(i){if(Wo(i,"dropRequireFailure",this))return this;i=fc(i,this);var n=io(this.requireFail,i);return n>-1&&this.requireFail.splice(n,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(i){return!!this.simultaneous[i.id]},e.emit=function(i){var n=this,o=this.state;function s(a){n.manager.emit(a,i)}o<nn&&s(n.options.event+E$(o)),s(n.options.event),i.additionalEvent&&s(i.additionalEvent),o>=nn&&s(n.options.event+E$(o))},e.tryEmit=function(i){if(this.canEmit())return this.emit(i);this.state=ei},e.canEmit=function(){for(var i=0;i<this.requireFail.length;){if(!(this.requireFail[i].state&(ei|Yc)))return!1;i++}return!0},e.recognize=function(i){var n=to({},i);if(!xu(this.options.enable,[this,n])){this.reset(),this.state=ei;return}this.state&(bi|ja|ei)&&(this.state=Yc),this.state=this.process(n),this.state&(Er|us|nn|ja)&&this.tryEmit(n)},e.process=function(i){},e.getTouchAction=function(){},e.reset=function(){},t}(),av=function(t){Ir(e,t);function e(i){var n;return i===void 0&&(i={}),n=t.call(this,Lr({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},i))||this,n.pTime=!1,n.pCenter=!1,n._timer=null,n._input=null,n.count=0,n}var r=e.prototype;return r.getTouchAction=function(){return[ov]},r.process=function(n){var o=this,s=this.options,a=n.pointers.length===s.pointers,l=n.distance<s.threshold,c=n.deltaTime<s.time;if(this.reset(),n.eventType&Vt&&this.count===0)return this.failTimeout();if(l&&c&&a){if(n.eventType!==ut)return this.failTimeout();var d=this.pTime?n.timeStamp-this.pTime<s.interval:!0,u=!this.pCenter||Sd(this.pCenter,n.center)<s.posThreshold;this.pTime=n.timeStamp,this.pCenter=n.center,!u||!d?this.count=1:this.count+=1,this._input=n;var h=this.count%s.taps;if(h===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){o.state=bi,o.tryEmit()},s.interval),Er):bi}return ei},r.failTimeout=function(){var n=this;return this._timer=setTimeout(function(){n.state=ei},this.options.interval),ei},r.reset=function(){clearTimeout(this._timer)},r.emit=function(){this.state===bi&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(ml),hs=function(t){Ir(e,t);function e(i){return i===void 0&&(i={}),t.call(this,Lr({pointers:1},i))||this}var r=e.prototype;return r.attrTest=function(n){var o=this.options.pointers;return o===0||n.pointers.length===o},r.process=function(n){var o=this.state,s=n.eventType,a=o&(Er|us),l=this.attrTest(n);return a&&(s&tr||!l)?o|ja:a||l?s&ut?o|nn:o&Er?o|us:Er:ei},e}(ml);function $I(t){return t===ds?"down":t===gl?"up":t===pl?"left":t===vl?"right":""}var Gg=function(t){Ir(e,t);function e(i){var n;return i===void 0&&(i={}),n=t.call(this,Lr({event:"pan",threshold:10,pointers:1,direction:dI},i))||this,n.pX=null,n.pY=null,n}var r=e.prototype;return r.getTouchAction=function(){var n=this.options.direction,o=[];return n&ni&&o.push(Fa),n&Un&&o.push(Na),o},r.directionTest=function(n){var o=this.options,s=!0,a=n.distance,l=n.direction,c=n.deltaX,d=n.deltaY;return l&o.direction||(o.direction&ni?(l=c===0?wd:c<0?pl:vl,s=c!==this.pX,a=Math.abs(n.deltaX)):(l=d===0?wd:d<0?gl:ds,s=d!==this.pY,a=Math.abs(n.deltaY))),n.direction=l,s&&a>o.threshold&&l&o.direction},r.attrTest=function(n){return hs.prototype.attrTest.call(this,n)&&(this.state&Er||!(this.state&Er)&&this.directionTest(n))},r.emit=function(n){this.pX=n.deltaX,this.pY=n.deltaY;var o=$I(n.direction);o&&(n.additionalEvent=this.options.event+o),t.prototype.emit.call(this,n)},e}(hs),wI=function(t){Ir(e,t);function e(i){return i===void 0&&(i={}),t.call(this,Lr({event:"swipe",threshold:10,velocity:.3,direction:ni|Un,pointers:1},i))||this}var r=e.prototype;return r.getTouchAction=function(){return Gg.prototype.getTouchAction.call(this)},r.attrTest=function(n){var o=this.options.direction,s;return o&(ni|Un)?s=n.overallVelocity:o&ni?s=n.overallVelocityX:o&Un&&(s=n.overallVelocityY),t.prototype.attrTest.call(this,n)&&o&n.offsetDirection&&n.distance>this.options.threshold&&n.maxPointers===this.options.pointers&&ro(s)>this.options.velocity&&n.eventType&ut},r.emit=function(n){var o=$I(n.offsetDirection);o&&this.manager.emit(this.options.event+o,n),this.manager.emit(this.options.event,n)},e}(hs),_I=function(t){Ir(e,t);function e(i){return i===void 0&&(i={}),t.call(this,Lr({event:"pinch",threshold:0,pointers:2},i))||this}var r=e.prototype;return r.getTouchAction=function(){return[Vn]},r.attrTest=function(n){return t.prototype.attrTest.call(this,n)&&(Math.abs(n.scale-1)>this.options.threshold||this.state&Er)},r.emit=function(n){if(n.scale!==1){var o=n.scale<1?"in":"out";n.additionalEvent=this.options.event+o}t.prototype.emit.call(this,n)},e}(hs),SI=function(t){Ir(e,t);function e(i){return i===void 0&&(i={}),t.call(this,Lr({event:"rotate",threshold:0,pointers:2},i))||this}var r=e.prototype;return r.getTouchAction=function(){return[Vn]},r.attrTest=function(n){return t.prototype.attrTest.call(this,n)&&(Math.abs(n.rotation)>this.options.threshold||this.state&Er)},e}(hs),EI=function(t){Ir(e,t);function e(i){var n;return i===void 0&&(i={}),n=t.call(this,Lr({event:"press",pointers:1,time:251,threshold:9},i))||this,n._timer=null,n._input=null,n}var r=e.prototype;return r.getTouchAction=function(){return[lI]},r.process=function(n){var o=this,s=this.options,a=n.pointers.length===s.pointers,l=n.distance<s.threshold,c=n.deltaTime>s.time;if(this._input=n,!l||!a||n.eventType&(ut|tr)&&!c)this.reset();else if(n.eventType&Vt)this.reset(),this._timer=setTimeout(function(){o.state=bi,o.tryEmit()},s.time);else if(n.eventType&ut)return bi;return ei},r.reset=function(){clearTimeout(this._timer)},r.emit=function(n){this.state===bi&&(n&&n.eventType&ut?this.manager.emit(this.options.event+"up",n):(this._input.timeStamp=Wg(),this.manager.emit(this.options.event,this._input)))},e}(ml),TI={domEvents:!1,touchAction:aI,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},T$=[[SI,{enable:!1}],[_I,{enable:!1},["rotate"]],[wI,{direction:ni}],[Gg,{direction:ni},["swipe"]],[av],[av,{event:"doubletap",taps:2},["tap"]],[EI]],z6=1,I$=2;function O$(t,e){var r=t.element;if(r.style){var i;yi(t.options.cssProps,function(n,o){i=Ou(r.style,o),e?(t.oldCssProps[i]=r.style[i],r.style[i]=n):r.style[i]=t.oldCssProps[i]||""}),e||(t.oldCssProps={})}}function H6(t,e){var r=document.createEvent("Event");r.initEvent(t,!0,!0),r.gesture=e,e.target.dispatchEvent(r)}var x$=function(){function t(r,i){var n=this;this.options=to({},TI,i||{}),this.options.inputTarget=this.options.inputTarget||r,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=r,this.input=B6(this),this.touchAction=new hI(this,this.options.touchAction),O$(this,!0),yi(this.options.recognizers,function(o){var s=n.add(new o[0](o[1]));o[2]&&s.recognizeWith(o[2]),o[3]&&s.requireFailure(o[3])},this)}var e=t.prototype;return e.set=function(i){return to(this.options,i),i.touchAction&&this.touchAction.update(),i.inputTarget&&(this.input.destroy(),this.input.target=i.inputTarget,this.input.init()),this},e.stop=function(i){this.session.stopped=i?I$:z6},e.recognize=function(i){var n=this.session;if(!n.stopped){this.touchAction.preventDefaults(i);var o,s=this.recognizers,a=n.curRecognizer;(!a||a&&a.state&bi)&&(n.curRecognizer=null,a=null);for(var l=0;l<s.length;)o=s[l],n.stopped!==I$&&(!a||o===a||o.canRecognizeWith(a))?o.recognize(i):o.reset(),!a&&o.state&(Er|us|nn)&&(n.curRecognizer=o,a=o),l++}},e.get=function(i){if(i instanceof ml)return i;for(var n=this.recognizers,o=0;o<n.length;o++)if(n[o].options.event===i)return n[o];return null},e.add=function(i){if(Wo(i,"add",this))return this;var n=this.get(i.options.event);return n&&this.remove(n),this.recognizers.push(i),i.manager=this,this.touchAction.update(),i},e.remove=function(i){if(Wo(i,"remove",this))return this;var n=this.get(i);if(i){var o=this.recognizers,s=io(o,n);s!==-1&&(o.splice(s,1),this.touchAction.update())}return this},e.on=function(i,n){if(i===void 0||n===void 0)return this;var o=this.handlers;return yi(Ba(i),function(s){o[s]=o[s]||[],o[s].push(n)}),this},e.off=function(i,n){if(i===void 0)return this;var o=this.handlers;return yi(Ba(i),function(s){n?o[s]&&o[s].splice(io(o[s],n),1):delete o[s]}),this},e.emit=function(i,n){this.options.domEvents&&H6(i,n);var o=this.handlers[i]&&this.handlers[i].slice();if(!(!o||!o.length)){n.type=i,n.preventDefault=function(){n.srcEvent.preventDefault()};for(var s=0;s<o.length;)o[s](n),s++}},e.destroy=function(){this.element&&O$(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),W6={touchstart:Vt,touchmove:go,touchend:ut,touchcancel:tr},V6="touchstart",U6="touchstart touchmove touchend touchcancel",Y6=function(t){Ir(e,t);function e(){var i,n=e.prototype;return n.evTarget=V6,n.evWin=U6,i=t.apply(this,arguments)||this,i.started=!1,i}var r=e.prototype;return r.handler=function(n){var o=W6[n.type];if(o===Vt&&(this.started=!0),!!this.started){var s=q6.call(this,n,o);o&(ut|tr)&&s[0].length-s[1].length===0&&(this.started=!1),this.callback(this.manager,o,{pointers:s[0],changedPointers:s[1],pointerType:fl,srcEvent:n})}},e}(As);function q6(t,e){var r=La(t.touches),i=La(t.changedTouches);return e&(ut|tr)&&(r=Yg(r.concat(i),"identifier",!0)),[r,i]}function II(t,e,r){var i="DEPRECATED METHOD: "+e+`
`+r+` AT 
`;return function(){var n=new Error("get-stack-trace"),o=n&&n.stack?n.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",s=window.console&&(window.console.warn||window.console.log);return s&&s.call(window.console,i,o),t.apply(this,arguments)}}var OI=II(function(t,e,r){for(var i=Object.keys(e),n=0;n<i.length;)(!r||r&&t[i[n]]===void 0)&&(t[i[n]]=e[i[n]]),n++;return t},"extend","Use `assign`."),K6=II(function(t,e){return OI(t,e,!0)},"merge","Use `assign`.");function G6(t,e,r){var i=e.prototype,n;n=t.prototype=Object.create(i),n.constructor=t,n._super=i,r&&to(n,r)}function P$(t,e){return function(){return t.apply(e,arguments)}}var X6=function(){var t=function(r,i){return i===void 0&&(i={}),new x$(r,Lr({recognizers:T$.concat()},i))};return t.VERSION="2.0.17-rc",t.DIRECTION_ALL=dI,t.DIRECTION_DOWN=ds,t.DIRECTION_LEFT=pl,t.DIRECTION_RIGHT=vl,t.DIRECTION_UP=gl,t.DIRECTION_HORIZONTAL=ni,t.DIRECTION_VERTICAL=Un,t.DIRECTION_NONE=wd,t.DIRECTION_DOWN=ds,t.INPUT_START=Vt,t.INPUT_MOVE=go,t.INPUT_END=ut,t.INPUT_CANCEL=tr,t.STATE_POSSIBLE=Yc,t.STATE_BEGAN=Er,t.STATE_CHANGED=us,t.STATE_ENDED=nn,t.STATE_RECOGNIZED=bi,t.STATE_CANCELLED=ja,t.STATE_FAILED=ei,t.Manager=x$,t.Input=As,t.TouchAction=hI,t.TouchInput=qg,t.MouseInput=Kg,t.PointerEventInput=yI,t.TouchMouseInput=bI,t.SingleTouchInput=Y6,t.Recognizer=ml,t.AttrRecognizer=hs,t.Tap=av,t.Pan=Gg,t.Swipe=wI,t.Pinch=_I,t.Rotate=SI,t.Press=EI,t.on=ga,t.off=ma,t.each=yi,t.merge=K6,t.extend=OI,t.bindFn=P$,t.assign=to,t.inherit=G6,t.bindFn=P$,t.prefixed=Ou,t.toArray=La,t.inArray=io,t.uniqueArray=Yg,t.splitStr=Ba,t.boolOrFn=xu,t.hasParent=Ug,t.addEventListeners=ga,t.removeEventListeners=ma,t.defaults=to({},TI,{preset:T$}),t}(),J6=X6;function xI(t,e){var r=typeof Eu<"u"&&jg(t)||t["@@iterator"];if(!r){if(cr(t)||(r=Z6(t))||e){r&&(t=r);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(c){throw c},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,s=!1,a;return{s:function(){r=r.call(t)},n:function(){var c=r.next();return o=c.done,c},e:function(c){s=!0,a=c},f:function(){try{!o&&r.return!=null&&r.return()}finally{if(s)throw a}}}}function Z6(t,e){var r;if(t){if(typeof t=="string")return k$(t,e);var i=Iu(r=Object.prototype.toString.call(t)).call(r,8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Lg(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return k$(t,e)}}function k$(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=t[r];return i}var PI=Eu("DELETE");function Q6(t){for(var e,r=arguments.length,i=new Array(r>1?r-1:0),n=1;n<r;n++)i[n-1]=arguments[n];return kI.apply(void 0,Tu(e=[{},t]).call(e,i))}function kI(){var t=Ed.apply(void 0,arguments);return AI(t),t}function Ed(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(e.length<2)return e[0];if(e.length>2){var i;return Ed.apply(void 0,Tu(i=[kI(e[0],e[1])]).call(i,Zt(Iu(e).call(e,2))))}var n=e[0],o=e[1];if(n instanceof Date&&o instanceof Date)return n.setTime(o.getTime()),n;var s=xI(QW(o)),a;try{for(s.s();!(a=s.n()).done;){var l=a.value;Object.prototype.propertyIsEnumerable.call(o,l)&&(o[l]===PI?delete n[l]:n[l]!==null&&o[l]!==null&&typeof n[l]=="object"&&typeof o[l]=="object"&&!cr(n[l])&&!cr(o[l])?n[l]=Ed(n[l],o[l]):n[l]=CI(o[l]))}}catch(c){s.e(c)}finally{s.f()}return n}function CI(t){return cr(t)?Cr(t).call(t,function(e){return CI(e)}):typeof t=="object"&&t!==null?t instanceof Date?new Date(t.getTime()):Ed({},t):t}function AI(t){for(var e=0,r=Hg(t);e<r.length;e++){var i=r[e];t[i]===PI?delete t[i]:typeof t[i]=="object"&&t[i]!==null&&AI(t[i])}}function eU(){var t=function(){};return{on:t,off:t,destroy:t,emit:t,get(){return{set:t}}}}var tU=typeof window<"u"?window.Hammer||J6:function(){return eU()};function vi(t){var e=this,r;this._cleanupQueue=[],this.active=!1,this._dom={container:t,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(function(){e._dom.overlay.parentNode.removeChild(e._dom.overlay)});var i=tU(this._dom.overlay);i.on("tap",xT(r=this._onTapOverlay).call(r,this)),this._cleanupQueue.push(function(){i.destroy()});var n=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];eo(n).call(n,function(o){i.on(o,function(s){s.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=function(o){rU(o.target,t)||e.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(function(){document.body.removeEventListener("click",e._onClick)})),this._escListener=function(o){("key"in o?o.key==="Escape":o.keyCode===27)&&e.deactivate()}}d6(vi.prototype);vi.current=null;vi.prototype.destroy=function(){var t,e;this.deactivate();var r=xI(N4(t=XT(e=this._cleanupQueue).call(e,0)).call(t)),i;try{for(r.s();!(i=r.n()).done;){var n=i.value;n()}}catch(o){r.e(o)}finally{r.f()}};vi.prototype.activate=function(){vi.current&&vi.current.deactivate(),vi.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};vi.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};vi.prototype._onTapOverlay=function(t){this.activate(),t.srcEvent.stopPropagation()};function rU(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}var iU=cu,nU=Ts,oU=TypeError,DI=function(t){if(iU(t))return t;throw new oU(nU(t)+" is not a constructor")},sU=ne,aU=Yt,nf=ws,lU=IT,C$=DI,cU=pr,A$=Pt,dU=po,MI=xe,Xg=aU("Reflect","construct"),uU=Object.prototype,hU=[].push,RI=MI(function(){function t(){}return!(Xg(function(){},[],t)instanceof t)}),NI=!MI(function(){Xg(function(){})}),D$=RI||NI;sU({target:"Reflect",stat:!0,forced:D$,sham:D$},{construct:function(e,r){C$(e),cU(r);var i=arguments.length<3?e:C$(arguments[2]);if(NI&&!RI)return Xg(e,r,i);if(e===i){switch(r.length){case 0:return new e;case 1:return new e(r[0]);case 2:return new e(r[0],r[1]);case 3:return new e(r[0],r[1],r[2]);case 4:return new e(r[0],r[1],r[2],r[3])}var n=[null];return nf(hU,n,r),new(nf(lU,e,n))}var o=i.prototype,s=dU(A$(o)?o:uU),a=nf(e,s,r);return A$(a)?a:s}});var fU=Ke,pU=fU.Reflect.construct,vU=pU,gU=vU,mU=gU,qc=ae(mU),yU=Ke,bU=yU.Object.getOwnPropertySymbols,$U=bU,wU=$U,_U=wU,M$=ae(_U),FI={exports:{}},SU=ne,EU=xe,TU=si,BI=uo.f,LI=_t,IU=!LI||EU(function(){BI(1)});SU({target:"Object",stat:!0,forced:IU,sham:!LI},{getOwnPropertyDescriptor:function(e,r){return BI(TU(e),r)}});var OU=Ke,jI=OU.Object,xU=FI.exports=function(e,r){return jI.getOwnPropertyDescriptor(e,r)};jI.getOwnPropertyDescriptor.sham&&(xU.sham=!0);var PU=FI.exports,kU=PU,CU=kU,AU=CU,zI=ae(AU),DU=ne,MU=_t,RU=zg,NU=si,FU=uo,BU=Os;DU({target:"Object",stat:!0,sham:!MU},{getOwnPropertyDescriptors:function(e){for(var r=NU(e),i=FU.f,n=RU(r),o={},s=0,a,l;n.length>s;)l=i(r,a=n[s++]),l!==void 0&&BU(o,a,l);return o}});var LU=Ke,jU=LU.Object.getOwnPropertyDescriptors,zU=jU,HU=zU,WU=HU,R$=ae(WU),HI={exports:{}},VU=ne,UU=_t,N$=uu.f;VU({target:"Object",stat:!0,forced:Object.defineProperties!==N$,sham:!UU},{defineProperties:N$});var YU=Ke,WI=YU.Object,qU=HI.exports=function(e,r){return WI.defineProperties(e,r)};WI.defineProperties.sham&&(qU.sham=!0);var KU=HI.exports,GU=KU,XU=GU,JU=XU,ZU=ae(JU),QU=$E,eY=ae(QU);function VI(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var tY=ZT,rY=tY,iY=rY,nY=iY,UI=nY,oY=ae(UI),sY=ne,aY=uT;sY({target:"Object",stat:!0},{setPrototypeOf:aY});var lY=Ke,cY=lY.Object.setPrototypeOf,dY=cY,uY=dY,hY=uY,fY=hY,pY=fY,vY=pY,YI=vY,lv=ae(YI),gY=OT,mY=gY,yY=mY,bY=yY,$Y=bY,qI=ae($Y);function cv(t,e){var r;return cv=lv?qI(r=lv).call(r):function(n,o){return n.__proto__=o,n},cv(t,e)}function wY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=oY(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),su(t,"prototype",{writable:!1}),e&&cv(t,e)}function _Y(t,e){if(e&&(cs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VI(t)}var SY=PV,EY=SY,TY=EY,IY=TY,KI=IY,F$=ae(KI);function Td(t){var e;return Td=lv?qI(e=F$).call(e):function(i){return i.__proto__||F$(i)},Td(t)}var GI={exports:{}},XI={exports:{}};(function(t){var e=Ng,r=_T;function i(n){"@babel/helpers - typeof";return t.exports=i=typeof e=="function"&&typeof r=="symbol"?function(o){return typeof o}:function(o){return o&&typeof e=="function"&&o.constructor===e&&o!==e.prototype?"symbol":typeof o},t.exports.__esModule=!0,t.exports.default=t.exports,i(n)}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports})(XI);var OY=XI.exports,xY=qT,PY=xY,kY=PY,CY=kY,AY=CY,B$=vt,DY=zg,MY=uo,RY=or,NY=function(t,e,r){for(var i=DY(e),n=RY.f,o=MY.f,s=0;s<i.length;s++){var a=i[s];!B$(t,a)&&!(r&&B$(r,a))&&n(t,a,o(e,a))}},FY=Pt,BY=Mi,LY=function(t,e){FY(e)&&"cause"in e&&BY(t,"cause",e.cause)},jY=Ue,JI=Error,zY=jY("".replace),HY=function(t){return String(new JI(t).stack)}("zxcasd"),ZI=/\n\s*at [^:]*:[^\n]*/,WY=ZI.test(HY),VY=function(t,e){if(WY&&typeof t=="string"&&!JI.prepareStackTrace)for(;e--;)t=zY(t,ZI,"");return t},UY=xe,YY=ho,qY=!UY(function(){var t=new Error("a");return"stack"in t?(Object.defineProperty(t,"stack",YY(1,7)),t.stack!==7):!0}),KY=Mi,GY=VY,XY=qY,L$=Error.captureStackTrace,JY=function(t,e,r,i){XY&&(L$?L$(t,e):KY(t,"stack",GY(r,i)))},ZY=_n,QY=St,e8=pr,t8=Ts,r8=CT,i8=vr,j$=pt,n8=Bg,o8=Su,z$=kT,s8=TypeError,Kc=function(t,e){this.stopped=t,this.result=e},H$=Kc.prototype,mo=function(t,e,r){var i=r&&r.that,n=!!(r&&r.AS_ENTRIES),o=!!(r&&r.IS_RECORD),s=!!(r&&r.IS_ITERATOR),a=!!(r&&r.INTERRUPTED),l=ZY(e,i),c,d,u,h,f,p,g,$=function(b){return c&&z$(c,"normal",b),new Kc(!0,b)},y=function(b){return n?(e8(b),a?l(b[0],b[1],$):l(b[0],b[1])):a?l(b,$):l(b)};if(o)c=t.iterator;else if(s)c=t;else{if(d=o8(t),!d)throw new s8(t8(t)+" is not iterable");if(r8(d)){for(u=0,h=i8(t);h>u;u++)if(f=y(t[u]),f&&j$(H$,f))return f;return new Kc(!1)}c=n8(t,d)}for(p=o?t.next:c.next;!(g=QY(p,c)).done;){try{f=y(g.value)}catch(b){z$(c,"throw",b)}if(typeof f=="object"&&f&&j$(H$,f))return f}return new Kc(!1)},a8=fo,l8=function(t,e){return t===void 0?arguments.length<2?"":e:a8(t)},c8=ne,d8=pt,u8=$u,Id=uT,h8=NY,QI=po,of=Mi,sf=ho,f8=LY,p8=JY,v8=mo,g8=l8,m8=Xe,y8=m8("toStringTag"),Od=Error,b8=[].push,fs=function(e,r){var i=d8(af,this),n;Id?n=Id(new Od,i?u8(this):af):(n=i?this:QI(af),of(n,y8,"Error")),r!==void 0&&of(n,"message",g8(r)),p8(n,fs,n.stack,1),arguments.length>2&&f8(n,arguments[2]);var o=[];return v8(e,b8,{that:o}),of(n,"errors",o),n};Id?Id(fs,Od):h8(fs,Od,{name:!0});var af=fs.prototype=QI(Od.prototype,{constructor:sf(1,fs),message:sf(1,""),name:sf(1,"AggregateError")});c8({global:!0},{AggregateError:fs});var $8=Yt,w8=xg,_8=Xe,S8=_t,W$=_8("species"),eO=function(t){var e=$8(t);S8&&e&&!e[W$]&&w8(e,W$,{configurable:!0,get:function(){return this}})},E8=pt,T8=TypeError,Jg=function(t,e){if(E8(e,t))return t;throw new T8("Incorrect invocation")},V$=pr,I8=DI,O8=_s,x8=Xe,P8=x8("species"),tO=function(t,e){var r=V$(t).constructor,i;return r===void 0||O8(i=V$(r)[P8])?e:I8(i)},k8=wn,rO=/(?:ipad|iphone|ipod).*applewebkit/i.test(k8),ur=qe,C8=ws,A8=_n,U$=et,D8=vt,iO=xe,Y$=kE,M8=dl,q$=Sg,R8=QT,N8=rO,F8=hl,dv=ur.setImmediate,K$=ur.clearImmediate,B8=ur.process,lf=ur.Dispatch,L8=ur.Function,G$=ur.MessageChannel,j8=ur.String,cf=0,ya={},X$="onreadystatechange",za,An,df,uf;iO(function(){za=ur.location});var Zg=function(t){if(D8(ya,t)){var e=ya[t];delete ya[t],e()}},hf=function(t){return function(){Zg(t)}},J$=function(t){Zg(t.data)},Z$=function(t){ur.postMessage(j8(t),za.protocol+"//"+za.host)};(!dv||!K$)&&(dv=function(e){R8(arguments.length,1);var r=U$(e)?e:L8(e),i=M8(arguments,1);return ya[++cf]=function(){C8(r,void 0,i)},An(cf),cf},K$=function(e){delete ya[e]},F8?An=function(t){B8.nextTick(hf(t))}:lf&&lf.now?An=function(t){lf.now(hf(t))}:G$&&!N8?(df=new G$,uf=df.port2,df.port1.onmessage=J$,An=A8(uf.postMessage,uf)):ur.addEventListener&&U$(ur.postMessage)&&!ur.importScripts&&za&&za.protocol!=="file:"&&!iO(Z$)?(An=Z$,ur.addEventListener("message",J$,!1)):X$ in q$("script")?An=function(t){Y$.appendChild(q$("script"))[X$]=function(){Y$.removeChild(this),Zg(t)}}:An=function(t){setTimeout(hf(t),0)});var nO={set:dv},oO=function(){this.head=null,this.tail=null};oO.prototype={add:function(t){var e={item:t,next:null},r=this.tail;r?r.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t){var e=this.head=t.next;return e===null&&(this.tail=null),t.item}}};var sO=oO,z8=wn,H8=/ipad|iphone|ipod/i.test(z8)&&typeof Pebble<"u",W8=wn,V8=/web0s(?!.*chrome)/i.test(W8),no=qe,Q$=_n,U8=uo.f,ff=nO.set,Y8=sO,q8=rO,K8=H8,G8=V8,pf=hl,ew=no.MutationObserver||no.WebKitMutationObserver,tw=no.document,rw=no.process,pc=no.Promise,iw=U8(no,"queueMicrotask"),uv=iw&&iw.value,ko,vf,gf,vc,nw;if(!uv){var gc=new Y8,mc=function(){var t,e;for(pf&&(t=rw.domain)&&t.exit();e=gc.get();)try{e()}catch(r){throw gc.head&&ko(),r}t&&t.enter()};!q8&&!pf&&!G8&&ew&&tw?(vf=!0,gf=tw.createTextNode(""),new ew(mc).observe(gf,{characterData:!0}),ko=function(){gf.data=vf=!vf}):!K8&&pc&&pc.resolve?(vc=pc.resolve(void 0),vc.constructor=pc,nw=Q$(vc.then,vc),ko=function(){nw(mc)}):pf?ko=function(){rw.nextTick(mc)}:(ff=Q$(ff,no),ko=function(){ff(mc)}),uv=function(t){gc.head||ko(),gc.add(t)}}var X8=uv,J8=function(t,e){try{arguments.length===1?console.error(t):console.error(t,e)}catch{}},Ds=function(t){try{return{error:!1,value:t()}}catch(e){return{error:!0,value:e}}},Z8=qe,Ms=Z8.Promise,aO=typeof Deno=="object"&&Deno&&typeof Deno.version=="object",Q8=aO,eq=hl,tq=!Q8&&!eq&&typeof window=="object"&&typeof document=="object",rq=qe,ba=Ms,iq=et,nq=mE,oq=SE,sq=Xe,aq=tq,lq=aO,mf=Ss,ow=ba&&ba.prototype,cq=sq("species"),sw=!1,lO=iq(rq.PromiseRejectionEvent),dq=nq("Promise",function(){var t=oq(ba),e=t!==String(ba);if(!e&&mf===66||!(ow.catch&&ow.finally))return!0;if(!mf||mf<51||!/native code/.test(t)){var r=new ba(function(o){o(1)}),i=function(o){o(function(){},function(){})},n=r.constructor={};if(n[cq]=i,sw=r.then(function(){})instanceof i,!sw)return!0}return!e&&(aq||lq)&&!lO}),yl={CONSTRUCTOR:dq,REJECTION_EVENT:lO},ai={},aw=ir,uq=TypeError,hq=function(t){var e,r;this.promise=new t(function(i,n){if(e!==void 0||r!==void 0)throw new uq("Bad Promise constructor");e=i,r=n}),this.resolve=aw(e),this.reject=aw(r)};ai.f=function(t){return new hq(t)};var fq=ne,xd=hl,pn=qe,bl=St,pq=xs,vq=vo,gq=eO,mq=ir,hv=et,yq=Pt,bq=Jg,$q=tO,cO=nO.set,Qg=X8,wq=J8,_q=Ds,Sq=sO,dO=Ps,fv=Ms,uO=yl,hO=ai,Pu="Promise",fO=uO.CONSTRUCTOR,Eq=uO.REJECTION_EVENT,yf=dO.getterFor(Pu),Tq=dO.set,Iq=fv&&fv.prototype,Vo=fv,bf=Iq,pO=pn.TypeError,pv=pn.document,em=pn.process,vv=hO.f,Oq=vv,xq=!!(pv&&pv.createEvent&&pn.dispatchEvent),vO="unhandledrejection",Pq="rejectionhandled",lw=0,gO=1,kq=2,tm=1,mO=2,yc,cw,Cq,yO=function(t){var e;return yq(t)&&hv(e=t.then)?e:!1},bO=function(t,e){var r=e.value,i=e.state===gO,n=i?t.ok:t.fail,o=t.resolve,s=t.reject,a=t.domain,l,c,d;try{n?(i||(e.rejection===mO&&Dq(e),e.rejection=tm),n===!0?l=r:(a&&a.enter(),l=n(r),a&&(a.exit(),d=!0)),l===t.promise?s(new pO("Promise-chain cycle")):(c=yO(l))?bl(c,l,o,s):o(l)):s(r)}catch(u){a&&!d&&a.exit(),s(u)}},$O=function(t,e){t.notified||(t.notified=!0,Qg(function(){for(var r=t.reactions,i;i=r.get();)bO(i,t);t.notified=!1,e&&!t.rejection&&Aq(t)}))},wO=function(t,e,r){var i,n;xq?(i=pv.createEvent("Event"),i.promise=e,i.reason=r,i.initEvent(t,!1,!0),pn.dispatchEvent(i)):i={promise:e,reason:r},!Eq&&(n=pn["on"+t])?n(i):t===vO&&wq("Unhandled promise rejection",r)},Aq=function(t){bl(cO,pn,function(){var e=t.facade,r=t.value,i=dw(t),n;if(i&&(n=_q(function(){xd?em.emit("unhandledRejection",r,e):wO(vO,e,r)}),t.rejection=xd||dw(t)?mO:tm,n.error))throw n.value})},dw=function(t){return t.rejection!==tm&&!t.parent},Dq=function(t){bl(cO,pn,function(){var e=t.facade;xd?em.emit("rejectionHandled",e):wO(Pq,e,t.value)})},Uo=function(t,e,r){return function(i){t(e,i,r)}},es=function(t,e,r){t.done||(t.done=!0,r&&(t=r),t.value=e,t.state=kq,$O(t,!0))},gv=function(t,e,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===e)throw new pO("Promise can't be resolved itself");var i=yO(e);i?Qg(function(){var n={done:!1};try{bl(i,e,Uo(gv,n,t),Uo(es,n,t))}catch(o){es(n,o,t)}}):(t.value=e,t.state=gO,$O(t,!1))}catch(n){es({done:!1},n,t)}}};fO&&(Vo=function(e){bq(this,bf),mq(e),bl(yc,this);var r=yf(this);try{e(Uo(gv,r),Uo(es,r))}catch(i){es(r,i)}},bf=Vo.prototype,yc=function(e){Tq(this,{type:Pu,done:!1,notified:!1,parent:!1,reactions:new Sq,rejection:!1,state:lw,value:void 0})},yc.prototype=pq(bf,"then",function(e,r){var i=yf(this),n=vv($q(this,Vo));return i.parent=!0,n.ok=hv(e)?e:!0,n.fail=hv(r)&&r,n.domain=xd?em.domain:void 0,i.state===lw?i.reactions.add(n):Qg(function(){bO(n,i)}),n.promise}),cw=function(){var t=new yc,e=yf(t);this.promise=t,this.resolve=Uo(gv,e),this.reject=Uo(es,e)},hO.f=vv=function(t){return t===Vo||t===Cq?new cw(t):Oq(t)});fq({global:!0,wrap:!0,forced:fO},{Promise:Vo});vq(Vo,Pu,!1,!0);gq(Pu);var Mq=Ms,Rq=MT,Nq=yl.CONSTRUCTOR,ku=Nq||!Rq(function(t){Mq.all(t).then(void 0,function(){})}),Fq=ne,Bq=St,Lq=ir,jq=ai,zq=Ds,Hq=mo,Wq=ku;Fq({target:"Promise",stat:!0,forced:Wq},{all:function(e){var r=this,i=jq.f(r),n=i.resolve,o=i.reject,s=zq(function(){var a=Lq(r.resolve),l=[],c=0,d=1;Hq(e,function(u){var h=c++,f=!1;d++,Bq(a,r,u).then(function(p){f||(f=!0,l[h]=p,--d||n(l))},o)}),--d||n(l)});return s.error&&o(s.value),i.promise}});var Vq=ne,Uq=yl.CONSTRUCTOR,uw=Ms;uw&&uw.prototype;Vq({target:"Promise",proto:!0,forced:Uq,real:!0},{catch:function(t){return this.then(void 0,t)}});var Yq=ne,qq=St,Kq=ir,Gq=ai,Xq=Ds,Jq=mo,Zq=ku;Yq({target:"Promise",stat:!0,forced:Zq},{race:function(e){var r=this,i=Gq.f(r),n=i.reject,o=Xq(function(){var s=Kq(r.resolve);Jq(e,function(a){qq(s,r,a).then(i.resolve,n)})});return o.error&&n(o.value),i.promise}});var Qq=ne,eK=St,tK=ai,rK=yl.CONSTRUCTOR;Qq({target:"Promise",stat:!0,forced:rK},{reject:function(e){var r=tK.f(this);return eK(r.reject,void 0,e),r.promise}});var iK=pr,nK=Pt,oK=ai,_O=function(t,e){if(iK(t),nK(e)&&e.constructor===t)return e;var r=oK.f(t),i=r.resolve;return i(e),r.promise},sK=ne,aK=Yt,lK=vR,cK=Ms,dK=yl.CONSTRUCTOR,uK=_O,hK=aK("Promise"),fK=!dK;sK({target:"Promise",stat:!0,forced:lK},{resolve:function(e){return uK(fK&&this===hK?cK:this,e)}});var pK=ne,vK=St,gK=ir,mK=ai,yK=Ds,bK=mo,$K=ku;pK({target:"Promise",stat:!0,forced:$K},{allSettled:function(e){var r=this,i=mK.f(r),n=i.resolve,o=i.reject,s=yK(function(){var a=gK(r.resolve),l=[],c=0,d=1;bK(e,function(u){var h=c++,f=!1;d++,vK(a,r,u).then(function(p){f||(f=!0,l[h]={status:"fulfilled",value:p},--d||n(l))},function(p){f||(f=!0,l[h]={status:"rejected",reason:p},--d||n(l))})}),--d||n(l)});return s.error&&o(s.value),i.promise}});var wK=ne,_K=St,SK=ir,EK=Yt,TK=ai,IK=Ds,OK=mo,xK=ku,hw="No one promise resolved";wK({target:"Promise",stat:!0,forced:xK},{any:function(e){var r=this,i=EK("AggregateError"),n=TK.f(r),o=n.resolve,s=n.reject,a=IK(function(){var l=SK(r.resolve),c=[],d=0,u=1,h=!1;OK(e,function(f){var p=d++,g=!1;u++,_K(l,r,f).then(function($){g||h||(h=!0,o($))},function($){g||h||(g=!0,c[p]=$,--u||s(new i(c,hw)))})}),--u||s(new i(c,hw))});return a.error&&s(a.value),n.promise}});var PK=ne,mv=Ms,kK=xe,CK=Yt,AK=et,DK=tO,fw=_O,MK=mv&&mv.prototype,RK=!!mv&&kK(function(){MK.finally.call({then:function(){}},function(){})});PK({target:"Promise",proto:!0,real:!0,forced:RK},{finally:function(t){var e=DK(this,CK("Promise")),r=AK(t);return this.then(r?function(i){return fw(e,t()).then(function(){return i})}:t,r?function(i){return fw(e,t()).then(function(){throw i})}:t)}});var NK=Ke,FK=NK.Promise,BK=FK,LK=BK,jK=ne,zK=ai;jK({target:"Promise",stat:!0},{withResolvers:function(){var e=zK.f(this);return{promise:e.promise,resolve:e.resolve,reject:e.reject}}});var HK=LK,WK=HK,VK=ne,UK=ai,YK=Ds;VK({target:"Promise",stat:!0,forced:!0},{try:function(t){var e=UK.f(this),r=YK(t);return(r.error?e.reject:e.resolve)(r.value),e.promise}});var qK=WK,KK=qK,GK=KK,XK=KT,JK=XK,ZK=JK,QK=ZK,eG=QK;(function(t){var e=OY.default,r=wE,i=Ng,n=UI,o=KI,s=AY,a=zT,l=YI,c=GK,d=eG,u=WT;function h(){t.exports=h=function(){return p},t.exports.__esModule=!0,t.exports.default=t.exports;var f,p={},g=Object.prototype,$=g.hasOwnProperty,y=r||function(V,k,B){V[k]=B.value},b=typeof i=="function"?i:{},S=b.iterator||"@@iterator",_=b.asyncIterator||"@@asyncIterator",T=b.toStringTag||"@@toStringTag";function W(V,k,B){return r(V,k,{value:B,enumerable:!0,configurable:!0,writable:!0}),V[k]}try{W({},"")}catch{W=function(B,v,m){return B[v]=m}}function Y(V,k,B,v){var m=k&&k.prototype instanceof _e?k:_e,w=n(m.prototype),O=new Bi(v||[]);return y(w,"_invoke",{value:So(V,B,O)}),w}function z(V,k,B){try{return{type:"normal",arg:V.call(k,B)}}catch(v){return{type:"throw",arg:v}}}p.wrap=Y;var C="suspendedStart",X="suspendedYield",de="executing",j="completed",ue={};function _e(){}function ye(){}function Q(){}var K={};W(K,S,function(){return this});var le=o,Ae=le&&le(le(On([])));Ae&&Ae!==g&&$.call(Ae,S)&&(K=Ae);var Ge=Q.prototype=_e.prototype=n(K);function Et(V){var k;s(k=["next","throw","return"]).call(k,function(B){W(V,B,function(v){return this._invoke(B,v)})})}function nt(V,k){function B(m,w,O,I){var x=z(V[m],V,w);if(x.type!=="throw"){var H=x.arg,N=H.value;return N&&e(N)=="object"&&$.call(N,"__await")?k.resolve(N.__await).then(function(R){B("next",R,O,I)},function(R){B("throw",R,O,I)}):k.resolve(N).then(function(R){H.value=R,O(H)},function(R){return B("throw",R,O,I)})}I(x.arg)}var v;y(this,"_invoke",{value:function(w,O){function I(){return new k(function(x,H){B(w,O,x,H)})}return v=v?v.then(I,I):I()}})}function So(V,k,B){var v=C;return function(m,w){if(v===de)throw new Error("Generator is already running");if(v===j){if(m==="throw")throw w;return{value:f,done:!0}}for(B.method=m,B.arg=w;;){var O=B.delegate;if(O){var I=Xl(O,B);if(I){if(I===ue)continue;return I}}if(B.method==="next")B.sent=B._sent=B.arg;else if(B.method==="throw"){if(v===C)throw v=j,B.arg;B.dispatchException(B.arg)}else B.method==="return"&&B.abrupt("return",B.arg);v=de;var x=z(V,k,B);if(x.type==="normal"){if(v=B.done?j:X,x.arg===ue)continue;return{value:x.arg,done:B.done}}x.type==="throw"&&(v=j,B.method="throw",B.arg=x.arg)}}}function Xl(V,k){var B=k.method,v=V.iterator[B];if(v===f)return k.delegate=null,B==="throw"&&V.iterator.return&&(k.method="return",k.arg=f,Xl(V,k),k.method==="throw")||B!=="return"&&(k.method="throw",k.arg=new TypeError("The iterator does not provide a '"+B+"' method")),ue;var m=z(v,V.iterator,k.arg);if(m.type==="throw")return k.method="throw",k.arg=m.arg,k.delegate=null,ue;var w=m.arg;return w?w.done?(k[V.resultName]=w.value,k.next=V.nextLoc,k.method!=="return"&&(k.method="next",k.arg=f),k.delegate=null,ue):w:(k.method="throw",k.arg=new TypeError("iterator result is not an object"),k.delegate=null,ue)}function th(V){var k,B={tryLoc:V[0]};1 in V&&(B.catchLoc=V[1]),2 in V&&(B.finallyLoc=V[2],B.afterLoc=V[3]),a(k=this.tryEntries).call(k,B)}function di(V){var k=V.completion||{};k.type="normal",delete k.arg,V.completion=k}function Bi(V){this.tryEntries=[{tryLoc:"root"}],s(V).call(V,th,this),this.reset(!0)}function On(V){if(V||V===""){var k=V[S];if(k)return k.call(V);if(typeof V.next=="function")return V;if(!isNaN(V.length)){var B=-1,v=function m(){for(;++B<V.length;)if($.call(V,B))return m.value=V[B],m.done=!1,m;return m.value=f,m.done=!0,m};return v.next=v}}throw new TypeError(e(V)+" is not iterable")}return ye.prototype=Q,y(Ge,"constructor",{value:Q,configurable:!0}),y(Q,"constructor",{value:ye,configurable:!0}),ye.displayName=W(Q,T,"GeneratorFunction"),p.isGeneratorFunction=function(V){var k=typeof V=="function"&&V.constructor;return!!k&&(k===ye||(k.displayName||k.name)==="GeneratorFunction")},p.mark=function(V){return l?l(V,Q):(V.__proto__=Q,W(V,T,"GeneratorFunction")),V.prototype=n(Ge),V},p.awrap=function(V){return{__await:V}},Et(nt.prototype),W(nt.prototype,_,function(){return this}),p.AsyncIterator=nt,p.async=function(V,k,B,v,m){m===void 0&&(m=c);var w=new nt(Y(V,k,B,v),m);return p.isGeneratorFunction(k)?w:w.next().then(function(O){return O.done?O.value:w.next()})},Et(Ge),W(Ge,T,"Generator"),W(Ge,S,function(){return this}),W(Ge,"toString",function(){return"[object Generator]"}),p.keys=function(V){var k=Object(V),B=[];for(var v in k)a(B).call(B,v);return d(B).call(B),function m(){for(;B.length;){var w=B.pop();if(w in k)return m.value=w,m.done=!1,m}return m.done=!0,m}},p.values=On,Bi.prototype={constructor:Bi,reset:function(k){var B;if(this.prev=0,this.next=0,this.sent=this._sent=f,this.done=!1,this.delegate=null,this.method="next",this.arg=f,s(B=this.tryEntries).call(B,di),!k)for(var v in this)v.charAt(0)==="t"&&$.call(this,v)&&!isNaN(+u(v).call(v,1))&&(this[v]=f)},stop:function(){this.done=!0;var k=this.tryEntries[0].completion;if(k.type==="throw")throw k.arg;return this.rval},dispatchException:function(k){if(this.done)throw k;var B=this;function v(H,N){return O.type="throw",O.arg=k,B.next=H,N&&(B.method="next",B.arg=f),!!N}for(var m=this.tryEntries.length-1;m>=0;--m){var w=this.tryEntries[m],O=w.completion;if(w.tryLoc==="root")return v("end");if(w.tryLoc<=this.prev){var I=$.call(w,"catchLoc"),x=$.call(w,"finallyLoc");if(I&&x){if(this.prev<w.catchLoc)return v(w.catchLoc,!0);if(this.prev<w.finallyLoc)return v(w.finallyLoc)}else if(I){if(this.prev<w.catchLoc)return v(w.catchLoc,!0)}else{if(!x)throw new Error("try statement without catch or finally");if(this.prev<w.finallyLoc)return v(w.finallyLoc)}}}},abrupt:function(k,B){for(var v=this.tryEntries.length-1;v>=0;--v){var m=this.tryEntries[v];if(m.tryLoc<=this.prev&&$.call(m,"finallyLoc")&&this.prev<m.finallyLoc){var w=m;break}}w&&(k==="break"||k==="continue")&&w.tryLoc<=B&&B<=w.finallyLoc&&(w=null);var O=w?w.completion:{};return O.type=k,O.arg=B,w?(this.method="next",this.next=w.finallyLoc,ue):this.complete(O)},complete:function(k,B){if(k.type==="throw")throw k.arg;return k.type==="break"||k.type==="continue"?this.next=k.arg:k.type==="return"?(this.rval=this.arg=k.arg,this.method="return",this.next="end"):k.type==="normal"&&B&&(this.next=B),ue},finish:function(k){for(var B=this.tryEntries.length-1;B>=0;--B){var v=this.tryEntries[B];if(v.finallyLoc===k)return this.complete(v.completion,v.afterLoc),di(v),ue}},catch:function(k){for(var B=this.tryEntries.length-1;B>=0;--B){var v=this.tryEntries[B];if(v.tryLoc===k){var m=v.completion;if(m.type==="throw"){var w=m.arg;di(v)}return w}}throw new Error("illegal catch attempt")},delegateYield:function(k,B,v){return this.delegate={iterator:On(k),resultName:B,nextLoc:v},this.method==="next"&&(this.arg=f),ue}},p}t.exports=h,t.exports.__esModule=!0,t.exports.default=t.exports})(GI);var tG=GI.exports,Gc=tG(),rG=Gc;try{regeneratorRuntime=Gc}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=Gc:Function("r","regeneratorRuntime = r")(Gc)}var Gt=ae(rG),SO={exports:{}},iG=xe,nG=iG(function(){if(typeof ArrayBuffer=="function"){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}}),oG=xe,sG=Pt,aG=$n,pw=nG,Xc=Object.isExtensible,lG=oG(function(){Xc(1)}),cG=lG||pw?function(e){return!sG(e)||pw&&aG(e)==="ArrayBuffer"?!1:Xc?Xc(e):!0}:Xc,dG=xe,uG=!dG(function(){return Object.isExtensible(Object.preventExtensions({}))}),hG=ne,fG=Ue,pG=nl,vG=Pt,rm=vt,gG=or.f,vw=ol,mG=Og,im=cG,yG=nu,bG=uG,EO=!1,Pi=yG("meta"),$G=0,nm=function(t){gG(t,Pi,{value:{objectID:"O"+$G++,weakData:{}}})},wG=function(t,e){if(!vG(t))return typeof t=="symbol"?t:(typeof t=="string"?"S":"P")+t;if(!rm(t,Pi)){if(!im(t))return"F";if(!e)return"E";nm(t)}return t[Pi].objectID},_G=function(t,e){if(!rm(t,Pi)){if(!im(t))return!0;if(!e)return!1;nm(t)}return t[Pi].weakData},SG=function(t){return bG&&EO&&im(t)&&!rm(t,Pi)&&nm(t),t},EG=function(){TG.enable=function(){},EO=!0;var t=vw.f,e=fG([].splice),r={};r[Pi]=1,t(r).length&&(vw.f=function(i){for(var n=t(i),o=0,s=n.length;o<s;o++)if(n[o]===Pi){e(n,o,1);break}return n},hG({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:mG.f}))},TG=SO.exports={enable:EG,fastKey:wG,getWeakData:_G,onFreeze:SG};pG[Pi]=!0;var TO=SO.exports,IG=ne,OG=qe,xG=TO,PG=xe,kG=Mi,CG=mo,AG=Jg,DG=et,MG=Pt,RG=_s,NG=vo,FG=or.f,BG=ks.forEach,LG=_t,IO=Ps,jG=IO.set,zG=IO.getterFor,OO=function(t,e,r){var i=t.indexOf("Map")!==-1,n=t.indexOf("Weak")!==-1,o=i?"set":"add",s=OG[t],a=s&&s.prototype,l={},c;if(!LG||!DG(s)||!(n||a.forEach&&!PG(function(){new s().entries().next()})))c=r.getConstructor(e,t,i,o),xG.enable();else{c=e(function(h,f){jG(AG(h,d),{type:t,collection:new s}),RG(f)||CG(f,h[o],{that:h,AS_ENTRIES:i})});var d=c.prototype,u=zG(t);BG(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(h){var f=h==="add"||h==="set";h in a&&!(n&&h==="clear")&&kG(d,h,function(p,g){var $=u(this).collection;if(!f&&n&&!MG(p))return h==="get"?void 0:!1;var y=$[h](p===0?0:p,g);return f?this:y})}),n||FG(d,"size",{configurable:!0,get:function(){return u(this).collection.size}})}return NG(c,t,!1,!0),l[t]=c,IG({global:!0,forced:!0},l),n||r.setStrong(c,t,i),c},HG=xs,WG=function(t,e,r){for(var i in e)r&&r.unsafe&&t[i]?t[i]=e[i]:HG(t,i,e[i],r);return t},VG=po,UG=xg,gw=WG,YG=_n,qG=Jg,KG=_s,GG=mo,XG=Dg,bc=Mg,JG=eO,Xs=_t,mw=TO.fastKey,xO=Ps,yw=xO.set,$f=xO.getterFor,PO={getConstructor:function(t,e,r,i){var n=t(function(c,d){qG(c,o),yw(c,{type:e,index:VG(null),first:void 0,last:void 0,size:0}),Xs||(c.size=0),KG(d)||GG(d,c[i],{that:c,AS_ENTRIES:r})}),o=n.prototype,s=$f(e),a=function(c,d,u){var h=s(c),f=l(c,d),p,g;return f?f.value=u:(h.last=f={index:g=mw(d,!0),key:d,value:u,previous:p=h.last,next:void 0,removed:!1},h.first||(h.first=f),p&&(p.next=f),Xs?h.size++:c.size++,g!=="F"&&(h.index[g]=f)),c},l=function(c,d){var u=s(c),h=mw(d),f;if(h!=="F")return u.index[h];for(f=u.first;f;f=f.next)if(f.key===d)return f};return gw(o,{clear:function(){for(var d=this,u=s(d),h=u.index,f=u.first;f;)f.removed=!0,f.previous&&(f.previous=f.previous.next=void 0),delete h[f.index],f=f.next;u.first=u.last=void 0,Xs?u.size=0:d.size=0},delete:function(c){var d=this,u=s(d),h=l(d,c);if(h){var f=h.next,p=h.previous;delete u.index[h.index],h.removed=!0,p&&(p.next=f),f&&(f.previous=p),u.first===h&&(u.first=f),u.last===h&&(u.last=p),Xs?u.size--:d.size--}return!!h},forEach:function(d){for(var u=s(this),h=YG(d,arguments.length>1?arguments[1]:void 0),f;f=f?f.next:u.first;)for(h(f.value,f.key,this);f&&f.removed;)f=f.previous},has:function(d){return!!l(this,d)}}),gw(o,r?{get:function(d){var u=l(this,d);return u&&u.value},set:function(d,u){return a(this,d===0?0:d,u)}}:{add:function(d){return a(this,d=d===0?0:d,d)}}),Xs&&UG(o,"size",{configurable:!0,get:function(){return s(this).size}}),n},setStrong:function(t,e,r){var i=e+" Iterator",n=$f(e),o=$f(i);XG(t,e,function(s,a){yw(this,{type:i,target:s,state:n(s),kind:a,last:void 0})},function(){for(var s=o(this),a=s.kind,l=s.last;l&&l.removed;)l=l.previous;return!s.target||!(s.last=l=l?l.next:s.state.first)?(s.target=void 0,bc(void 0,!0)):bc(a==="keys"?l.key:a==="values"?l.value:[l.key,l.value],!1)},r?"entries":"values",!r,!0),JG(e)}},ZG=OO,QG=PO;ZG("Map",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},QG);var e9=Ke,t9=e9.Map,r9=t9,i9=r9,n9=i9,kO=ae(n9),o9=ne,s9=ks.some,a9=_u,l9=a9("some");o9({target:"Array",proto:!0,forced:!l9},{some:function(e){return s9(this,e,arguments.length>1?arguments[1]:void 0)}});var c9=Nt,d9=c9("Array","some"),u9=pt,h9=d9,wf=Array.prototype,f9=function(t){var e=t.some;return t===wf||u9(wf,t)&&e===wf.some?h9:e},p9=f9,v9=p9,g9=v9,m9=ae(g9),y9=Nt,b9=y9("Array","keys"),$9=b9,w9=$9,_9=Ri,S9=vt,E9=pt,T9=w9,_f=Array.prototype,I9={DOMTokenList:!0,NodeList:!0},O9=function(t){var e=t.keys;return t===_f||E9(_f,t)&&e===_f.keys||S9(I9,_9(t))?T9:e},x9=O9,Co=ae(x9),bw=DE,P9=Math.floor,yv=function(t,e){var r=t.length,i=P9(r/2);return r<8?k9(t,e):C9(t,yv(bw(t,0,i),e),yv(bw(t,i),e),e)},k9=function(t,e){for(var r=t.length,i=1,n,o;i<r;){for(o=i,n=t[i];o&&e(t[o-1],n)>0;)t[o]=t[--o];o!==i++&&(t[o]=n)}return t},C9=function(t,e,r,i){for(var n=e.length,o=r.length,s=0,a=0;s<n||a<o;)t[s+a]=s<n&&a<o?i(e[s],r[a])<=0?e[s++]:r[a++]:s<n?e[s++]:r[a++];return t},A9=yv,D9=wn,$w=D9.match(/firefox\/(\d+)/i),M9=!!$w&&+$w[1],R9=wn,N9=/MSIE|Trident/.test(R9),F9=wn,ww=F9.match(/AppleWebKit\/(\d+)\./),B9=!!ww&&+ww[1],L9=ne,CO=Ue,j9=ir,z9=nr,_w=vr,H9=GT,Sw=fo,om=xe,W9=A9,V9=_u,Ew=M9,U9=N9,Tw=Ss,Iw=B9,Xi=[],Ow=CO(Xi.sort),Y9=CO(Xi.push),q9=om(function(){Xi.sort(void 0)}),K9=om(function(){Xi.sort(null)}),G9=V9("sort"),AO=!om(function(){if(Tw)return Tw<70;if(!(Ew&&Ew>3)){if(U9)return!0;if(Iw)return Iw<603;var t="",e,r,i,n;for(e=65;e<76;e++){switch(r=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:i=3;break;case 68:case 71:i=4;break;default:i=2}for(n=0;n<47;n++)Xi.push({k:r+n,v:i})}for(Xi.sort(function(o,s){return s.v-o.v}),n=0;n<Xi.length;n++)r=Xi[n].k.charAt(0),t.charAt(t.length-1)!==r&&(t+=r);return t!=="DGBEFHACIJK"}}),X9=q9||!K9||!G9||!AO,J9=function(t){return function(e,r){return r===void 0?-1:e===void 0?1:t!==void 0?+t(e,r)||0:Sw(e)>Sw(r)?1:-1}};L9({target:"Array",proto:!0,forced:X9},{sort:function(e){e!==void 0&&j9(e);var r=z9(this);if(AO)return e===void 0?Ow(r):Ow(r,e);var i=[],n=_w(r),o,s;for(s=0;s<n;s++)s in r&&Y9(i,r[s]);for(W9(i,J9(e)),o=_w(i),s=0;s<o;)r[s]=i[s++];for(;s<n;)H9(r,s++);return r}});var Z9=Nt,Q9=Z9("Array","sort"),e7=pt,t7=Q9,Sf=Array.prototype,r7=function(t){var e=t.sort;return t===Sf||e7(Sf,t)&&e===Sf.sort?t7:e},i7=r7,n7=i7,o7=n7,bv=ae(o7),s7=Nt,a7=s7("Array","values"),l7=a7,c7=l7,d7=Ri,u7=vt,h7=pt,f7=c7,Ef=Array.prototype,p7={DOMTokenList:!0,NodeList:!0},v7=function(t){var e=t.values;return t===Ef||h7(Ef,t)&&e===Ef.values||u7(p7,d7(t))?f7:e},g7=v7,xw=ae(g7),m7=wT,Yo=ae(m7),y7=Nt,b7=y7("Array","entries"),$7=b7,w7=$7,_7=Ri,S7=vt,E7=pt,T7=w7,Tf=Array.prototype,I7={DOMTokenList:!0,NodeList:!0},O7=function(t){var e=t.entries;return t===Tf||E7(Tf,t)&&e===Tf.entries||S7(I7,_7(t))?T7:e},x7=O7,P7=ae(x7);let $c;const k7=new Uint8Array(16);function C7(){if(!$c&&($c=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!$c))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return $c(k7)}const Tt=[];for(let t=0;t<256;++t)Tt.push((t+256).toString(16).slice(1));function A7(t,e=0){return Tt[t[e+0]]+Tt[t[e+1]]+Tt[t[e+2]]+Tt[t[e+3]]+"-"+Tt[t[e+4]]+Tt[t[e+5]]+"-"+Tt[t[e+6]]+Tt[t[e+7]]+"-"+Tt[t[e+8]]+Tt[t[e+9]]+"-"+Tt[t[e+10]]+Tt[t[e+11]]+Tt[t[e+12]]+Tt[t[e+13]]+Tt[t[e+14]]+Tt[t[e+15]]}const D7=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var Pw={randomUUID:D7};function M7(t,e,r){if(Pw.randomUUID&&!t)return Pw.randomUUID();t=t||{};const i=t.random||(t.rng||C7)();return i[6]=i[6]&15|64,i[8]=i[8]&63|128,A7(i)}function kw(t){return typeof t=="string"||typeof t=="number"}var R7=function(){function t(e){tu(this,t),rn(this,"_queue",[]),rn(this,"_timeout",null),rn(this,"_extended",null),this.delay=null,this.max=1/0,this.setOptions(e)}return wu(t,[{key:"setOptions",value:function(r){r&&typeof r.delay<"u"&&(this.delay=r.delay),r&&typeof r.max<"u"&&(this.max=r.max),this._flushIfNeeded()}},{key:"destroy",value:function(){if(this.flush(),this._extended){for(var r=this._extended.object,i=this._extended.methods,n=0;n<i.length;n++){var o=i[n];o.original?r[o.name]=o.original:delete r[o.name]}this._extended=null}}},{key:"replace",value:function(r,i){var n=this,o=r[i];if(!o)throw new Error("Method "+i+" undefined");r[i]=function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];n.queue({args:a,fn:o,context:this})}}},{key:"queue",value:function(r){typeof r=="function"?this._queue.push({fn:r}):this._queue.push(r),this._flushIfNeeded()}},{key:"_flushIfNeeded",value:function(){var r=this;this._queue.length>this.max&&this.flush(),this._timeout!=null&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&typeof this.delay=="number"&&(this._timeout=l6(function(){r.flush()},this.delay))}},{key:"flush",value:function(){var r,i;eo(r=XT(i=this._queue).call(i,0)).call(r,function(n){n.fn.apply(n.context||n.fn,n.args||[])})}}],[{key:"extend",value:function(r,i){var n=new t(i);if(r.flush!==void 0)throw new Error("Target object already has a property flush");r.flush=function(){n.flush()};var o=[{name:"flush",original:void 0}];if(i&&i.replace)for(var s=0;s<i.replace.length;s++){var a=i.replace[s];o.push({name:a,original:r[a]}),n.replace(r,a)}return n._extended={object:r,methods:o},n}}]),t}(),N7=function(){function t(){tu(this,t),rn(this,"_subscribers",{"*":[],add:[],remove:[],update:[]}),rn(this,"subscribe",t.prototype.on),rn(this,"unsubscribe",t.prototype.off)}return wu(t,[{key:"_trigger",value:function(r,i,n){var o,s;if(r==="*")throw new Error("Cannot trigger event *");eo(o=Tu(s=[]).call(s,Zt(this._subscribers[r]),Zt(this._subscribers["*"]))).call(o,function(a){a(r,i,n??null)})}},{key:"on",value:function(r,i){typeof i=="function"&&this._subscribers[r].push(i)}},{key:"off",value:function(r,i){var n;this._subscribers[r]=zo(n=this._subscribers[r]).call(n,function(o){return o!==i})}}]),t}(),F7=OO,B7=PO;F7("Set",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},B7);var L7=Ke,j7=L7.Set,z7=j7,H7=z7,W7=H7,If=ae(W7),V7=Bg,U7=V7,Y7=U7,q7=Y7,K7=q7,G7=K7,X7=G7,J7=X7,Z7=J7,Q7=Z7,Of=ae(Q7);function Gr(t,e){var r=typeof Eu<"u"&&jg(t)||t["@@iterator"];if(!r){if(cr(t)||(r=eX(t))||e){r&&(t=r);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(c){throw c},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,s=!1,a;return{s:function(){r=r.call(t)},n:function(){var c=r.next();return o=c.done,c},e:function(c){s=!0,a=c},f:function(){try{!o&&r.return!=null&&r.return()}finally{if(s)throw a}}}}function eX(t,e){var r;if(t){if(typeof t=="string")return Cw(t,e);var i=Iu(r=Object.prototype.toString.call(t)).call(r,8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Lg(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Cw(t,e)}}function Cw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=t[r];return i}var Aw=function(t){function e(r){tu(this,e),this._pairs=r}return wu(e,[{key:t,value:Gt.mark(function r(){var i,n,o,s,a;return Gt.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:i=Gr(this._pairs),c.prev=1,i.s();case 3:if((n=i.n()).done){c.next=9;break}return o=Kt(n.value,2),s=o[0],a=o[1],c.next=7,[s,a];case 7:c.next=3;break;case 9:c.next=14;break;case 11:c.prev=11,c.t0=c.catch(1),i.e(c.t0);case 14:return c.prev=14,i.f(),c.finish(14);case 17:case"end":return c.stop()}},r,this,[[1,11,14,17]])})},{key:"entries",value:Gt.mark(function r(){var i,n,o,s,a;return Gt.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:i=Gr(this._pairs),c.prev=1,i.s();case 3:if((n=i.n()).done){c.next=9;break}return o=Kt(n.value,2),s=o[0],a=o[1],c.next=7,[s,a];case 7:c.next=3;break;case 9:c.next=14;break;case 11:c.prev=11,c.t0=c.catch(1),i.e(c.t0);case 14:return c.prev=14,i.f(),c.finish(14);case 17:case"end":return c.stop()}},r,this,[[1,11,14,17]])})},{key:"keys",value:Gt.mark(function r(){var i,n,o,s;return Gt.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:i=Gr(this._pairs),l.prev=1,i.s();case 3:if((n=i.n()).done){l.next=9;break}return o=Kt(n.value,1),s=o[0],l.next=7,s;case 7:l.next=3;break;case 9:l.next=14;break;case 11:l.prev=11,l.t0=l.catch(1),i.e(l.t0);case 14:return l.prev=14,i.f(),l.finish(14);case 17:case"end":return l.stop()}},r,this,[[1,11,14,17]])})},{key:"values",value:Gt.mark(function r(){var i,n,o,s;return Gt.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:i=Gr(this._pairs),l.prev=1,i.s();case 3:if((n=i.n()).done){l.next=9;break}return o=Kt(n.value,2),s=o[1],l.next=7,s;case 7:l.next=3;break;case 9:l.next=14;break;case 11:l.prev=11,l.t0=l.catch(1),i.e(l.t0);case 14:return l.prev=14,i.f(),l.finish(14);case 17:case"end":return l.stop()}},r,this,[[1,11,14,17]])})},{key:"toIdArray",value:function(){var i;return Cr(i=Zt(this._pairs)).call(i,function(n){return n[0]})}},{key:"toItemArray",value:function(){var i;return Cr(i=Zt(this._pairs)).call(i,function(n){return n[1]})}},{key:"toEntryArray",value:function(){return Zt(this._pairs)}},{key:"toObjectMap",value:function(){var i=BV(null),n=Gr(this._pairs),o;try{for(n.s();!(o=n.n()).done;){var s=Kt(o.value,2),a=s[0],l=s[1];i[a]=l}}catch(c){n.e(c)}finally{n.f()}return i}},{key:"toMap",value:function(){return new kO(this._pairs)}},{key:"toIdSet",value:function(){return new If(this.toIdArray())}},{key:"toItemSet",value:function(){return new If(this.toItemArray())}},{key:"cache",value:function(){return new e(Zt(this._pairs))}},{key:"distinct",value:function(i){var n=new If,o=Gr(this._pairs),s;try{for(o.s();!(s=o.n()).done;){var a=Kt(s.value,2),l=a[0],c=a[1];n.add(i(c,l))}}catch(d){o.e(d)}finally{o.f()}return n}},{key:"filter",value:function(i){var n=this._pairs;return new e({[Yo](){return Gt.mark(function o(){var s,a,l,c,d;return Gt.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:s=Gr(n),h.prev=1,s.s();case 3:if((a=s.n()).done){h.next=10;break}if(l=Kt(a.value,2),c=l[0],d=l[1],!i(d,c)){h.next=8;break}return h.next=8,[c,d];case 8:h.next=3;break;case 10:h.next=15;break;case 12:h.prev=12,h.t0=h.catch(1),s.e(h.t0);case 15:return h.prev=15,s.f(),h.finish(15);case 18:case"end":return h.stop()}},o,null,[[1,12,15,18]])})()}})}},{key:"forEach",value:function(i){var n=Gr(this._pairs),o;try{for(n.s();!(o=n.n()).done;){var s=Kt(o.value,2),a=s[0],l=s[1];i(l,a)}}catch(c){n.e(c)}finally{n.f()}}},{key:"map",value:function(i){var n=this._pairs;return new e({[Yo](){return Gt.mark(function o(){var s,a,l,c,d;return Gt.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:s=Gr(n),h.prev=1,s.s();case 3:if((a=s.n()).done){h.next=9;break}return l=Kt(a.value,2),c=l[0],d=l[1],h.next=7,[c,i(d,c)];case 7:h.next=3;break;case 9:h.next=14;break;case 11:h.prev=11,h.t0=h.catch(1),s.e(h.t0);case 14:return h.prev=14,s.f(),h.finish(14);case 17:case"end":return h.stop()}},o,null,[[1,11,14,17]])})()}})}},{key:"max",value:function(i){var n=Of(this._pairs),o=n.next();if(o.done)return null;for(var s=o.value[1],a=i(o.value[1],o.value[0]);!(o=n.next()).done;){var l=Kt(o.value,2),c=l[0],d=l[1],u=i(d,c);u>a&&(a=u,s=d)}return s}},{key:"min",value:function(i){var n=Of(this._pairs),o=n.next();if(o.done)return null;for(var s=o.value[1],a=i(o.value[1],o.value[0]);!(o=n.next()).done;){var l=Kt(o.value,2),c=l[0],d=l[1],u=i(d,c);u<a&&(a=u,s=d)}return s}},{key:"reduce",value:function(i,n){var o=Gr(this._pairs),s;try{for(o.s();!(s=o.n()).done;){var a=Kt(s.value,2),l=a[0],c=a[1];n=i(n,c,l)}}catch(d){o.e(d)}finally{o.f()}return n}},{key:"sort",value:function(i){var n=this;return new e({[Yo]:function(){var o;return Of(bv(o=Zt(n._pairs)).call(o,function(s,a){var l=Kt(s,2),c=l[0],d=l[1],u=Kt(a,2),h=u[0],f=u[1];return i(d,f,c,h)}))}})}}]),e}(Yo);function Dw(t,e){var r=Hg(t);if(M$){var i=M$(t);e&&(i=zo(i).call(i,function(n){return zI(t,n).enumerable})),r.push.apply(r,i)}return r}function Mw(t){for(var e=1;e<arguments.length;e++){var r,i,n=arguments[e]!=null?arguments[e]:{};e%2?eo(r=Dw(Object(n),!0)).call(r,function(o){rn(t,o,n[o])}):R$?ZU(t,R$(n)):eo(i=Dw(Object(n))).call(i,function(o){eY(t,o,zI(n,o))})}return t}function xf(t,e){var r=typeof Eu<"u"&&jg(t)||t["@@iterator"];if(!r){if(cr(t)||(r=tX(t))||e){r&&(t=r);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(c){throw c},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,s=!1,a;return{s:function(){r=r.call(t)},n:function(){var c=r.next();return o=c.done,c},e:function(c){s=!0,a=c},f:function(){try{!o&&r.return!=null&&r.return()}finally{if(s)throw a}}}}function tX(t,e){var r;if(t){if(typeof t=="string")return Rw(t,e);var i=Iu(r=Object.prototype.toString.call(t)).call(r,8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Lg(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Rw(t,e)}}function Rw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=t[r];return i}function rX(t){var e=iX();return function(){var i=Td(t),n;if(e){var o=Td(this).constructor;n=qc(i,arguments,o)}else n=i.apply(this,arguments);return _Y(this,n)}}function iX(){if(typeof Reflect>"u"||!qc||qc.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(qc(Boolean,[],function(){})),!0}catch{return!1}}function nX(t,e){return t[e]==null&&(t[e]=M7()),t}var Pd=function(t){wY(r,t);var e=rX(r);function r(i,n){var o;return tu(this,r),o=e.call(this),rn(VI(o),"_queue",null),i&&!cr(i)&&(n=i,i=[]),o._options=n||{},o._data=new kO,o.length=0,o._idProp=o._options.fieldId||"id",i&&i.length&&o.add(i),o.setOptions(n),o}return wu(r,[{key:"idProp",get:function(){return this._idProp}},{key:"setOptions",value:function(n){n&&n.queue!==void 0&&(n.queue===!1?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=R7.extend(this,{replace:["add","update","remove"]})),n.queue&&typeof n.queue=="object"&&this._queue.setOptions(n.queue)))}},{key:"add",value:function(n,o){var s=this,a=[],l;if(cr(n)){var c=Cr(n).call(n,function(h){return h[s._idProp]});if(m9(c).call(c,function(h){return s._data.has(h)}))throw new Error("A duplicate id was found in the parameter array.");for(var d=0,u=n.length;d<u;d++)l=this._addItem(n[d]),a.push(l)}else if(n&&typeof n=="object")l=this._addItem(n),a.push(l);else throw new Error("Unknown dataType");return a.length&&this._trigger("add",{items:a},o),a}},{key:"update",value:function(n,o){var s=this,a=[],l=[],c=[],d=[],u=this._idProp,h=function(y){var b=y[u];if(b!=null&&s._data.has(b)){var S=y,_=$V({},s._data.get(b)),T=s._updateItem(S);l.push(T),d.push(S),c.push(_)}else{var W=s._addItem(y);a.push(W)}};if(cr(n))for(var f=0,p=n.length;f<p;f++)n[f]&&typeof n[f]=="object"?h(n[f]):console.warn("Ignoring input item, which is not an object at index "+f);else if(n&&typeof n=="object")h(n);else throw new Error("Unknown dataType");if(a.length&&this._trigger("add",{items:a},o),l.length){var g={items:l,oldData:c,data:d};this._trigger("update",g,o)}return Tu(a).call(a,l)}},{key:"updateOnly",value:function(n,o){var s,a=this;cr(n)||(n=[n]);var l=Cr(s=Cr(n).call(n,function(d){var u=a._data.get(d[a._idProp]);if(u==null)throw new Error("Updating non-existent items is not allowed.");return{oldData:u,update:d}})).call(s,function(d){var u=d.oldData,h=d.update,f=u[a._idProp],p=Q6(u,h);return a._data.set(f,p),{id:f,oldData:u,updatedData:p}});if(l.length){var c={items:Cr(l).call(l,function(d){return d.id}),oldData:Cr(l).call(l,function(d){return d.oldData}),data:Cr(l).call(l,function(d){return d.updatedData})};return this._trigger("update",c,o),c.items}else return[]}},{key:"get",value:function(n,o){var s=void 0,a=void 0,l=void 0;kw(n)?(s=n,l=o):cr(n)?(a=n,l=o):l=n;var c=l&&l.returnType==="Object"?"Object":"Array",d=l&&zo(l),u=[],h=void 0,f=void 0,p=void 0;if(s!=null)h=this._data.get(s),h&&d&&!d(h)&&(h=void 0);else if(a!=null)for(var g=0,$=a.length;g<$;g++)h=this._data.get(a[g]),h!=null&&(!d||d(h))&&u.push(h);else{var y;f=Zt(Co(y=this._data).call(y));for(var b=0,S=f.length;b<S;b++)p=f[b],h=this._data.get(p),h!=null&&(!d||d(h))&&u.push(h)}if(l&&l.order&&s==null&&this._sort(u,l.order),l&&l.fields){var _=l.fields;if(s!=null&&h!=null)h=this._filterFields(h,_);else for(var T=0,W=u.length;T<W;T++)u[T]=this._filterFields(u[T],_)}if(c=="Object"){for(var Y={},z=0,C=u.length;z<C;z++){var X=u[z],de=X[this._idProp];Y[de]=X}return Y}else if(s!=null){var j;return(j=h)!==null&&j!==void 0?j:null}else return u}},{key:"getIds",value:function(n){var o=this._data,s=n&&zo(n),a=n&&n.order,l=Zt(Co(o).call(o)),c=[];if(s)if(a){for(var d=[],u=0,h=l.length;u<h;u++){var f=l[u],p=this._data.get(f);p!=null&&s(p)&&d.push(p)}this._sort(d,a);for(var g=0,$=d.length;g<$;g++)c.push(d[g][this._idProp])}else for(var y=0,b=l.length;y<b;y++){var S=l[y],_=this._data.get(S);_!=null&&s(_)&&c.push(_[this._idProp])}else if(a){for(var T=[],W=0,Y=l.length;W<Y;W++){var z=l[W];T.push(o.get(z))}this._sort(T,a);for(var C=0,X=T.length;C<X;C++)c.push(T[C][this._idProp])}else for(var de=0,j=l.length;de<j;de++){var ue=l[de],_e=o.get(ue);_e!=null&&c.push(_e[this._idProp])}return c}},{key:"getDataSet",value:function(){return this}},{key:"forEach",value:function(n,o){var s=o&&zo(o),a=this._data,l=Zt(Co(a).call(a));if(o&&o.order)for(var c=this.get(o),d=0,u=c.length;d<u;d++){var h=c[d],f=h[this._idProp];n(h,f)}else for(var p=0,g=l.length;p<g;p++){var $=l[p],y=this._data.get($);y!=null&&(!s||s(y))&&n(y,$)}}},{key:"map",value:function(n,o){for(var s=o&&zo(o),a=[],l=this._data,c=Zt(Co(l).call(l)),d=0,u=c.length;d<u;d++){var h=c[d],f=this._data.get(h);f!=null&&(!s||s(f))&&a.push(n(f,h))}return o&&o.order&&this._sort(a,o.order),a}},{key:"_filterFields",value:function(n,o){var s;return n&&Nz(s=cr(o)?o:Hg(o)).call(s,function(a,l){return a[l]=n[l],a},{})}},{key:"_sort",value:function(n,o){if(typeof o=="string"){var s=o;bv(n).call(n,function(a,l){var c=a[s],d=l[s];return c>d?1:c<d?-1:0})}else if(typeof o=="function")bv(n).call(n,o);else throw new TypeError("Order must be a function or a string")}},{key:"remove",value:function(n,o){for(var s=[],a=[],l=cr(n)?n:[n],c=0,d=l.length;c<d;c++){var u=this._remove(l[c]);if(u){var h=u[this._idProp];h!=null&&(s.push(h),a.push(u))}}return s.length&&this._trigger("remove",{items:s,oldData:a},o),s}},{key:"_remove",value:function(n){var o;if(kw(n)?o=n:n&&typeof n=="object"&&(o=n[this._idProp]),o!=null&&this._data.has(o)){var s=this._data.get(o)||null;return this._data.delete(o),--this.length,s}return null}},{key:"clear",value:function(n){for(var o,s=Zt(Co(o=this._data).call(o)),a=[],l=0,c=s.length;l<c;l++)a.push(this._data.get(s[l]));return this._data.clear(),this.length=0,this._trigger("remove",{items:s,oldData:a},n),s}},{key:"max",value:function(n){var o,s=null,a=null,l=xf(xw(o=this._data).call(o)),c;try{for(l.s();!(c=l.n()).done;){var d=c.value,u=d[n];typeof u=="number"&&(a==null||u>a)&&(s=d,a=u)}}catch(h){l.e(h)}finally{l.f()}return s||null}},{key:"min",value:function(n){var o,s=null,a=null,l=xf(xw(o=this._data).call(o)),c;try{for(l.s();!(c=l.n()).done;){var d=c.value,u=d[n];typeof u=="number"&&(a==null||u<a)&&(s=d,a=u)}}catch(h){l.e(h)}finally{l.f()}return s||null}},{key:"distinct",value:function(n){for(var o=this._data,s=Zt(Co(o).call(o)),a=[],l=0,c=0,d=s.length;c<d;c++){for(var u=s[c],h=o.get(u),f=h[n],p=!1,g=0;g<l;g++)if(a[g]==f){p=!0;break}!p&&f!==void 0&&(a[l]=f,l++)}return a}},{key:"_addItem",value:function(n){var o=nX(n,this._idProp),s=o[this._idProp];if(this._data.has(s))throw new Error("Cannot add item: item with id "+s+" already exists");return this._data.set(s,o),++this.length,s}},{key:"_updateItem",value:function(n){var o=n[this._idProp];if(o==null)throw new Error("Cannot update item: item has no id (item: "+VV(n)+")");var s=this._data.get(o);if(!s)throw new Error("Cannot update item: no item with id "+o+" found");return this._data.set(o,Mw(Mw({},s),n)),o}},{key:"stream",value:function(n){if(n){var o=this._data;return new Aw({[Yo](){return Gt.mark(function a(){var l,c,d,u;return Gt.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:l=xf(n),f.prev=1,l.s();case 3:if((c=l.n()).done){f.next=11;break}if(d=c.value,u=o.get(d),u==null){f.next=9;break}return f.next=9,[d,u];case 9:f.next=3;break;case 11:f.next=16;break;case 13:f.prev=13,f.t0=f.catch(1),l.e(f.t0);case 16:return f.prev=16,l.f(),f.finish(16);case 19:case"end":return f.stop()}},a,null,[[1,13,16,19]])})()}})}else{var s;return new Aw({[Yo]:xT(s=P7(this._data)).call(s,this._data)})}}}]),r}(N7);function oX(t,e){return typeof e=="object"&&e!==null&&t===e.idProp&&typeof e.add=="function"&&typeof e.clear=="function"&&typeof e.distinct=="function"&&typeof eo(e)=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof Cr(e)=="function"&&typeof e.max=="function"&&typeof e.min=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.remove=="function"&&typeof e.setOptions=="function"&&typeof e.stream=="function"&&typeof e.update=="function"&&typeof e.updateOnly=="function"}function DO(t,e){return typeof e=="object"&&e!==null&&t===e.idProp&&typeof eo(e)=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof Cr(e)=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.stream=="function"&&oX(t,e.getDataSet())}/**
 * vis-network
 * https://visjs.github.io/vis-network/
 *
 * A dynamic, browser-based visualization library.
 *
 * @version 9.1.13
 * @date    2025-06-28T12:43:17.849Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */var Pf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function he(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var wc=function(t){return t&&t.Math===Math&&t},rt=wc(typeof globalThis=="object"&&globalThis)||wc(typeof window=="object"&&window)||wc(typeof self=="object"&&self)||wc(typeof Pf=="object"&&Pf)||function(){return this}()||Pf||Function("return this")(),Te=function(t){try{return!!t()}catch{return!0}},sX=Te,$l=!sX(function(){var t=(function(){}).bind();return typeof t!="function"||t.hasOwnProperty("prototype")}),aX=$l,MO=Function.prototype,Nw=MO.apply,Fw=MO.call,Cu=typeof Reflect=="object"&&Reflect.apply||(aX?Fw.bind(Nw):function(){return Fw.apply(Nw,arguments)}),RO=$l,NO=Function.prototype,$v=NO.call,lX=RO&&NO.bind.bind($v,$v),Ie=RO?lX:function(t){return function(){return $v.apply(t,arguments)}},FO=Ie,cX=FO({}.toString),dX=FO("".slice),Ni=function(t){return dX(cX(t),8,-1)},uX=Ni,hX=Ie,sm=function(t){if(uX(t)==="Function")return hX(t)},wv=typeof document=="object"&&document.all,fX=typeof wv>"u"&&wv!==void 0,BO={all:wv,IS_HTMLDDA:fX},LO=BO,pX=LO.all,kt=LO.IS_HTMLDDA?function(t){return typeof t=="function"||t===pX}:function(t){return typeof t=="function"},wl={},vX=Te,mt=!vX(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),gX=$l,_c=Function.prototype.call,zr=gX?_c.bind(_c):function(){return _c.apply(_c,arguments)},_l={},jO={}.propertyIsEnumerable,zO=Object.getOwnPropertyDescriptor,mX=zO&&!jO.call({1:2},1);_l.f=mX?function(e){var r=zO(this,e);return!!r&&r.enumerable}:jO;var Sl=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}},yX=Ie,bX=Te,$X=Ni,kf=Object,wX=yX("".split),Au=bX(function(){return!kf("z").propertyIsEnumerable(0)})?function(t){return $X(t)==="String"?wX(t,""):kf(t)}:kf,Rs=function(t){return t==null},_X=Rs,SX=TypeError,El=function(t){if(_X(t))throw new SX("Can't call method on "+t);return t},EX=Au,TX=El,Hr=function(t){return EX(TX(t))},Bw=kt,HO=BO,IX=HO.all,Ft=HO.IS_HTMLDDA?function(t){return typeof t=="object"?t!==null:Bw(t)||t===IX}:function(t){return typeof t=="object"?t!==null:Bw(t)},Ce={},Cf=Ce,Af=rt,OX=kt,Lw=function(t){return OX(t)?t:void 0},Wr=function(t,e){return arguments.length<2?Lw(Cf[t])||Lw(Af[t]):Cf[t]&&Cf[t][e]||Af[t]&&Af[t][e]},xX=Ie,gt=xX({}.isPrototypeOf),Tl=typeof navigator<"u"&&String(navigator.userAgent)||"",WO=rt,Df=Tl,jw=WO.process,zw=WO.Deno,Hw=jw&&jw.versions||zw&&zw.version,Ww=Hw&&Hw.v8,Ar,kd;Ww&&(Ar=Ww.split("."),kd=Ar[0]>0&&Ar[0]<4?1:+(Ar[0]+Ar[1]));!kd&&Df&&(Ar=Df.match(/Edge\/(\d+)/),(!Ar||Ar[1]>=74)&&(Ar=Df.match(/Chrome\/(\d+)/),Ar&&(kd=+Ar[1])));var Il=kd,Vw=Il,PX=Te,kX=rt,CX=kX.String,Ns=!!Object.getOwnPropertySymbols&&!PX(function(){var t=Symbol("symbol detection");return!CX(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&Vw&&Vw<41}),AX=Ns,VO=AX&&!Symbol.sham&&typeof Symbol.iterator=="symbol",DX=Wr,MX=kt,RX=gt,NX=VO,FX=Object,Ol=NX?function(t){return typeof t=="symbol"}:function(t){var e=DX("Symbol");return MX(e)&&RX(e.prototype,FX(t))},BX=String,xl=function(t){try{return BX(t)}catch{return"Object"}},LX=kt,jX=xl,zX=TypeError,Fs=function(t){if(LX(t))return t;throw new zX(jX(t)+" is not a function")},HX=Fs,WX=Rs,am=function(t,e){var r=t[e];return WX(r)?void 0:HX(r)},Mf=zr,Rf=kt,Nf=Ft,VX=TypeError,UX=function(t,e){var r,i;if(e==="string"&&Rf(r=t.toString)&&!Nf(i=Mf(r,t))||Rf(r=t.valueOf)&&!Nf(i=Mf(r,t))||e!=="string"&&Rf(r=t.toString)&&!Nf(i=Mf(r,t)))return i;throw new VX("Can't convert object to primitive value")},UO={exports:{}},Uw=rt,YX=Object.defineProperty,qX=function(t,e){try{YX(Uw,t,{value:e,configurable:!0,writable:!0})}catch{Uw[t]=e}return e},KX=rt,GX=qX,Yw="__core-js_shared__",XX=KX[Yw]||GX(Yw,{}),lm=XX,qw=lm;(UO.exports=function(t,e){return qw[t]||(qw[t]=e!==void 0?e:{})})("versions",[]).push({version:"3.33.0",mode:"pure",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"});var Bs=UO.exports,JX=El,ZX=Object,Or=function(t){return ZX(JX(t))},QX=Ie,eJ=Or,tJ=QX({}.hasOwnProperty),Ct=Object.hasOwn||function(e,r){return tJ(eJ(e),r)},rJ=Ie,iJ=0,nJ=Math.random(),oJ=rJ(1 .toString),Du=function(t){return"Symbol("+(t===void 0?"":t)+")_"+oJ(++iJ+nJ,36)},sJ=rt,aJ=Bs,Kw=Ct,lJ=Du,cJ=Ns,dJ=VO,qo=sJ.Symbol,Ff=aJ("wks"),uJ=dJ?qo.for||qo:qo&&qo.withoutSetter||lJ,dt=function(t){return Kw(Ff,t)||(Ff[t]=cJ&&Kw(qo,t)?qo[t]:uJ("Symbol."+t)),Ff[t]},hJ=zr,Gw=Ft,Xw=Ol,fJ=am,pJ=UX,vJ=dt,gJ=TypeError,mJ=vJ("toPrimitive"),yJ=function(t,e){if(!Gw(t)||Xw(t))return t;var r=fJ(t,mJ),i;if(r){if(e===void 0&&(e="default"),i=hJ(r,t,e),!Gw(i)||Xw(i))return i;throw new gJ("Can't convert object to primitive value")}return e===void 0&&(e="number"),pJ(t,e)},bJ=yJ,$J=Ol,Mu=function(t){var e=bJ(t,"string");return $J(e)?e:e+""},wJ=rt,Jw=Ft,_v=wJ.document,_J=Jw(_v)&&Jw(_v.createElement),YO=function(t){return _J?_v.createElement(t):{}},SJ=mt,EJ=Te,TJ=YO,qO=!SJ&&!EJ(function(){return Object.defineProperty(TJ("div"),"a",{get:function(){return 7}}).a!==7}),IJ=mt,OJ=zr,xJ=_l,PJ=Sl,kJ=Hr,CJ=Mu,AJ=Ct,DJ=qO,Zw=Object.getOwnPropertyDescriptor;wl.f=IJ?Zw:function(e,r){if(e=kJ(e),r=CJ(r),DJ)try{return Zw(e,r)}catch{}if(AJ(e,r))return PJ(!OJ(xJ.f,e,r),e[r])};var MJ=Te,RJ=kt,NJ=/#|\.prototype\./,Pl=function(t,e){var r=BJ[FJ(t)];return r===jJ?!0:r===LJ?!1:RJ(e)?MJ(e):!!e},FJ=Pl.normalize=function(t){return String(t).replace(NJ,".").toLowerCase()},BJ=Pl.data={},LJ=Pl.NATIVE="N",jJ=Pl.POLYFILL="P",zJ=Pl,Qw=sm,HJ=Fs,WJ=$l,VJ=Qw(Qw.bind),Ru=function(t,e){return HJ(t),e===void 0?t:WJ?VJ(t,e):function(){return t.apply(e,arguments)}},gr={},UJ=mt,YJ=Te,KO=UJ&&YJ(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),qJ=Ft,KJ=String,GJ=TypeError,Fi=function(t){if(qJ(t))return t;throw new GJ(KJ(t)+" is not an object")},XJ=mt,JJ=qO,ZJ=KO,Sc=Fi,e1=Mu,QJ=TypeError,Bf=Object.defineProperty,eZ=Object.getOwnPropertyDescriptor,Lf="enumerable",jf="configurable",zf="writable";gr.f=XJ?ZJ?function(e,r,i){if(Sc(e),r=e1(r),Sc(i),typeof e=="function"&&r==="prototype"&&"value"in i&&zf in i&&!i[zf]){var n=eZ(e,r);n&&n[zf]&&(e[r]=i.value,i={configurable:jf in i?i[jf]:n[jf],enumerable:Lf in i?i[Lf]:n[Lf],writable:!1})}return Bf(e,r,i)}:Bf:function(e,r,i){if(Sc(e),r=e1(r),Sc(i),JJ)try{return Bf(e,r,i)}catch{}if("get"in i||"set"in i)throw new QJ("Accessors not supported");return"value"in i&&(e[r]=i.value),e};var tZ=mt,rZ=gr,iZ=Sl,Ls=tZ?function(t,e,r){return rZ.f(t,e,iZ(1,r))}:function(t,e,r){return t[e]=r,t},Ec=rt,nZ=Cu,oZ=sm,sZ=kt,aZ=wl.f,lZ=zJ,Ao=Ce,cZ=Ru,Do=Ls,t1=Ct,dZ=function(t){var e=function(r,i,n){if(this instanceof e){switch(arguments.length){case 0:return new t;case 1:return new t(r);case 2:return new t(r,i)}return new t(r,i,n)}return nZ(t,this,arguments)};return e.prototype=t.prototype,e},ce=function(t,e){var r=t.target,i=t.global,n=t.stat,o=t.proto,s=i?Ec:n?Ec[r]:(Ec[r]||{}).prototype,a=i?Ao:Ao[r]||Do(Ao,r,{})[r],l=a.prototype,c,d,u,h,f,p,g,$,y;for(h in e)c=lZ(i?h:r+(n?".":"#")+h,t.forced),d=!c&&s&&t1(s,h),p=a[h],d&&(t.dontCallGetSet?(y=aZ(s,h),g=y&&y.value):g=s[h]),f=d&&g?g:e[h],!(d&&typeof p==typeof f)&&(t.bind&&d?$=cZ(f,Ec):t.wrap&&d?$=dZ(f):o&&sZ(f)?$=oZ(f):$=f,(t.sham||f&&f.sham||p&&p.sham)&&Do($,"sham",!0),Do(a,h,$),o&&(u=r+"Prototype",t1(Ao,u)||Do(Ao,u,{}),Do(Ao[u],h,f),t.real&&l&&(c||!l[h])&&Do(l,h,f)))},uZ=Math.ceil,hZ=Math.floor,fZ=Math.trunc||function(e){var r=+e;return(r>0?hZ:uZ)(r)},pZ=fZ,Nu=function(t){var e=+t;return e!==e||e===0?0:pZ(e)},vZ=Nu,gZ=Math.max,mZ=Math.min,kl=function(t,e){var r=vZ(t);return r<0?gZ(r+e,0):mZ(r,e)},yZ=Nu,bZ=Math.min,$Z=function(t){return t>0?bZ(yZ(t),9007199254740991):0},wZ=$Z,li=function(t){return wZ(t.length)},_Z=Hr,SZ=kl,EZ=li,r1=function(t){return function(e,r,i){var n=_Z(e),o=EZ(n),s=SZ(i,o),a;if(t&&r!==r){for(;o>s;)if(a=n[s++],a!==a)return!0}else for(;o>s;s++)if((t||s in n)&&n[s]===r)return t||s||0;return!t&&-1}},cm={includes:r1(!0),indexOf:r1(!1)},Cl={},TZ=Ie,Hf=Ct,IZ=Hr,OZ=cm.indexOf,xZ=Cl,i1=TZ([].push),GO=function(t,e){var r=IZ(t),i=0,n=[],o;for(o in r)!Hf(xZ,o)&&Hf(r,o)&&i1(n,o);for(;e.length>i;)Hf(r,o=e[i++])&&(~OZ(n,o)||i1(n,o));return n},dm=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],PZ=GO,kZ=dm,Al=Object.keys||function(e){return PZ(e,kZ)},Dl={};Dl.f=Object.getOwnPropertySymbols;var n1=mt,CZ=Ie,AZ=zr,DZ=Te,Wf=Al,MZ=Dl,RZ=_l,NZ=Or,FZ=Au,Mo=Object.assign,o1=Object.defineProperty,BZ=CZ([].concat),LZ=!Mo||DZ(function(){if(n1&&Mo({b:1},Mo(o1({},"a",{enumerable:!0,get:function(){o1(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var t={},e={},r=Symbol("assign detection"),i="abcdefghijklmnopqrst";return t[r]=7,i.split("").forEach(function(n){e[n]=n}),Mo({},t)[r]!==7||Wf(Mo({},e)).join("")!==i})?function(e,r){for(var i=NZ(e),n=arguments.length,o=1,s=MZ.f,a=RZ.f;n>o;)for(var l=FZ(arguments[o++]),c=s?BZ(Wf(l),s(l)):Wf(l),d=c.length,u=0,h;d>u;)h=c[u++],(!n1||AZ(a,l,h))&&(i[h]=l[h]);return i}:Mo,jZ=ce,s1=LZ;jZ({target:"Object",stat:!0,forced:Object.assign!==s1},{assign:s1});var zZ=Ce,HZ=zZ.Object.assign,WZ=HZ,VZ=WZ,UZ=VZ,ht=he(UZ),YZ=Ie,Fu=YZ([].slice),XO=Ie,qZ=Fs,KZ=Ft,GZ=Ct,a1=Fu,XZ=$l,JO=Function,JZ=XO([].concat),ZZ=XO([].join),Vf={},QZ=function(t,e,r){if(!GZ(Vf,e)){for(var i=[],n=0;n<e;n++)i[n]="a["+n+"]";Vf[e]=JO("C,a","return new C("+ZZ(i,",")+")")}return Vf[e](t,r)},eQ=XZ?JO.bind:function(e){var r=qZ(this),i=r.prototype,n=a1(arguments,1),o=function(){var a=JZ(n,a1(arguments));return this instanceof o?QZ(r,a.length,a):r.apply(e,a)};return KZ(i)&&(o.prototype=i),o},tQ=ce,l1=eQ;tQ({target:"Function",proto:!0,forced:Function.bind!==l1},{bind:l1});var rQ=Ce,At=function(t){return rQ[t+"Prototype"]},iQ=At,nQ=iQ("Function").bind,oQ=gt,sQ=nQ,Uf=Function.prototype,aQ=function(t){var e=t.bind;return t===Uf||oQ(Uf,t)&&e===Uf.bind?sQ:e},lQ=aQ,cQ=lQ,dQ=cQ,M=he(dQ);function um(t,e,r,i){t.beginPath(),t.arc(e,r,i,0,2*Math.PI,!1),t.closePath()}function uQ(t,e,r,i){t.beginPath(),t.rect(e-i,r-i,i*2,i*2),t.closePath()}function hQ(t,e,r,i){t.beginPath(),i*=1.15,r+=.275*i;const n=i*2,o=n/2,s=Math.sqrt(3)/6*n,a=Math.sqrt(n*n-o*o);t.moveTo(e,r-(a-s)),t.lineTo(e+o,r+s),t.lineTo(e-o,r+s),t.lineTo(e,r-(a-s)),t.closePath()}function fQ(t,e,r,i){t.beginPath(),i*=1.15,r-=.275*i;const n=i*2,o=n/2,s=Math.sqrt(3)/6*n,a=Math.sqrt(n*n-o*o);t.moveTo(e,r+(a-s)),t.lineTo(e+o,r-s),t.lineTo(e-o,r-s),t.lineTo(e,r+(a-s)),t.closePath()}function pQ(t,e,r,i){t.beginPath(),i*=.82,r+=.1*i;for(let n=0;n<10;n++){const o=n%2===0?i*1.3:i*.5;t.lineTo(e+o*Math.sin(n*2*Math.PI/10),r-o*Math.cos(n*2*Math.PI/10))}t.closePath()}function vQ(t,e,r,i){t.beginPath(),t.lineTo(e,r+i),t.lineTo(e+i,r),t.lineTo(e,r-i),t.lineTo(e-i,r),t.closePath()}function ZO(t,e,r,i,n,o){const s=Math.PI/180;i-2*o<0&&(o=i/2),n-2*o<0&&(o=n/2),t.beginPath(),t.moveTo(e+o,r),t.lineTo(e+i-o,r),t.arc(e+i-o,r+o,o,s*270,s*360,!1),t.lineTo(e+i,r+n-o),t.arc(e+i-o,r+n-o,o,0,s*90,!1),t.lineTo(e+o,r+n),t.arc(e+o,r+n-o,o,s*90,s*180,!1),t.lineTo(e,r+o),t.arc(e+o,r+o,o,s*180,s*270,!1),t.closePath()}function Sv(t,e,r,i,n){const o=.5522848,s=i/2*o,a=n/2*o,l=e+i,c=r+n,d=e+i/2,u=r+n/2;t.beginPath(),t.moveTo(e,u),t.bezierCurveTo(e,u-a,d-s,r,d,r),t.bezierCurveTo(d+s,r,l,u-a,l,u),t.bezierCurveTo(l,u+a,d+s,c,d,c),t.bezierCurveTo(d-s,c,e,u+a,e,u),t.closePath()}function QO(t,e,r,i,n){const o=.3333333333333333,s=i,a=n*o,l=.5522848,c=s/2*l,d=a/2*l,u=e+s,h=r+a,f=e+s/2,p=r+a/2,g=r+(n-a/2),$=r+n;t.beginPath(),t.moveTo(u,p),t.bezierCurveTo(u,p+d,f+c,h,f,h),t.bezierCurveTo(f-c,h,e,p+d,e,p),t.bezierCurveTo(e,p-d,f-c,r,f,r),t.bezierCurveTo(f+c,r,u,p-d,u,p),t.lineTo(u,g),t.bezierCurveTo(u,g+d,f+c,$,f,$),t.bezierCurveTo(f-c,$,e,g+d,e,g),t.lineTo(e,p)}function ex(t,e,r,i,n,o){t.beginPath(),t.moveTo(e,r);const s=o.length,a=i-e,l=n-r,c=l/a;let d=Math.sqrt(a*a+l*l),u=0,h=!0,f=0,p=+o[0];for(;d>=.1;)p=+o[u++%s],p>d&&(p=d),f=Math.sqrt(p*p/(1+c*c)),f=a<0?-f:f,e+=f,r+=c*f,h===!0?t.lineTo(e,r):t.moveTo(e,r),d-=p,h=!h}function gQ(t,e,r,i){t.beginPath();const n=6,o=Math.PI*2/n;t.moveTo(e+i,r);for(let s=1;s<n;s++)t.lineTo(e+i*Math.cos(o*s),r+i*Math.sin(o*s));t.closePath()}const c1={circle:um,dashedLine:ex,database:QO,diamond:vQ,ellipse:Sv,ellipse_vis:Sv,hexagon:gQ,roundRect:ZO,square:uQ,star:pQ,triangle:hQ,triangleDown:fQ};function mQ(t){return Object.prototype.hasOwnProperty.call(c1,t)?c1[t]:function(e){for(var r=arguments.length,i=new Array(r>1?r-1:0),n=1;n<r;n++)i[n-1]=arguments[n];CanvasRenderingContext2D.prototype[t].call(e,i)}}var tx={exports:{}};(function(t){t.exports=e;function e(i){if(i)return r(i)}function r(i){for(var n in e.prototype)i[n]=e.prototype[n];return i}e.prototype.on=e.prototype.addEventListener=function(i,n){return this._callbacks=this._callbacks||{},(this._callbacks["$"+i]=this._callbacks["$"+i]||[]).push(n),this},e.prototype.once=function(i,n){function o(){this.off(i,o),n.apply(this,arguments)}return o.fn=n,this.on(i,o),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(i,n){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var o=this._callbacks["$"+i];if(!o)return this;if(arguments.length==1)return delete this._callbacks["$"+i],this;for(var s,a=0;a<o.length;a++)if(s=o[a],s===n||s.fn===n){o.splice(a,1);break}return o.length===0&&delete this._callbacks["$"+i],this},e.prototype.emit=function(i){this._callbacks=this._callbacks||{};for(var n=new Array(arguments.length-1),o=this._callbacks["$"+i],s=1;s<arguments.length;s++)n[s-1]=arguments[s];if(o){o=o.slice(0);for(var s=0,a=o.length;s<a;++s)o[s].apply(this,n)}return this},e.prototype.listeners=function(i){return this._callbacks=this._callbacks||{},this._callbacks["$"+i]||[]},e.prototype.hasListeners=function(i){return!!this.listeners(i).length}})(tx);var yQ=tx.exports,rx=he(yQ),bQ=Ni,yo=Array.isArray||function(e){return bQ(e)==="Array"},$Q=TypeError,wQ=9007199254740991,ix=function(t){if(t>wQ)throw $Q("Maximum allowed index exceeded");return t},_Q=Mu,SQ=gr,EQ=Sl,Ml=function(t,e,r){var i=_Q(e);i in t?SQ.f(t,i,EQ(0,r)):t[i]=r},TQ=dt,IQ=TQ("toStringTag"),nx={};nx[IQ]="z";var hm=String(nx)==="[object z]",OQ=hm,xQ=kt,Jc=Ni,PQ=dt,kQ=PQ("toStringTag"),CQ=Object,AQ=Jc(function(){return arguments}())==="Arguments",DQ=function(t,e){try{return t[e]}catch{}},bo=OQ?Jc:function(t){var e,r,i;return t===void 0?"Undefined":t===null?"Null":typeof(r=DQ(e=CQ(t),kQ))=="string"?r:AQ?Jc(e):(i=Jc(e))==="Object"&&xQ(e.callee)?"Arguments":i},MQ=Ie,RQ=kt,Ev=lm,NQ=MQ(Function.toString);RQ(Ev.inspectSource)||(Ev.inspectSource=function(t){return NQ(t)});var FQ=Ev.inspectSource,BQ=Ie,LQ=Te,ox=kt,jQ=bo,zQ=Wr,HQ=FQ,sx=function(){},WQ=[],ax=zQ("Reflect","construct"),fm=/^\s*(?:class|function)\b/,VQ=BQ(fm.exec),UQ=!fm.test(sx),Js=function(e){if(!ox(e))return!1;try{return ax(sx,WQ,e),!0}catch{return!1}},lx=function(e){if(!ox(e))return!1;switch(jQ(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return UQ||!!VQ(fm,HQ(e))}catch{return!0}};lx.sham=!0;var cx=!ax||LQ(function(){var t;return Js(Js.call)||!Js(Object)||!Js(function(){t=!0})||t})?lx:Js,d1=yo,YQ=cx,qQ=Ft,KQ=dt,GQ=KQ("species"),u1=Array,XQ=function(t){var e;return d1(t)&&(e=t.constructor,YQ(e)&&(e===u1||d1(e.prototype))?e=void 0:qQ(e)&&(e=e[GQ],e===null&&(e=void 0))),e===void 0?u1:e},JQ=XQ,pm=function(t,e){return new(JQ(t))(e===0?0:e)},ZQ=Te,QQ=dt,eee=Il,tee=QQ("species"),Rl=function(t){return eee>=51||!ZQ(function(){var e=[],r=e.constructor={};return r[tee]=function(){return{foo:1}},e[t](Boolean).foo!==1})},ree=ce,iee=Te,nee=yo,oee=Ft,see=Or,aee=li,h1=ix,f1=Ml,lee=pm,cee=Rl,dee=dt,uee=Il,dx=dee("isConcatSpreadable"),hee=uee>=51||!iee(function(){var t=[];return t[dx]=!1,t.concat()[0]!==t}),fee=function(t){if(!oee(t))return!1;var e=t[dx];return e!==void 0?!!e:nee(t)},pee=!hee||!cee("concat");ree({target:"Array",proto:!0,forced:pee},{concat:function(e){var r=see(this),i=lee(r,0),n=0,o,s,a,l,c;for(o=-1,a=arguments.length;o<a;o++)if(c=o===-1?r:arguments[o],fee(c))for(l=aee(c),h1(n+l),s=0;s<l;s++,n++)s in c&&f1(i,n,c[s]);else h1(n+1),f1(i,n++,c);return i.length=n,i}});var vee=bo,gee=String,ci=function(t){if(vee(t)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return gee(t)},Bu={},mee=mt,yee=KO,bee=gr,$ee=Fi,wee=Hr,_ee=Al;Bu.f=mee&&!yee?Object.defineProperties:function(e,r){$ee(e);for(var i=wee(r),n=_ee(r),o=n.length,s=0,a;o>s;)bee.f(e,a=n[s++],i[a]);return e};var See=Wr,Eee=See("document","documentElement"),Tee=Bs,Iee=Du,p1=Tee("keys"),Lu=function(t){return p1[t]||(p1[t]=Iee(t))},Oee=Fi,xee=Bu,v1=dm,Pee=Cl,kee=Eee,Cee=YO,Aee=Lu,g1=">",m1="<",Tv="prototype",Iv="script",ux=Aee("IE_PROTO"),Yf=function(){},hx=function(t){return m1+Iv+g1+t+m1+"/"+Iv+g1},y1=function(t){t.write(hx("")),t.close();var e=t.parentWindow.Object;return t=null,e},Dee=function(){var t=Cee("iframe"),e="java"+Iv+":",r;return t.style.display="none",kee.appendChild(t),t.src=String(e),r=t.contentWindow.document,r.open(),r.write(hx("document.F=Object")),r.close(),r.F},Tc,Zc=function(){try{Tc=new ActiveXObject("htmlfile")}catch{}Zc=typeof document<"u"?document.domain&&Tc?y1(Tc):Dee():y1(Tc);for(var t=v1.length;t--;)delete Zc[Tv][v1[t]];return Zc()};Pee[ux]=!0;var Nl=Object.create||function(e,r){var i;return e!==null?(Yf[Tv]=Oee(e),i=new Yf,Yf[Tv]=null,i[ux]=e):i=Zc(),r===void 0?i:xee.f(i,r)},Fl={},Mee=GO,Ree=dm,Nee=Ree.concat("length","prototype");Fl.f=Object.getOwnPropertyNames||function(e){return Mee(e,Nee)};var ju={},b1=kl,Fee=li,Bee=Ml,Lee=Array,jee=Math.max,fx=function(t,e,r){for(var i=Fee(t),n=b1(e,i),o=b1(r===void 0?i:r,i),s=Lee(jee(o-n,0)),a=0;n<o;n++,a++)Bee(s,a,t[n]);return s.length=a,s},zee=Ni,Hee=Hr,px=Fl.f,Wee=fx,vx=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Vee=function(t){try{return px(t)}catch{return Wee(vx)}};ju.f=function(e){return vx&&zee(e)==="Window"?Vee(e):px(Hee(e))};var Uee=Ls,Bl=function(t,e,r,i){return i&&i.enumerable?t[e]=r:Uee(t,e,r),t},Yee=gr,vm=function(t,e,r){return Yee.f(t,e,r)},Ll={},qee=dt;Ll.f=qee;var $1=Ce,Kee=Ct,Gee=Ll,Xee=gr.f,it=function(t){var e=$1.Symbol||($1.Symbol={});Kee(e,t)||Xee(e,t,{value:Gee.f(t)})},Jee=zr,Zee=Wr,Qee=dt,ete=Bl,gx=function(){var t=Zee("Symbol"),e=t&&t.prototype,r=e&&e.valueOf,i=Qee("toPrimitive");e&&!e[i]&&ete(e,i,function(n){return Jee(r,this)},{})},tte=hm,rte=bo,ite=tte?{}.toString:function(){return"[object "+rte(this)+"]"},nte=hm,ote=gr.f,ste=Ls,ate=Ct,lte=ite,cte=dt,w1=cte("toStringTag"),js=function(t,e,r,i){if(t){var n=r?t:t.prototype;ate(n,w1)||ote(n,w1,{configurable:!0,value:e}),i&&!nte&&ste(n,"toString",lte)}},dte=rt,ute=kt,_1=dte.WeakMap,mx=ute(_1)&&/native code/.test(String(_1)),hte=mx,yx=rt,fte=Ft,pte=Ls,qf=Ct,Kf=lm,vte=Lu,gte=Cl,S1="Object already initialized",Ov=yx.TypeError,mte=yx.WeakMap,Cd,Ha,Ad,yte=function(t){return Ad(t)?Ha(t):Cd(t,{})},bte=function(t){return function(e){var r;if(!fte(e)||(r=Ha(e)).type!==t)throw new Ov("Incompatible receiver, "+t+" required");return r}};if(hte||Kf.state){var Xr=Kf.state||(Kf.state=new mte);Xr.get=Xr.get,Xr.has=Xr.has,Xr.set=Xr.set,Cd=function(t,e){if(Xr.has(t))throw new Ov(S1);return e.facade=t,Xr.set(t,e),e},Ha=function(t){return Xr.get(t)||{}},Ad=function(t){return Xr.has(t)}}else{var Ro=vte("state");gte[Ro]=!0,Cd=function(t,e){if(qf(t,Ro))throw new Ov(S1);return e.facade=t,pte(t,Ro,e),e},Ha=function(t){return qf(t,Ro)?t[Ro]:{}},Ad=function(t){return qf(t,Ro)}}var $o={set:Cd,get:Ha,has:Ad,enforce:yte,getterFor:bte},$te=Ru,wte=Ie,_te=Au,Ste=Or,Ete=li,Tte=pm,E1=wte([].push),Dn=function(t){var e=t===1,r=t===2,i=t===3,n=t===4,o=t===6,s=t===7,a=t===5||o;return function(l,c,d,u){for(var h=Ste(l),f=_te(h),p=$te(c,d),g=Ete(f),$=0,y=u||Tte,b=e?y(l,g):r||s?y(l,0):void 0,S,_;g>$;$++)if((a||$ in f)&&(S=f[$],_=p(S,$,h),t))if(e)b[$]=_;else if(_)switch(t){case 3:return!0;case 5:return S;case 6:return $;case 2:E1(b,S)}else switch(t){case 4:return!1;case 7:E1(b,S)}return o?-1:i||n?n:b}},En={forEach:Dn(0),map:Dn(1),filter:Dn(2),some:Dn(3),every:Dn(4),find:Dn(5),findIndex:Dn(6)},zu=ce,Hu=rt,gm=zr,Ite=Ie,ps=mt,vs=Ns,Ote=Te,$t=Ct,xte=gt,xv=Fi,Wu=Hr,mm=Mu,Pte=ci,Pv=Sl,Wa=Nl,bx=Al,kte=Fl,$x=ju,Cte=Dl,wx=wl,_x=gr,Ate=Bu,Sx=_l,T1=Bl,Dte=vm,ym=Bs,Mte=Lu,Ex=Cl,I1=Du,Rte=dt,Nte=Ll,Fte=it,Bte=gx,Lte=js,Tx=$o,Vu=En.forEach,Qt=Mte("hidden"),Uu="Symbol",Va="prototype",jte=Tx.set,O1=Tx.getterFor(Uu),Rr=Object[Va],Yn=Hu.Symbol,na=Yn&&Yn[Va],zte=Hu.RangeError,Hte=Hu.TypeError,Gf=Hu.QObject,Ix=wx.f,qn=_x.f,Ox=$x.f,Wte=Sx.f,xx=Ite([].push),ki=ym("symbols"),jl=ym("op-symbols"),Vte=ym("wks"),kv=!Gf||!Gf[Va]||!Gf[Va].findChild,Px=function(t,e,r){var i=Ix(Rr,e);i&&delete Rr[e],qn(t,e,r),i&&t!==Rr&&qn(Rr,e,i)},Cv=ps&&Ote(function(){return Wa(qn({},"a",{get:function(){return qn(this,"a",{value:7}).a}})).a!==7})?Px:qn,Xf=function(t,e){var r=ki[t]=Wa(na);return jte(r,{type:Uu,tag:t,description:e}),ps||(r.description=e),r},Yu=function(e,r,i){e===Rr&&Yu(jl,r,i),xv(e);var n=mm(r);return xv(i),$t(ki,n)?(i.enumerable?($t(e,Qt)&&e[Qt][n]&&(e[Qt][n]=!1),i=Wa(i,{enumerable:Pv(0,!1)})):($t(e,Qt)||qn(e,Qt,Pv(1,{})),e[Qt][n]=!0),Cv(e,n,i)):qn(e,n,i)},bm=function(e,r){xv(e);var i=Wu(r),n=bx(i).concat(Dx(i));return Vu(n,function(o){(!ps||gm(kx,i,o))&&Yu(e,o,i[o])}),e},Ute=function(e,r){return r===void 0?Wa(e):bm(Wa(e),r)},kx=function(e){var r=mm(e),i=gm(Wte,this,r);return this===Rr&&$t(ki,r)&&!$t(jl,r)?!1:i||!$t(this,r)||!$t(ki,r)||$t(this,Qt)&&this[Qt][r]?i:!0},Cx=function(e,r){var i=Wu(e),n=mm(r);if(!(i===Rr&&$t(ki,n)&&!$t(jl,n))){var o=Ix(i,n);return o&&$t(ki,n)&&!($t(i,Qt)&&i[Qt][n])&&(o.enumerable=!0),o}},Ax=function(e){var r=Ox(Wu(e)),i=[];return Vu(r,function(n){!$t(ki,n)&&!$t(Ex,n)&&xx(i,n)}),i},Dx=function(t){var e=t===Rr,r=Ox(e?jl:Wu(t)),i=[];return Vu(r,function(n){$t(ki,n)&&(!e||$t(Rr,n))&&xx(i,ki[n])}),i};vs||(Yn=function(){if(xte(na,this))throw new Hte("Symbol is not a constructor");var e=!arguments.length||arguments[0]===void 0?void 0:Pte(arguments[0]),r=I1(e),i=function(n){this===Rr&&gm(i,jl,n),$t(this,Qt)&&$t(this[Qt],r)&&(this[Qt][r]=!1);var o=Pv(1,n);try{Cv(this,r,o)}catch(s){if(!(s instanceof zte))throw s;Px(this,r,o)}};return ps&&kv&&Cv(Rr,r,{configurable:!0,set:i}),Xf(r,e)},na=Yn[Va],T1(na,"toString",function(){return O1(this).tag}),T1(Yn,"withoutSetter",function(t){return Xf(I1(t),t)}),Sx.f=kx,_x.f=Yu,Ate.f=bm,wx.f=Cx,kte.f=$x.f=Ax,Cte.f=Dx,Nte.f=function(t){return Xf(Rte(t),t)},ps&&Dte(na,"description",{configurable:!0,get:function(){return O1(this).description}}));zu({global:!0,wrap:!0,forced:!vs,sham:!vs},{Symbol:Yn});Vu(bx(Vte),function(t){Fte(t)});zu({target:Uu,stat:!0,forced:!vs},{useSetter:function(){kv=!0},useSimple:function(){kv=!1}});zu({target:"Object",stat:!0,forced:!vs,sham:!ps},{create:Ute,defineProperty:Yu,defineProperties:bm,getOwnPropertyDescriptor:Cx});zu({target:"Object",stat:!0,forced:!vs},{getOwnPropertyNames:Ax});Bte();Lte(Yn,Uu);Ex[Qt]=!0;var Yte=Ns,Mx=Yte&&!!Symbol.for&&!!Symbol.keyFor,qte=ce,Kte=Wr,Gte=Ct,Xte=ci,Rx=Bs,Jte=Mx,Jf=Rx("string-to-symbol-registry"),Zte=Rx("symbol-to-string-registry");qte({target:"Symbol",stat:!0,forced:!Jte},{for:function(t){var e=Xte(t);if(Gte(Jf,e))return Jf[e];var r=Kte("Symbol")(e);return Jf[e]=r,Zte[r]=e,r}});var Qte=ce,ere=Ct,tre=Ol,rre=xl,ire=Bs,nre=Mx,x1=ire("symbol-to-string-registry");Qte({target:"Symbol",stat:!0,forced:!nre},{keyFor:function(e){if(!tre(e))throw new TypeError(rre(e)+" is not a symbol");if(ere(x1,e))return x1[e]}});var ore=Ie,P1=yo,sre=kt,k1=Ni,are=ci,C1=ore([].push),lre=function(t){if(sre(t))return t;if(P1(t)){for(var e=t.length,r=[],i=0;i<e;i++){var n=t[i];typeof n=="string"?C1(r,n):(typeof n=="number"||k1(n)==="Number"||k1(n)==="String")&&C1(r,are(n))}var o=r.length,s=!0;return function(a,l){if(s)return s=!1,l;if(P1(this))return l;for(var c=0;c<o;c++)if(r[c]===a)return l}}},cre=ce,Nx=Wr,Fx=Cu,dre=zr,zl=Ie,Bx=Te,A1=kt,D1=Ol,Lx=Fu,ure=lre,hre=Ns,fre=String,on=Nx("JSON","stringify"),Ic=zl(/./.exec),M1=zl("".charAt),pre=zl("".charCodeAt),vre=zl("".replace),gre=zl(1 .toString),mre=/[\uD800-\uDFFF]/g,R1=/^[\uD800-\uDBFF]$/,N1=/^[\uDC00-\uDFFF]$/,F1=!hre||Bx(function(){var t=Nx("Symbol")("stringify detection");return on([t])!=="[null]"||on({a:t})!=="{}"||on(Object(t))!=="{}"}),B1=Bx(function(){return on("\uDF06\uD834")!=='"\\udf06\\ud834"'||on("\uDEAD")!=='"\\udead"'}),yre=function(t,e){var r=Lx(arguments),i=ure(e);if(!(!A1(i)&&(t===void 0||D1(t))))return r[1]=function(n,o){if(A1(i)&&(o=dre(i,this,fre(n),o)),!D1(o))return o},Fx(on,null,r)},bre=function(t,e,r){var i=M1(r,e-1),n=M1(r,e+1);return Ic(R1,t)&&!Ic(N1,n)||Ic(N1,t)&&!Ic(R1,i)?"\\u"+gre(pre(t,0),16):t};on&&cre({target:"JSON",stat:!0,forced:F1||B1},{stringify:function(e,r,i){var n=Lx(arguments),o=Fx(F1?yre:on,null,n);return B1&&typeof o=="string"?vre(o,mre,bre):o}});var $re=ce,wre=Ns,_re=Te,jx=Dl,Sre=Or,Ere=!wre||_re(function(){jx.f(1)});$re({target:"Object",stat:!0,forced:Ere},{getOwnPropertySymbols:function(e){var r=jx.f;return r?r(Sre(e)):[]}});var Tre=it;Tre("asyncIterator");var Ire=it;Ire("hasInstance");var Ore=it;Ore("isConcatSpreadable");var xre=it;xre("iterator");var Pre=it;Pre("match");var kre=it;kre("matchAll");var Cre=it;Cre("replace");var Are=it;Are("search");var Dre=it;Dre("species");var Mre=it;Mre("split");var Rre=it,Nre=gx;Rre("toPrimitive");Nre();var Fre=Wr,Bre=it,Lre=js;Bre("toStringTag");Lre(Fre("Symbol"),"Symbol");var jre=it;jre("unscopables");var zre=rt,Hre=js;Hre(zre.JSON,"JSON",!0);var Wre=Ce,Vre=Wre.Symbol,zs={},Av=mt,Ure=Ct,zx=Function.prototype,Yre=Av&&Object.getOwnPropertyDescriptor,Hx=Ure(zx,"name"),qre=Hx&&(function(){}).name==="something";Hx&&(!Av||Av&&Yre(zx,"name").configurable);var Kre={PROPER:qre},Gre=Te,Wx=!Gre(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}),Xre=Ct,Jre=kt,Zre=Or,Qre=Lu,eie=Wx,L1=Qre("IE_PROTO"),Dv=Object,tie=Dv.prototype,qu=eie?Dv.getPrototypeOf:function(t){var e=Zre(t);if(Xre(e,L1))return e[L1];var r=e.constructor;return Jre(r)&&e instanceof r?r.prototype:e instanceof Dv?tie:null},rie=Te,iie=kt,nie=Ft,oie=Nl,j1=qu,sie=Bl,aie=dt,Mv=aie("iterator"),Vx=!1,$i,Zf,Qf;[].keys&&(Qf=[].keys(),"next"in Qf?(Zf=j1(j1(Qf)),Zf!==Object.prototype&&($i=Zf)):Vx=!0);var lie=!nie($i)||rie(function(){var t={};return $i[Mv].call(t)!==t});lie?$i={}:$i=oie($i);iie($i[Mv])||sie($i,Mv,function(){return this});var Ux={IteratorPrototype:$i,BUGGY_SAFARI_ITERATORS:Vx},cie=Ux.IteratorPrototype,die=Nl,uie=Sl,hie=js,fie=zs,pie=function(){return this},vie=function(t,e,r,i){var n=e+" Iterator";return t.prototype=die(cie,{next:uie(+!i,r)}),hie(t,n,!1,!0),fie[n]=pie,t},gie=ce,mie=zr,yie=Kre,bie=vie,$ie=qu,wie=js,z1=Bl,_ie=dt,H1=zs,Sie=Ux,Eie=yie.PROPER,Oc=Sie.BUGGY_SAFARI_ITERATORS,ep=_ie("iterator"),W1="keys",xc="values",V1="entries",Tie=function(){return this},$m=function(t,e,r,i,n,o,s){bie(r,e,i);var a=function(y){if(y===n&&h)return h;if(!Oc&&y&&y in d)return d[y];switch(y){case W1:return function(){return new r(this,y)};case xc:return function(){return new r(this,y)};case V1:return function(){return new r(this,y)}}return function(){return new r(this)}},l=e+" Iterator",c=!1,d=t.prototype,u=d[ep]||d["@@iterator"]||n&&d[n],h=!Oc&&u||a(n),f=e==="Array"&&d.entries||u,p,g,$;if(f&&(p=$ie(f.call(new t)),p!==Object.prototype&&p.next&&(wie(p,l,!0,!0),H1[l]=Tie)),Eie&&n===xc&&u&&u.name!==xc&&(c=!0,h=function(){return mie(u,this)}),n)if(g={values:a(xc),keys:o?h:a(W1),entries:a(V1)},s)for($ in g)(Oc||c||!($ in d))&&z1(d,$,g[$]);else gie({target:e,proto:!0,forced:Oc||c},g);return s&&d[ep]!==h&&z1(d,ep,h,{}),H1[e]=h,g},wm=function(t,e){return{value:t,done:e}},Iie=Hr,U1=zs,Yx=$o;gr.f;var Oie=$m,Pc=wm,qx="Array Iterator",xie=Yx.set,Pie=Yx.getterFor(qx);Oie(Array,"Array",function(t,e){xie(this,{type:qx,target:Iie(t),index:0,kind:e})},function(){var t=Pie(this),e=t.target,r=t.kind,i=t.index++;if(!e||i>=e.length)return t.target=void 0,Pc(void 0,!0);switch(r){case"keys":return Pc(i,!1);case"values":return Pc(e[i],!1)}return Pc([i,e[i]],!1)},"values");U1.Arguments=U1.Array;var kie={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Cie=kie,Aie=rt,Die=bo,Mie=Ls,Y1=zs,Rie=dt,q1=Rie("toStringTag");for(var tp in Cie){var K1=Aie[tp],rp=K1&&K1.prototype;rp&&Die(rp)!==q1&&Mie(rp,q1,tp),Y1[tp]=Y1.Array}var Nie=Vre,Kx=Nie,Fie=Kx,Bie=he(Fie),Lie=ce,G1=yo,jie=cx,zie=Ft,X1=kl,Hie=li,Wie=Hr,Vie=Ml,Uie=dt,Yie=Rl,qie=Fu,Kie=Yie("slice"),Gie=Uie("species"),ip=Array,Xie=Math.max;Lie({target:"Array",proto:!0,forced:!Kie},{slice:function(e,r){var i=Wie(this),n=Hie(i),o=X1(e,n),s=X1(r===void 0?n:r,n),a,l,c;if(G1(i)&&(a=i.constructor,jie(a)&&(a===ip||G1(a.prototype))?a=void 0:zie(a)&&(a=a[Gie],a===null&&(a=void 0)),a===ip||a===void 0))return qie(i,o,s);for(l=new(a===void 0?ip:a)(Xie(s-o,0)),c=0;o<s;o++,c++)o in i&&Vie(l,c,i[o]);return l.length=c,l}});var Jie=At,Zie=Jie("Array").slice,Qie=gt,ene=Zie,np=Array.prototype,tne=function(t){var e=t.slice;return t===np||Qie(np,t)&&e===np.slice?ene:e},rne=tne,ine=rne,nne=ine,Qr=he(nne),one=Wr,sne=Ie,ane=Fl,lne=Dl,cne=Fi,dne=sne([].concat),une=one("Reflect","ownKeys")||function(e){var r=ane.f(cne(e)),i=lne.f;return i?dne(r,i(e)):r},hne=ce,fne=yo;hne({target:"Array",stat:!0},{isArray:fne});var pne=Ce,vne=pne.Array.isArray,gne=vne,mne=gne,yne=mne,Qe=he(yne),bne=ce,$ne=En.map,wne=Rl,_ne=wne("map");bne({target:"Array",proto:!0,forced:!_ne},{map:function(e){return $ne(this,e,arguments.length>1?arguments[1]:void 0)}});var Sne=At,Ene=Sne("Array").map,Tne=gt,Ine=Ene,op=Array.prototype,One=function(t){var e=t.map;return t===op||Tne(op,t)&&e===op.map?Ine:e},xne=One,Pne=xne,kne=Pne,gs=he(kne),Cne=ce,Ane=Or,Gx=Al,Dne=Te,Mne=Dne(function(){Gx(1)});Cne({target:"Object",stat:!0,forced:Mne},{keys:function(e){return Gx(Ane(e))}});var Rne=Ce,Nne=Rne.Object.keys,Fne=Nne,Bne=Fne,Lne=Bne,Ze=he(Lne),jne=ce,zne=Ie,Xx=Date,Hne=zne(Xx.prototype.getTime);jne({target:"Date",stat:!0},{now:function(){return Hne(new Xx)}});var Wne=Ce,Vne=Wne.Date.now,Une=Vne,Yne=Une,qne=Yne,Dd=he(qne),Kne=Te,Hs=function(t,e){var r=[][t];return!!r&&Kne(function(){r.call(null,e||function(){return 1},1)})},Gne=En.forEach,Xne=Hs,Jne=Xne("forEach"),Zne=Jne?[].forEach:function(e){return Gne(this,e,arguments.length>1?arguments[1]:void 0)},Qne=ce,J1=Zne;Qne({target:"Array",proto:!0,forced:[].forEach!==J1},{forEach:J1});var eoe=At,toe=eoe("Array").forEach,roe=toe,ioe=roe,noe=bo,ooe=Ct,soe=gt,aoe=ioe,sp=Array.prototype,loe={DOMTokenList:!0,NodeList:!0},coe=function(t){var e=t.forEach;return t===sp||soe(sp,t)&&e===sp.forEach||ooe(loe,noe(t))?aoe:e},doe=coe,Me=he(doe),uoe=ce,hoe=Ie,foe=yo,poe=hoe([].reverse),Z1=[1,2];uoe({target:"Array",proto:!0,forced:String(Z1)===String(Z1.reverse())},{reverse:function(){return foe(this)&&(this.length=this.length),poe(this)}});var voe=At,goe=voe("Array").reverse,moe=gt,yoe=goe,ap=Array.prototype,boe=function(t){var e=t.reverse;return t===ap||moe(ap,t)&&e===ap.reverse?yoe:e},$oe=boe,woe=$oe,_oe=woe,Kn=he(_oe),Soe=mt,Eoe=yo,Toe=TypeError,Ioe=Object.getOwnPropertyDescriptor,Ooe=Soe&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}(),xoe=Ooe?function(t,e){if(Eoe(t)&&!Ioe(t,"length").writable)throw new Toe("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e},Q1=xl,Poe=TypeError,Jx=function(t,e){if(!delete t[e])throw new Poe("Cannot delete property "+Q1(e)+" of "+Q1(t))},koe=ce,Coe=Or,Aoe=kl,Doe=Nu,Moe=li,Roe=xoe,Noe=ix,Foe=pm,Boe=Ml,lp=Jx,Loe=Rl,joe=Loe("splice"),zoe=Math.max,Hoe=Math.min;koe({target:"Array",proto:!0,forced:!joe},{splice:function(e,r){var i=Coe(this),n=Moe(i),o=Aoe(e,n),s=arguments.length,a,l,c,d,u,h;for(s===0?a=l=0:s===1?(a=0,l=n-o):(a=s-2,l=Hoe(zoe(Doe(r),0),n-o)),Noe(n+a-l),c=Foe(i,l),d=0;d<l;d++)u=o+d,u in i&&Boe(c,d,i[u]);if(c.length=l,a<l){for(d=o;d<n-l;d++)u=d+l,h=d+a,u in i?i[h]=i[u]:lp(i,h);for(d=n;d>n-l+a;d--)lp(i,d-1)}else if(a>l)for(d=n-l;d>o;d--)u=d+l-1,h=d+a-1,u in i?i[h]=i[u]:lp(i,h);for(d=0;d<a;d++)i[d+o]=arguments[d+2];return Roe(i,n-l+a),c}});var Woe=At,Voe=Woe("Array").splice,Uoe=gt,Yoe=Voe,cp=Array.prototype,qoe=function(t){var e=t.splice;return t===cp||Uoe(cp,t)&&e===cp.splice?Yoe:e},Koe=qoe,Goe=Koe,Xoe=Goe,wi=he(Xoe),Joe=ce,Zoe=cm.includes,Qoe=Te,ese=Qoe(function(){return!Array(1).includes()});Joe({target:"Array",proto:!0,forced:ese},{includes:function(e){return Zoe(this,e,arguments.length>1?arguments[1]:void 0)}});var tse=At,rse=tse("Array").includes,ise=Ft,nse=Ni,ose=dt,sse=ose("match"),ase=function(t){var e;return ise(t)&&((e=t[sse])!==void 0?!!e:nse(t)==="RegExp")},lse=ase,cse=TypeError,dse=function(t){if(lse(t))throw new cse("The method doesn't accept regular expressions");return t},use=dt,hse=use("match"),fse=function(t){var e=/./;try{"/./"[t](e)}catch{try{return e[hse]=!1,"/./"[t](e)}catch{}}return!1},pse=ce,vse=Ie,gse=dse,mse=El,e0=ci,yse=fse,bse=vse("".indexOf);pse({target:"String",proto:!0,forced:!yse("includes")},{includes:function(e){return!!~bse(e0(mse(this)),e0(gse(e)),arguments.length>1?arguments[1]:void 0)}});var $se=At,wse=$se("String").includes,t0=gt,_se=rse,Sse=wse,dp=Array.prototype,up=String.prototype,Ese=function(t){var e=t.includes;return t===dp||t0(dp,t)&&e===dp.includes?_se:typeof t=="string"||t===up||t0(up,t)&&e===up.includes?Sse:e},Tse=Ese,Ise=Tse,Ose=Ise,sn=he(Ose),xse=ce,Pse=Te,kse=Or,Zx=qu,Cse=Wx,Ase=Pse(function(){Zx(1)});xse({target:"Object",stat:!0,forced:Ase,sham:!Cse},{getPrototypeOf:function(e){return Zx(kse(e))}});var Dse=Ce,Mse=Dse.Object.getPrototypeOf,Rse=Mse,Nse=Rse,Fse=Nse,r0=he(Fse),Bse=At,Lse=Bse("Array").concat,jse=gt,zse=Lse,hp=Array.prototype,Hse=function(t){var e=t.concat;return t===hp||jse(hp,t)&&e===hp.concat?zse:e},Wse=Hse,Vse=Wse,Use=Vse,Yse=he(Use),qse=ce,Kse=En.filter,Gse=Rl,Xse=Gse("filter");qse({target:"Array",proto:!0,forced:!Xse},{filter:function(e){return Kse(this,e,arguments.length>1?arguments[1]:void 0)}});var Jse=At,Zse=Jse("Array").filter,Qse=gt,eae=Zse,fp=Array.prototype,tae=function(t){var e=t.filter;return t===fp||Qse(fp,t)&&e===fp.filter?eae:e},rae=tae,iae=rae,nae=iae,er=he(nae),Qx=mt,oae=Te,eP=Ie,sae=qu,aae=Al,lae=Hr,cae=_l.f,tP=eP(cae),dae=eP([].push),uae=Qx&&oae(function(){var t=Object.create(null);return t[2]=2,!tP(t,2)}),hae=function(t){return function(e){for(var r=lae(e),i=aae(r),n=uae&&sae(r)===null,o=i.length,s=0,a=[],l;o>s;)l=i[s++],(!Qx||(n?l in r:tP(r,l)))&&dae(a,t?[l,r[l]]:r[l]);return a}},fae={values:hae(!1)},pae=ce,vae=fae.values;pae({target:"Object",stat:!0},{values:function(e){return vae(e)}});var gae=Ce,mae=gae.Object.values,yae=mae,bae=yae,$ae=bae,wae=he($ae),_m=`	
\v\f\r                　\u2028\u2029\uFEFF`,_ae=Ie,Sae=El,Eae=ci,Rv=_m,i0=_ae("".replace),Tae=RegExp("^["+Rv+"]+"),Iae=RegExp("(^|[^"+Rv+"])["+Rv+"]+$"),Oae=function(t){return function(e){var r=Eae(Sae(e));return t&1&&(r=i0(r,Tae,"")),t&2&&(r=i0(r,Iae,"$1")),r}},rP={trim:Oae(3)},iP=rt,xae=Te,Pae=Ie,kae=ci,Cae=rP.trim,n0=_m,$a=iP.parseInt,o0=iP.Symbol,s0=o0&&o0.iterator,nP=/^[+-]?0x/i,Aae=Pae(nP.exec),Dae=$a(n0+"08")!==8||$a(n0+"0x16")!==22||s0&&!xae(function(){$a(Object(s0))}),Mae=Dae?function(e,r){var i=Cae(kae(e));return $a(i,r>>>0||(Aae(nP,i)?16:10))}:$a,Rae=ce,a0=Mae;Rae({global:!0,forced:parseInt!==a0},{parseInt:a0});var Nae=Ce,Fae=Nae.parseInt,Bae=Fae,Lae=Bae,jae=Lae,Dr=he(jae),zae=ce,Hae=sm,Wae=cm.indexOf,Vae=Hs,Nv=Hae([].indexOf),oP=!!Nv&&1/Nv([1],1,-0)<0,Uae=oP||!Vae("indexOf");zae({target:"Array",proto:!0,forced:Uae},{indexOf:function(e){var r=arguments.length>1?arguments[1]:void 0;return oP?Nv(this,e,r)||0:Wae(this,e,r)}});var Yae=At,qae=Yae("Array").indexOf,Kae=gt,Gae=qae,pp=Array.prototype,Xae=function(t){var e=t.indexOf;return t===pp||Kae(pp,t)&&e===pp.indexOf?Gae:e},Jae=Xae,Zae=Jae,Qae=Zae,ke=he(Qae),ele=ce,tle=mt,rle=Nl;ele({target:"Object",stat:!0,sham:!tle},{create:rle});var ile=Ce,nle=ile.Object,ole=function(e,r){return nle.create(e,r)},sle=ole,ale=sle,lle=ale,Gn=he(lle),Fv=Ce,cle=Cu;Fv.JSON||(Fv.JSON={stringify:JSON.stringify});var dle=function(e,r,i){return cle(Fv.JSON.stringify,null,arguments)},ule=dle,hle=ule,fle=hle,Hl=he(fle),ple=typeof Bun=="function"&&Bun&&typeof Bun.version=="string",vle=TypeError,gle=function(t,e){if(t<e)throw new vle("Not enough arguments");return t},sP=rt,mle=Cu,yle=kt,ble=ple,$le=Tl,wle=Fu,_le=gle,Sle=sP.Function,Ele=/MSIE .\./.test($le)||ble&&function(){var t=sP.Bun.version.split(".");return t.length<3||t[0]==="0"&&(t[1]<3||t[1]==="3"&&t[2]==="0")}(),aP=function(t,e){var r=e?2:1;return Ele?function(i,n){var o=_le(arguments.length,1)>r,s=yle(i)?i:Sle(i),a=o?wle(arguments,r):[],l=o?function(){mle(s,this,a)}:s;return e?t(l,n):t(l)}:t},Tle=ce,lP=rt,Ile=aP,l0=Ile(lP.setInterval,!0);Tle({global:!0,bind:!0,forced:lP.setInterval!==l0},{setInterval:l0});var Ole=ce,cP=rt,xle=aP,c0=xle(cP.setTimeout,!0);Ole({global:!0,bind:!0,forced:cP.setTimeout!==c0},{setTimeout:c0});var Ple=Ce,kle=Ple.setTimeout,Cle=kle,_i=he(Cle),Ale=Or,d0=kl,Dle=li,Mle=function(e){for(var r=Ale(this),i=Dle(r),n=arguments.length,o=d0(n>1?arguments[1]:void 0,i),s=n>2?arguments[2]:void 0,a=s===void 0?i:d0(s,i);a>o;)r[o++]=e;return r},Rle=ce,Nle=Mle;Rle({target:"Array",proto:!0},{fill:Nle});var Fle=At,Ble=Fle("Array").fill,Lle=gt,jle=Ble,vp=Array.prototype,zle=function(t){var e=t.fill;return t===vp||Lle(vp,t)&&e===vp.fill?jle:e},Hle=zle,Wle=Hle,Vle=Wle,Wl=he(Vle);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function jr(){return jr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},jr.apply(this,arguments)}function xr(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function kc(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Bv;typeof Object.assign!="function"?Bv=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(e),i=1;i<arguments.length;i++){var n=arguments[i];if(n!=null)for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])}return r}:Bv=Object.assign;var oo=Bv,u0=["","webkit","Moz","MS","ms","o"],Ule=typeof document>"u"?{style:{}}:document.createElement("div"),Yle="function",Ko=Math.round,so=Math.abs,Sm=Date.now;function Ku(t,e){for(var r,i,n=e[0].toUpperCase()+e.slice(1),o=0;o<u0.length;){if(r=u0[o],i=r?r+n:e,i in t)return i;o++}}var Si;typeof window>"u"?Si={}:Si=window;var dP=Ku(Ule.style,"touchAction"),uP=dP!==void 0;function qle(){if(!uP)return!1;var t={},e=Si.CSS&&Si.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(r){return t[r]=e?Si.CSS.supports("touch-action",r):!0}),t}var hP="compute",fP="auto",Lv="manipulation",Xn="none",Ua="pan-x",Ya="pan-y",Cc=qle(),Kle=/mobile|tablet|ip(ad|hone|od)|android/i,pP="ontouchstart"in Si,Gle=Ku(Si,"PointerEvent")!==void 0,Xle=pP&&Kle.test(navigator.userAgent),Vl="touch",Jle="pen",Em="mouse",Zle="kinect",Qle=25,Ut=1,wo=2,ft=4,rr=8,Md=1,Ul=2,Yl=4,ql=8,ms=16,oi=Ul|Yl,Jn=ql|ms,vP=oi|Jn,gP=["x","y"],Rd=["clientX","clientY"];function Ei(t,e,r){var i;if(t)if(t.forEach)t.forEach(e,r);else if(t.length!==void 0)for(i=0;i<t.length;)e.call(r,t[i],i,t),i++;else for(i in t)t.hasOwnProperty(i)&&e.call(r,t[i],i,t)}function Gu(t,e){return typeof t===Yle?t.apply(e&&e[0]||void 0,e):t}function Bn(t,e){return t.indexOf(e)>-1}function ece(t){if(Bn(t,Xn))return Xn;var e=Bn(t,Ua),r=Bn(t,Ya);return e&&r?Xn:e||r?e?Ua:Ya:Bn(t,Lv)?Lv:fP}var mP=function(){function t(r,i){this.manager=r,this.set(i)}var e=t.prototype;return e.set=function(i){i===hP&&(i=this.compute()),uP&&this.manager.element.style&&Cc[i]&&(this.manager.element.style[dP]=i),this.actions=i.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var i=[];return Ei(this.manager.recognizers,function(n){Gu(n.options.enable,[n])&&(i=i.concat(n.getTouchAction()))}),ece(i.join(" "))},e.preventDefaults=function(i){var n=i.srcEvent,o=i.offsetDirection;if(this.manager.session.prevented){n.preventDefault();return}var s=this.actions,a=Bn(s,Xn)&&!Cc[Xn],l=Bn(s,Ya)&&!Cc[Ya],c=Bn(s,Ua)&&!Cc[Ua];if(a){var d=i.pointers.length===1,u=i.distance<2,h=i.deltaTime<250;if(d&&u&&h)return}if(!(c&&l)&&(a||l&&o&oi||c&&o&Jn))return this.preventSrc(n)},e.preventSrc=function(i){this.manager.session.prevented=!0,i.preventDefault()},t}();function Tm(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function yP(t){var e=t.length;if(e===1)return{x:Ko(t[0].clientX),y:Ko(t[0].clientY)};for(var r=0,i=0,n=0;n<e;)r+=t[n].clientX,i+=t[n].clientY,n++;return{x:Ko(r/e),y:Ko(i/e)}}function h0(t){for(var e=[],r=0;r<t.pointers.length;)e[r]={clientX:Ko(t.pointers[r].clientX),clientY:Ko(t.pointers[r].clientY)},r++;return{timeStamp:Sm(),pointers:e,center:yP(e),deltaX:t.deltaX,deltaY:t.deltaY}}function Nd(t,e,r){r||(r=gP);var i=e[r[0]]-t[r[0]],n=e[r[1]]-t[r[1]];return Math.sqrt(i*i+n*n)}function jv(t,e,r){r||(r=gP);var i=e[r[0]]-t[r[0]],n=e[r[1]]-t[r[1]];return Math.atan2(n,i)*180/Math.PI}function bP(t,e){return t===e?Md:so(t)>=so(e)?t<0?Ul:Yl:e<0?ql:ms}function tce(t,e){var r=e.center,i=t.offsetDelta||{},n=t.prevDelta||{},o=t.prevInput||{};(e.eventType===Ut||o.eventType===ft)&&(n=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=t.offsetDelta={x:r.x,y:r.y}),e.deltaX=n.x+(r.x-i.x),e.deltaY=n.y+(r.y-i.y)}function $P(t,e,r){return{x:e/t||0,y:r/t||0}}function rce(t,e){return Nd(e[0],e[1],Rd)/Nd(t[0],t[1],Rd)}function ice(t,e){return jv(e[1],e[0],Rd)+jv(t[1],t[0],Rd)}function nce(t,e){var r=t.lastInterval||e,i=e.timeStamp-r.timeStamp,n,o,s,a;if(e.eventType!==rr&&(i>Qle||r.velocity===void 0)){var l=e.deltaX-r.deltaX,c=e.deltaY-r.deltaY,d=$P(i,l,c);o=d.x,s=d.y,n=so(d.x)>so(d.y)?d.x:d.y,a=bP(l,c),t.lastInterval=e}else n=r.velocity,o=r.velocityX,s=r.velocityY,a=r.direction;e.velocity=n,e.velocityX=o,e.velocityY=s,e.direction=a}function oce(t,e){var r=t.session,i=e.pointers,n=i.length;r.firstInput||(r.firstInput=h0(e)),n>1&&!r.firstMultiple?r.firstMultiple=h0(e):n===1&&(r.firstMultiple=!1);var o=r.firstInput,s=r.firstMultiple,a=s?s.center:o.center,l=e.center=yP(i);e.timeStamp=Sm(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=jv(a,l),e.distance=Nd(a,l),tce(r,e),e.offsetDirection=bP(e.deltaX,e.deltaY);var c=$P(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=so(c.x)>so(c.y)?c.x:c.y,e.scale=s?rce(s.pointers,i):1,e.rotation=s?ice(s.pointers,i):0,e.maxPointers=r.prevInput?e.pointers.length>r.prevInput.maxPointers?e.pointers.length:r.prevInput.maxPointers:e.pointers.length,nce(r,e);var d=t.element,u=e.srcEvent,h;u.composedPath?h=u.composedPath()[0]:u.path?h=u.path[0]:h=u.target,Tm(h,d)&&(d=h),e.target=d}function sce(t,e,r){var i=r.pointers.length,n=r.changedPointers.length,o=e&Ut&&i-n===0,s=e&(ft|rr)&&i-n===0;r.isFirst=!!o,r.isFinal=!!s,o&&(t.session={}),r.eventType=e,oce(t,r),t.emit("hammer.input",r),t.recognize(r),t.session.prevInput=r}function qa(t){return t.trim().split(/\s+/g)}function wa(t,e,r){Ei(qa(e),function(i){t.addEventListener(i,r,!1)})}function _a(t,e,r){Ei(qa(e),function(i){t.removeEventListener(i,r,!1)})}function f0(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var Ws=function(){function t(r,i){var n=this;this.manager=r,this.callback=i,this.element=r.element,this.target=r.options.inputTarget,this.domHandler=function(o){Gu(r.options.enable,[r])&&n.handler(o)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&wa(this.element,this.evEl,this.domHandler),this.evTarget&&wa(this.target,this.evTarget,this.domHandler),this.evWin&&wa(f0(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&_a(this.element,this.evEl,this.domHandler),this.evTarget&&_a(this.target,this.evTarget,this.domHandler),this.evWin&&_a(f0(this.element),this.evWin,this.domHandler)},t}();function ao(t,e,r){if(t.indexOf&&!r)return t.indexOf(e);for(var i=0;i<t.length;){if(r&&t[i][r]==e||!r&&t[i]===e)return i;i++}return-1}var ace={pointerdown:Ut,pointermove:wo,pointerup:ft,pointercancel:rr,pointerout:rr},lce={2:Vl,3:Jle,4:Em,5:Zle},wP="pointerdown",_P="pointermove pointerup pointercancel";Si.MSPointerEvent&&!Si.PointerEvent&&(wP="MSPointerDown",_P="MSPointerMove MSPointerUp MSPointerCancel");var SP=function(t){xr(e,t);function e(){var i,n=e.prototype;return n.evEl=wP,n.evWin=_P,i=t.apply(this,arguments)||this,i.store=i.manager.session.pointerEvents=[],i}var r=e.prototype;return r.handler=function(n){var o=this.store,s=!1,a=n.type.toLowerCase().replace("ms",""),l=ace[a],c=lce[n.pointerType]||n.pointerType,d=c===Vl,u=ao(o,n.pointerId,"pointerId");l&Ut&&(n.button===0||d)?u<0&&(o.push(n),u=o.length-1):l&(ft|rr)&&(s=!0),!(u<0)&&(o[u]=n,this.callback(this.manager,l,{pointers:o,changedPointers:[n],pointerType:c,srcEvent:n}),s&&o.splice(u,1))},e}(Ws);function Ka(t){return Array.prototype.slice.call(t,0)}function Im(t,e,r){for(var i=[],n=[],o=0;o<t.length;){var s=e?t[o][e]:t[o];ao(n,s)<0&&i.push(t[o]),n[o]=s,o++}return r&&(e?i=i.sort(function(a,l){return a[e]>l[e]}):i=i.sort()),i}var cce={touchstart:Ut,touchmove:wo,touchend:ft,touchcancel:rr},dce="touchstart touchmove touchend touchcancel",Om=function(t){xr(e,t);function e(){var i;return e.prototype.evTarget=dce,i=t.apply(this,arguments)||this,i.targetIds={},i}var r=e.prototype;return r.handler=function(n){var o=cce[n.type],s=uce.call(this,n,o);s&&this.callback(this.manager,o,{pointers:s[0],changedPointers:s[1],pointerType:Vl,srcEvent:n})},e}(Ws);function uce(t,e){var r=Ka(t.touches),i=this.targetIds;if(e&(Ut|wo)&&r.length===1)return i[r[0].identifier]=!0,[r,r];var n,o,s=Ka(t.changedTouches),a=[],l=this.target;if(o=r.filter(function(c){return Tm(c.target,l)}),e===Ut)for(n=0;n<o.length;)i[o[n].identifier]=!0,n++;for(n=0;n<s.length;)i[s[n].identifier]&&a.push(s[n]),e&(ft|rr)&&delete i[s[n].identifier],n++;if(a.length)return[Im(o.concat(a),"identifier",!0),a]}var hce={mousedown:Ut,mousemove:wo,mouseup:ft},fce="mousedown",pce="mousemove mouseup",xm=function(t){xr(e,t);function e(){var i,n=e.prototype;return n.evEl=fce,n.evWin=pce,i=t.apply(this,arguments)||this,i.pressed=!1,i}var r=e.prototype;return r.handler=function(n){var o=hce[n.type];o&Ut&&n.button===0&&(this.pressed=!0),o&wo&&n.which!==1&&(o=ft),this.pressed&&(o&ft&&(this.pressed=!1),this.callback(this.manager,o,{pointers:[n],changedPointers:[n],pointerType:Em,srcEvent:n}))},e}(Ws),vce=2500,p0=25;function v0(t){var e=t.changedPointers,r=e[0];if(r.identifier===this.primaryTouch){var i={x:r.clientX,y:r.clientY},n=this.lastTouches;this.lastTouches.push(i);var o=function(){var a=n.indexOf(i);a>-1&&n.splice(a,1)};setTimeout(o,vce)}}function gce(t,e){t&Ut?(this.primaryTouch=e.changedPointers[0].identifier,v0.call(this,e)):t&(ft|rr)&&v0.call(this,e)}function mce(t){for(var e=t.srcEvent.clientX,r=t.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var n=this.lastTouches[i],o=Math.abs(e-n.x),s=Math.abs(r-n.y);if(o<=p0&&s<=p0)return!0}return!1}var EP=function(){var t=function(e){xr(r,e);function r(n,o){var s;return s=e.call(this,n,o)||this,s.handler=function(a,l,c){var d=c.pointerType===Vl,u=c.pointerType===Em;if(!(u&&c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents)){if(d)gce.call(kc(kc(s)),l,c);else if(u&&mce.call(kc(kc(s)),c))return;s.callback(a,l,c)}},s.touch=new Om(s.manager,s.handler),s.mouse=new xm(s.manager,s.handler),s.primaryTouch=null,s.lastTouches=[],s}var i=r.prototype;return i.destroy=function(){this.touch.destroy(),this.mouse.destroy()},r}(Ws);return t}();function yce(t){var e,r=t.options.inputClass;return r?e=r:Gle?e=SP:Xle?e=Om:pP?e=EP:e=xm,new e(t,sce)}function Go(t,e,r){return Array.isArray(t)?(Ei(t,r[e],r),!0):!1}var Qc=1,Tr=2,ys=4,an=8,Ti=an,Ga=16,ti=32,bce=1;function $ce(){return bce++}function Ac(t,e){var r=e.manager;return r?r.get(t):t}function g0(t){return t&Ga?"cancel":t&an?"end":t&ys?"move":t&Tr?"start":""}var Kl=function(){function t(r){r===void 0&&(r={}),this.options=jr({enable:!0},r),this.id=$ce(),this.manager=null,this.state=Qc,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(i){return oo(this.options,i),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(i){if(Go(i,"recognizeWith",this))return this;var n=this.simultaneous;return i=Ac(i,this),n[i.id]||(n[i.id]=i,i.recognizeWith(this)),this},e.dropRecognizeWith=function(i){return Go(i,"dropRecognizeWith",this)?this:(i=Ac(i,this),delete this.simultaneous[i.id],this)},e.requireFailure=function(i){if(Go(i,"requireFailure",this))return this;var n=this.requireFail;return i=Ac(i,this),ao(n,i)===-1&&(n.push(i),i.requireFailure(this)),this},e.dropRequireFailure=function(i){if(Go(i,"dropRequireFailure",this))return this;i=Ac(i,this);var n=ao(this.requireFail,i);return n>-1&&this.requireFail.splice(n,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(i){return!!this.simultaneous[i.id]},e.emit=function(i){var n=this,o=this.state;function s(a){n.manager.emit(a,i)}o<an&&s(n.options.event+g0(o)),s(n.options.event),i.additionalEvent&&s(i.additionalEvent),o>=an&&s(n.options.event+g0(o))},e.tryEmit=function(i){if(this.canEmit())return this.emit(i);this.state=ti},e.canEmit=function(){for(var i=0;i<this.requireFail.length;){if(!(this.requireFail[i].state&(ti|Qc)))return!1;i++}return!0},e.recognize=function(i){var n=oo({},i);if(!Gu(this.options.enable,[this,n])){this.reset(),this.state=ti;return}this.state&(Ti|Ga|ti)&&(this.state=Qc),this.state=this.process(n),this.state&(Tr|ys|an|Ga)&&this.tryEmit(n)},e.process=function(i){},e.getTouchAction=function(){},e.reset=function(){},t}(),zv=function(t){xr(e,t);function e(i){var n;return i===void 0&&(i={}),n=t.call(this,jr({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},i))||this,n.pTime=!1,n.pCenter=!1,n._timer=null,n._input=null,n.count=0,n}var r=e.prototype;return r.getTouchAction=function(){return[Lv]},r.process=function(n){var o=this,s=this.options,a=n.pointers.length===s.pointers,l=n.distance<s.threshold,c=n.deltaTime<s.time;if(this.reset(),n.eventType&Ut&&this.count===0)return this.failTimeout();if(l&&c&&a){if(n.eventType!==ft)return this.failTimeout();var d=this.pTime?n.timeStamp-this.pTime<s.interval:!0,u=!this.pCenter||Nd(this.pCenter,n.center)<s.posThreshold;this.pTime=n.timeStamp,this.pCenter=n.center,!u||!d?this.count=1:this.count+=1,this._input=n;var h=this.count%s.taps;if(h===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){o.state=Ti,o.tryEmit()},s.interval),Tr):Ti}return ti},r.failTimeout=function(){var n=this;return this._timer=setTimeout(function(){n.state=ti},this.options.interval),ti},r.reset=function(){clearTimeout(this._timer)},r.emit=function(){this.state===Ti&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(Kl),bs=function(t){xr(e,t);function e(i){return i===void 0&&(i={}),t.call(this,jr({pointers:1},i))||this}var r=e.prototype;return r.attrTest=function(n){var o=this.options.pointers;return o===0||n.pointers.length===o},r.process=function(n){var o=this.state,s=n.eventType,a=o&(Tr|ys),l=this.attrTest(n);return a&&(s&rr||!l)?o|Ga:a||l?s&ft?o|an:o&Tr?o|ys:Tr:ti},e}(Kl);function TP(t){return t===ms?"down":t===ql?"up":t===Ul?"left":t===Yl?"right":""}var Pm=function(t){xr(e,t);function e(i){var n;return i===void 0&&(i={}),n=t.call(this,jr({event:"pan",threshold:10,pointers:1,direction:vP},i))||this,n.pX=null,n.pY=null,n}var r=e.prototype;return r.getTouchAction=function(){var n=this.options.direction,o=[];return n&oi&&o.push(Ya),n&Jn&&o.push(Ua),o},r.directionTest=function(n){var o=this.options,s=!0,a=n.distance,l=n.direction,c=n.deltaX,d=n.deltaY;return l&o.direction||(o.direction&oi?(l=c===0?Md:c<0?Ul:Yl,s=c!==this.pX,a=Math.abs(n.deltaX)):(l=d===0?Md:d<0?ql:ms,s=d!==this.pY,a=Math.abs(n.deltaY))),n.direction=l,s&&a>o.threshold&&l&o.direction},r.attrTest=function(n){return bs.prototype.attrTest.call(this,n)&&(this.state&Tr||!(this.state&Tr)&&this.directionTest(n))},r.emit=function(n){this.pX=n.deltaX,this.pY=n.deltaY;var o=TP(n.direction);o&&(n.additionalEvent=this.options.event+o),t.prototype.emit.call(this,n)},e}(bs),IP=function(t){xr(e,t);function e(i){return i===void 0&&(i={}),t.call(this,jr({event:"swipe",threshold:10,velocity:.3,direction:oi|Jn,pointers:1},i))||this}var r=e.prototype;return r.getTouchAction=function(){return Pm.prototype.getTouchAction.call(this)},r.attrTest=function(n){var o=this.options.direction,s;return o&(oi|Jn)?s=n.overallVelocity:o&oi?s=n.overallVelocityX:o&Jn&&(s=n.overallVelocityY),t.prototype.attrTest.call(this,n)&&o&n.offsetDirection&&n.distance>this.options.threshold&&n.maxPointers===this.options.pointers&&so(s)>this.options.velocity&&n.eventType&ft},r.emit=function(n){var o=TP(n.offsetDirection);o&&this.manager.emit(this.options.event+o,n),this.manager.emit(this.options.event,n)},e}(bs),OP=function(t){xr(e,t);function e(i){return i===void 0&&(i={}),t.call(this,jr({event:"pinch",threshold:0,pointers:2},i))||this}var r=e.prototype;return r.getTouchAction=function(){return[Xn]},r.attrTest=function(n){return t.prototype.attrTest.call(this,n)&&(Math.abs(n.scale-1)>this.options.threshold||this.state&Tr)},r.emit=function(n){if(n.scale!==1){var o=n.scale<1?"in":"out";n.additionalEvent=this.options.event+o}t.prototype.emit.call(this,n)},e}(bs),xP=function(t){xr(e,t);function e(i){return i===void 0&&(i={}),t.call(this,jr({event:"rotate",threshold:0,pointers:2},i))||this}var r=e.prototype;return r.getTouchAction=function(){return[Xn]},r.attrTest=function(n){return t.prototype.attrTest.call(this,n)&&(Math.abs(n.rotation)>this.options.threshold||this.state&Tr)},e}(bs),PP=function(t){xr(e,t);function e(i){var n;return i===void 0&&(i={}),n=t.call(this,jr({event:"press",pointers:1,time:251,threshold:9},i))||this,n._timer=null,n._input=null,n}var r=e.prototype;return r.getTouchAction=function(){return[fP]},r.process=function(n){var o=this,s=this.options,a=n.pointers.length===s.pointers,l=n.distance<s.threshold,c=n.deltaTime>s.time;if(this._input=n,!l||!a||n.eventType&(ft|rr)&&!c)this.reset();else if(n.eventType&Ut)this.reset(),this._timer=setTimeout(function(){o.state=Ti,o.tryEmit()},s.time);else if(n.eventType&ft)return Ti;return ti},r.reset=function(){clearTimeout(this._timer)},r.emit=function(n){this.state===Ti&&(n&&n.eventType&ft?this.manager.emit(this.options.event+"up",n):(this._input.timeStamp=Sm(),this.manager.emit(this.options.event,this._input)))},e}(Kl),kP={domEvents:!1,touchAction:hP,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},m0=[[xP,{enable:!1}],[OP,{enable:!1},["rotate"]],[IP,{direction:oi}],[Pm,{direction:oi},["swipe"]],[zv],[zv,{event:"doubletap",taps:2},["tap"]],[PP]],wce=1,y0=2;function b0(t,e){var r=t.element;if(r.style){var i;Ei(t.options.cssProps,function(n,o){i=Ku(r.style,o),e?(t.oldCssProps[i]=r.style[i],r.style[i]=n):r.style[i]=t.oldCssProps[i]||""}),e||(t.oldCssProps={})}}function _ce(t,e){var r=document.createEvent("Event");r.initEvent(t,!0,!0),r.gesture=e,e.target.dispatchEvent(r)}var $0=function(){function t(r,i){var n=this;this.options=oo({},kP,i||{}),this.options.inputTarget=this.options.inputTarget||r,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=r,this.input=yce(this),this.touchAction=new mP(this,this.options.touchAction),b0(this,!0),Ei(this.options.recognizers,function(o){var s=n.add(new o[0](o[1]));o[2]&&s.recognizeWith(o[2]),o[3]&&s.requireFailure(o[3])},this)}var e=t.prototype;return e.set=function(i){return oo(this.options,i),i.touchAction&&this.touchAction.update(),i.inputTarget&&(this.input.destroy(),this.input.target=i.inputTarget,this.input.init()),this},e.stop=function(i){this.session.stopped=i?y0:wce},e.recognize=function(i){var n=this.session;if(!n.stopped){this.touchAction.preventDefaults(i);var o,s=this.recognizers,a=n.curRecognizer;(!a||a&&a.state&Ti)&&(n.curRecognizer=null,a=null);for(var l=0;l<s.length;)o=s[l],n.stopped!==y0&&(!a||o===a||o.canRecognizeWith(a))?o.recognize(i):o.reset(),!a&&o.state&(Tr|ys|an)&&(n.curRecognizer=o,a=o),l++}},e.get=function(i){if(i instanceof Kl)return i;for(var n=this.recognizers,o=0;o<n.length;o++)if(n[o].options.event===i)return n[o];return null},e.add=function(i){if(Go(i,"add",this))return this;var n=this.get(i.options.event);return n&&this.remove(n),this.recognizers.push(i),i.manager=this,this.touchAction.update(),i},e.remove=function(i){if(Go(i,"remove",this))return this;var n=this.get(i);if(i){var o=this.recognizers,s=ao(o,n);s!==-1&&(o.splice(s,1),this.touchAction.update())}return this},e.on=function(i,n){if(i===void 0||n===void 0)return this;var o=this.handlers;return Ei(qa(i),function(s){o[s]=o[s]||[],o[s].push(n)}),this},e.off=function(i,n){if(i===void 0)return this;var o=this.handlers;return Ei(qa(i),function(s){n?o[s]&&o[s].splice(ao(o[s],n),1):delete o[s]}),this},e.emit=function(i,n){this.options.domEvents&&_ce(i,n);var o=this.handlers[i]&&this.handlers[i].slice();if(!(!o||!o.length)){n.type=i,n.preventDefault=function(){n.srcEvent.preventDefault()};for(var s=0;s<o.length;)o[s](n),s++}},e.destroy=function(){this.element&&b0(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),Sce={touchstart:Ut,touchmove:wo,touchend:ft,touchcancel:rr},Ece="touchstart",Tce="touchstart touchmove touchend touchcancel",Ice=function(t){xr(e,t);function e(){var i,n=e.prototype;return n.evTarget=Ece,n.evWin=Tce,i=t.apply(this,arguments)||this,i.started=!1,i}var r=e.prototype;return r.handler=function(n){var o=Sce[n.type];if(o===Ut&&(this.started=!0),!!this.started){var s=Oce.call(this,n,o);o&(ft|rr)&&s[0].length-s[1].length===0&&(this.started=!1),this.callback(this.manager,o,{pointers:s[0],changedPointers:s[1],pointerType:Vl,srcEvent:n})}},e}(Ws);function Oce(t,e){var r=Ka(t.touches),i=Ka(t.changedTouches);return e&(ft|rr)&&(r=Im(r.concat(i),"identifier",!0)),[r,i]}function CP(t,e,r){var i="DEPRECATED METHOD: "+e+`
`+r+` AT 
`;return function(){var n=new Error("get-stack-trace"),o=n&&n.stack?n.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",s=window.console&&(window.console.warn||window.console.log);return s&&s.call(window.console,i,o),t.apply(this,arguments)}}var AP=CP(function(t,e,r){for(var i=Object.keys(e),n=0;n<i.length;)(!r||r&&t[i[n]]===void 0)&&(t[i[n]]=e[i[n]]),n++;return t},"extend","Use `assign`."),xce=CP(function(t,e){return AP(t,e,!0)},"merge","Use `assign`.");function Pce(t,e,r){var i=e.prototype,n;n=t.prototype=Object.create(i),n.constructor=t,n._super=i,r&&oo(n,r)}function w0(t,e){return function(){return t.apply(e,arguments)}}var DP=function(){var t=function(r,i){return i===void 0&&(i={}),new $0(r,jr({recognizers:m0.concat()},i))};return t.VERSION="2.0.17-rc",t.DIRECTION_ALL=vP,t.DIRECTION_DOWN=ms,t.DIRECTION_LEFT=Ul,t.DIRECTION_RIGHT=Yl,t.DIRECTION_UP=ql,t.DIRECTION_HORIZONTAL=oi,t.DIRECTION_VERTICAL=Jn,t.DIRECTION_NONE=Md,t.DIRECTION_DOWN=ms,t.INPUT_START=Ut,t.INPUT_MOVE=wo,t.INPUT_END=ft,t.INPUT_CANCEL=rr,t.STATE_POSSIBLE=Qc,t.STATE_BEGAN=Tr,t.STATE_CHANGED=ys,t.STATE_ENDED=an,t.STATE_RECOGNIZED=Ti,t.STATE_CANCELLED=Ga,t.STATE_FAILED=ti,t.Manager=$0,t.Input=Ws,t.TouchAction=mP,t.TouchInput=Om,t.MouseInput=xm,t.PointerEventInput=SP,t.TouchMouseInput=EP,t.SingleTouchInput=Ice,t.Recognizer=Kl,t.AttrRecognizer=bs,t.Tap=zv,t.Pan=Pm,t.Swipe=IP,t.Pinch=OP,t.Rotate=xP,t.Press=PP,t.on=wa,t.off=_a,t.each=Ei,t.merge=xce,t.extend=AP,t.bindFn=w0,t.assign=oo,t.inherit=Pce,t.bindFn=w0,t.prefixed=Ku,t.toArray=Ka,t.inArray=ao,t.uniqueArray=Im,t.splitStr=qa,t.boolOrFn=Gu,t.hasParent=Tm,t.addEventListeners=wa,t.removeEventListeners=_a,t.defaults=oo({},kP,{preset:m0}),t}();DP.defaults;var kce=DP;Bie("DELETE");function Xu(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return Cce(e.length?e:[Dd()])}function Cce(t){let[e,r,i]=Ace(t),n=1;const o=()=>{const s=2091639*e+n*23283064365386963e-26;return e=r,r=i,i=s-(n=s|0)};return o.uint32=()=>o()*4294967296,o.fract53=()=>o()+(o()*2097152|0)*11102230246251565e-32,o.algorithm="Alea",o.seed=t,o.version="0.9",o}function Ace(){const t=Dce();let e=t(" "),r=t(" "),i=t(" ");for(let n=0;n<arguments.length;n++)e-=t(n<0||arguments.length<=n?void 0:arguments[n]),e<0&&(e+=1),r-=t(n<0||arguments.length<=n?void 0:arguments[n]),r<0&&(r+=1),i-=t(n<0||arguments.length<=n?void 0:arguments[n]),i<0&&(i+=1);return[e,r,i]}function Dce(){let t=4022871197;return function(e){const r=e.toString();for(let i=0;i<r.length;i++){t+=r.charCodeAt(i);let n=.02519603282416938*t;t=n>>>0,n-=t,n*=t,t=n>>>0,n-=t,t+=n*4294967296}return(t>>>0)*23283064365386963e-26}}function Mce(){const t=()=>{};return{on:t,off:t,destroy:t,emit:t,get(){return{set:t}}}}const km=typeof window<"u"?window.Hammer||kce:function(){return Mce()};function ri(t){var e;this._cleanupQueue=[],this.active=!1,this._dom={container:t,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});const r=km(this._dom.overlay);r.on("tap",M(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(()=>{r.destroy()});const i=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];Me(i).call(i,n=>{r.on(n,o=>{o.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=n=>{Rce(n.target,t)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=n=>{("key"in n?n.key==="Escape":n.keyCode===27)&&this.deactivate()}}rx(ri.prototype);ri.current=null;ri.prototype.destroy=function(){this.deactivate();for(const r of Kn(t=wi(e=this._cleanupQueue).call(e,0)).call(t)){var t,e;r()}};ri.prototype.activate=function(){ri.current&&ri.current.deactivate(),ri.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};ri.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};ri.prototype._onTapOverlay=function(t){this.activate(),t.srcEvent.stopPropagation()};function Rce(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}const Nce=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Fce=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Bce=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,Lce=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function Yi(t){if(t)for(;t.hasChildNodes()===!0;){const e=t.firstChild;e&&(Yi(e),t.removeChild(e))}}function ts(t){return t instanceof String||typeof t=="string"}function _0(t){return typeof t=="object"&&t!==null}function lo(t,e,r,i){let n=!1;i===!0&&(n=e[r]===null&&t[r]!==void 0),n?delete t[r]:t[r]=e[r]}function MP(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;for(const i in t)if(e[i]!==void 0)if(e[i]===null||typeof e[i]!="object")lo(t,e,i,r);else{const n=t[i],o=e[i];_0(n)&&_0(o)&&MP(n,o,r)}}function Vs(t,e,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(Qe(r))throw new TypeError("Arrays are not supported by deepExtend");for(let n=0;n<t.length;n++){const o=t[n];if(Object.prototype.hasOwnProperty.call(r,o))if(r[o]&&r[o].constructor===Object)e[o]===void 0&&(e[o]={}),e[o].constructor===Object?Be(e[o],r[o],!1,i):lo(e,r,o,i);else{if(Qe(r[o]))throw new TypeError("Arrays are not supported by deepExtend");lo(e,r,o,i)}}return e}function Fd(t,e,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(Qe(r))throw new TypeError("Arrays are not supported by deepExtend");for(const n in r)if(Object.prototype.hasOwnProperty.call(r,n)&&!sn(t).call(t,n))if(r[n]&&r[n].constructor===Object)e[n]===void 0&&(e[n]={}),e[n].constructor===Object?Be(e[n],r[n]):lo(e,r,n,i);else if(Qe(r[n])){e[n]=[];for(let o=0;o<r[n].length;o++)e[n].push(r[n][o])}else lo(e,r,n,i);return e}function Be(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;for(const o in e)if(Object.prototype.hasOwnProperty.call(e,o)||r===!0)if(typeof e[o]=="object"&&e[o]!==null&&r0(e[o])===Object.prototype)t[o]===void 0?t[o]=Be({},e[o],r):typeof t[o]=="object"&&t[o]!==null&&r0(t[o])===Object.prototype?Be(t[o],e[o],r):lo(t,e,o,i);else if(Qe(e[o])){var n;t[o]=Qr(n=e[o]).call(n)}else lo(t,e,o,i);return t}function Bd(t,e){return[...t,e]}function jce(t){return Qr(t).call(t)}function zce(t){return t.getBoundingClientRect().left}function Hce(t){return t.getBoundingClientRect().top}function me(t,e){if(Qe(t)){const r=t.length;for(let i=0;i<r;i++)e(t[i],i,t)}else for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(t[r],r,t)}function Cm(t){let e;switch(t.length){case 3:case 4:return e=Fce.exec(t),e?{r:Dr(e[1]+e[1],16),g:Dr(e[2]+e[2],16),b:Dr(e[3]+e[3],16)}:null;case 6:case 7:return e=Nce.exec(t),e?{r:Dr(e[1],16),g:Dr(e[2],16),b:Dr(e[3],16)}:null;default:return null}}function $r(t,e){if(sn(t).call(t,"rgba"))return t;if(sn(t).call(t,"rgb")){const r=t.substr(ke(t).call(t,"(")+1).replace(")","").split(",");return"rgba("+r[0]+","+r[1]+","+r[2]+","+e+")"}else{const r=Cm(t);return r==null?t:"rgba("+r.r+","+r.g+","+r.b+","+e+")"}}function RP(t,e,r){var i;return"#"+Qr(i=((1<<24)+(t<<16)+(e<<8)+r).toString(16)).call(i,1)}function Hv(t,e){if(ts(t)){let i=t;if(FP(i)){var r;const n=gs(r=i.substr(4).substr(0,i.length-5).split(",")).call(r,function(o){return Dr(o)});i=RP(n[0],n[1],n[2])}if(NP(i)===!0){const n=Wce(i),o={h:n.h,s:n.s*.8,v:Math.min(1,n.v*1.02)},s={h:n.h,s:Math.min(1,n.s*1.25),v:n.v*.8},a=Wv(s.h,s.s,s.v),l=Wv(o.h,o.s,o.v);return{background:i,border:a,highlight:{background:l,border:a},hover:{background:l,border:a}}}else return{background:i,border:i,highlight:{background:i,border:i},hover:{background:i,border:i}}}else return{background:t.background||void 0,border:t.border||void 0,highlight:ts(t.highlight)?{border:t.highlight,background:t.highlight}:{background:t.highlight&&t.highlight.background||void 0,border:t.highlight&&t.highlight.border||void 0},hover:ts(t.hover)?{border:t.hover,background:t.hover}:{border:t.hover&&t.hover.border||void 0,background:t.hover&&t.hover.background||void 0}}}function oa(t,e,r){t=t/255,e=e/255,r=r/255;const i=Math.min(t,Math.min(e,r)),n=Math.max(t,Math.max(e,r));if(i===n)return{h:0,s:0,v:i};const o=t===i?e-r:r===i?t-e:r-t,a=60*((t===i?3:r===i?1:5)-o/(n-i))/360,l=(n-i)/n;return{h:a,s:l,v:n}}function ed(t,e,r){let i,n,o;const s=Math.floor(t*6),a=t*6-s,l=r*(1-e),c=r*(1-a*e),d=r*(1-(1-a)*e);switch(s%6){case 0:i=r,n=d,o=l;break;case 1:i=c,n=r,o=l;break;case 2:i=l,n=r,o=d;break;case 3:i=l,n=c,o=r;break;case 4:i=d,n=l,o=r;break;case 5:i=r,n=l,o=c;break}return{r:Math.floor(i*255),g:Math.floor(n*255),b:Math.floor(o*255)}}function Wv(t,e,r){const i=ed(t,e,r);return RP(i.r,i.g,i.b)}function Wce(t){const e=Cm(t);if(!e)throw new TypeError("'".concat(t,"' is not a valid color."));return oa(e.r,e.g,e.b)}function NP(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)}function FP(t){return Bce.test(t)}function Vce(t){return Lce.test(t)}function ln(t){if(t===null||typeof t!="object")return null;if(t instanceof Element)return t;const e=Gn(t);for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&typeof t[r]=="object"&&(e[r]=ln(t[r]));return e}function br(t,e,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const n=function(f){return f!=null},o=function(f){return f!==null&&typeof f=="object"},s=function(f){for(const p in f)if(Object.prototype.hasOwnProperty.call(f,p))return!1;return!0};if(!o(t))throw new Error("Parameter mergeTarget must be an object");if(!o(e))throw new Error("Parameter options must be an object");if(!n(r))throw new Error("Parameter option must have a value");if(!o(i))throw new Error("Parameter globalOptions must be an object");const a=function(f,p,g){o(f[g])||(f[g]={});const $=p[g],y=f[g];for(const b in $)Object.prototype.hasOwnProperty.call($,b)&&(y[b]=$[b])},l=e[r],d=o(i)&&!s(i)?i[r]:void 0,u=d?d.enabled:void 0;if(l===void 0)return;if(typeof l=="boolean"){o(t[r])||(t[r]={}),t[r].enabled=l;return}if(l===null&&!o(t[r]))if(n(d))t[r]=Gn(d);else return;if(!o(l))return;let h=!0;l.enabled!==void 0?h=l.enabled:u!==void 0&&(h=d.enabled),a(t,e,r),t[r].enabled=h}const Uce={linear(t){return t},easeInQuad(t){return t*t},easeOutQuad(t){return t*(2-t)},easeInOutQuad(t){return t<.5?2*t*t:-1+(4-2*t)*t},easeInCubic(t){return t*t*t},easeOutCubic(t){return--t*t*t+1},easeInOutCubic(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart(t){return t*t*t*t},easeOutQuart(t){return 1- --t*t*t*t},easeInOutQuart(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint(t){return t*t*t*t*t},easeOutQuint(t){return 1+--t*t*t*t*t},easeInOutQuint(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}};function qi(t,e){let r;Qe(e)||(e=[e]);for(const i of t)if(i){r=i[e[0]];for(let n=1;n<e.length;n++)r&&(r=r[e[n]]);if(typeof r<"u")break}return r}const Yce={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"};let qce=class{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:289/2,y:289/2},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=()=>{},this.closeCallback=()=>{},this._create()}insertTo(e){this.hammer!==void 0&&(this.hammer.destroy(),this.hammer=void 0),this.container=e,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}setUpdateCallback(e){if(typeof e=="function")this.updateCallback=e;else throw new Error("Function attempted to set as colorPicker update callback is not a function.")}setCloseCallback(e){if(typeof e=="function")this.closeCallback=e;else throw new Error("Function attempted to set as colorPicker closing callback is not a function.")}_isColorString(e){if(typeof e=="string")return Yce[e]}setColor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e==="none")return;let i;const n=this._isColorString(e);if(n!==void 0&&(e=n),ts(e)===!0){if(FP(e)===!0){const o=e.substr(4).substr(0,e.length-5).split(",");i={r:o[0],g:o[1],b:o[2],a:1}}else if(Vce(e)===!0){const o=e.substr(5).substr(0,e.length-6).split(",");i={r:o[0],g:o[1],b:o[2],a:o[3]}}else if(NP(e)===!0){const o=Cm(e);i={r:o.r,g:o.g,b:o.b,a:1}}}else if(e instanceof Object&&e.r!==void 0&&e.g!==void 0&&e.b!==void 0){const o=e.a!==void 0?e.a:"1.0";i={r:e.r,g:e.g,b:e.b,a:o}}if(i===void 0)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+Hl(e));this._setColor(i,r)}show(){this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}_hide(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)===!0&&(this.previousColor=ht({},this.color)),this.applied===!0&&this.updateCallback(this.initialColor),this.frame.style.display="none",_i(()=>{this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0)},0)}_save(){this.updateCallback(this.color),this.applied=!1,this._hide()}_apply(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}_loadLast(){this.previousColor!==void 0?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}_setColor(e){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)===!0&&(this.initialColor=ht({},e)),this.color=e;const i=oa(e.r,e.g,e.b),n=2*Math.PI,o=this.r*i.s,s=this.centerCoordinates.x+o*Math.sin(n*i.h),a=this.centerCoordinates.y+o*Math.cos(n*i.h);this.colorPickerSelector.style.left=s-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=a-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(e)}_setOpacity(e){this.color.a=e/100,this._updatePicker(this.color)}_setBrightness(e){const r=oa(this.color.r,this.color.g,this.color.b);r.v=e/100;const i=ed(r.h,r.s,r.v);i.a=this.color.a,this.color=i,this._updatePicker()}_updatePicker(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.color;const r=oa(e.r,e.g,e.b),i=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1)),i.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const n=this.colorPickerCanvas.clientWidth,o=this.colorPickerCanvas.clientHeight;i.clearRect(0,0,n,o),i.putImageData(this.hueCircle,0,0),i.fillStyle="rgba(0,0,0,"+(1-r.v)+")",i.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),Wl(i).call(i),this.brightnessRange.value=100*r.v,this.opacityRange.value=100*e.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}_setSize(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}_create(){var e,r,i,n;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){const s=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(s.webkitBackingStorePixelRatio||s.mozBackingStorePixelRatio||s.msBackingStorePixelRatio||s.oBackingStorePixelRatio||s.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{const s=document.createElement("DIV");s.style.color="red",s.style.fontWeight="bold",s.style.padding="10px",s.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(s)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch{}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch{}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);const o=this;this.opacityRange.onchange=function(){o._setOpacity(this.value)},this.opacityRange.oninput=function(){o._setOpacity(this.value)},this.brightnessRange.onchange=function(){o._setBrightness(this.value)},this.brightnessRange.oninput=function(){o._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=M(e=this._hide).call(e,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=M(r=this._apply).call(r,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=M(i=this._save).call(i,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=M(n=this._loadLast).call(n,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}_bindHammer(){this.drag={},this.pinch={},this.hammer=new km(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",e=>{e.isFirst&&this._moveSelector(e)}),this.hammer.on("tap",e=>{this._moveSelector(e)}),this.hammer.on("panstart",e=>{this._moveSelector(e)}),this.hammer.on("panmove",e=>{this._moveSelector(e)}),this.hammer.on("panend",e=>{this._moveSelector(e)})}_generateHueCircle(){if(this.generated===!1){const e=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const r=this.colorPickerCanvas.clientWidth,i=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,r,i);let n,o,s,a;this.centerCoordinates={x:r*.5,y:i*.5},this.r=.49*r;const l=2*Math.PI/360,c=1/360,d=1/this.r;let u;for(s=0;s<360;s++)for(a=0;a<this.r;a++)n=this.centerCoordinates.x+a*Math.sin(l*s),o=this.centerCoordinates.y+a*Math.cos(l*s),u=ed(s*c,a*d,1),e.fillStyle="rgb("+u.r+","+u.g+","+u.b+")",e.fillRect(n-.5,o-.5,2,2);e.strokeStyle="rgba(0,0,0,1)",e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),e.stroke(),this.hueCircle=e.getImageData(0,0,r,i)}this.generated=!0}_moveSelector(e){const r=this.colorPickerDiv.getBoundingClientRect(),i=e.center.x-r.left,n=e.center.y-r.top,o=.5*this.colorPickerDiv.clientHeight,s=.5*this.colorPickerDiv.clientWidth,a=i-s,l=n-o,c=Math.atan2(a,l),d=.98*Math.min(Math.sqrt(a*a+l*l),s),u=Math.cos(c)*d+o,h=Math.sin(c)*d+s;this.colorPickerSelector.style.top=u-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=h-.5*this.colorPickerSelector.clientWidth+"px";let f=c/(2*Math.PI);f=f<0?f+1:f;const p=d/this.r,g=oa(this.color.r,this.color.g,this.color.b);g.h=f,g.s=p;const $=ed(g.h,g.s,g.v);$.a=this.color.a,this.color=$,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}};function Vv(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(e.length<1)throw new TypeError("Invalid arguments.");if(e.length===1)return document.createTextNode(e[0]);{const i=document.createElement(e[0]);return i.appendChild(Vv(...Qr(e).call(e,1))),i}}let Kce=class{constructor(e,r,i){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:()=>!1;this.parent=e,this.changedOptions=[],this.container=r,this.allowCreation=!1,this.hideOption=o,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},ht(this.options,this.defaultOptions),this.configureOptions=i,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new qce(n),this.wrapper=void 0}setOptions(e){if(e!==void 0){this.popupHistory={},this._removePopup();let r=!0;if(typeof e=="string")this.options.filter=e;else if(Qe(e))this.options.filter=e.join();else if(typeof e=="object"){if(e==null)throw new TypeError("options cannot be null");e.container!==void 0&&(this.options.container=e.container),er(e)!==void 0&&(this.options.filter=er(e)),e.showButton!==void 0&&(this.options.showButton=e.showButton),e.enabled!==void 0&&(r=e.enabled)}else typeof e=="boolean"?(this.options.filter=!0,r=e):typeof e=="function"&&(this.options.filter=e,r=!0);er(this.options)===!1&&(r=!1),this.options.enabled=r}this._clean()}setModuleOptions(e){this.moduleOptions=e,this.options.enabled===!0&&(this._clean(),this.options.container!==void 0&&(this.container=this.options.container),this._create())}_create(){this._clean(),this.changedOptions=[];const e=er(this.options);let r=0,i=!1;for(const n in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,n)&&(this.allowCreation=!1,i=!1,typeof e=="function"?(i=e(n,[]),i=i||this._handleObject(this.configureOptions[n],[n],!0)):(e===!0||ke(e).call(e,n)!==-1)&&(i=!0),i!==!1&&(this.allowCreation=!0,r>0&&this._makeItem([]),this._makeHeader(n),this._handleObject(this.configureOptions[n],[n])),r++);this._makeButton(),this._push()}_push(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(let e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e]);this._showPopupIfNeeded()}_clean(){for(let e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);this.wrapper!==void 0&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}_getValue(e){let r=this.moduleOptions;for(let i=0;i<e.length;i++)if(r[e[i]]!==void 0)r=r[e[i]];else{r=void 0;break}return r}_makeItem(e){if(this.allowCreation===!0){const o=document.createElement("div");o.className="vis-configuration vis-config-item vis-config-s"+e.length;for(var r=arguments.length,i=new Array(r>1?r-1:0),n=1;n<r;n++)i[n-1]=arguments[n];return Me(i).call(i,s=>{o.appendChild(s)}),this.domElements.push(o),this.domElements.length}return 0}_makeHeader(e){const r=document.createElement("div");r.className="vis-configuration vis-config-header",r.innerText=e,this._makeItem([],r)}_makeLabel(e,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const n=document.createElement("div");if(n.className="vis-configuration vis-config-label vis-config-s"+r.length,i===!0){for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(Vv("i","b",e))}else n.innerText=e+":";return n}_makeDropdown(e,r,i){const n=document.createElement("select");n.className="vis-configuration vis-config-select";let o=0;r!==void 0&&ke(e).call(e,r)!==-1&&(o=ke(e).call(e,r));for(let l=0;l<e.length;l++){const c=document.createElement("option");c.value=e[l],l===o&&(c.selected="selected"),c.innerText=e[l],n.appendChild(c)}const s=this;n.onchange=function(){s._update(this.value,i)};const a=this._makeLabel(i[i.length-1],i);this._makeItem(i,a,n)}_makeRange(e,r,i){const n=e[0],o=e[1],s=e[2],a=e[3],l=document.createElement("input");l.className="vis-configuration vis-config-range";try{l.type="range",l.min=o,l.max=s}catch{}l.step=a;let c="",d=0;r!==void 0?(r<0&&r*1.2<o?(l.min=Math.ceil(r*1.2),d=l.min,c="range increased"):r/1.2<o&&(l.min=Math.ceil(r/1.2),d=l.min,c="range increased"),r*1.2>s&&s!==1&&(l.max=Math.ceil(r*1.2),d=l.max,c="range increased"),l.value=r):l.value=n;const u=document.createElement("input");u.className="vis-configuration vis-config-rangeinput",u.value=l.value;const h=this;l.onchange=function(){u.value=this.value,h._update(Number(this.value),i)},l.oninput=function(){u.value=this.value};const f=this._makeLabel(i[i.length-1],i),p=this._makeItem(i,f,l,u);c!==""&&this.popupHistory[p]!==d&&(this.popupHistory[p]=d,this._setupPopup(c,p))}_makeButton(){if(this.options.showButton===!0){const e=document.createElement("div");e.className="vis-configuration vis-config-button",e.innerText="generate options",e.onclick=()=>{this._printOptions()},e.onmouseover=()=>{e.className="vis-configuration vis-config-button hover"},e.onmouseout=()=>{e.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(e)}}_setupPopup(e,r){if(this.initialized===!0&&this.allowCreation===!0&&this.popupCounter<this.popupLimit){const i=document.createElement("div");i.id="vis-configuration-popup",i.className="vis-configuration-popup",i.innerText=e,i.onclick=()=>{this._removePopup()},this.popupCounter+=1,this.popupDiv={html:i,index:r}}}_removePopup(){this.popupDiv.html!==void 0&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}_showPopupIfNeeded(){if(this.popupDiv.html!==void 0){const r=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=r.left+"px",this.popupDiv.html.style.top=r.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=_i(()=>{this.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=_i(()=>{this._removePopup()},1800)}}_makeCheckbox(e,r,i){const n=document.createElement("input");n.type="checkbox",n.className="vis-configuration vis-config-checkbox",n.checked=e,r!==void 0&&(n.checked=r,r!==e&&(typeof e=="object"?r!==e.enabled&&this.changedOptions.push({path:i,value:r}):this.changedOptions.push({path:i,value:r})));const o=this;n.onchange=function(){o._update(this.checked,i)};const s=this._makeLabel(i[i.length-1],i);this._makeItem(i,s,n)}_makeTextInput(e,r,i){const n=document.createElement("input");n.type="text",n.className="vis-configuration vis-config-text",n.value=r,r!==e&&this.changedOptions.push({path:i,value:r});const o=this;n.onchange=function(){o._update(this.value,i)};const s=this._makeLabel(i[i.length-1],i);this._makeItem(i,s,n)}_makeColorField(e,r,i){const n=e[1],o=document.createElement("div");r=r===void 0?n:r,r!=="none"?(o.className="vis-configuration vis-config-colorBlock",o.style.backgroundColor=r):o.className="vis-configuration vis-config-colorBlock none",r=r===void 0?n:r,o.onclick=()=>{this._showColorPicker(r,o,i)};const s=this._makeLabel(i[i.length-1],i);this._makeItem(i,s,o)}_showColorPicker(e,r,i){r.onclick=function(){},this.colorPicker.insertTo(r),this.colorPicker.show(),this.colorPicker.setColor(e),this.colorPicker.setUpdateCallback(n=>{const o="rgba("+n.r+","+n.g+","+n.b+","+n.a+")";r.style.backgroundColor=o,this._update(o,i)}),this.colorPicker.setCloseCallback(()=>{r.onclick=()=>{this._showColorPicker(e,r,i)}})}_handleObject(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=!1;const o=er(this.options);let s=!1;for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a)){n=!0;const l=e[a],c=Bd(r,a);if(typeof o=="function"&&(n=o(a,r),n===!1&&!Qe(l)&&typeof l!="string"&&typeof l!="boolean"&&l instanceof Object&&(this.allowCreation=!1,n=this._handleObject(l,c,!0),this.allowCreation=i===!1)),n!==!1){s=!0;const d=this._getValue(c);if(Qe(l))this._handleArray(l,d,c);else if(typeof l=="string")this._makeTextInput(l,d,c);else if(typeof l=="boolean")this._makeCheckbox(l,d,c);else if(l instanceof Object){if(!this.hideOption(r,a,this.moduleOptions))if(l.enabled!==void 0){const u=Bd(c,"enabled"),h=this._getValue(u);if(h===!0){const f=this._makeLabel(a,c,!0);this._makeItem(c,f),s=this._handleObject(l,c)||s}else this._makeCheckbox(l,h,c)}else{const u=this._makeLabel(a,c,!0);this._makeItem(c,u),s=this._handleObject(l,c)||s}}else console.error("dont know how to handle",l,a,c)}}return s}_handleArray(e,r,i){typeof e[0]=="string"&&e[0]==="color"?(this._makeColorField(e,r,i),e[1]!==r&&this.changedOptions.push({path:i,value:r})):typeof e[0]=="string"?(this._makeDropdown(e,r,i),e[0]!==r&&this.changedOptions.push({path:i,value:r})):typeof e[0]=="number"&&(this._makeRange(e,r,i),e[0]!==r&&this.changedOptions.push({path:i,value:Number(r)}))}_update(e,r){const i=this._constructOptions(e,r);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",i),this.initialized=!0,this.parent.setOptions(i)}_constructOptions(e,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=i;e=e==="true"?!0:e,e=e==="false"?!1:e;for(let o=0;o<r.length;o++)r[o]!=="global"&&(n[r[o]]===void 0&&(n[r[o]]={}),o!==r.length-1?n=n[r[o]]:n[r[o]]=e);return i}_printOptions(){const e=this.getOptions();for(;this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(Vv("pre","const options = "+Hl(e,null,2)))}getOptions(){const e={};for(let r=0;r<this.changedOptions.length;r++)this._constructOptions(this.changedOptions[r].value,this.changedOptions[r].path,e);return e}},Gce=class{constructor(e,r){this.container=e,this.overflowMethod=r||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}setPosition(e,r){this.x=Dr(e),this.y=Dr(r)}setText(e){if(e instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(e)}else this.frame.innerText=e}show(e){if(e===void 0&&(e=!0),e===!0){const r=this.frame.clientHeight,i=this.frame.clientWidth,n=this.frame.parentNode.clientHeight,o=this.frame.parentNode.clientWidth;let s=0,a=0;if(this.overflowMethod=="flip"){let l=!1,c=!0;this.y-r<this.padding&&(c=!1),this.x+i>o-this.padding&&(l=!0),l?s=this.x-i:s=this.x,c?a=this.y-r:a=this.y}else a=this.y-r,a+r+this.padding>n&&(a=n-r-this.padding),a<this.padding&&(a=this.padding),s=this.x,s+i+this.padding>o&&(s=o-i-this.padding),s<this.padding&&(s=this.padding);this.frame.style.left=s+"px",this.frame.style.top=a+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}hide(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}destroy(){this.frame.parentNode.removeChild(this.frame)}},Zs=!1,S0;const Uv="background: #FFeeee; color: #dd0000";let Xce=class Je{static validate(e,r,i){Zs=!1,S0=r;let n=r;return i!==void 0&&(n=r[i]),Je.parse(e,n,[]),Zs}static parse(e,r,i){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&Je.check(n,e,r,i)}static check(e,r,i,n){if(i[e]===void 0&&i.__any__===void 0){Je.getSuggestion(e,i,n);return}let o=e,s=!0;i[e]===void 0&&i.__any__!==void 0&&(o="__any__",s=Je.getType(r[e])==="object");let a=i[o];s&&a.__type__!==void 0&&(a=a.__type__),Je.checkFields(e,r,i,o,a,n)}static checkFields(e,r,i,n,o,s){const a=function(d){console.error("%c"+d+Je.printLocation(s,e),Uv)},l=Je.getType(r[e]),c=o[l];c!==void 0?Je.getType(c)==="array"&&ke(c).call(c,r[e])===-1?(a('Invalid option detected in "'+e+'". Allowed values are:'+Je.print(c)+' not "'+r[e]+'". '),Zs=!0):l==="object"&&n!=="__any__"&&(s=Bd(s,e),Je.parse(r[e],i[n],s)):o.any===void 0&&(a('Invalid type received for "'+e+'". Expected: '+Je.print(Ze(o))+". Received ["+l+'] "'+r[e]+'"'),Zs=!0)}static getType(e){const r=typeof e;return r==="object"?e===null?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":Qe(e)?"array":e instanceof Date?"date":e.nodeType!==void 0?"dom":e._isAMomentObject===!0?"moment":"object":r==="number"?"number":r==="boolean"?"boolean":r==="string"?"string":r===void 0?"undefined":r}static getSuggestion(e,r,i){const n=Je.findInOptions(e,r,i,!1),o=Je.findInOptions(e,S0,[],!0),s=8,a=4;let l;n.indexMatch!==void 0?l=" in "+Je.printLocation(n.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+n.indexMatch+`"?

`:o.distance<=a&&n.distance>o.distance?l=" in "+Je.printLocation(n.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+Je.printLocation(o.path,o.closestMatch,""):n.distance<=s?l='. Did you mean "'+n.closestMatch+'"?'+Je.printLocation(n.path,e):l=". Did you mean one of these: "+Je.print(Ze(r))+Je.printLocation(i,e),console.error('%cUnknown option detected: "'+e+'"'+l,Uv),Zs=!0}static findInOptions(e,r,i){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,o=1e9,s="",a=[];const l=e.toLowerCase();let c;for(const u in r){let h;if(r[u].__type__!==void 0&&n===!0){const f=Je.findInOptions(e,r[u],Bd(i,u));o>f.distance&&(s=f.closestMatch,a=f.path,o=f.distance,c=f.indexMatch)}else{var d;ke(d=u.toLowerCase()).call(d,l)!==-1&&(c=u),h=Je.levenshteinDistance(e,u),o>h&&(s=u,a=jce(i),o=h)}}return{closestMatch:s,path:a,distance:o,indexMatch:c}}static printLocation(e,r){let n=`

`+(arguments.length>2&&arguments[2]!==void 0?arguments[2]:`Problem value found at: 
`)+`options = {
`;for(let o=0;o<e.length;o++){for(let s=0;s<o+1;s++)n+="  ";n+=e[o]+`: {
`}for(let o=0;o<e.length+1;o++)n+="  ";n+=r+`
`;for(let o=0;o<e.length+1;o++){for(let s=0;s<e.length-o;s++)n+="  ";n+=`}
`}return n+`

`}static print(e){return Hl(e).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}static levenshteinDistance(e,r){if(e.length===0)return r.length;if(r.length===0)return e.length;const i=[];let n;for(n=0;n<=r.length;n++)i[n]=[n];let o;for(o=0;o<=e.length;o++)i[0][o]=o;for(n=1;n<=r.length;n++)for(o=1;o<=e.length;o++)r.charAt(n-1)==e.charAt(o-1)?i[n][o]=i[n-1][o-1]:i[n][o]=Math.min(i[n-1][o-1]+1,Math.min(i[n][o-1]+1,i[n-1][o]+1));return i[r.length][e.length]}};const Jce=ri,Zce=Kce,rs=km,Qce=Gce,BP=Uv,ede=Xce;function tde(t){return Ji=t,ode()}var LP={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},Am=Gn(LP);Am.color="color.color";Am.style="dashes";var Lt={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},E0={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},Ji="",$s=0,ge="",oe="",Xt=Lt.NULL;function rde(){$s=0,ge=Ji.charAt(0)}function yt(){$s++,ge=Ji.charAt($s)}function No(){return Ji.charAt($s+1)}function T0(t){var e=t.charCodeAt(0);return e<47?e===35||e===46:e<59?e>47:e<91?e>64:e<96?e===95:e<123?e>96:!1}function vn(t,e){if(t||(t={}),e)for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}function ide(t,e,r){for(var i=e.split("."),n=t;i.length;){var o=i.shift();i.length?(n[o]||(n[o]={}),n=n[o]):n[o]=r}}function jP(t,e){for(var r,i,n=null,o=[t],s=t;s.parent;)o.push(s.parent),s=s.parent;if(s.nodes){for(r=0,i=s.nodes.length;r<i;r++)if(e.id===s.nodes[r].id){n=s.nodes[r];break}}for(n||(n={id:e.id},t.node&&(n.attr=vn(n.attr,t.node))),r=o.length-1;r>=0;r--){var a,l=o[r];l.nodes||(l.nodes=[]),ke(a=l.nodes).call(a,n)===-1&&l.nodes.push(n)}e.attr&&(n.attr=vn(n.attr,e.attr))}function nde(t,e){if(t.edges||(t.edges=[]),t.edges.push(e),t.edge){var r=vn({},t.edge);e.attr=vn(r,e.attr)}}function zP(t,e,r,i,n){var o={from:e,to:r,type:i};return t.edge&&(o.attr=vn({},t.edge)),o.attr=vn(o.attr||{},n),n!=null&&n.hasOwnProperty("arrows")&&n.arrows!=null&&(o.arrows={to:{enabled:!0,type:n.arrows.type}},n.arrows=null),o}function je(){for(Xt=Lt.NULL,oe="";ge===" "||ge==="	"||ge===`
`||ge==="\r";)yt();do{var t=!1;if(ge==="#"){for(var e=$s-1;Ji.charAt(e)===" "||Ji.charAt(e)==="	";)e--;if(Ji.charAt(e)===`
`||Ji.charAt(e)===""){for(;ge!=""&&ge!=`
`;)yt();t=!0}}if(ge==="/"&&No()==="/"){for(;ge!=""&&ge!=`
`;)yt();t=!0}if(ge==="/"&&No()==="*"){for(;ge!="";)if(ge==="*"&&No()==="/"){yt(),yt();break}else yt();t=!0}for(;ge===" "||ge==="	"||ge===`
`||ge==="\r";)yt()}while(t);if(ge===""){Xt=Lt.DELIMITER;return}var r=ge+No();if(E0[r]){Xt=Lt.DELIMITER,oe=r,yt(),yt();return}if(E0[ge]){Xt=Lt.DELIMITER,oe=ge,yt();return}if(T0(ge)||ge==="-"){for(oe+=ge,yt();T0(ge);)oe+=ge,yt();oe==="false"?oe=!1:oe==="true"?oe=!0:isNaN(Number(oe))||(oe=Number(oe)),Xt=Lt.IDENTIFIER;return}if(ge==='"'){for(yt();ge!=""&&(ge!='"'||ge==='"'&&No()==='"');)ge==='"'?(oe+=ge,yt()):ge==="\\"&&No()==="n"?(oe+=`
`,yt()):oe+=ge,yt();if(ge!='"')throw jt('End of string " expected');yt(),Xt=Lt.IDENTIFIER;return}for(Xt=Lt.UNKNOWN;ge!="";)oe+=ge,yt();throw new SyntaxError('Syntax error in part "'+UP(oe,30)+'"')}function ode(){var t={};if(rde(),je(),oe==="strict"&&(t.strict=!0,je()),(oe==="graph"||oe==="digraph")&&(t.type=oe,je()),Xt===Lt.IDENTIFIER&&(t.id=oe,je()),oe!="{")throw jt("Angle bracket { expected");if(je(),HP(t),oe!="}")throw jt("Angle bracket } expected");if(je(),oe!=="")throw jt("End of file expected");return je(),delete t.node,delete t.edge,delete t.graph,t}function HP(t){for(;oe!==""&&oe!="}";)sde(t),oe===";"&&je()}function sde(t){var e=WP(t);if(e){VP(t,e);return}var r=ade(t);if(!r){if(Xt!=Lt.IDENTIFIER)throw jt("Identifier expected");var i=oe;if(je(),oe==="="){if(je(),Xt!=Lt.IDENTIFIER)throw jt("Identifier expected");t[i]=oe,je()}else lde(t,i)}}function WP(t){var e=null;if(oe==="subgraph"&&(e={},e.type="subgraph",je(),Xt===Lt.IDENTIFIER&&(e.id=oe,je())),oe==="{"){if(je(),e||(e={}),e.parent=t,e.node=t.node,e.edge=t.edge,e.graph=t.graph,HP(e),oe!="}")throw jt("Angle bracket } expected");je(),delete e.node,delete e.edge,delete e.graph,delete e.parent,t.subgraphs||(t.subgraphs=[]),t.subgraphs.push(e)}return e}function ade(t){return oe==="node"?(je(),t.node=Sa(),"node"):oe==="edge"?(je(),t.edge=Sa(),"edge"):oe==="graph"?(je(),t.graph=Sa(),"graph"):null}function lde(t,e){var r={id:e},i=Sa();i&&(r.attr=i),jP(t,r),VP(t,e)}function VP(t,e){for(;oe==="->"||oe==="--";){var r,i=oe;je();var n=WP(t);if(n)r=n;else{if(Xt!=Lt.IDENTIFIER)throw jt("Identifier or subgraph expected");r=oe,jP(t,{id:r}),je()}var o=Sa(),s=zP(t,e,r,i,o);nde(t,s),e=r}}function Sa(){for(var t,e=null,r={dashed:!0,solid:!1,dotted:[1,5]},i={dot:"circle",box:"box",crow:"crow",curve:"curve",icurve:"inv_curve",normal:"triangle",inv:"inv_triangle",diamond:"diamond",tee:"bar",vee:"vee"},n=new Array,o=new Array;oe==="[";){for(je(),e={};oe!==""&&oe!="]";){if(Xt!=Lt.IDENTIFIER)throw jt("Attribute name expected");var s=oe;if(je(),oe!="=")throw jt("Equal sign = expected");if(je(),Xt!=Lt.IDENTIFIER)throw jt("Attribute value expected");var a=oe;s==="style"&&(a=r[a]);var l;s==="arrowhead"&&(l=i[a],s="arrows",a={to:{enabled:!0,type:l}}),s==="arrowtail"&&(l=i[a],s="arrows",a={from:{enabled:!0,type:l}}),n.push({attr:e,name:s,value:a}),o.push(s),je(),oe==","&&je()}if(oe!="]")throw jt("Bracket ] expected");je()}if(sn(o).call(o,"dir")){var c={};for(c.arrows={},t=0;t<n.length;t++)if(n[t].name==="arrows")if(n[t].value.to!=null)c.arrows.to=t;else if(n[t].value.from!=null)c.arrows.from=t;else throw jt("Invalid value of arrows");else n[t].name==="dir"&&(c.dir=t);var d=n[c.dir].value;if(!sn(o).call(o,"arrows"))if(d==="both")n.push({attr:n[c.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),c.arrows.to=n.length-1,n.push({attr:n[c.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),c.arrows.from=n.length-1;else if(d==="forward")n.push({attr:n[c.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),c.arrows.to=n.length-1;else if(d==="back")n.push({attr:n[c.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),c.arrows.from=n.length-1;else if(d==="none")n.push({attr:n[c.dir].attr,name:"arrows",value:""}),c.arrows.to=n.length-1;else throw jt('Invalid dir type "'+d+'"');var u,h;if(d==="both")c.arrows.to&&c.arrows.from?(h=n[c.arrows.to].value.to.type,u=n[c.arrows.from].value.from.type,n[c.arrows.to]={attr:n[c.arrows.to].attr,name:n[c.arrows.to].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:u}}},wi(n).call(n,c.arrows.from,1)):c.arrows.to?(h=n[c.arrows.to].value.to.type,u="arrow",n[c.arrows.to]={attr:n[c.arrows.to].attr,name:n[c.arrows.to].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:u}}}):c.arrows.from&&(h="arrow",u=n[c.arrows.from].value.from.type,n[c.arrows.from]={attr:n[c.arrows.from].attr,name:n[c.arrows.from].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:u}}});else if(d==="back")c.arrows.to&&c.arrows.from?(h="",u=n[c.arrows.from].value.from.type,n[c.arrows.from]={attr:n[c.arrows.from].attr,name:n[c.arrows.from].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:u}}}):c.arrows.to?(h="",u="arrow",c.arrows.from=c.arrows.to,n[c.arrows.from]={attr:n[c.arrows.from].attr,name:n[c.arrows.from].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:u}}}):c.arrows.from&&(h="",u=n[c.arrows.from].value.from.type,n[c.arrows.to]={attr:n[c.arrows.from].attr,name:n[c.arrows.from].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:u}}}),n[c.arrows.from]={attr:n[c.arrows.from].attr,name:n[c.arrows.from].name,value:{from:{enabled:!0,type:n[c.arrows.from].value.from.type}}};else if(d==="none"){var f;c.arrows.to?f=c.arrows.to:f=c.arrows.from,n[f]={attr:n[f].attr,name:n[f].name,value:""}}else if(d==="forward")c.arrows.to&&c.arrows.from?(h=n[c.arrows.to].value.to.type,u="",n[c.arrows.to]={attr:n[c.arrows.to].attr,name:n[c.arrows.to].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:u}}}):c.arrows.to?(h=n[c.arrows.to].value.to.type,u="",n[c.arrows.to]={attr:n[c.arrows.to].attr,name:n[c.arrows.to].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:u}}}):c.arrows.from&&(h="arrow",u="",c.arrows.to=c.arrows.from,n[c.arrows.to]={attr:n[c.arrows.to].attr,name:n[c.arrows.to].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:u}}}),n[c.arrows.to]={attr:n[c.arrows.to].attr,name:n[c.arrows.to].name,value:{to:{enabled:!0,type:n[c.arrows.to].value.to.type}}};else throw jt('Invalid dir type "'+d+'"');wi(n).call(n,c.dir,1)}var p;if(sn(o).call(o,"penwidth")){var g=[];for(p=n.length,t=0;t<p;t++)n[t].name!=="width"&&(n[t].name==="penwidth"&&(n[t].name="width"),g.push(n[t]));n=g}for(p=n.length,t=0;t<p;t++)ide(n[t].attr,n[t].name,n[t].value);return e}function jt(t){return new SyntaxError(t+', got "'+UP(oe,30)+'" (char '+$s+")")}function UP(t,e){return t.length<=e?t:t.substr(0,27)+"..."}function cde(t,e,r){Qe(t)?Me(t).call(t,function(i){Qe(e)?Me(e).call(e,function(n){r(i,n)}):r(i,e)}):Qe(e)?Me(e).call(e,function(i){r(t,i)}):r(t,e)}function gp(t,e,r){for(var i=e.split("."),n=i.pop(),o=t,s=0;s<i.length;s++){var a=i[s];a in o||(o[a]={}),o=o[a]}return o[n]=r,t}function I0(t,e){var r={};for(var i in t)if(t.hasOwnProperty(i)){var n=e[i];Qe(n)?Me(n).call(n,function(o){gp(r,o,t[i])}):typeof n=="string"?gp(r,n,t[i]):gp(r,i,t[i])}return r}function dde(t){var e=tde(t),r={nodes:[],edges:[],options:{}};if(e.nodes){var i;Me(i=e.nodes).call(i,function(s){var a={id:s.id,label:String(s.label||s.id)};vn(a,I0(s.attr,LP)),a.image&&(a.shape="image"),r.nodes.push(a)})}if(e.edges){var n,o=function(s){var a={from:s.from,to:s.to};return vn(a,I0(s.attr,Am)),a.arrows==null&&s.type==="->"&&(a.arrows="to"),a};Me(n=e.edges).call(n,function(s){var a,l;if(s.from instanceof Object?a=s.from.nodes:a={id:s.from},s.to instanceof Object?l=s.to.nodes:l={id:s.to},s.from instanceof Object&&s.from.edges){var c;Me(c=s.from.edges).call(c,function(u){var h=o(u);r.edges.push(h)})}if(cde(a,l,function(u,h){var f=zP(r,u.id,h.id,s.type,s.attr),p=o(f);r.edges.push(p)}),s.to instanceof Object&&s.to.edges){var d;Me(d=s.to.edges).call(d,function(u){var h=o(u);r.edges.push(h)})}})}return e.attr&&(r.options=e.attr),r}function ude(t,e){var r;const i={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};e!=null&&(e.fixed!=null&&(i.nodes.fixed=e.fixed),e.parseColor!=null&&(i.nodes.parseColor=e.parseColor),e.inheritColor!=null&&(i.edges.inheritColor=e.inheritColor));const n=t.edges,o=gs(n).call(n,a=>{const l={from:a.source,id:a.id,to:a.target};return a.attributes!=null&&(l.attributes=a.attributes),a.label!=null&&(l.label=a.label),a.attributes!=null&&a.attributes.title!=null&&(l.title=a.attributes.title),a.type==="Directed"&&(l.arrows="to"),a.color&&i.edges.inheritColor===!1&&(l.color=a.color),l});return{nodes:gs(r=t.nodes).call(r,a=>{const l={id:a.id,fixed:i.nodes.fixed&&a.x!=null&&a.y!=null};return a.attributes!=null&&(l.attributes=a.attributes),a.label!=null&&(l.label=a.label),a.size!=null&&(l.size=a.size),a.attributes!=null&&a.attributes.title!=null&&(l.title=a.attributes.title),a.title!=null&&(l.title=a.title),a.x!=null&&(l.x=a.x),a.y!=null&&(l.y=a.y),a.color!=null&&(i.nodes.parseColor===!0?l.color=a.color:l.color={background:a.color,border:a.color,highlight:{background:a.color,border:a.color},hover:{background:a.color,border:a.color}}),l}),edges:o}}const hde={addDescription:"Click in an empty space to place a new node.",addEdge:"Add Edge",addNode:"Add Node",back:"Back",close:"Close",createEdgeError:"Cannot link edges to a cluster.",del:"Delete selected",deleteClusterError:"Clusters cannot be deleted.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",edit:"Edit",editClusterError:"Clusters cannot be edited.",editEdge:"Edit Edge",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",editNode:"Edit Node"},fde={addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",addEdge:"Kante hinzufügen",addNode:"Knoten hinzufügen",back:"Zurück",close:"Schließen",createEdgeError:"Es ist nicht möglich, Kanten mit Clustern zu verbinden.",del:"Lösche Auswahl",deleteClusterError:"Cluster können nicht gelöscht werden.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",edit:"Editieren",editClusterError:"Cluster können nicht editiert werden.",editEdge:"Kante editieren",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",editNode:"Knoten editieren"},pde={addDescription:"Haga clic en un lugar vacío para colocar un nuevo nodo.",addEdge:"Añadir arista",addNode:"Añadir nodo",back:"Atrás",close:"Cerrar",createEdgeError:"No se puede conectar una arista a un grupo.",del:"Eliminar selección",deleteClusterError:"No es posible eliminar grupos.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",edit:"Editar",editClusterError:"No es posible editar grupos.",editEdge:"Editar arista",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",editNode:"Editar nodo"},vde={addDescription:"Clicca per aggiungere un nuovo nodo",addEdge:"Aggiungi un vertice",addNode:"Aggiungi un nodo",back:"Indietro",close:"Chiudere",createEdgeError:"Non si possono collegare vertici ad un cluster",del:"Cancella la selezione",deleteClusterError:"I cluster non possono essere cancellati",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",edit:"Modifica",editClusterError:"I clusters non possono essere modificati.",editEdge:"Modifica il vertice",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",editNode:"Modifica il nodo"},gde={addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",addEdge:"Link toevoegen",addNode:"Node toevoegen",back:"Terug",close:"Sluiten",createEdgeError:"Kan geen link maken naar een cluster.",del:"Selectie verwijderen",deleteClusterError:"Clusters kunnen niet worden verwijderd.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",edit:"Wijzigen",editClusterError:"Clusters kunnen niet worden aangepast.",editEdge:"Link wijzigen",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",editNode:"Node wijzigen"},mde={addDescription:"Clique em um espaço em branco para adicionar um novo nó",addEdge:"Adicionar aresta",addNode:"Adicionar nó",back:"Voltar",close:"Fechar",createEdgeError:"Não foi possível linkar arestas a um cluster.",del:"Remover selecionado",deleteClusterError:"Clusters não puderam ser removidos.",edgeDescription:"Clique em um nó e arraste a aresta até outro nó para conectá-los",edit:"Editar",editClusterError:"Clusters não puderam ser editados.",editEdge:"Editar aresta",editEdgeDescription:"Clique nos pontos de controle e os arraste para um nó para conectá-los",editNode:"Editar nó"},yde={addDescription:"Кликните в свободное место, чтобы добавить новый узел.",addEdge:"Добавить ребро",addNode:"Добавить узел",back:"Назад",close:"Закрывать",createEdgeError:"Невозможно соединить ребра в кластер.",del:"Удалить выбранное",deleteClusterError:"Кластеры не могут быть удалены",edgeDescription:"Кликните на узел и протяните ребро к другому узлу, чтобы соединить их.",edit:"Редактировать",editClusterError:"Кластеры недоступны для редактирования.",editEdge:"Редактировать ребро",editEdgeDescription:"Кликните на контрольные точки и перетащите их в узел, чтобы подключиться к нему.",editNode:"Редактировать узел"},bde={addDescription:"单击空白处放置新节点。",addEdge:"添加连接线",addNode:"添加节点",back:"返回",close:"關閉",createEdgeError:"无法将连接线连接到群集。",del:"删除选定",deleteClusterError:"无法删除群集。",edgeDescription:"单击某个节点并将该连接线拖动到另一个节点以连接它们。",edit:"编辑",editClusterError:"无法编辑群集。",editEdge:"编辑连接线",editEdgeDescription:"单击控制节点并将它们拖到节点上连接。",editNode:"编辑节点"},$de={addDescription:"Kлікніть на вільне місце, щоб додати новий вузол.",addEdge:"Додати край",addNode:"Додати вузол",back:"Назад",close:"Закрити",createEdgeError:"Не можливо об'єднати краї в групу.",del:"Видалити обране",deleteClusterError:"Групи не можуть бути видалені.",edgeDescription:"Клікніть на вузол і перетягніть край до іншого вузла, щоб їх з'єднати.",edit:"Редагувати",editClusterError:"Групи недоступні для редагування.",editEdge:"Редагувати край",editEdgeDescription:"Клікніть на контрольні точки і перетягніть їх у вузол, щоб підключитися до нього.",editNode:"Редагувати вузол"},wde={addDescription:"Cliquez dans un endroit vide pour placer un nœud.",addEdge:"Ajouter un lien",addNode:"Ajouter un nœud",back:"Retour",close:"Fermer",createEdgeError:"Impossible de créer un lien vers un cluster.",del:"Effacer la sélection",deleteClusterError:"Les clusters ne peuvent pas être effacés.",edgeDescription:"Cliquez sur un nœud et glissez le lien vers un autre nœud pour les connecter.",edit:"Éditer",editClusterError:"Les clusters ne peuvent pas être édités.",editEdge:"Éditer le lien",editEdgeDescription:"Cliquez sur les points de contrôle et glissez-les pour connecter un nœud.",editNode:"Éditer le nœud"},_de={addDescription:"Kluknutím do prázdného prostoru můžete přidat nový vrchol.",addEdge:"Přidat hranu",addNode:"Přidat vrchol",back:"Zpět",close:"Zavřít",createEdgeError:"Nelze připojit hranu ke shluku.",del:"Smazat výběr",deleteClusterError:"Nelze mazat shluky.",edgeDescription:"Přetažením z jednoho vrcholu do druhého můžete spojit tyto vrcholy novou hranou.",edit:"Upravit",editClusterError:"Nelze upravovat shluky.",editEdge:"Upravit hranu",editEdgeDescription:"Přetažením kontrolního vrcholu hrany ji můžete připojit k jinému vrcholu.",editNode:"Upravit vrchol"};var Sde=Object.freeze({__proto__:null,cn:bde,cs:_de,de:fde,en:hde,es:pde,fr:wde,it:vde,nl:gde,pt:mde,ru:yde,uk:$de});function Ede(t,e){try{const[i,n]=e.split(/[-_ /]/,2),o=i!=null?i.toLowerCase():null,s=n!=null?n.toUpperCase():null;if(o&&s){const a=o+"-"+s;if(Object.prototype.hasOwnProperty.call(t,a))return a;var r;console.warn(Yse(r="Unknown variant ".concat(s," of language ")).call(r,o,"."))}if(o){const a=o;if(Object.prototype.hasOwnProperty.call(t,a))return a;console.warn("Unknown language ".concat(o))}return console.warn("Unknown locale ".concat(e,", falling back to English.")),"en"}catch(i){return console.error(i),console.warn("Unexpected error while normalizing locale ".concat(e,", falling back to English.")),"en"}}class Tde{constructor(){this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}init(){if(this.initialized())return;this.src=this.image.src;const e=this.image.width,r=this.image.height;this.width=e,this.height=r;const i=Math.floor(r/2),n=Math.floor(r/4),o=Math.floor(r/8),s=Math.floor(r/16),a=Math.floor(e/2),l=Math.floor(e/4),c=Math.floor(e/8),d=Math.floor(e/16);this.canvas.width=3*l,this.canvas.height=i,this.coordinates=[[0,0,a,i],[a,0,l,n],[a,n,c,o],[5*c,n,d,s]],this._fillMipMap()}initialized(){return this.coordinates!==void 0}_fillMipMap(){const e=this.canvas.getContext("2d"),r=this.coordinates[0];e.drawImage(this.image,r[0],r[1],r[2],r[3]);for(let i=1;i<this.NUM_ITERATIONS;i++){const n=this.coordinates[i-1],o=this.coordinates[i];e.drawImage(this.canvas,n[0],n[1],n[2],n[3],o[0],o[1],o[2],o[3])}}drawImageAtPosition(e,r,i,n,o,s){if(this.initialized())if(r>2){r*=.5;let a=0;for(;r>2&&a<this.NUM_ITERATIONS;)r*=.5,a+=1;a>=this.NUM_ITERATIONS&&(a=this.NUM_ITERATIONS-1);const l=this.coordinates[a];e.drawImage(this.canvas,l[0],l[1],l[2],l[3],i,n,o,s)}else e.drawImage(this.image,i,n,o,s)}}class Ide{constructor(e){this.images={},this.imageBroken={},this.callback=e}_tryloadBrokenUrl(e,r,i){if(!(e===void 0||i===void 0)){if(r===void 0){console.warn("No broken url image defined");return}i.image.onerror=()=>{console.error("Could not load brokenImage:",r)},i.image.src=r}}_redrawWithImage(e){this.callback&&this.callback(e)}load(e,r){const i=this.images[e];if(i)return i;const n=new Tde;return this.images[e]=n,n.image.onload=()=>{this._fixImageCoordinates(n.image),n.init(),this._redrawWithImage(n)},n.image.onerror=()=>{console.error("Could not load image:",e),this._tryloadBrokenUrl(e,r,n)},n.image.src=e,n}_fixImageCoordinates(e){e.width===0&&(document.body.appendChild(e),e.width=e.offsetWidth,e.height=e.offsetHeight,document.body.removeChild(e))}}var YP={exports:{}},Ode=Te,xde=Ode(function(){if(typeof ArrayBuffer=="function"){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}}),Pde=Te,kde=Ft,Cde=Ni,O0=xde,td=Object.isExtensible,Ade=Pde(function(){td(1)}),Dde=Ade||O0?function(e){return!kde(e)||O0&&Cde(e)==="ArrayBuffer"?!1:td?td(e):!0}:td,Mde=Te,qP=!Mde(function(){return Object.isExtensible(Object.preventExtensions({}))}),Rde=ce,Nde=Ie,Fde=Cl,Bde=Ft,Dm=Ct,Lde=gr.f,x0=Fl,jde=ju,Mm=Dde,zde=Du,Hde=qP,KP=!1,Ci=zde("meta"),Wde=0,Rm=function(t){Lde(t,Ci,{value:{objectID:"O"+Wde++,weakData:{}}})},Vde=function(t,e){if(!Bde(t))return typeof t=="symbol"?t:(typeof t=="string"?"S":"P")+t;if(!Dm(t,Ci)){if(!Mm(t))return"F";if(!e)return"E";Rm(t)}return t[Ci].objectID},Ude=function(t,e){if(!Dm(t,Ci)){if(!Mm(t))return!0;if(!e)return!1;Rm(t)}return t[Ci].weakData},Yde=function(t){return Hde&&KP&&Mm(t)&&!Dm(t,Ci)&&Rm(t),t},qde=function(){Kde.enable=function(){},KP=!0;var t=x0.f,e=Nde([].splice),r={};r[Ci]=1,t(r).length&&(x0.f=function(i){for(var n=t(i),o=0,s=n.length;o<s;o++)if(n[o]===Ci){e(n,o,1);break}return n},Rde({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:jde.f}))},Kde=YP.exports={enable:qde,fastKey:Vde,getWeakData:Ude,onFreeze:Yde};Fde[Ci]=!0;var Ju=YP.exports,Gde=dt,Xde=zs,Jde=Gde("iterator"),Zde=Array.prototype,Qde=function(t){return t!==void 0&&(Xde.Array===t||Zde[Jde]===t)},eue=bo,P0=am,tue=Rs,rue=zs,iue=dt,nue=iue("iterator"),GP=function(t){if(!tue(t))return P0(t,nue)||P0(t,"@@iterator")||rue[eue(t)]},oue=zr,sue=Fs,aue=Fi,lue=xl,cue=GP,due=TypeError,uue=function(t,e){var r=arguments.length<2?cue(t):e;if(sue(r))return aue(oue(r,t));throw new due(lue(t)+" is not iterable")},hue=zr,k0=Fi,fue=am,pue=function(t,e,r){var i,n;k0(t);try{if(i=fue(t,"return"),!i){if(e==="throw")throw r;return r}i=hue(i,t)}catch(o){n=!0,i=o}if(e==="throw")throw r;if(n)throw i;return k0(i),r},vue=Ru,gue=zr,mue=Fi,yue=xl,bue=Qde,$ue=li,C0=gt,wue=uue,_ue=GP,A0=pue,Sue=TypeError,rd=function(t,e){this.stopped=t,this.result=e},D0=rd.prototype,Nm=function(t,e,r){var i=r&&r.that,n=!!(r&&r.AS_ENTRIES),o=!!(r&&r.IS_RECORD),s=!!(r&&r.IS_ITERATOR),a=!!(r&&r.INTERRUPTED),l=vue(e,i),c,d,u,h,f,p,g,$=function(b){return c&&A0(c,"normal",b),new rd(!0,b)},y=function(b){return n?(mue(b),a?l(b[0],b[1],$):l(b[0],b[1])):a?l(b,$):l(b)};if(o)c=t.iterator;else if(s)c=t;else{if(d=_ue(t),!d)throw new Sue(yue(t)+" is not iterable");if(bue(d)){for(u=0,h=$ue(t);h>u;u++)if(f=y(t[u]),f&&C0(D0,f))return f;return new rd(!1)}c=wue(t,d)}for(p=o?t.next:c.next;!(g=gue(p,c)).done;){try{f=y(g.value)}catch(b){A0(c,"throw",b)}if(typeof f=="object"&&f&&C0(D0,f))return f}return new rd(!1)},Eue=gt,Tue=TypeError,Fm=function(t,e){if(Eue(e,t))return t;throw new Tue("Incorrect invocation")},Iue=ce,Oue=rt,xue=Ju,Pue=Te,kue=Ls,Cue=Nm,Aue=Fm,Due=kt,Mue=Ft,Rue=Rs,Nue=js,Fue=gr.f,Bue=En.forEach,Lue=mt,XP=$o,jue=XP.set,zue=XP.getterFor,Bm=function(t,e,r){var i=t.indexOf("Map")!==-1,n=t.indexOf("Weak")!==-1,o=i?"set":"add",s=Oue[t],a=s&&s.prototype,l={},c;if(!Lue||!Due(s)||!(n||a.forEach&&!Pue(function(){new s().entries().next()})))c=r.getConstructor(e,t,i,o),xue.enable();else{c=e(function(h,f){jue(Aue(h,d),{type:t,collection:new s}),Rue(f)||Cue(f,h[o],{that:h,AS_ENTRIES:i})});var d=c.prototype,u=zue(t);Bue(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(h){var f=h==="add"||h==="set";h in a&&!(n&&h==="clear")&&kue(d,h,function(p,g){var $=u(this).collection;if(!f&&n&&!Mue(p))return h==="get"?void 0:!1;var y=$[h](p===0?0:p,g);return f?this:y})}),n||Fue(d,"size",{configurable:!0,get:function(){return u(this).collection.size}})}return Nue(c,t,!1,!0),l[t]=c,Iue({global:!0,forced:!0},l),n||r.setStrong(c,t,i),c},Hue=Bl,Lm=function(t,e,r){for(var i in e)r&&r.unsafe&&t[i]?t[i]=e[i]:Hue(t,i,e[i],r);return t},Wue=Wr,Vue=vm,Uue=dt,Yue=mt,M0=Uue("species"),que=function(t){var e=Wue(t);Yue&&e&&!e[M0]&&Vue(e,M0,{configurable:!0,get:function(){return this}})},Kue=Nl,Gue=vm,R0=Lm,Xue=Ru,Jue=Fm,Zue=Rs,Que=Nm,ehe=$m,Dc=wm,the=que,Qs=mt,N0=Ju.fastKey,JP=$o,F0=JP.set,mp=JP.getterFor,ZP={getConstructor:function(t,e,r,i){var n=t(function(c,d){Jue(c,o),F0(c,{type:e,index:Kue(null),first:void 0,last:void 0,size:0}),Qs||(c.size=0),Zue(d)||Que(d,c[i],{that:c,AS_ENTRIES:r})}),o=n.prototype,s=mp(e),a=function(c,d,u){var h=s(c),f=l(c,d),p,g;return f?f.value=u:(h.last=f={index:g=N0(d,!0),key:d,value:u,previous:p=h.last,next:void 0,removed:!1},h.first||(h.first=f),p&&(p.next=f),Qs?h.size++:c.size++,g!=="F"&&(h.index[g]=f)),c},l=function(c,d){var u=s(c),h=N0(d),f;if(h!=="F")return u.index[h];for(f=u.first;f;f=f.next)if(f.key===d)return f};return R0(o,{clear:function(){for(var d=this,u=s(d),h=u.index,f=u.first;f;)f.removed=!0,f.previous&&(f.previous=f.previous.next=void 0),delete h[f.index],f=f.next;u.first=u.last=void 0,Qs?u.size=0:d.size=0},delete:function(c){var d=this,u=s(d),h=l(d,c);if(h){var f=h.next,p=h.previous;delete u.index[h.index],h.removed=!0,p&&(p.next=f),f&&(f.previous=p),u.first===h&&(u.first=f),u.last===h&&(u.last=p),Qs?u.size--:d.size--}return!!h},forEach:function(d){for(var u=s(this),h=Xue(d,arguments.length>1?arguments[1]:void 0),f;f=f?f.next:u.first;)for(h(f.value,f.key,this);f&&f.removed;)f=f.previous},has:function(d){return!!l(this,d)}}),R0(o,r?{get:function(d){var u=l(this,d);return u&&u.value},set:function(d,u){return a(this,d===0?0:d,u)}}:{add:function(d){return a(this,d=d===0?0:d,d)}}),Qs&&Gue(o,"size",{configurable:!0,get:function(){return s(this).size}}),n},setStrong:function(t,e,r){var i=e+" Iterator",n=mp(e),o=mp(i);ehe(t,e,function(s,a){F0(this,{type:i,target:s,state:n(s),kind:a,last:void 0})},function(){for(var s=o(this),a=s.kind,l=s.last;l&&l.removed;)l=l.previous;return!s.target||!(s.last=l=l?l.next:s.state.first)?(s.target=void 0,Dc(void 0,!0)):Dc(a==="keys"?l.key:a==="values"?l.value:[l.key,l.value],!1)},r?"entries":"values",!r,!0),the(e)}},rhe=Bm,ihe=ZP;rhe("Map",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},ihe);var jm=Ie,nhe=Nu,ohe=ci,she=El,ahe=jm("".charAt),B0=jm("".charCodeAt),lhe=jm("".slice),che=function(t){return function(e,r){var i=ohe(she(e)),n=nhe(r),o=i.length,s,a;return n<0||n>=o?t?"":void 0:(s=B0(i,n),s<55296||s>56319||n+1===o||(a=B0(i,n+1))<56320||a>57343?t?ahe(i,n):s:t?lhe(i,n,n+2):(s-55296<<10)+(a-56320)+65536)}},dhe={charAt:che(!0)},uhe=dhe.charAt,hhe=ci,QP=$o,fhe=$m,L0=wm,ek="String Iterator",phe=QP.set,vhe=QP.getterFor(ek);fhe(String,"String",function(t){phe(this,{type:ek,string:hhe(t),index:0})},function(){var e=vhe(this),r=e.string,i=e.index,n;return i>=r.length?L0(void 0,!0):(n=uhe(r,i),e.index+=n.length,L0(n,!1))});var ghe=Ce,mhe=ghe.Map,yhe=mhe,bhe=yhe,$he=bhe,zm=he($he);class whe{constructor(){this.clear(),this._defaultIndex=0,this._groupIndex=0,this._defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},ht(this.options,this.defaultOptions)}setOptions(e){const r=["useDefaultGroups"];if(e!==void 0){for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&ke(r).call(r,i)===-1){const n=e[i];this.add(i,n)}}}clear(){this._groups=new zm,this._groupNames=[]}get(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,i=this._groups.get(e);if(i===void 0&&r)if(this.options.useDefaultGroups===!1&&this._groupNames.length>0){const n=this._groupIndex%this._groupNames.length;++this._groupIndex,i={},i.color=this._groups.get(this._groupNames[n]),this._groups.set(e,i)}else{const n=this._defaultIndex%this._defaultGroups.length;this._defaultIndex++,i={},i.color=this._defaultGroups[n],this._groups.set(e,i)}return i}add(e,r){return this._groups.has(e)||this._groupNames.push(e),this._groups.set(e,r),r}}var _he=ce;_he({target:"Number",stat:!0},{isNaN:function(e){return e!==e}});var She=Ce,Ehe=She.Number.isNaN,The=Ehe,Ihe=The,Ohe=Ihe,Yv=he(Ohe),xhe=rt,Phe=xhe.isFinite,khe=Number.isFinite||function(e){return typeof e=="number"&&Phe(e)},Che=ce,Ahe=khe;Che({target:"Number",stat:!0},{isFinite:Ahe});var Dhe=Ce,Mhe=Dhe.Number.isFinite,Rhe=Mhe,Nhe=Rhe,Fhe=Nhe,Ln=he(Fhe),Bhe=ce,Lhe=En.some,jhe=Hs,zhe=jhe("some");Bhe({target:"Array",proto:!0,forced:!zhe},{some:function(e){return Lhe(this,e,arguments.length>1?arguments[1]:void 0)}});var Hhe=At,Whe=Hhe("Array").some,Vhe=gt,Uhe=Whe,yp=Array.prototype,Yhe=function(t){var e=t.some;return t===yp||Vhe(yp,t)&&e===yp.some?Uhe:e},qhe=Yhe,Khe=qhe,Ghe=Khe,Xhe=he(Ghe),tk={exports:{}},Jhe=ce,Zhe=mt,j0=gr.f;Jhe({target:"Object",stat:!0,forced:Object.defineProperty!==j0,sham:!Zhe},{defineProperty:j0});var Qhe=Ce,rk=Qhe.Object,efe=tk.exports=function(e,r,i){return rk.defineProperty(e,r,i)};rk.defineProperty.sham&&(efe.sham=!0);var tfe=tk.exports,rfe=tfe,ik=rfe,ife=ik,nfe=ife,ofe=nfe,sfe=ofe,afe=sfe,lfe=he(afe),cfe=dt,dfe=gr.f,z0=cfe("metadata"),H0=Function.prototype;H0[z0]===void 0&&dfe(H0,z0,{value:null});var ufe=it;ufe("asyncDispose");var hfe=it;hfe("dispose");var ffe=it;ffe("metadata");var pfe=Kx,vfe=pfe,gfe=Wr,mfe=Ie,Hm=gfe("Symbol"),yfe=Hm.keyFor,bfe=mfe(Hm.prototype.valueOf),nk=Hm.isRegisteredSymbol||function(e){try{return yfe(bfe(e))!==void 0}catch{return!1}},$fe=ce,wfe=nk;$fe({target:"Symbol",stat:!0},{isRegisteredSymbol:wfe});var _fe=Bs,ok=Wr,Sfe=Ie,Efe=Ol,Tfe=dt,Ld=ok("Symbol"),W0=Ld.isWellKnownSymbol,sk=ok("Object","getOwnPropertyNames"),Ife=Sfe(Ld.prototype.valueOf),V0=_fe("wks");for(var bp=0,U0=sk(Ld),Ofe=U0.length;bp<Ofe;bp++)try{var Y0=U0[bp];Efe(Ld[Y0])&&Tfe(Y0)}catch{}var ak=function(e){if(W0&&W0(e))return!0;try{for(var r=Ife(e),i=0,n=sk(V0),o=n.length;i<o;i++)if(V0[n[i]]==r)return!0}catch{}return!1},xfe=ce,Pfe=ak;xfe({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:Pfe});var kfe=it;kfe("matcher");var Cfe=it;Cfe("observable");var Afe=ce,Dfe=nk;Afe({target:"Symbol",stat:!0},{isRegistered:Dfe});var Mfe=ce,Rfe=ak;Mfe({target:"Symbol",stat:!0,forced:!0},{isWellKnown:Rfe});var Nfe=it;Nfe("metadataKey");var Ffe=it;Ffe("patternMatch");var Bfe=it;Bfe("replaceAll");var Lfe=vfe,jfe=Lfe,zfe=jfe,Mc=he(zfe),Hfe=Ll,Wfe=Hfe.f("iterator"),Vfe=Wfe,Ufe=Vfe,Yfe=Ufe,qfe=Yfe,Kfe=qfe,Gfe=Kfe,Xfe=Gfe,Jfe=he(Xfe);function Xa(t){"@babel/helpers - typeof";return Xa=typeof Mc=="function"&&typeof Jfe=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Mc=="function"&&e.constructor===Mc&&e!==Mc.prototype?"symbol":typeof e},Xa(t)}var Zfe=Ll,Qfe=Zfe.f("toPrimitive"),epe=Qfe,tpe=epe,rpe=tpe,ipe=rpe,npe=ipe,ope=npe,spe=ope,ape=he(spe);function lpe(t,e){if(Xa(t)!=="object"||t===null)return t;var r=t[ape];if(r!==void 0){var i=r.call(t,e);if(Xa(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cpe(t){var e=lpe(t,"string");return Xa(e)==="symbol"?e:String(e)}function Zu(t,e,r){return e=cpe(e),e in t?lfe(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var lk=rt,dpe=Te,upe=Ie,hpe=ci,fpe=rP.trim,ppe=_m,vpe=upe("".charAt),jd=lk.parseFloat,q0=lk.Symbol,K0=q0&&q0.iterator,gpe=1/jd(ppe+"-0")!==-1/0||K0&&!dpe(function(){jd(Object(K0))}),mpe=gpe?function(e){var r=fpe(hpe(e)),i=jd(r);return i===0&&vpe(r,0)==="-"?-0:i}:jd,ype=ce,G0=mpe;ype({global:!0,forced:parseFloat!==G0},{parseFloat:G0});var bpe=Ce,$pe=bpe.parseFloat,wpe=$pe,_pe=wpe,Spe=_pe,ck=he(Spe),Epe=ce,Tpe=Te,Ipe=ju.f,Ope=Tpe(function(){return!Object.getOwnPropertyNames(1)});Epe({target:"Object",stat:!0,forced:Ope},{getOwnPropertyNames:Ipe});var xpe=Ce,Ppe=xpe.Object,kpe=function(e){return Ppe.getOwnPropertyNames(e)},Cpe=kpe,Ape=Cpe,Dpe=Ape,Mpe=he(Dpe),Rpe=Ce,Npe=Rpe.Object.getOwnPropertySymbols,Fpe=Npe,Bpe=Fpe,Lpe=Bpe,gn=he(Lpe),dk={exports:{}},jpe=ce,zpe=Te,Hpe=Hr,uk=wl.f,hk=mt,Wpe=!hk||zpe(function(){uk(1)});jpe({target:"Object",stat:!0,forced:Wpe,sham:!hk},{getOwnPropertyDescriptor:function(e,r){return uk(Hpe(e),r)}});var Vpe=Ce,fk=Vpe.Object,Upe=dk.exports=function(e,r){return fk.getOwnPropertyDescriptor(e,r)};fk.getOwnPropertyDescriptor.sham&&(Upe.sham=!0);var Ype=dk.exports,qpe=Ype,Kpe=qpe,Gpe=Kpe,Tn=he(Gpe),Xpe=ce,Jpe=mt,Zpe=une,Qpe=Hr,eve=wl,tve=Ml;Xpe({target:"Object",stat:!0,sham:!Jpe},{getOwnPropertyDescriptors:function(e){for(var r=Qpe(e),i=eve.f,n=Zpe(r),o={},s=0,a,l;n.length>s;)l=i(r,a=n[s++]),l!==void 0&&tve(o,a,l);return o}});var rve=Ce,ive=rve.Object.getOwnPropertyDescriptors,nve=ive,ove=nve,sve=ove,mn=he(sve),pk={exports:{}},ave=ce,lve=mt,X0=Bu.f;ave({target:"Object",stat:!0,forced:Object.defineProperties!==X0,sham:!lve},{defineProperties:X0});var cve=Ce,vk=cve.Object,dve=pk.exports=function(e,r){return vk.defineProperties(e,r)};vk.defineProperties.sham&&(dve.sham=!0);var uve=pk.exports,hve=uve,fve=hve,pve=fve,Qu=he(pve),vve=ik,eh=he(vve);function Wm(t,e){const r=["node","edge","label"];let i=!0;const n=qi(e,"chosen");if(typeof n=="boolean")i=n;else if(typeof n=="object"){if(ke(r).call(r,t)===-1)throw new Error("choosify: subOption '"+t+"' should be one of '"+r.join("', '")+"'");const o=qi(e,["chosen",t]);(typeof o=="boolean"||typeof o=="function")&&(i=o)}return i}function qv(t,e,r){if(t.width<=0||t.height<=0)return!1;if(r!==void 0){const o={x:e.x-r.x,y:e.y-r.y};if(r.angle!==0){const s=-r.angle;e={x:Math.cos(s)*o.x-Math.sin(s)*o.y,y:Math.sin(s)*o.x+Math.cos(s)*o.y}}else e=o}const i=t.x+t.width,n=t.y+t.width;return t.left<e.x&&i>e.x&&t.top<e.y&&n>e.y}function zd(t){return typeof t=="string"&&t!==""}function gk(t,e,r,i){let n=i.x,o=i.y;if(typeof i.distanceToBorder=="function"){const s=i.distanceToBorder(t,e),a=Math.sin(e)*s,l=Math.cos(e)*s;l===s?(n+=s,o=i.y):a===s?(n=i.x,o-=s):(n+=l,o-=a)}else i.shape.width>i.shape.height?(n=i.x+i.shape.width*.5,o=i.y-r):(n=i.x+r,o=i.y-i.shape.height*.5);return{x:n,y:o}}var gve=At,mve=gve("Array").values,yve=mve,bve=yve,$ve=bo,wve=Ct,_ve=gt,Sve=bve,$p=Array.prototype,Eve={DOMTokenList:!0,NodeList:!0},Tve=function(t){var e=t.values;return t===$p||_ve($p,t)&&e===$p.values||wve(Eve,$ve(t))?Sve:e},Ive=Tve,mk=he(Ive);class Ove{constructor(e){this.measureText=e,this.current=0,this.width=0,this.height=0,this.lines=[]}_add(e,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"normal";this.lines[e]===void 0&&(this.lines[e]={width:0,height:0,blocks:[]});let n=r;(r===void 0||r==="")&&(n=" ");const o=this.measureText(n,i),s=ht({},mk(o));s.text=r,s.width=o.width,s.mod=i,(r===void 0||r==="")&&(s.width=0),this.lines[e].blocks.push(s),this.lines[e].width+=s.width}curWidth(){const e=this.lines[this.current];return e===void 0?0:e.width}append(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,r)}newLine(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,r),this.current++}determineLineHeights(){for(let e=0;e<this.lines.length;e++){const r=this.lines[e];let i=0;if(r.blocks!==void 0)for(let n=0;n<r.blocks.length;n++){const o=r.blocks[n];i<o.height&&(i=o.height)}r.height=i}}determineLabelSize(){let e=0,r=0;for(let i=0;i<this.lines.length;i++){const n=this.lines[i];n.width>e&&(e=n.width),r+=n.height}this.width=e,this.height=r}removeEmptyBlocks(){const e=[];for(let r=0;r<this.lines.length;r++){const i=this.lines[r];if(i.blocks.length===0||r===this.lines.length-1&&i.width===0)continue;const n={};ht(n,i),n.blocks=[];let o;const s=[];for(let a=0;a<i.blocks.length;a++){const l=i.blocks[a];l.width!==0?s.push(l):o===void 0&&(o=l)}s.length===0&&o!==void 0&&s.push(o),n.blocks=s,e.push(n)}return e}finalize(){this.determineLineHeights(),this.determineLabelSize();const e=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:e}}}const xve={"<b>":/<b>/,"<i>":/<i>/,"<code>":/<code>/,"</b>":/<\/b>/,"</i>":/<\/i>/,"</code>":/<\/code>/,"*":/\*/,_:/_/,"`":/`/,afterBold:/[^*]/,afterItal:/[^_]/,afterMono:/[^`]/};class J0{constructor(e){this.text=e,this.bold=!1,this.ital=!1,this.mono=!1,this.spacing=!1,this.position=0,this.buffer="",this.modStack=[],this.blocks=[]}mod(){return this.modStack.length===0?"normal":this.modStack[0]}modName(){if(this.modStack.length===0)return"normal";if(this.modStack[0]==="mono")return"mono";if(this.bold&&this.ital)return"boldital";if(this.bold)return"bold";if(this.ital)return"ital"}emitBlock(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(this.blocks.push({text:this.buffer,mod:this.modName()}),this.buffer="")}add(e){e===" "&&(this.spacing=!0),this.spacing&&(this.buffer+=" ",this.spacing=!1),e!=" "&&(this.buffer+=e)}parseWS(e){return/[ \t]/.test(e)?(this.mono?this.add(e):this.spacing=!0,!0):!1}setTag(e){this.emitBlock(),this[e]=!0,this.modStack.unshift(e)}unsetTag(e){this.emitBlock(),this[e]=!1,this.modStack.shift()}parseStartTag(e,r){return!this.mono&&!this[e]&&this.match(r)?(this.setTag(e),!0):!1}match(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const[i,n]=this.prepareRegExp(e),o=i.test(this.text.substr(this.position,n));return o&&r&&(this.position+=n-1),o}parseEndTag(e,r,i){let n=this.mod()===e;return e==="mono"?n=n&&this.mono:n=n&&!this.mono,n&&this.match(r)?(i!==void 0?(this.position===this.text.length-1||this.match(i,!1))&&this.unsetTag(e):this.unsetTag(e),!0):!1}replace(e,r){return this.match(e)?(this.add(r),this.position+=length-1,!0):!1}prepareRegExp(e){let r,i;if(e instanceof RegExp)i=e,r=1;else{const n=xve[e];n!==void 0?i=n:i=new RegExp(e),r=e.length}return[i,r]}}class Pve{constructor(e,r,i,n){this.ctx=e,this.parent=r,this.selected=i,this.hover=n;const o=(s,a)=>{if(s===void 0)return 0;const l=this.parent.getFormattingValues(e,i,n,a);let c=0;return s!==""&&(c=this.ctx.measureText(s).width),{width:c,values:l}};this.lines=new Ove(o)}process(e){if(!zd(e))return this.lines.finalize();const r=this.parent.fontOptions;e=e.replace(/\r\n/g,`
`),e=e.replace(/\r/g,`
`);const i=String(e).split(`
`),n=i.length;if(r.multi)for(let o=0;o<n;o++){const s=this.splitBlocks(i[o],r.multi);if(s!==void 0){if(s.length===0){this.lines.newLine("");continue}if(r.maxWdt>0)for(let a=0;a<s.length;a++){const l=s[a].mod,c=s[a].text;this.splitStringIntoLines(c,l,!0)}else for(let a=0;a<s.length;a++){const l=s[a].mod,c=s[a].text;this.lines.append(c,l)}this.lines.newLine()}}else if(r.maxWdt>0)for(let o=0;o<n;o++)this.splitStringIntoLines(i[o]);else for(let o=0;o<n;o++)this.lines.newLine(i[o]);return this.lines.finalize()}decodeMarkupSystem(e){let r="none";return e==="markdown"||e==="md"?r="markdown":(e===!0||e==="html")&&(r="html"),r}splitHtmlBlocks(e){const r=new J0(e),i=n=>/&/.test(n)?(r.replace(r.text,"&lt;","<")||r.replace(r.text,"&amp;","&")||r.add("&"),!0):!1;for(;r.position<r.text.length;){const n=r.text.charAt(r.position);r.parseWS(n)||/</.test(n)&&(r.parseStartTag("bold","<b>")||r.parseStartTag("ital","<i>")||r.parseStartTag("mono","<code>")||r.parseEndTag("bold","</b>")||r.parseEndTag("ital","</i>")||r.parseEndTag("mono","</code>"))||i(n)||r.add(n),r.position++}return r.emitBlock(),r.blocks}splitMarkdownBlocks(e){const r=new J0(e);let i=!0;const n=o=>/\\/.test(o)?(r.position<this.text.length+1&&(r.position++,o=this.text.charAt(r.position),/ \t/.test(o)?r.spacing=!0:(r.add(o),i=!1)),!0):!1;for(;r.position<r.text.length;){const o=r.text.charAt(r.position);r.parseWS(o)||n(o)||(i||r.spacing)&&(r.parseStartTag("bold","*")||r.parseStartTag("ital","_")||r.parseStartTag("mono","`"))||r.parseEndTag("bold","*","afterBold")||r.parseEndTag("ital","_","afterItal")||r.parseEndTag("mono","`","afterMono")||(r.add(o),i=!1),r.position++}return r.emitBlock(),r.blocks}splitBlocks(e,r){const i=this.decodeMarkupSystem(r);if(i==="none")return[{text:e,mod:"normal"}];if(i==="markdown")return this.splitMarkdownBlocks(e);if(i==="html")return this.splitHtmlBlocks(e)}overMaxWidth(e){const r=this.ctx.measureText(e).width;return this.lines.curWidth()+r>this.parent.fontOptions.maxWdt}getLongestFit(e){let r="",i=0;for(;i<e.length;){const o=r+(r===""?"":" ")+e[i];if(this.overMaxWidth(o))break;r=o,i++}return i}getLongestFitWord(e){let r=0;for(;r<e.length&&!this.overMaxWidth(Qr(e).call(e,0,r));)r++;return r}splitStringIntoLines(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal",i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.parent.getFormattingValues(this.ctx,this.selected,this.hover,r),e=e.replace(/^( +)/g,"$1\r"),e=e.replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r");let n=e.split("\r");for(;n.length>0;){let o=this.getLongestFit(n);if(o===0){const s=n[0],a=this.getLongestFitWord(s);this.lines.newLine(Qr(s).call(s,0,a),r),n[0]=Qr(s).call(s,a)}else{let s=o;n[o-1]===" "?o--:n[s]===" "&&s++;const a=Qr(n).call(n,0,o).join("");o==n.length&&i?this.lines.append(a,r):this.lines.newLine(a,r),n=Qr(n).call(n,s)}}}}const ea=["bold","ital","boldital","mono"];class is{constructor(e,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.body=e,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(r),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=i}setOptions(e){if(this.elementOptions=e,this.initFontOptions(e.font),zd(e.label)?this.labelDirty=!0:e.label=void 0,e.font!==void 0&&e.font!==null){if(typeof e.font=="string")this.baseSize=this.fontOptions.size;else if(typeof e.font=="object"){const r=e.font.size;r!==void 0&&(this.baseSize=r)}}}initFontOptions(e){if(me(ea,r=>{this.fontOptions[r]={}}),is.parseFontString(this.fontOptions,e)){this.fontOptions.vadjust=0;return}me(e,(r,i)=>{r!=null&&typeof r!="object"&&(this.fontOptions[i]=r)})}static parseFontString(e,r){if(!r||typeof r!="string")return!1;const i=r.split(" ");return e.size=+i[0].replace("px",""),e.face=i[1],e.color=i[2],!0}constrain(e){const r={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},i=qi(e,"widthConstraint");if(typeof i=="number")r.maxWdt=Number(i),r.minWdt=Number(i);else if(typeof i=="object"){const o=qi(e,["widthConstraint","maximum"]);typeof o=="number"&&(r.maxWdt=Number(o));const s=qi(e,["widthConstraint","minimum"]);typeof s=="number"&&(r.minWdt=Number(s))}const n=qi(e,"heightConstraint");if(typeof n=="number")r.minHgt=Number(n);else if(typeof n=="object"){const o=qi(e,["heightConstraint","minimum"]);typeof o=="number"&&(r.minHgt=Number(o));const s=qi(e,["heightConstraint","valign"]);typeof s=="string"&&(s==="top"||s==="bottom")&&(r.valign=s)}return r}update(e,r){this.setOptions(e,!0),this.propagateFonts(r),Be(this.fontOptions,this.constrain(r)),this.fontOptions.chooser=Wm("label",r)}adjustSizes(e){const r=e?e.right+e.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=r,this.fontOptions.minWdt-=r);const i=e?e.top+e.bottom:0;this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=i)}addFontOptionsToPile(e,r){for(let i=0;i<r.length;++i)this.addFontToPile(e,r[i])}addFontToPile(e,r){if(r===void 0||r.font===void 0||r.font===null)return;const i=r.font;e.push(i)}getBasicOptions(e){const r={};for(let i=0;i<e.length;++i){let n=e[i];const o={};is.parseFontString(o,n)&&(n=o),me(n,(s,a)=>{s!==void 0&&(Object.prototype.hasOwnProperty.call(r,a)||(ke(ea).call(ea,a)!==-1?r[a]={}:r[a]=s))})}return r}getFontOption(e,r,i){let n;for(let o=0;o<e.length;++o){const s=e[o];if(Object.prototype.hasOwnProperty.call(s,r)){if(n=s[r],n==null)continue;const a={};if(is.parseFontString(a,n)&&(n=a),Object.prototype.hasOwnProperty.call(n,i))return n[i]}}if(Object.prototype.hasOwnProperty.call(this.fontOptions,i))return this.fontOptions[i];throw new Error("Did not find value for multi-font for property: '"+i+"'")}getFontOptions(e,r){const i={},n=["color","size","face","mod","vadjust"];for(let o=0;o<n.length;++o){const s=n[o];i[s]=this.getFontOption(e,r,s)}return i}propagateFonts(e){const r=[];this.addFontOptionsToPile(r,e),this.fontOptions=this.getBasicOptions(r);for(let i=0;i<ea.length;++i){const n=ea[i],o=this.fontOptions[n],s=this.getFontOptions(r,n);me(s,(a,l)=>{o[l]=a}),o.size=Number(o.size),o.vadjust=Number(o.vadjust)}}draw(e,r,i,n,o){let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";if(this.elementOptions.label===void 0)return;let a=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&a<this.elementOptions.scaling.label.drawThreshold-1||(a>=this.elementOptions.scaling.label.maxVisible&&(a=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(e,n,o,r,i,s),this._drawBackground(e),this._drawText(e,r,this.size.yLine,s,a))}_drawBackground(e){if(this.fontOptions.background!==void 0&&this.fontOptions.background!=="none"){e.fillStyle=this.fontOptions.background;const r=this.getSize();e.fillRect(r.left,r.top,r.width,r.height)}}_drawText(e,r,i){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"middle",o=arguments.length>4?arguments[4]:void 0;[r,i]=this._setAlignment(e,r,i,n),e.textAlign="left",r=r-this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&(this.fontOptions.valign==="top"&&(i-=(this.size.height-this.size.labelHeight)/2),this.fontOptions.valign==="bottom"&&(i+=(this.size.height-this.size.labelHeight)/2));for(let s=0;s<this.lineCount;s++){const a=this.lines[s];if(a&&a.blocks){let l=0;this.isEdgeLabel||this.fontOptions.align==="center"?l+=(this.size.width-a.width)/2:this.fontOptions.align==="right"&&(l+=this.size.width-a.width);for(let c=0;c<a.blocks.length;c++){const d=a.blocks[c];e.font=d.font;const[u,h]=this._getColor(d.color,o,d.strokeColor);d.strokeWidth>0&&(e.lineWidth=d.strokeWidth,e.strokeStyle=h,e.lineJoin="round"),e.fillStyle=u,d.strokeWidth>0&&e.strokeText(d.text,r+l,i+d.vadjust),e.fillText(d.text,r+l,i+d.vadjust),l+=d.width}i+=a.height}}}_setAlignment(e,r,i,n){if(this.isEdgeLabel&&this.fontOptions.align!=="horizontal"&&this.pointToSelf===!1){r=0,i=0;const o=2;this.fontOptions.align==="top"?(e.textBaseline="alphabetic",i-=2*o):this.fontOptions.align==="bottom"?(e.textBaseline="hanging",i+=2*o):e.textBaseline="middle"}else e.textBaseline=n;return[r,i]}_getColor(e,r,i){let n=e||"#000000",o=i||"#ffffff";if(r<=this.elementOptions.scaling.label.drawThreshold){const s=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-r)));n=$r(n,s),o=$r(o,s)}return[n,o]}getTextSize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return this._processLabel(e,r,i),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}getSize(){let r=this.size.left,i=this.size.top-.5*2;if(this.isEdgeLabel){const o=-this.size.width*.5;switch(this.fontOptions.align){case"middle":r=o,i=-this.size.height*.5;break;case"top":r=o,i=-(this.size.height+2);break;case"bottom":r=o,i=2;break}}return{left:r,top:i,width:this.size.width,height:this.size.height}}calculateLabelSize(e,r,i){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";this._processLabel(e,r,i),this.size.left=n-this.size.width*.5,this.size.top=o-this.size.height*.5,this.size.yLine=o+(1-this.lineCount)*.5*this.fontOptions.size,s==="hanging"&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}getFormattingValues(e,r,i,n){const o=function(l,c,d){return c==="normal"?d==="mod"?"":l[d]:l[c][d]!==void 0?l[c][d]:l[d]},s={color:o(this.fontOptions,n,"color"),size:o(this.fontOptions,n,"size"),face:o(this.fontOptions,n,"face"),mod:o(this.fontOptions,n,"mod"),vadjust:o(this.fontOptions,n,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(r||i)&&(n==="normal"&&this.fontOptions.chooser===!0&&this.elementOptions.labelHighlightBold?s.mod="bold":typeof this.fontOptions.chooser=="function"&&this.fontOptions.chooser(s,this.elementOptions.id,r,i));let a="";return s.mod!==void 0&&s.mod!==""&&(a+=s.mod+" "),a+=s.size+"px "+s.face,e.font=a.replace(/"/g,""),s.font=e.font,s.height=s.size,s}differentState(e,r){return e!==this.selectedState||r!==this.hoverState}_processLabelText(e,r,i,n){return new Pve(e,this,r,i).process(n)}_processLabel(e,r,i){if(this.labelDirty===!1&&!this.differentState(r,i))return;const n=this._processLabelText(e,r,i,this.elementOptions.label);this.fontOptions.minWdt>0&&n.width<this.fontOptions.minWdt&&(n.width=this.fontOptions.minWdt),this.size.labelHeight=n.height,this.fontOptions.minHgt>0&&n.height<this.fontOptions.minHgt&&(n.height=this.fontOptions.minHgt),this.lines=n.lines,this.lineCount=n.lines.length,this.size.width=n.width,this.size.height=n.height,this.selectedState=r,this.hoverState=i,this.labelDirty=!1}visible(){return!(this.size.width===0||this.size.height===0||this.elementOptions.label===void 0||this.fontOptions.size*this.body.view.scale<this.elementOptions.scaling.label.drawThreshold-1)}}class _o{constructor(e,r,i){this.body=r,this.labelModule=i,this.setOptions(e),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}setOptions(e){this.options=e}_setMargins(e){this.margin={},this.options.margin&&(typeof this.options.margin=="object"?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),e.adjustSizes(this.margin)}_distanceToBorder(e,r){const i=this.options.borderWidth;return e&&this.resize(e),Math.min(Math.abs(this.width/2/Math.cos(r)),Math.abs(this.height/2/Math.sin(r)))+i}enableShadow(e,r){r.shadow&&(e.shadowColor=r.shadowColor,e.shadowBlur=r.shadowSize,e.shadowOffsetX=r.shadowX,e.shadowOffsetY=r.shadowY)}disableShadow(e,r){r.shadow&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}enableBorderDashes(e,r){if(r.borderDashes!==!1)if(e.setLineDash!==void 0){let i=r.borderDashes;i===!0&&(i=[5,15]),e.setLineDash(i)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,r.borderDashes=!1}disableBorderDashes(e,r){r.borderDashes!==!1&&(e.setLineDash!==void 0?e.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,r.borderDashes=!1))}needsRefresh(e,r){return this.refreshNeeded===!0?(this.refreshNeeded=!1,!0):this.width===void 0||this.labelModule.differentState(e,r)}initContextForDraw(e,r){const i=r.borderWidth/this.body.view.scale;e.lineWidth=Math.min(this.width,i),e.strokeStyle=r.borderColor,e.fillStyle=r.color}performStroke(e,r){const i=r.borderWidth/this.body.view.scale;e.save(),i>0&&(this.enableBorderDashes(e,r),e.stroke(),this.disableBorderDashes(e,r)),e.restore()}performFill(e,r){e.save(),e.fillStyle=r.color,this.enableShadow(e,r),Wl(e).call(e),this.disableShadow(e,r),e.restore(),this.performStroke(e,r)}_addBoundingBoxMargin(e){this.boundingBox.left-=e,this.boundingBox.top-=e,this.boundingBox.bottom+=e,this.boundingBox.right+=e}_updateBoundingBox(e,r,i,n,o){i!==void 0&&this.resize(i,n,o),this.left=e-this.width/2,this.top=r-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}updateBoundingBox(e,r,i,n,o){this._updateBoundingBox(e,r,i,n,o)}getDimensionsFromLabel(e,r,i){this.textSize=this.labelModule.getTextSize(e,r,i);let n=this.textSize.width,o=this.textSize.height;const s=14;return n===0&&(n=s,o=s),{width:n,height:o}}}let kve=class extends _o{constructor(e,r,i){super(e,r,i),this._setMargins(i)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(r,i)){const n=this.getDimensionsFromLabel(e,r,i);this.width=n.width+this.margin.right+this.margin.left,this.height=n.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}draw(e,r,i,n,o,s){this.resize(e,n,o),this.left=r-this.width/2,this.top=i-this.height/2,this.initContextForDraw(e,s),ZO(e,this.left,this.top,this.width,this.height,s.borderRadius),this.performFill(e,s),this.updateBoundingBox(r,i,e,n,o),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,n,o)}updateBoundingBox(e,r,i,n,o){this._updateBoundingBox(e,r,i,n,o);const s=this.options.shapeProperties.borderRadius;this._addBoundingBoxMargin(s)}distanceToBorder(e,r){e&&this.resize(e);const i=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(r)),Math.abs(this.height/2/Math.sin(r)))+i}};class Vm extends _o{constructor(e,r,i){super(e,r,i),this.labelOffset=0,this.selected=!1}setOptions(e,r,i){this.options=e,r===void 0&&i===void 0||this.setImages(r,i)}setImages(e,r){r&&this.selected?(this.imageObj=r,this.imageObjAlt=e):(this.imageObj=e,this.imageObjAlt=r)}switchImages(e){const r=e&&!this.selected||!e&&this.selected;if(this.selected=e,this.imageObjAlt!==void 0&&r){const i=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=i}}_getImagePadding(){const e={top:0,right:0,bottom:0,left:0};if(this.options.imagePadding){const r=this.options.imagePadding;typeof r=="object"?(e.top=r.top,e.right=r.right,e.bottom=r.bottom,e.left=r.left):(e.top=r,e.right=r,e.bottom=r,e.left=r)}return e}_resizeImage(){let e,r;if(this.options.shapeProperties.useImageSize===!1){let i=1,n=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?i=this.imageObj.width/this.imageObj.height:n=this.imageObj.height/this.imageObj.width),e=this.options.size*2*i,r=this.options.size*2*n}else{const i=this._getImagePadding();e=this.imageObj.width+i.left+i.right,r=this.imageObj.height+i.top+i.bottom}this.width=e,this.height=r,this.radius=.5*this.width}_drawRawCircle(e,r,i,n){this.initContextForDraw(e,n),um(e,r,i,n.size),this.performFill(e,n)}_drawImageAtPosition(e,r){if(this.imageObj.width!=0){e.globalAlpha=r.opacity!==void 0?r.opacity:1,this.enableShadow(e,r);let i=1;this.options.shapeProperties.interpolation===!0&&(i=this.imageObj.width/this.width/this.body.view.scale);const n=this._getImagePadding(),o=this.left+n.left,s=this.top+n.top,a=this.width-n.left-n.right,l=this.height-n.top-n.bottom;this.imageObj.drawImageAtPosition(e,i,o,s,a,l),this.disableShadow(e,r)}}_drawImageLabel(e,r,i,n,o){let s=0;if(this.height!==void 0){s=this.height*.5;const l=this.labelModule.getTextSize(e,n,o);l.lineCount>=1&&(s+=l.height/2)}const a=i+s;this.options.label&&(this.labelOffset=s),this.labelModule.draw(e,r,a,n,o,"hanging")}}let Cve=class extends Vm{constructor(e,r,i){super(e,r,i),this._setMargins(i)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(r,i)){const n=this.getDimensionsFromLabel(e,r,i),o=Math.max(n.width+this.margin.right+this.margin.left,n.height+this.margin.top+this.margin.bottom);this.options.size=o/2,this.width=o,this.height=o,this.radius=this.width/2}}draw(e,r,i,n,o,s){this.resize(e,n,o),this.left=r-this.width/2,this.top=i-this.height/2,this._drawRawCircle(e,r,i,s),this.updateBoundingBox(r,i),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,i,n,o)}updateBoundingBox(e,r){this.boundingBox.top=r-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=r+this.options.size}distanceToBorder(e){return e&&this.resize(e),this.width*.5}};class Ave extends Vm{constructor(e,r,i,n,o){super(e,r,i),this.setImages(n,o)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0){const o=this.options.size*2;this.width=o,this.height=o,this.radius=.5*this.width;return}this.needsRefresh(r,i)&&this._resizeImage()}draw(e,r,i,n,o,s){this.switchImages(n),this.resize();let a=r,l=i;this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=r,this.top=i,a+=this.width/2,l+=this.height/2):(this.left=r-this.width/2,this.top=i-this.height/2),this._drawRawCircle(e,a,l,s),e.save(),e.clip(),this._drawImageAtPosition(e,s),e.restore(),this._drawImageLabel(e,a,l,n,o),this.updateBoundingBox(r,i)}updateBoundingBox(e,r){this.options.shapeProperties.coordinateOrigin==="top-left"?(this.boundingBox.top=r,this.boundingBox.left=e,this.boundingBox.right=e+this.options.size*2,this.boundingBox.bottom=r+this.options.size*2):(this.boundingBox.top=r-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=r+this.options.size),this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}distanceToBorder(e){return e&&this.resize(e),this.width*.5}}class In extends _o{constructor(e,r,i){super(e,r,i)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{size:this.options.size};if(this.needsRefresh(r,i)){var o,s;this.labelModule.getTextSize(e,r,i);const a=2*n.size;this.width=(o=this.customSizeWidth)!==null&&o!==void 0?o:a,this.height=(s=this.customSizeHeight)!==null&&s!==void 0?s:a,this.radius=.5*this.width}}_drawShape(e,r,i,n,o,s,a,l){return this.resize(e,s,a,l),this.left=n-this.width/2,this.top=o-this.height/2,this.initContextForDraw(e,l),mQ(r)(e,n,o,l.size),this.performFill(e,l),this.options.icon!==void 0&&this.options.icon.code!==void 0&&(e.font=(s?"bold ":"")+this.height/2+"px "+(this.options.icon.face||"FontAwesome"),e.fillStyle=this.options.icon.color||"black",e.textAlign="center",e.textBaseline="middle",e.fillText(this.options.icon.code,n,o)),{drawExternalLabel:()=>{if(this.options.label!==void 0){this.labelModule.calculateLabelSize(e,s,a,n,o,"hanging");const c=o+.5*this.height+.5*this.labelModule.size.height;this.labelModule.draw(e,n,c,s,a,"hanging")}this.updateBoundingBox(n,o)}}}updateBoundingBox(e,r){this.boundingBox.top=r-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=r+this.options.size,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}function Z0(t,e){var r=Ze(t);if(gn){var i=gn(t);e&&(i=er(i).call(i,function(n){return Tn(t,n).enumerable})),r.push.apply(r,i)}return r}function Dve(t){for(var e=1;e<arguments.length;e++){var r,i,n=arguments[e]!=null?arguments[e]:{};e%2?Me(r=Z0(Object(n),!0)).call(r,function(o){Zu(t,o,n[o])}):mn?Qu(t,mn(n)):Me(i=Z0(Object(n))).call(i,function(o){eh(t,o,Tn(n,o))})}return t}class Mve extends In{constructor(e,r,i,n){super(e,r,i,n),this.ctxRenderer=n}draw(e,r,i,n,o,s){this.resize(e,n,o,s),this.left=r-this.width/2,this.top=i-this.height/2,e.save();const a=this.ctxRenderer({ctx:e,id:this.options.id,x:r,y:i,state:{selected:n,hover:o},style:Dve({},s),label:this.options.label});if(a.drawNode!=null&&a.drawNode(),e.restore(),a.drawExternalLabel){const l=a.drawExternalLabel;a.drawExternalLabel=()=>{e.save(),l(),e.restore()}}return a.nodeDimensions&&(this.customSizeWidth=a.nodeDimensions.width,this.customSizeHeight=a.nodeDimensions.height),a}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class Rve extends _o{constructor(e,r,i){super(e,r,i),this._setMargins(i)}resize(e,r,i){if(this.needsRefresh(r,i)){const o=this.getDimensionsFromLabel(e,r,i).width+this.margin.right+this.margin.left;this.width=o,this.height=o,this.radius=this.width/2}}draw(e,r,i,n,o,s){this.resize(e,n,o),this.left=r-this.width/2,this.top=i-this.height/2,this.initContextForDraw(e,s),QO(e,r-this.width/2,i-this.height/2,this.width,this.height),this.performFill(e,s),this.updateBoundingBox(r,i,e,n,o),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,n,o)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}let Nve=class extends In{constructor(e,r,i){super(e,r,i)}draw(e,r,i,n,o,s){return this._drawShape(e,"diamond",4,r,i,n,o,s)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}};class Fve extends In{constructor(e,r,i){super(e,r,i)}draw(e,r,i,n,o,s){return this._drawShape(e,"circle",2,r,i,n,o,s)}distanceToBorder(e){return e&&this.resize(e),this.options.size}}class Q0 extends _o{constructor(e,r,i){super(e,r,i)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(r,i)){const n=this.getDimensionsFromLabel(e,r,i);this.height=n.height*2,this.width=n.width+n.height,this.radius=.5*this.width}}draw(e,r,i,n,o,s){this.resize(e,n,o),this.left=r-this.width*.5,this.top=i-this.height*.5,this.initContextForDraw(e,s),Sv(e,this.left,this.top,this.width,this.height),this.performFill(e,s),this.updateBoundingBox(r,i,e,n,o),this.labelModule.draw(e,r,i,n,o)}distanceToBorder(e,r){e&&this.resize(e);const i=this.width*.5,n=this.height*.5,o=Math.sin(r)*i,s=Math.cos(r)*n;return i*n/Math.sqrt(o*o+s*s)}}class Bve extends _o{constructor(e,r,i){super(e,r,i),this._setMargins(i)}resize(e,r,i){this.needsRefresh(r,i)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}draw(e,r,i,n,o,s){return this.resize(e,n,o),this.options.icon.size=this.options.icon.size||50,this.left=r-this.width/2,this.top=i-this.height/2,this._icon(e,r,i,n,o,s),{drawExternalLabel:()=>{this.options.label!==void 0&&this.labelModule.draw(e,this.left+this.iconSize.width/2+this.margin.left,i+this.height/2+5,n),this.updateBoundingBox(r,i)}}}updateBoundingBox(e,r){this.boundingBox.top=r-this.options.icon.size*.5,this.boundingBox.left=e-this.options.icon.size*.5,this.boundingBox.right=e+this.options.icon.size*.5,this.boundingBox.bottom=r+this.options.icon.size*.5,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+5))}_icon(e,r,i,n,o,s){const a=Number(this.options.icon.size);this.options.icon.code!==void 0?(e.font=[this.options.icon.weight!=null?this.options.icon.weight:n?"bold":"",(this.options.icon.weight!=null&&n?5:0)+a+"px",this.options.icon.face].join(" "),e.fillStyle=this.options.icon.color||"black",e.textAlign="center",e.textBaseline="middle",this.enableShadow(e,s),e.fillText(this.options.icon.code,r,i),this.disableShadow(e,s)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}let Lve=class extends Vm{constructor(e,r,i,n,o){super(e,r,i),this.setImages(n,o)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0){const o=this.options.size*2;this.width=o,this.height=o;return}this.needsRefresh(r,i)&&this._resizeImage()}draw(e,r,i,n,o,s){e.save(),this.switchImages(n),this.resize();let a=r,l=i;if(this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=r,this.top=i,a+=this.width/2,l+=this.height/2):(this.left=r-this.width/2,this.top=i-this.height/2),this.options.shapeProperties.useBorderWithImage===!0){const c=this.options.borderWidth,d=this.options.borderWidthSelected||2*this.options.borderWidth,u=(n?d:c)/this.body.view.scale;e.lineWidth=Math.min(this.width,u),e.beginPath();let h=n?this.options.color.highlight.border:o?this.options.color.hover.border:this.options.color.border,f=n?this.options.color.highlight.background:o?this.options.color.hover.background:this.options.color.background;s.opacity!==void 0&&(h=$r(h,s.opacity),f=$r(f,s.opacity)),e.strokeStyle=h,e.fillStyle=f,e.rect(this.left-.5*e.lineWidth,this.top-.5*e.lineWidth,this.width+e.lineWidth,this.height+e.lineWidth),Wl(e).call(e),this.performStroke(e,s),e.closePath()}this._drawImageAtPosition(e,s),this._drawImageLabel(e,a,l,n,o),this.updateBoundingBox(r,i),e.restore()}updateBoundingBox(e,r){this.resize(),this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=e,this.top=r):(this.left=e-this.width/2,this.top=r-this.height/2),this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}distanceToBorder(e,r){return this._distanceToBorder(e,r)}};class jve extends In{constructor(e,r,i){super(e,r,i)}draw(e,r,i,n,o,s){return this._drawShape(e,"square",2,r,i,n,o,s)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class zve extends In{constructor(e,r,i){super(e,r,i)}draw(e,r,i,n,o,s){return this._drawShape(e,"hexagon",4,r,i,n,o,s)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class Hve extends In{constructor(e,r,i){super(e,r,i)}draw(e,r,i,n,o,s){return this._drawShape(e,"star",4,r,i,n,o,s)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class Wve extends _o{constructor(e,r,i){super(e,r,i),this._setMargins(i)}resize(e,r,i){this.needsRefresh(r,i)&&(this.textSize=this.labelModule.getTextSize(e,r,i),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}draw(e,r,i,n,o,s){this.resize(e,n,o),this.left=r-this.width/2,this.top=i-this.height/2,this.enableShadow(e,s),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,n,o),this.disableShadow(e,s),this.updateBoundingBox(r,i,e,n,o)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}let Vve=class extends In{constructor(e,r,i){super(e,r,i)}draw(e,r,i,n,o,s){return this._drawShape(e,"triangle",3,r,i,n,o,s)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}};class Uve extends In{constructor(e,r,i){super(e,r,i)}draw(e,r,i,n,o,s){return this._drawShape(e,"triangleDown",3,r,i,n,o,s)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}function e_(t,e){var r=Ze(t);if(gn){var i=gn(t);e&&(i=er(i).call(i,function(n){return Tn(t,n).enumerable})),r.push.apply(r,i)}return r}function t_(t){for(var e=1;e<arguments.length;e++){var r,i,n=arguments[e]!=null?arguments[e]:{};e%2?Me(r=e_(Object(n),!0)).call(r,function(o){Zu(t,o,n[o])}):mn?Qu(t,mn(n)):Me(i=e_(Object(n))).call(i,function(o){eh(t,o,Tn(n,o))})}return t}class Ye{constructor(e,r,i,n,o,s){this.options=ln(o),this.globalOptions=o,this.defaultOptions=s,this.body=r,this.edges=[],this.id=void 0,this.imagelist=i,this.grouplist=n,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new is(this.body,this.options,!1),this.setOptions(e)}attachEdge(e){var r;ke(r=this.edges).call(r,e)===-1&&this.edges.push(e)}detachEdge(e){var r;const i=ke(r=this.edges).call(r,e);if(i!=-1){var n;wi(n=this.edges).call(n,i,1)}}setOptions(e){const r=this.options.shape;if(!e)return;if(typeof e.color<"u"&&(this._localColor=e.color),e.id!==void 0&&(this.id=e.id),this.id===void 0)throw new Error("Node must have an id");Ye.checkMass(e,this.id),e.x!==void 0&&(e.x===null?(this.x=void 0,this.predefinedPosition=!1):(this.x=Dr(e.x),this.predefinedPosition=!0)),e.y!==void 0&&(e.y===null?(this.y=void 0,this.predefinedPosition=!1):(this.y=Dr(e.y),this.predefinedPosition=!0)),e.size!==void 0&&(this.baseSize=e.size),e.value!==void 0&&(e.value=ck(e.value)),Ye.parseOptions(this.options,e,!0,this.globalOptions,this.grouplist);const i=[e,this.options,this.defaultOptions];return this.chooser=Wm("node",i),this._load_images(),this.updateLabelModule(e),e.opacity!==void 0&&Ye.checkOpacity(e.opacity)&&(this.options.opacity=e.opacity),this.updateShape(r),e.hidden!==void 0||e.physics!==void 0}_load_images(){if((this.options.shape==="circularImage"||this.options.shape==="image")&&this.options.image===void 0)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(this.options.image!==void 0){if(this.imagelist===void 0)throw new Error("Internal Error: No images provided");if(typeof this.options.image=="string")this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(this.options.image.unselected===void 0)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),this.options.image.selected!==void 0?this.imageObjAlt=this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):this.imageObjAlt=void 0}}}static checkOpacity(e){return 0<=e&&e<=1}static checkCoordinateOrigin(e){return e===void 0||e==="center"||e==="top-left"}static updateGroupOptions(e,r,i){var n;if(i===void 0)return;const o=e.group;if(r!==void 0&&r.group!==void 0&&o!==r.group)throw new Error("updateGroupOptions: group values in options don't match.");if(!(typeof o=="number"||typeof o=="string"&&o!=""))return;const a=i.get(o);a.opacity!==void 0&&r.opacity===void 0&&(Ye.checkOpacity(a.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+a.opacity),a.opacity=void 0));const l=er(n=Mpe(r)).call(n,c=>r[c]!=null);l.push("font"),Fd(l,e,a),e.color=Hv(e.color)}static parseOptions(e,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},o=arguments.length>4?arguments[4]:void 0;if(Fd(["color","fixed","shadow"],e,r,i),Ye.checkMass(r),e.opacity!==void 0&&(Ye.checkOpacity(e.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity),e.opacity=void 0)),r.opacity!==void 0&&(Ye.checkOpacity(r.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+r.opacity),r.opacity=void 0)),r.shapeProperties&&!Ye.checkCoordinateOrigin(r.shapeProperties.coordinateOrigin)&&console.error("Invalid option for node coordinateOrigin, found: "+r.shapeProperties.coordinateOrigin),br(e,r,"shadow",n),r.color!==void 0&&r.color!==null){const a=Hv(r.color);MP(e.color,a)}else i===!0&&r.color===null&&(e.color=ln(n.color));r.fixed!==void 0&&r.fixed!==null&&(typeof r.fixed=="boolean"?(e.fixed.x=r.fixed,e.fixed.y=r.fixed):(r.fixed.x!==void 0&&typeof r.fixed.x=="boolean"&&(e.fixed.x=r.fixed.x),r.fixed.y!==void 0&&typeof r.fixed.y=="boolean"&&(e.fixed.y=r.fixed.y))),i===!0&&r.font===null&&(e.font=ln(n.font)),Ye.updateGroupOptions(e,r,o),r.scaling!==void 0&&br(e.scaling,r.scaling,"label",n.scaling)}getFormattingValues(){const e={color:this.options.color.background,opacity:this.options.opacity,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};if(this.selected||this.hover?this.chooser===!0?this.selected?(this.options.borderWidthSelected!=null?e.borderWidth=this.options.borderWidthSelected:e.borderWidth*=2,e.color=this.options.color.highlight.background,e.borderColor=this.options.color.highlight.border,e.shadow=this.options.shadow.enabled):this.hover&&(e.color=this.options.color.hover.background,e.borderColor=this.options.color.hover.border,e.shadow=this.options.shadow.enabled):typeof this.chooser=="function"&&(this.chooser(e,this.options.id,this.selected,this.hover),e.shadow===!1&&(e.shadowColor!==this.options.shadow.color||e.shadowSize!==this.options.shadow.size||e.shadowX!==this.options.shadow.x||e.shadowY!==this.options.shadow.y)&&(e.shadow=!0)):e.shadow=this.options.shadow.enabled,this.options.opacity!==void 0){const r=this.options.opacity;e.borderColor=$r(e.borderColor,r),e.color=$r(e.color,r),e.shadowColor=$r(e.shadowColor,r)}return e}updateLabelModule(e){(this.options.label===void 0||this.options.label===null)&&(this.options.label=""),Ye.updateGroupOptions(this.options,t_(t_({},e),{},{color:e&&e.color||this._localColor||void 0}),this.grouplist);const r=this.grouplist.get(this.options.group,!1),i=[e,this.options,r,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,i),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}updateShape(e){if(e===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new kve(this.options,this.body,this.labelModule);break;case"circle":this.shape=new Cve(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new Ave(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"custom":this.shape=new Mve(this.options,this.body,this.labelModule,this.options.ctxRenderer);break;case"database":this.shape=new Rve(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new Nve(this.options,this.body,this.labelModule);break;case"dot":this.shape=new Fve(this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new Q0(this.options,this.body,this.labelModule);break;case"icon":this.shape=new Bve(this.options,this.body,this.labelModule);break;case"image":this.shape=new Lve(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new jve(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new zve(this.options,this.body,this.labelModule);break;case"star":this.shape=new Hve(this.options,this.body,this.labelModule);break;case"text":this.shape=new Wve(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new Vve(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new Uve(this.options,this.body,this.labelModule);break;default:this.shape=new Q0(this.options,this.body,this.labelModule);break}this.needsRefresh()}select(){this.selected=!0,this.needsRefresh()}unselect(){this.selected=!1,this.needsRefresh()}needsRefresh(){this.shape.refreshNeeded=!0}getTitle(){return this.options.title}distanceToBorder(e,r){return this.shape.distanceToBorder(e,r)}isFixed(){return this.options.fixed.x&&this.options.fixed.y}isSelected(){return this.selected}getValue(){return this.options.value}getLabelSize(){return this.labelModule.size()}setValueRange(e,r,i){if(this.options.value!==void 0){const n=this.options.scaling.customScalingFunction(e,r,i,this.options.value),o=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){const s=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+n*s}this.options.size=this.options.scaling.min+n*o}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}draw(e){const r=this.getFormattingValues();return this.shape.draw(e,this.x,this.y,this.selected,this.hover,r)||{}}updateBoundingBox(e){this.shape.updateBoundingBox(this.x,this.y,e)}resize(e){const r=this.getFormattingValues();this.shape.resize(e,this.selected,this.hover,r)}getItemsOnPoint(e){const r=[];return this.labelModule.visible()&&qv(this.labelModule.getSize(),e)&&r.push({nodeId:this.id,labelId:0}),qv(this.shape.boundingBox,e)&&r.push({nodeId:this.id}),r}isOverlappingWith(e){return this.shape.left<e.right&&this.shape.left+this.shape.width>e.left&&this.shape.top<e.bottom&&this.shape.top+this.shape.height>e.top}isBoundingBoxOverlappingWith(e){return this.shape.boundingBox.left<e.right&&this.shape.boundingBox.right>e.left&&this.shape.boundingBox.top<e.bottom&&this.shape.boundingBox.bottom>e.top}static checkMass(e,r){if(e.mass!==void 0&&e.mass<=0){let i="";r!==void 0&&(i=" in node id: "+r),console.error("%cNegative or zero mass disallowed"+i+", setting mass to 1.",BP),e.mass=1}}}class Yve{constructor(e,r,i,n){var o;if(this.body=e,this.images=r,this.groups=i,this.layoutEngine=n,this.body.functions.createNode=M(o=this.create).call(o,this),this.nodesListeners={add:(s,a)=>{this.add(a.items)},update:(s,a)=>{this.update(a.items,a.data,a.oldData)},remove:(s,a)=>{this.remove(a.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:void 0,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},opacity:void 0,fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,imagePadding:{top:0,right:0,bottom:0,left:0},label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(s,a,l,c){if(a===s)return .5;{const d=1/(a-s);return Math.max(0,(c-s)*d)}}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1,coordinateOrigin:"center"},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=ln(this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e,r;this.body.emitter.on("refreshNodes",M(e=this.refresh).call(e,this)),this.body.emitter.on("refresh",M(r=this.refresh).call(r,this)),this.body.emitter.on("destroy",()=>{me(this.nodesListeners,(i,n)=>{this.body.data.nodes&&this.body.data.nodes.off(n,i)}),delete this.body.functions.createNode,delete this.nodesListeners.add,delete this.nodesListeners.update,delete this.nodesListeners.remove,delete this.nodesListeners})}setOptions(e){if(e!==void 0){if(Ye.parseOptions(this.options,e),e.opacity!==void 0&&(Yv(e.opacity)||!Ln(e.opacity)||e.opacity<0||e.opacity>1?console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity):this.options.opacity=e.opacity),e.shape!==void 0)for(const r in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,r)&&this.body.nodes[r].updateShape();if(typeof e.font<"u"||typeof e.widthConstraint<"u"||typeof e.heightConstraint<"u")for(const r of Ze(this.body.nodes))this.body.nodes[r].updateLabelModule(),this.body.nodes[r].needsRefresh();if(e.size!==void 0)for(const r in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,r)&&this.body.nodes[r].needsRefresh();(e.hidden!==void 0||e.physics!==void 0)&&this.body.emitter.emit("_dataChanged")}}setData(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const i=this.body.data.nodes;if(DO("id",e))this.body.data.nodes=e;else if(Qe(e))this.body.data.nodes=new Pd,this.body.data.nodes.add(e);else if(!e)this.body.data.nodes=new Pd;else throw new TypeError("Array or DataSet expected");if(i&&me(this.nodesListeners,function(n,o){i.off(o,n)}),this.body.nodes={},this.body.data.nodes){const n=this;me(this.nodesListeners,function(s,a){n.body.data.nodes.on(a,s)});const o=this.body.data.nodes.getIds();this.add(o,!0)}r===!1&&this.body.emitter.emit("_dataChanged")}add(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i;const n=[];for(let o=0;o<e.length;o++){i=e[o];const s=this.body.data.nodes.get(i),a=this.create(s);n.push(a),this.body.nodes[i]=a}this.layoutEngine.positionInitially(n),r===!1&&this.body.emitter.emit("_dataChanged")}update(e,r,i){const n=this.body.nodes;let o=!1;for(let s=0;s<e.length;s++){const a=e[s];let l=n[a];const c=r[s];l!==void 0?l.setOptions(c)&&(o=!0):(o=!0,l=this.create(c),n[a]=l)}!o&&i!==void 0&&(o=Xhe(r).call(r,function(s,a){const l=i[a];return l&&l.level!==s.level})),o===!0?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}remove(e){const r=this.body.nodes;for(let i=0;i<e.length;i++){const n=e[i];delete r[n]}this.body.emitter.emit("_dataChanged")}create(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ye;return new r(e,this.body,this.images,this.groups,this.options,this.defaultOptions)}refresh(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;me(this.body.nodes,(r,i)=>{const n=this.body.data.nodes.get(i);n!==void 0&&(e===!0&&r.setOptions({x:null,y:null}),r.setOptions({fixed:!1}),r.setOptions(n))})}getPositions(e){const r={};if(e!==void 0){if(Qe(e)===!0){for(let i=0;i<e.length;i++)if(this.body.nodes[e[i]]!==void 0){const n=this.body.nodes[e[i]];r[e[i]]={x:Math.round(n.x),y:Math.round(n.y)}}}else if(this.body.nodes[e]!==void 0){const i=this.body.nodes[e];r[e]={x:Math.round(i.x),y:Math.round(i.y)}}}else for(let i=0;i<this.body.nodeIndices.length;i++){const n=this.body.nodes[this.body.nodeIndices[i]];r[this.body.nodeIndices[i]]={x:Math.round(n.x),y:Math.round(n.y)}}return r}getPosition(e){if(e==null)throw new TypeError("No id was specified for getPosition method.");if(this.body.nodes[e]==null)throw new ReferenceError("NodeId provided for getPosition does not exist. Provided: ".concat(e));return{x:Math.round(this.body.nodes[e].x),y:Math.round(this.body.nodes[e].y)}}storePositions(){const e=[],r=this.body.data.nodes.getDataSet();for(const i of r.get()){const n=i.id,o=this.body.nodes[n],s=Math.round(o.x),a=Math.round(o.y);(i.x!==s||i.y!==a)&&e.push({id:n,x:s,y:a})}r.update(e)}getBoundingBox(e){if(this.body.nodes[e]!==void 0)return this.body.nodes[e].shape.boundingBox}getConnectedNodes(e,r){const i=[];if(this.body.nodes[e]!==void 0){const n=this.body.nodes[e],o={};for(let s=0;s<n.edges.length;s++){const a=n.edges[s];r!=="to"&&a.toId==n.id?o[a.fromId]===void 0&&(i.push(a.fromId),o[a.fromId]=!0):r!=="from"&&a.fromId==n.id&&o[a.toId]===void 0&&(i.push(a.toId),o[a.toId]=!0)}}return i}getConnectedEdges(e){const r=[];if(this.body.nodes[e]!==void 0){const i=this.body.nodes[e];for(let n=0;n<i.edges.length;n++)r.push(i.edges[n].id)}else console.error("NodeId provided for getConnectedEdges does not exist. Provided: ",e);return r}moveNode(e,r,i){this.body.nodes[e]!==void 0?(this.body.nodes[e].x=Number(r),this.body.nodes[e].y=Number(i),_i(()=>{this.body.emitter.emit("startSimulation")},0)):console.error("Node id supplied to moveNode does not exist. Provided: ",e)}}var qve=ce,r_=Math.hypot,Kve=Math.abs,Gve=Math.sqrt,Xve=!!r_&&r_(1/0,NaN)!==1/0;qve({target:"Math",stat:!0,forced:Xve},{hypot:function(e,r){for(var i=0,n=0,o=arguments.length,s=0,a,l;n<o;)a=Kve(arguments[n++]),s<a?(l=s/a,i=i*l*l+1,s=a):a>0?(l=a/s,i+=l*l):i+=a;return s===1/0?1/0:s*Gve(i)}});var Jve=Ce,Zve=Jve.Math.hypot,Qve=Zve,ege=Qve,tge=ege,rge=he(tge);class at{static transform(e,r){Qe(e)||(e=[e]);const i=r.point.x,n=r.point.y,o=r.angle,s=r.length;for(let a=0;a<e.length;++a){const l=e[a],c=l.x*Math.cos(o)-l.y*Math.sin(o),d=l.x*Math.sin(o)+l.y*Math.cos(o);l.x=i+s*c,l.y=n+s*d}}static drawPath(e,r){e.beginPath(),e.moveTo(r[0].x,r[0].y);for(let i=1;i<r.length;++i)e.lineTo(r[i].x,r[i].y);e.closePath()}}let ige=class extends at{static draw(e,r){if(r.image){e.save(),e.translate(r.point.x,r.point.y),e.rotate(Math.PI/2+r.angle);const i=r.imageWidth!=null?r.imageWidth:r.image.width,n=r.imageHeight!=null?r.imageHeight:r.image.height;r.image.drawImageAtPosition(e,1,-i/2,0,i,n),e.restore()}return!1}};class nge extends at{static draw(e,r){const i=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];return at.transform(i,r),at.drawPath(e,i),!0}}class oge{static draw(e,r){const i=[{x:-1,y:0},{x:0,y:.3},{x:-.4,y:0},{x:0,y:-.3}];return at.transform(i,r),at.drawPath(e,i),!0}}class sge{static draw(e,r){const i={x:-.4,y:0};at.transform(i,r),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";const n=Math.PI,o=r.angle-n/2,s=r.angle+n/2;return e.beginPath(),e.arc(i.x,i.y,r.length*.4,o,s,!1),e.stroke(),!0}}class age{static draw(e,r){const i={x:-.3,y:0};at.transform(i,r),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";const n=Math.PI,o=r.angle+n/2,s=r.angle+3*n/2;return e.beginPath(),e.arc(i.x,i.y,r.length*.4,o,s,!1),e.stroke(),!0}}class lge{static draw(e,r){const i=[{x:.02,y:0},{x:-1,y:.3},{x:-1,y:-.3}];return at.transform(i,r),at.drawPath(e,i),!0}}class cge{static draw(e,r){const i=[{x:0,y:.3},{x:0,y:-.3},{x:-1,y:0}];return at.transform(i,r),at.drawPath(e,i),!0}}class dge{static draw(e,r){const i={x:-.4,y:0};return at.transform(i,r),um(e,i.x,i.y,r.length*.4),!0}}class uge{static draw(e,r){const i=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];return at.transform(i,r),at.drawPath(e,i),!0}}class hge{static draw(e,r){const i=[{x:0,y:.3},{x:0,y:-.3},{x:-.6,y:-.3},{x:-.6,y:.3}];return at.transform(i,r),at.drawPath(e,i),!0}}class fge{static draw(e,r){const i=[{x:0,y:0},{x:-.5,y:-.3},{x:-1,y:0},{x:-.5,y:.3}];return at.transform(i,r),at.drawPath(e,i),!0}}class pge{static draw(e,r){const i=[{x:-1,y:.3},{x:-.5,y:0},{x:-1,y:-.3},{x:0,y:0}];return at.transform(i,r),at.drawPath(e,i),!0}}class yk{static draw(e,r){let i;switch(r.type&&(i=r.type.toLowerCase()),i){case"image":return ige.draw(e,r);case"circle":return dge.draw(e,r);case"box":return hge.draw(e,r);case"crow":return oge.draw(e,r);case"curve":return sge.draw(e,r);case"diamond":return fge.draw(e,r);case"inv_curve":return age.draw(e,r);case"triangle":return lge.draw(e,r);case"inv_triangle":return cge.draw(e,r);case"bar":return uge.draw(e,r);case"vee":return pge.draw(e,r);case"arrow":default:return nge.draw(e,r)}}}function i_(t,e){var r=Ze(t);if(gn){var i=gn(t);e&&(i=er(i).call(i,function(n){return Tn(t,n).enumerable})),r.push.apply(r,i)}return r}function n_(t){for(var e=1;e<arguments.length;e++){var r,i,n=arguments[e]!=null?arguments[e]:{};e%2?Me(r=i_(Object(n),!0)).call(r,function(o){Zu(t,o,n[o])}):mn?Qu(t,mn(n)):Me(i=i_(Object(n))).call(i,function(o){eh(t,o,Tn(n,o))})}return t}class bk{constructor(e,r,i){this._body=r,this._labelModule=i,this.color={},this.colorDirty=!0,this.hoverWidth=1.5,this.selectionWidth=2,this.setOptions(e),this.fromPoint=this.from,this.toPoint=this.to}connect(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to]}cleanup(){return!1}setOptions(e){this.options=e,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.id=this.options.id}drawLine(e,r,i,n){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.getViaNode();e.strokeStyle=this.getColor(e,r),e.lineWidth=r.width,r.dashes!==!1?this._drawDashedLine(e,r,o):this._drawLine(e,r,o)}_drawLine(e,r,i,n,o){if(this.from!=this.to)this._line(e,r,i,n,o);else{const[s,a,l]=this._getCircleData(e);this._circle(e,r,s,a,l)}}_drawDashedLine(e,r,i,n,o){e.lineCap="round";const s=Qe(r.dashes)?r.dashes:[5,5];if(e.setLineDash!==void 0){if(e.save(),e.setLineDash(s),e.lineDashOffset=0,this.from!=this.to)this._line(e,r,i);else{const[a,l,c]=this._getCircleData(e);this._circle(e,r,a,l,c)}e.setLineDash([0]),e.lineDashOffset=0,e.restore()}else{if(this.from!=this.to)ex(e,this.from.x,this.from.y,this.to.x,this.to.y,s);else{const[a,l,c]=this._getCircleData(e);this._circle(e,r,a,l,c)}this.enableShadow(e,r),e.stroke(),this.disableShadow(e,r)}}findBorderPosition(e,r,i){return this.from!=this.to?this._findBorderPosition(e,r,i):this._findBorderPositionCircle(e,r,i)}findBorderPositions(e){if(this.from!=this.to)return{from:this._findBorderPosition(this.from,e),to:this._findBorderPosition(this.to,e)};{var r;const[i,n]=Qr(r=this._getCircleData(e)).call(r,0,2);return{from:this._findBorderPositionCircle(this.from,e,{x:i,y:n,low:.25,high:.6,direction:-1}),to:this._findBorderPositionCircle(this.from,e,{x:i,y:n,low:.6,high:.8,direction:1})}}}_getCircleData(e){const r=this.options.selfReference.size;e!==void 0&&this.from.shape.width===void 0&&this.from.shape.resize(e);const i=gk(e,this.options.selfReference.angle,r,this.from);return[i.x,i.y,r]}_pointOnCircle(e,r,i,n){const o=n*2*Math.PI;return{x:e+i*Math.cos(o),y:r-i*Math.sin(o)}}_findBorderPositionCircle(e,r,i){const n=i.x,o=i.y;let s=i.low,a=i.high;const l=i.direction,c=10,d=this.options.selfReference.size,u=.05;let h,f=(s+a)*.5,p=0;this.options.arrowStrikethrough===!0&&(l===-1?p=this.options.endPointOffset.from:l===1&&(p=this.options.endPointOffset.to));let g=0;do{f=(s+a)*.5,h=this._pointOnCircle(n,o,d,f);const $=Math.atan2(e.y-h.y,e.x-h.x),y=e.distanceToBorder(r,$)+p,b=Math.sqrt(Math.pow(h.x-e.x,2)+Math.pow(h.y-e.y,2)),S=y-b;if(Math.abs(S)<u)break;S>0?l>0?s=f:a=f:l>0?a=f:s=f,++g}while(s<=a&&g<c);return n_(n_({},h),{},{t:f})}getLineWidth(e,r){return e===!0?Math.max(this.selectionWidth,.3/this._body.view.scale):r===!0?Math.max(this.hoverWidth,.3/this._body.view.scale):Math.max(this.options.width,.3/this._body.view.scale)}getColor(e,r){if(r.inheritsColor!==!1){if(r.inheritsColor==="both"&&this.from.id!==this.to.id){const i=e.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y);let n=this.from.options.color.highlight.border,o=this.to.options.color.highlight.border;return this.from.selected===!1&&this.to.selected===!1?(n=$r(this.from.options.color.border,r.opacity),o=$r(this.to.options.color.border,r.opacity)):this.from.selected===!0&&this.to.selected===!1?o=this.to.options.color.border:this.from.selected===!1&&this.to.selected===!0&&(n=this.from.options.color.border),i.addColorStop(0,n),i.addColorStop(1,o),i}return r.inheritsColor==="to"?$r(this.to.options.color.border,r.opacity):$r(this.from.options.color.border,r.opacity)}else return $r(r.color,r.opacity)}_circle(e,r,i,n,o){this.enableShadow(e,r);let s=0,a=Math.PI*2;if(!this.options.selfReference.renderBehindTheNode){const l=this.options.selfReference.angle,c=this.options.selfReference.angle+Math.PI,d=this._findBorderPositionCircle(this.from,e,{x:i,y:n,low:l,high:c,direction:-1}),u=this._findBorderPositionCircle(this.from,e,{x:i,y:n,low:l,high:c,direction:1});s=Math.atan2(d.y-n,d.x-i),a=Math.atan2(u.y-n,u.x-i)}e.beginPath(),e.arc(i,n,o,s,a,!1),e.stroke(),this.disableShadow(e,r)}getDistanceToEdge(e,r,i,n,o,s){if(this.from!=this.to)return this._getDistanceToEdge(e,r,i,n,o,s);{const[a,l,c]=this._getCircleData(void 0),d=a-o,u=l-s;return Math.abs(Math.sqrt(d*d+u*u)-c)}}_getDistanceToLine(e,r,i,n,o,s){const a=i-e,l=n-r,c=a*a+l*l;let d=((o-e)*a+(s-r)*l)/c;d>1?d=1:d<0&&(d=0);const u=e+d*a,h=r+d*l,f=u-o,p=h-s;return Math.sqrt(f*f+p*p)}getArrowData(e,r,i,n,o,s){let a,l,c,d,u,h,f;const p=s.width;r==="from"?(c=this.from,d=this.to,u=s.fromArrowScale<0,h=Math.abs(s.fromArrowScale),f=s.fromArrowType):r==="to"?(c=this.to,d=this.from,u=s.toArrowScale<0,h=Math.abs(s.toArrowScale),f=s.toArrowType):(c=this.to,d=this.from,u=s.middleArrowScale<0,h=Math.abs(s.middleArrowScale),f=s.middleArrowType);const g=15*h+3*p;if(c!=d){const S=rge(c.x-d.x,c.y-d.y),_=g/S;if(r!=="middle")if(this.options.smooth.enabled===!0){const T=this._findBorderPosition(c,e,{via:i}),W=this.getPoint(T.t+_*(r==="from"?1:-1),i);a=Math.atan2(T.y-W.y,T.x-W.x),l=T}else a=Math.atan2(c.y-d.y,c.x-d.x),l=this._findBorderPosition(c,e);else{const T=(u?-_:_)/2,W=this.getPoint(.5+T,i),Y=this.getPoint(.5-T,i);a=Math.atan2(W.y-Y.y,W.x-Y.x),l=this.getPoint(.5,i)}}else{const[S,_,T]=this._getCircleData(e);if(r==="from"){const W=this.options.selfReference.angle,Y=this.options.selfReference.angle+Math.PI,z=this._findBorderPositionCircle(this.from,e,{x:S,y:_,low:W,high:Y,direction:-1});a=z.t*-2*Math.PI+1.5*Math.PI+.1*Math.PI,l=z}else if(r==="to"){const W=this.options.selfReference.angle,Y=this.options.selfReference.angle+Math.PI,z=this._findBorderPositionCircle(this.from,e,{x:S,y:_,low:W,high:Y,direction:1});a=z.t*-2*Math.PI+1.5*Math.PI-1.1*Math.PI,l=z}else{const W=this.options.selfReference.angle/(2*Math.PI);l=this._pointOnCircle(S,_,T,W),a=W*-2*Math.PI+1.5*Math.PI+.1*Math.PI}}const $=l.x-g*.9*Math.cos(a),y=l.y-g*.9*Math.sin(a);return{point:l,core:{x:$,y},angle:a,length:g,type:f}}drawArrowHead(e,r,i,n,o){e.strokeStyle=this.getColor(e,r),e.fillStyle=e.strokeStyle,e.lineWidth=r.width,yk.draw(e,o)&&(this.enableShadow(e,r),Wl(e).call(e),this.disableShadow(e,r))}enableShadow(e,r){r.shadow===!0&&(e.shadowColor=r.shadowColor,e.shadowBlur=r.shadowSize,e.shadowOffsetX=r.shadowX,e.shadowOffsetY=r.shadowY)}disableShadow(e,r){r.shadow===!0&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}drawBackground(e,r){if(r.background!==!1){const i={strokeStyle:e.strokeStyle,lineWidth:e.lineWidth,dashes:e.dashes};e.strokeStyle=r.backgroundColor,e.lineWidth=r.backgroundSize,this.setStrokeDashed(e,r.backgroundDashes),e.stroke(),e.strokeStyle=i.strokeStyle,e.lineWidth=i.lineWidth,e.dashes=i.dashes,this.setStrokeDashed(e,r.dashes)}}setStrokeDashed(e,r){if(r!==!1)if(e.setLineDash!==void 0){const i=Qe(r)?r:[5,5];e.setLineDash(i)}else console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.");else e.setLineDash!==void 0?e.setLineDash([]):console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.")}}function o_(t,e){var r=Ze(t);if(gn){var i=gn(t);e&&(i=er(i).call(i,function(n){return Tn(t,n).enumerable})),r.push.apply(r,i)}return r}function s_(t){for(var e=1;e<arguments.length;e++){var r,i,n=arguments[e]!=null?arguments[e]:{};e%2?Me(r=o_(Object(n),!0)).call(r,function(o){Zu(t,o,n[o])}):mn?Qu(t,mn(n)):Me(i=o_(Object(n))).call(i,function(o){eh(t,o,Tn(n,o))})}return t}class Um extends bk{constructor(e,r,i){super(e,r,i)}_findBorderPositionBezier(e,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this._getViaCoordinates();const n=10,o=.2;let s=!1,a=1,l=0,c=this.to,d,u,h=this.options.endPointOffset?this.options.endPointOffset.to:0;e.id===this.from.id&&(c=this.from,s=!0,h=this.options.endPointOffset?this.options.endPointOffset.from:0),this.options.arrowStrikethrough===!1&&(h=0);let f=0;do{u=(l+a)*.5,d=this.getPoint(u,i);const p=Math.atan2(c.y-d.y,c.x-d.x),g=c.distanceToBorder(r,p)+h,$=Math.sqrt(Math.pow(d.x-c.x,2)+Math.pow(d.y-c.y,2)),y=g-$;if(Math.abs(y)<o)break;y<0?s===!1?l=u:a=u:s===!1?a=u:l=u,++f}while(l<=a&&f<n);return s_(s_({},d),{},{t:u})}_getDistanceToBezierEdge(e,r,i,n,o,s,a){let l=1e9,c,d,u,h,f,p=e,g=r;for(d=1;d<10;d++)u=.1*d,h=Math.pow(1-u,2)*e+2*u*(1-u)*a.x+Math.pow(u,2)*i,f=Math.pow(1-u,2)*r+2*u*(1-u)*a.y+Math.pow(u,2)*n,d>0&&(c=this._getDistanceToLine(p,g,h,f,o,s),l=c<l?c:l),p=h,g=f;return l}_bezierCurve(e,r,i,n){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),i!=null&&i.x!=null?n!=null&&n.x!=null?e.bezierCurveTo(i.x,i.y,n.x,n.y,this.toPoint.x,this.toPoint.y):e.quadraticCurveTo(i.x,i.y,this.toPoint.x,this.toPoint.y):e.lineTo(this.toPoint.x,this.toPoint.y),this.drawBackground(e,r),this.enableShadow(e,r),e.stroke(),this.disableShadow(e,r)}getViaNode(){return this._getViaCoordinates()}}class a_ extends Um{constructor(e,r,i){super(e,r,i),this.via=this.via,this._boundFunction=()=>{this.positionBezierNode()},this._body.emitter.on("_repositionBezierNodes",this._boundFunction)}setOptions(e){super.setOptions(e);let r=!1;this.options.physics!==e.physics&&(r=!0),this.options=e,this.id=this.options.id,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.setupSupportNode(),this.connect(),r===!0&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}connect(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.from===void 0||this.to===void 0||this.options.physics===!1?this.via.setOptions({physics:!1}):this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}cleanup(){return this._body.emitter.off("_repositionBezierNodes",this._boundFunction),this.via!==void 0?(delete this._body.nodes[this.via.id],this.via=void 0,!0):!1}setupSupportNode(){if(this.via===void 0){const e="edgeId:"+this.id,r=this._body.functions.createNode({id:e,shape:"circle",physics:!0,hidden:!0});this._body.nodes[e]=r,this.via=r,this.via.parentEdgeId=this.id,this.positionBezierNode()}}positionBezierNode(){this.via!==void 0&&this.from!==void 0&&this.to!==void 0?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):this.via!==void 0&&(this.via.x=0,this.via.y=0)}_line(e,r,i){this._bezierCurve(e,r,i)}_getViaCoordinates(){return this.via}getViaNode(){return this.via}getPoint(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.via;if(this.from===this.to){const[i,n,o]=this._getCircleData(),s=2*Math.PI*(1-e);return{x:i+o*Math.sin(s),y:n+o-o*(1-Math.cos(s))}}else return{x:Math.pow(1-e,2)*this.fromPoint.x+2*e*(1-e)*r.x+Math.pow(e,2)*this.toPoint.x,y:Math.pow(1-e,2)*this.fromPoint.y+2*e*(1-e)*r.y+Math.pow(e,2)*this.toPoint.y}}_findBorderPosition(e,r){return this._findBorderPositionBezier(e,r,this.via)}_getDistanceToEdge(e,r,i,n,o,s){return this._getDistanceToBezierEdge(e,r,i,n,o,s,this.via)}}class l_ extends Um{constructor(e,r,i){super(e,r,i)}_line(e,r,i){this._bezierCurve(e,r,i)}getViaNode(){return this._getViaCoordinates()}_getViaCoordinates(){const e=this.options.smooth.roundness,r=this.options.smooth.type;let i=Math.abs(this.from.x-this.to.x),n=Math.abs(this.from.y-this.to.y);if(r==="discrete"||r==="diagonalCross"){let o,s;i<=n?o=s=e*n:o=s=e*i,this.from.x>this.to.x&&(o=-o),this.from.y>=this.to.y&&(s=-s);let a=this.from.x+o,l=this.from.y+s;return r==="discrete"&&(i<=n?a=i<e*n?this.from.x:a:l=n<e*i?this.from.y:l),{x:a,y:l}}else if(r==="straightCross"){let o=(1-e)*i,s=(1-e)*n;return i<=n?(o=0,this.from.y<this.to.y&&(s=-s)):(this.from.x<this.to.x&&(o=-o),s=0),{x:this.to.x+o,y:this.to.y+s}}else if(r==="horizontal"){let o=(1-e)*i;return this.from.x<this.to.x&&(o=-o),{x:this.to.x+o,y:this.from.y}}else if(r==="vertical"){let o=(1-e)*n;return this.from.y<this.to.y&&(o=-o),{x:this.from.x,y:this.to.y+o}}else if(r==="curvedCW"){i=this.to.x-this.from.x,n=this.from.y-this.to.y;const o=Math.sqrt(i*i+n*n),s=Math.PI,l=(Math.atan2(n,i)+(e*.5+.5)*s)%(2*s);return{x:this.from.x+(e*.5+.5)*o*Math.sin(l),y:this.from.y+(e*.5+.5)*o*Math.cos(l)}}else if(r==="curvedCCW"){i=this.to.x-this.from.x,n=this.from.y-this.to.y;const o=Math.sqrt(i*i+n*n),s=Math.PI,l=(Math.atan2(n,i)+(-e*.5+.5)*s)%(2*s);return{x:this.from.x+(e*.5+.5)*o*Math.sin(l),y:this.from.y+(e*.5+.5)*o*Math.cos(l)}}else{let o,s;i<=n?o=s=e*n:o=s=e*i,this.from.x>this.to.x&&(o=-o),this.from.y>=this.to.y&&(s=-s);let a=this.from.x+o,l=this.from.y+s;return i<=n?this.from.x<=this.to.x?a=this.to.x<a?this.to.x:a:a=this.to.x>a?this.to.x:a:this.from.y>=this.to.y?l=this.to.y>l?this.to.y:l:l=this.to.y<l?this.to.y:l,{x:a,y:l}}}_findBorderPosition(e,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._findBorderPositionBezier(e,r,i.via)}_getDistanceToEdge(e,r,i,n,o,s){let a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(e,r,i,n,o,s,a)}getPoint(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates();const i=e,n=Math.pow(1-i,2)*this.fromPoint.x+2*i*(1-i)*r.x+Math.pow(i,2)*this.toPoint.x,o=Math.pow(1-i,2)*this.fromPoint.y+2*i*(1-i)*r.y+Math.pow(i,2)*this.toPoint.y;return{x:n,y:o}}}class vge extends Um{constructor(e,r,i){super(e,r,i)}_getDistanceToBezierEdge2(e,r,i,n,o,s,a,l){let c=1e9,d=e,u=r;const h=[0,0,0,0];for(let f=1;f<10;f++){const p=.1*f;h[0]=Math.pow(1-p,3),h[1]=3*p*Math.pow(1-p,2),h[2]=3*Math.pow(p,2)*(1-p),h[3]=Math.pow(p,3);const g=h[0]*e+h[1]*a.x+h[2]*l.x+h[3]*i,$=h[0]*r+h[1]*a.y+h[2]*l.y+h[3]*n;if(f>0){const y=this._getDistanceToLine(d,u,g,$,o,s);c=y<c?y:c}d=g,u=$}return c}}class c_ extends vge{constructor(e,r,i){super(e,r,i)}_line(e,r,i){const n=i[0],o=i[1];this._bezierCurve(e,r,n,o)}_getViaCoordinates(){const e=this.from.x-this.to.x,r=this.from.y-this.to.y;let i,n,o,s;const a=this.options.smooth.roundness;return(Math.abs(e)>Math.abs(r)||this.options.smooth.forceDirection===!0||this.options.smooth.forceDirection==="horizontal")&&this.options.smooth.forceDirection!=="vertical"?(n=this.from.y,s=this.to.y,i=this.from.x-a*e,o=this.to.x+a*e):(n=this.from.y-a*r,s=this.to.y+a*r,i=this.from.x,o=this.to.x),[{x:i,y:n},{x:o,y:s}]}getViaNode(){return this._getViaCoordinates()}_findBorderPosition(e,r){return this._findBorderPositionBezier(e,r)}_getDistanceToEdge(e,r,i,n,o,s){let[a,l]=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge2(e,r,i,n,o,s,a,l)}getPoint(e){let[r,i]=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates();const n=e,o=[Math.pow(1-n,3),3*n*Math.pow(1-n,2),3*Math.pow(n,2)*(1-n),Math.pow(n,3)],s=o[0]*this.fromPoint.x+o[1]*r.x+o[2]*i.x+o[3]*this.toPoint.x,a=o[0]*this.fromPoint.y+o[1]*r.y+o[2]*i.y+o[3]*this.toPoint.y;return{x:s,y:a}}}class d_ extends bk{constructor(e,r,i){super(e,r,i)}_line(e,r){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),e.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(e,r),e.stroke(),this.disableShadow(e,r)}getViaNode(){}getPoint(e){return{x:(1-e)*this.fromPoint.x+e*this.toPoint.x,y:(1-e)*this.fromPoint.y+e*this.toPoint.y}}_findBorderPosition(e,r){let i=this.to,n=this.from;e.id===this.from.id&&(i=this.from,n=this.to);const o=Math.atan2(i.y-n.y,i.x-n.x),s=i.x-n.x,a=i.y-n.y,l=Math.sqrt(s*s+a*a),c=e.distanceToBorder(r,o),d=(l-c)/l;return{x:(1-d)*n.x+d*i.x,y:(1-d)*n.y+d*i.y,t:0}}_getDistanceToEdge(e,r,i,n,o,s){return this._getDistanceToLine(e,r,i,n,o,s)}}class cn{constructor(e,r,i,n,o){if(r===void 0)throw new Error("No body provided");this.options=ln(n),this.globalOptions=n,this.defaultOptions=o,this.body=r,this.imagelist=i,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new is(this.body,this.options,!0),this.setOptions(e)}setOptions(e){if(!e)return;let r=typeof e.physics<"u"&&this.options.physics!==e.physics||typeof e.hidden<"u"&&(this.options.hidden||!1)!==(e.hidden||!1)||typeof e.from<"u"&&this.options.from!==e.from||typeof e.to<"u"&&this.options.to!==e.to;cn.parseOptions(this.options,e,!0,this.globalOptions),e.id!==void 0&&(this.id=e.id),e.from!==void 0&&(this.fromId=e.from),e.to!==void 0&&(this.toId=e.to),e.title!==void 0&&(this.title=e.title),e.value!==void 0&&(e.value=ck(e.value));const i=[e,this.options,this.defaultOptions];return this.chooser=Wm("edge",i),this.updateLabelModule(e),r=this.updateEdgeType()||r,this._setInteractionWidths(),this.connect(),r}static parseOptions(e,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(Vs(["endPointOffset","arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","selfReference","to","title","value","width","font","chosen","widthConstraint"],e,r,i),r.endPointOffset!==void 0&&r.endPointOffset.from!==void 0&&(Ln(r.endPointOffset.from)?e.endPointOffset.from=r.endPointOffset.from:(e.endPointOffset.from=n.endPointOffset.from!==void 0?n.endPointOffset.from:0,console.error("endPointOffset.from is not a valid number"))),r.endPointOffset!==void 0&&r.endPointOffset.to!==void 0&&(Ln(r.endPointOffset.to)?e.endPointOffset.to=r.endPointOffset.to:(e.endPointOffset.to=n.endPointOffset.to!==void 0?n.endPointOffset.to:0,console.error("endPointOffset.to is not a valid number"))),zd(r.label)?e.label=r.label:zd(e.label)||(e.label=void 0),br(e,r,"smooth",n),br(e,r,"shadow",n),br(e,r,"background",n),r.dashes!==void 0&&r.dashes!==null?e.dashes=r.dashes:i===!0&&r.dashes===null&&(e.dashes=Gn(n.dashes)),r.scaling!==void 0&&r.scaling!==null?(r.scaling.min!==void 0&&(e.scaling.min=r.scaling.min),r.scaling.max!==void 0&&(e.scaling.max=r.scaling.max),br(e.scaling,r.scaling,"label",n.scaling)):i===!0&&r.scaling===null&&(e.scaling=Gn(n.scaling)),r.arrows!==void 0&&r.arrows!==null)if(typeof r.arrows=="string"){const a=r.arrows.toLowerCase();e.arrows.to.enabled=ke(a).call(a,"to")!=-1,e.arrows.middle.enabled=ke(a).call(a,"middle")!=-1,e.arrows.from.enabled=ke(a).call(a,"from")!=-1}else if(typeof r.arrows=="object")br(e.arrows,r.arrows,"to",n.arrows),br(e.arrows,r.arrows,"middle",n.arrows),br(e.arrows,r.arrows,"from",n.arrows);else throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+Hl(r.arrows));else i===!0&&r.arrows===null&&(e.arrows=Gn(n.arrows));if(r.color!==void 0&&r.color!==null){const a=ts(r.color)?{color:r.color,highlight:r.color,hover:r.color,inherit:!1,opacity:1}:r.color,l=e.color;if(o)Be(l,n.color,!1,i);else for(const c in l)Object.prototype.hasOwnProperty.call(l,c)&&delete l[c];if(ts(l))l.color=l,l.highlight=l,l.hover=l,l.inherit=!1,a.opacity===void 0&&(l.opacity=1);else{let c=!1;a.color!==void 0&&(l.color=a.color,c=!0),a.highlight!==void 0&&(l.highlight=a.highlight,c=!0),a.hover!==void 0&&(l.hover=a.hover,c=!0),a.inherit!==void 0&&(l.inherit=a.inherit),a.opacity!==void 0&&(l.opacity=Math.min(1,Math.max(0,a.opacity))),c===!0?l.inherit=!1:l.inherit===void 0&&(l.inherit="from")}}else i===!0&&r.color===null&&(e.color=ln(n.color));i===!0&&r.font===null&&(e.font=ln(n.font)),Object.prototype.hasOwnProperty.call(r,"selfReferenceSize")&&(console.warn("The selfReferenceSize property has been deprecated. Please use selfReference property instead. The selfReference can be set like thise selfReference:{size:30, angle:Math.PI / 4}"),e.selfReference.size=r.selfReferenceSize)}getFormattingValues(){const e=this.options.arrows.to===!0||this.options.arrows.to.enabled===!0,r=this.options.arrows.from===!0||this.options.arrows.from.enabled===!0,i=this.options.arrows.middle===!0||this.options.arrows.middle.enabled===!0,n=this.options.color.inherit,o={toArrow:e,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,toArrowSrc:this.options.arrows.to.src,toArrowImageWidth:this.options.arrows.to.imageWidth,toArrowImageHeight:this.options.arrows.to.imageHeight,middleArrow:i,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,middleArrowSrc:this.options.arrows.middle.src,middleArrowImageWidth:this.options.arrows.middle.imageWidth,middleArrowImageHeight:this.options.arrows.middle.imageHeight,fromArrow:r,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,fromArrowSrc:this.options.arrows.from.src,fromArrowImageWidth:this.options.arrows.from.imageWidth,fromArrowImageHeight:this.options.arrows.from.imageHeight,arrowStrikethrough:this.options.arrowStrikethrough,color:n?void 0:this.options.color.color,inheritsColor:n,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width,background:this.options.background.enabled,backgroundColor:this.options.background.color,backgroundSize:this.options.background.size,backgroundDashes:this.options.background.dashes};if(this.selected||this.hover)if(this.chooser===!0){if(this.selected){const s=this.options.selectionWidth;typeof s=="function"?o.width=s(o.width):typeof s=="number"&&(o.width+=s),o.width=Math.max(o.width,.3/this.body.view.scale),o.color=this.options.color.highlight,o.shadow=this.options.shadow.enabled}else if(this.hover){const s=this.options.hoverWidth;typeof s=="function"?o.width=s(o.width):typeof s=="number"&&(o.width+=s),o.width=Math.max(o.width,.3/this.body.view.scale),o.color=this.options.color.hover,o.shadow=this.options.shadow.enabled}}else typeof this.chooser=="function"&&(this.chooser(o,this.options.id,this.selected,this.hover),o.color!==void 0&&(o.inheritsColor=!1),o.shadow===!1&&(o.shadowColor!==this.options.shadow.color||o.shadowSize!==this.options.shadow.size||o.shadowX!==this.options.shadow.x||o.shadowY!==this.options.shadow.y)&&(o.shadow=!0));else o.shadow=this.options.shadow.enabled,o.width=Math.max(o.width,.3/this.body.view.scale);return o}updateLabelModule(e){const r=[e,this.options,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,r),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}updateEdgeType(){const e=this.options.smooth;let r=!1,i=!0;return this.edgeType!==void 0&&((this.edgeType instanceof a_&&e.enabled===!0&&e.type==="dynamic"||this.edgeType instanceof c_&&e.enabled===!0&&e.type==="cubicBezier"||this.edgeType instanceof l_&&e.enabled===!0&&e.type!=="dynamic"&&e.type!=="cubicBezier"||this.edgeType instanceof d_&&e.type.enabled===!1)&&(i=!1),i===!0&&(r=this.cleanup())),i===!0?e.enabled===!0?e.type==="dynamic"?(r=!0,this.edgeType=new a_(this.options,this.body,this.labelModule)):e.type==="cubicBezier"?this.edgeType=new c_(this.options,this.body,this.labelModule):this.edgeType=new l_(this.options,this.body,this.labelModule):this.edgeType=new d_(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),r}connect(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=this.from!==void 0&&this.to!==void 0,this.connected===!0?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}disconnect(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}getTitle(){return this.title}isSelected(){return this.selected}getValue(){return this.options.value}setValueRange(e,r,i){if(this.options.value!==void 0){const n=this.options.scaling.customScalingFunction(e,r,i,this.options.value),o=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){const s=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+n*s}this.options.width=this.options.scaling.min+n*o}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}_setInteractionWidths(){typeof this.options.hoverWidth=="function"?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width,typeof this.options.selectionWidth=="function"?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}draw(e){const r=this.getFormattingValues();if(r.hidden)return;const i=this.edgeType.getViaNode();this.edgeType.drawLine(e,r,this.selected,this.hover,i),this.drawLabel(e,i)}drawArrows(e){const r=this.getFormattingValues();if(r.hidden)return;const i=this.edgeType.getViaNode(),n={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,r.fromArrow&&(n.from=this.edgeType.getArrowData(e,"from",i,this.selected,this.hover,r),r.arrowStrikethrough===!1&&(this.edgeType.fromPoint=n.from.core),r.fromArrowSrc&&(n.from.image=this.imagelist.load(r.fromArrowSrc)),r.fromArrowImageWidth&&(n.from.imageWidth=r.fromArrowImageWidth),r.fromArrowImageHeight&&(n.from.imageHeight=r.fromArrowImageHeight)),r.toArrow&&(n.to=this.edgeType.getArrowData(e,"to",i,this.selected,this.hover,r),r.arrowStrikethrough===!1&&(this.edgeType.toPoint=n.to.core),r.toArrowSrc&&(n.to.image=this.imagelist.load(r.toArrowSrc)),r.toArrowImageWidth&&(n.to.imageWidth=r.toArrowImageWidth),r.toArrowImageHeight&&(n.to.imageHeight=r.toArrowImageHeight)),r.middleArrow&&(n.middle=this.edgeType.getArrowData(e,"middle",i,this.selected,this.hover,r),r.middleArrowSrc&&(n.middle.image=this.imagelist.load(r.middleArrowSrc)),r.middleArrowImageWidth&&(n.middle.imageWidth=r.middleArrowImageWidth),r.middleArrowImageHeight&&(n.middle.imageHeight=r.middleArrowImageHeight)),r.fromArrow&&this.edgeType.drawArrowHead(e,r,this.selected,this.hover,n.from),r.middleArrow&&this.edgeType.drawArrowHead(e,r,this.selected,this.hover,n.middle),r.toArrow&&this.edgeType.drawArrowHead(e,r,this.selected,this.hover,n.to)}drawLabel(e,r){if(this.options.label!==void 0){const i=this.from,n=this.to;this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(e,this.selected,this.hover);let o;if(i.id!=n.id){this.labelModule.pointToSelf=!1,o=this.edgeType.getPoint(.5,r),e.save();const s=this._getRotation(e);s.angle!=0&&(e.translate(s.x,s.y),e.rotate(s.angle)),this.labelModule.draw(e,o.x,o.y,this.selected,this.hover),e.restore()}else{this.labelModule.pointToSelf=!0;const s=gk(e,this.options.selfReference.angle,this.options.selfReference.size,i);o=this._pointOnCircle(s.x,s.y,this.options.selfReference.size,this.options.selfReference.angle),this.labelModule.draw(e,o.x,o.y,this.selected,this.hover)}}}getItemsOnPoint(e){const r=[];if(this.labelModule.visible()){const n=this._getRotation();qv(this.labelModule.getSize(),e,n)&&r.push({edgeId:this.id,labelId:0})}const i={left:e.x,top:e.y};return this.isOverlappingWith(i)&&r.push({edgeId:this.id}),r}isOverlappingWith(e){if(this.connected){const i=this.from.x,n=this.from.y,o=this.to.x,s=this.to.y,a=e.left,l=e.top;return this.edgeType.getDistanceToEdge(i,n,o,s,a,l)<10}else return!1}_getRotation(e){const r=this.edgeType.getViaNode(),i=this.edgeType.getPoint(.5,r);e!==void 0&&this.labelModule.calculateLabelSize(e,this.selected,this.hover,i.x,i.y);const n={x:i.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible()||this.options.font.align==="horizontal")return n;const o=this.from.y-this.to.y,s=this.from.x-this.to.x;let a=Math.atan2(o,s);return(a<-1&&s<0||a>0&&s<0)&&(a+=Math.PI),n.angle=a,n}_pointOnCircle(e,r,i,n){return{x:e+i*Math.cos(n),y:r-i*Math.sin(n)}}select(){this.selected=!0}unselect(){this.selected=!1}cleanup(){return this.edgeType.cleanup()}remove(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}endPointsValid(){return this.body.nodes[this.fromId]!==void 0&&this.body.nodes[this.toId]!==void 0}}class gge{constructor(e,r,i){var n;this.body=e,this.images=r,this.groups=i,this.body.functions.createEdge=M(n=this.create).call(n,this),this.edgesListeners={add:(o,s)=>{this.add(s.items)},update:(o,s)=>{this.update(s.items)},remove:(o,s)=>{this.remove(s.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},endPointOffset:{from:0,to:0},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(o,s,a,l){if(s===o)return .5;{const c=1/(s-o);return Math.max(0,(l-o)*c)}}},selectionWidth:1.5,selfReference:{size:20,angle:Math.PI/4,renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},background:{enabled:!1,color:"rgba(111,111,111,1)",size:10,dashes:!1},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},Be(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e=this,r,i;this.body.emitter.on("_forceDisableDynamicCurves",function(n){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;n==="dynamic"&&(n="continuous");let s=!1;for(const a in e.body.edges)if(Object.prototype.hasOwnProperty.call(e.body.edges,a)){const l=e.body.edges[a],c=e.body.data.edges.get(a);if(c!=null){const d=c.smooth;d!==void 0&&d.enabled===!0&&d.type==="dynamic"&&(n===void 0?l.setOptions({smooth:!1}):l.setOptions({smooth:{type:n}}),s=!0)}}o===!0&&s===!0&&e.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",()=>{this.reconnectEdges()}),this.body.emitter.on("refreshEdges",M(r=this.refresh).call(r,this)),this.body.emitter.on("refresh",M(i=this.refresh).call(i,this)),this.body.emitter.on("destroy",()=>{me(this.edgesListeners,(n,o)=>{this.body.data.edges&&this.body.data.edges.off(o,n)}),delete this.body.functions.createEdge,delete this.edgesListeners.add,delete this.edgesListeners.update,delete this.edgesListeners.remove,delete this.edgesListeners})}setOptions(e){if(e!==void 0){cn.parseOptions(this.options,e,!0,this.defaultOptions,!0);let r=!1;if(e.smooth!==void 0)for(const i in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,i)&&(r=this.body.edges[i].updateEdgeType()||r);if(e.font!==void 0)for(const i in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,i)&&this.body.edges[i].updateLabelModule();(e.hidden!==void 0||e.physics!==void 0||r===!0)&&this.body.emitter.emit("_dataChanged")}}setData(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const i=this.body.data.edges;if(DO("id",e))this.body.data.edges=e;else if(Qe(e))this.body.data.edges=new Pd,this.body.data.edges.add(e);else if(!e)this.body.data.edges=new Pd;else throw new TypeError("Array or DataSet expected");if(i&&me(this.edgesListeners,(n,o)=>{i.off(o,n)}),this.body.edges={},this.body.data.edges){me(this.edgesListeners,(o,s)=>{this.body.data.edges.on(s,o)});const n=this.body.data.edges.getIds();this.add(n,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),r===!1&&this.body.emitter.emit("_dataChanged")}add(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const i=this.body.edges,n=this.body.data.edges;for(let o=0;o<e.length;o++){const s=e[o],a=i[s];a&&a.disconnect();const l=n.get(s,{showInternalIds:!0});i[s]=this.create(l)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),r===!1&&this.body.emitter.emit("_dataChanged")}update(e){const r=this.body.edges,i=this.body.data.edges;let n=!1;for(let o=0;o<e.length;o++){const s=e[o],a=i.get(s),l=r[s];l!==void 0?(l.disconnect(),n=l.setOptions(a)||n,l.connect()):(this.body.edges[s]=this.create(a),n=!0)}n===!0?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}remove(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.length===0)return;const i=this.body.edges;me(e,n=>{const o=i[n];o!==void 0&&o.remove()}),r&&this.body.emitter.emit("_dataChanged")}refresh(){me(this.body.edges,(e,r)=>{const i=this.body.data.edges.get(r);i!==void 0&&e.setOptions(i)})}create(e){return new cn(e,this.body,this.images,this.options,this.defaultOptions)}reconnectEdges(){let e;const r=this.body.nodes,i=this.body.edges;for(e in r)Object.prototype.hasOwnProperty.call(r,e)&&(r[e].edges=[]);for(e in i)if(Object.prototype.hasOwnProperty.call(i,e)){const n=i[e];n.from=null,n.to=null,n.connect()}}getConnectedNodes(e){const r=[];if(this.body.edges[e]!==void 0){const i=this.body.edges[e];i.fromId!==void 0&&r.push(i.fromId),i.toId!==void 0&&r.push(i.toId)}return r}_updateState(){this._addMissingEdges(),this._removeInvalidEdges()}_removeInvalidEdges(){const e=[];me(this.body.edges,(r,i)=>{const n=this.body.nodes[r.toId],o=this.body.nodes[r.fromId];n!==void 0&&n.isCluster===!0||o!==void 0&&o.isCluster===!0||(n===void 0||o===void 0)&&e.push(i)}),this.remove(e,!1)}_addMissingEdges(){const e=this.body.data.edges;if(e==null)return;const r=this.body.edges,i=[];Me(e).call(e,(n,o)=>{r[o]===void 0&&i.push(o)}),this.add(i,!0)}}class $k{constructor(e,r,i){this.body=e,this.physicsBody=r,this.barnesHutTree,this.setOptions(i),this._rng=Xu("BARNES HUT SOLVER")}setOptions(e){this.options=e,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}solve(){if(this.options.gravitationalConstant!==0&&this.physicsBody.physicsNodeIndices.length>0){let e;const r=this.body.nodes,i=this.physicsBody.physicsNodeIndices,n=i.length,o=this._formBarnesHutTree(r,i);this.barnesHutTree=o;for(let s=0;s<n;s++)e=r[i[s]],e.options.mass>0&&this._getForceContributions(o.root,e)}}_getForceContributions(e,r){this._getForceContribution(e.children.NW,r),this._getForceContribution(e.children.NE,r),this._getForceContribution(e.children.SW,r),this._getForceContribution(e.children.SE,r)}_getForceContribution(e,r){if(e.childrenCount>0){const i=e.centerOfMass.x-r.x,n=e.centerOfMass.y-r.y,o=Math.sqrt(i*i+n*n);o*e.calcSize>this.thetaInversed?this._calculateForces(o,i,n,r,e):e.childrenCount===4?this._getForceContributions(e,r):e.children.data.id!=r.id&&this._calculateForces(o,i,n,r,e)}}_calculateForces(e,r,i,n,o){e===0&&(e=.1,r=e),this.overlapAvoidanceFactor<1&&n.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*n.shape.radius,e-n.shape.radius));const s=this.options.gravitationalConstant*o.mass*n.options.mass/Math.pow(e,3),a=r*s,l=i*s;this.physicsBody.forces[n.id].x+=a,this.physicsBody.forces[n.id].y+=l}_formBarnesHutTree(e,r){let i;const n=r.length;let o=e[r[0]].x,s=e[r[0]].y,a=e[r[0]].x,l=e[r[0]].y;for(let $=1;$<n;$++){const y=e[r[$]],b=y.x,S=y.y;y.options.mass>0&&(b<o&&(o=b),b>a&&(a=b),S<s&&(s=S),S>l&&(l=S))}const c=Math.abs(a-o)-Math.abs(l-s);c>0?(s-=.5*c,l+=.5*c):(o+=.5*c,a-=.5*c);const u=Math.max(1e-5,Math.abs(a-o)),h=.5*u,f=.5*(o+a),p=.5*(s+l),g={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:f-h,maxX:f+h,minY:p-h,maxY:p+h},size:u,calcSize:1/u,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(g.root);for(let $=0;$<n;$++)i=e[r[$]],i.options.mass>0&&this._placeInTree(g.root,i);return g}_updateBranchMass(e,r){const i=e.centerOfMass,n=e.mass+r.options.mass,o=1/n;i.x=i.x*e.mass+r.x*r.options.mass,i.x*=o,i.y=i.y*e.mass+r.y*r.options.mass,i.y*=o,e.mass=n;const s=Math.max(Math.max(r.height,r.radius),r.width);e.maxWidth=e.maxWidth<s?s:e.maxWidth}_placeInTree(e,r,i){(i!=!0||i===void 0)&&this._updateBranchMass(e,r);const n=e.children.NW.range;let o;n.maxX>r.x?n.maxY>r.y?o="NW":o="SW":n.maxY>r.y?o="NE":o="SE",this._placeInRegion(e,r,o)}_placeInRegion(e,r,i){const n=e.children[i];switch(n.childrenCount){case 0:n.children.data=r,n.childrenCount=1,this._updateBranchMass(n,r);break;case 1:n.children.data.x===r.x&&n.children.data.y===r.y?(r.x+=this._rng(),r.y+=this._rng()):(this._splitBranch(n),this._placeInTree(n,r));break;case 4:this._placeInTree(n,r);break}}_splitBranch(e){let r=null;e.childrenCount===1&&(r=e.children.data,e.mass=0,e.centerOfMass.x=0,e.centerOfMass.y=0),e.childrenCount=4,e.children.data=null,this._insertRegion(e,"NW"),this._insertRegion(e,"NE"),this._insertRegion(e,"SW"),this._insertRegion(e,"SE"),r!=null&&this._placeInTree(e,r)}_insertRegion(e,r){let i,n,o,s;const a=.5*e.size;switch(r){case"NW":i=e.range.minX,n=e.range.minX+a,o=e.range.minY,s=e.range.minY+a;break;case"NE":i=e.range.minX+a,n=e.range.maxX,o=e.range.minY,s=e.range.minY+a;break;case"SW":i=e.range.minX,n=e.range.minX+a,o=e.range.minY+a,s=e.range.maxY;break;case"SE":i=e.range.minX+a,n=e.range.maxX,o=e.range.minY+a,s=e.range.maxY;break}e.children[r]={centerOfMass:{x:0,y:0},mass:0,range:{minX:i,maxX:n,minY:o,maxY:s},size:.5*e.size,calcSize:2*e.calcSize,children:{data:null},maxWidth:0,level:e.level+1,childrenCount:0}}_debug(e,r){this.barnesHutTree!==void 0&&(e.lineWidth=1,this._drawBranch(this.barnesHutTree.root,e,r))}_drawBranch(e,r,i){i===void 0&&(i="#FF0000"),e.childrenCount===4&&(this._drawBranch(e.children.NW,r),this._drawBranch(e.children.NE,r),this._drawBranch(e.children.SE,r),this._drawBranch(e.children.SW,r)),r.strokeStyle=i,r.beginPath(),r.moveTo(e.range.minX,e.range.minY),r.lineTo(e.range.maxX,e.range.minY),r.stroke(),r.beginPath(),r.moveTo(e.range.maxX,e.range.minY),r.lineTo(e.range.maxX,e.range.maxY),r.stroke(),r.beginPath(),r.moveTo(e.range.maxX,e.range.maxY),r.lineTo(e.range.minX,e.range.maxY),r.stroke(),r.beginPath(),r.moveTo(e.range.minX,e.range.maxY),r.lineTo(e.range.minX,e.range.minY),r.stroke()}}class mge{constructor(e,r,i){this._rng=Xu("REPULSION SOLVER"),this.body=e,this.physicsBody=r,this.setOptions(i)}setOptions(e){this.options=e}solve(){let e,r,i,n,o,s,a,l;const c=this.body.nodes,d=this.physicsBody.physicsNodeIndices,u=this.physicsBody.forces,h=this.options.nodeDistance,f=-2/3/h,p=4/3;for(let g=0;g<d.length-1;g++){a=c[d[g]];for(let $=g+1;$<d.length;$++)l=c[d[$]],e=l.x-a.x,r=l.y-a.y,i=Math.sqrt(e*e+r*r),i===0&&(i=.1*this._rng(),e=i),i<2*h&&(i<.5*h?s=1:s=f*i+p,s=s/i,n=e*s,o=r*s,u[a.id].x-=n,u[a.id].y-=o,u[l.id].x+=n,u[l.id].y+=o)}}}class yge{constructor(e,r,i){this.body=e,this.physicsBody=r,this.setOptions(i)}setOptions(e){this.options=e,this.overlapAvoidanceFactor=Math.max(0,Math.min(1,this.options.avoidOverlap||0))}solve(){const e=this.body.nodes,r=this.physicsBody.physicsNodeIndices,i=this.physicsBody.forces,n=this.options.nodeDistance;for(let o=0;o<r.length-1;o++){const s=e[r[o]];for(let a=o+1;a<r.length;a++){const l=e[r[a]];if(s.level===l.level){const c=n+this.overlapAvoidanceFactor*((s.shape.radius||0)/2+(l.shape.radius||0)/2),d=l.x-s.x,u=l.y-s.y,h=Math.sqrt(d*d+u*u),f=.05;let p;h<c?p=-Math.pow(f*h,2)+Math.pow(f*c,2):p=0,h!==0&&(p=p/h);const g=d*p,$=u*p;i[s.id].x-=g,i[s.id].y-=$,i[l.id].x+=g,i[l.id].y+=$}}}}}class wp{constructor(e,r,i){this.body=e,this.physicsBody=r,this.setOptions(i)}setOptions(e){this.options=e}solve(){let e,r;const i=this.physicsBody.physicsEdgeIndices,n=this.body.edges;let o,s,a;for(let l=0;l<i.length;l++)r=n[i[l]],r.connected===!0&&r.toId!==r.fromId&&this.body.nodes[r.toId]!==void 0&&this.body.nodes[r.fromId]!==void 0&&(r.edgeType.via!==void 0?(e=r.options.length===void 0?this.options.springLength:r.options.length,o=r.to,s=r.edgeType.via,a=r.from,this._calculateSpringForce(o,s,.5*e),this._calculateSpringForce(s,a,.5*e)):(e=r.options.length===void 0?this.options.springLength*1.5:r.options.length,this._calculateSpringForce(r.from,r.to,e)))}_calculateSpringForce(e,r,i){const n=e.x-r.x,o=e.y-r.y,s=Math.max(Math.sqrt(n*n+o*o),.01),a=this.options.springConstant*(i-s)/s,l=n*a,c=o*a;this.physicsBody.forces[e.id]!==void 0&&(this.physicsBody.forces[e.id].x+=l,this.physicsBody.forces[e.id].y+=c),this.physicsBody.forces[r.id]!==void 0&&(this.physicsBody.forces[r.id].x-=l,this.physicsBody.forces[r.id].y-=c)}}class bge{constructor(e,r,i){this.body=e,this.physicsBody=r,this.setOptions(i)}setOptions(e){this.options=e}solve(){let e,r,i,n,o,s,a,l;const c=this.body.edges,d=.5,u=this.physicsBody.physicsEdgeIndices,h=this.physicsBody.physicsNodeIndices,f=this.physicsBody.forces;for(let _=0;_<h.length;_++){const T=h[_];f[T].springFx=0,f[T].springFy=0}for(let _=0;_<u.length;_++)r=c[u[_]],r.connected===!0&&(e=r.options.length===void 0?this.options.springLength:r.options.length,i=r.from.x-r.to.x,n=r.from.y-r.to.y,l=Math.sqrt(i*i+n*n),l=l===0?.01:l,a=this.options.springConstant*(e-l)/l,o=i*a,s=n*a,r.to.level!=r.from.level?(f[r.toId]!==void 0&&(f[r.toId].springFx-=o,f[r.toId].springFy-=s),f[r.fromId]!==void 0&&(f[r.fromId].springFx+=o,f[r.fromId].springFy+=s)):(f[r.toId]!==void 0&&(f[r.toId].x-=d*o,f[r.toId].y-=d*s),f[r.fromId]!==void 0&&(f[r.fromId].x+=d*o,f[r.fromId].y+=d*s)));a=1;let p,g;for(let _=0;_<h.length;_++){const T=h[_];p=Math.min(a,Math.max(-a,f[T].springFx)),g=Math.min(a,Math.max(-a,f[T].springFy)),f[T].x+=p,f[T].y+=g}let $=0,y=0;for(let _=0;_<h.length;_++){const T=h[_];$+=f[T].x,y+=f[T].y}const b=$/h.length,S=y/h.length;for(let _=0;_<h.length;_++){const T=h[_];f[T].x-=b,f[T].y-=S}}}class id{constructor(e,r,i){this.body=e,this.physicsBody=r,this.setOptions(i)}setOptions(e){this.options=e}solve(){let e,r,i,n;const o=this.body.nodes,s=this.physicsBody.physicsNodeIndices,a=this.physicsBody.forces;for(let l=0;l<s.length;l++){const c=s[l];n=o[c],e=-n.x,r=-n.y,i=Math.sqrt(e*e+r*r),this._calculateForces(i,e,r,a,n)}}_calculateForces(e,r,i,n,o){const s=e===0?0:this.options.centralGravity/e;n[o.id].x=r*s,n[o.id].y=i*s}}class $ge extends $k{constructor(e,r,i){super(e,r,i),this._rng=Xu("FORCE ATLAS 2 BASED REPULSION SOLVER")}_calculateForces(e,r,i,n,o){e===0&&(e=.1*this._rng(),r=e),this.overlapAvoidanceFactor<1&&n.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*n.shape.radius,e-n.shape.radius));const s=n.edges.length+1,a=this.options.gravitationalConstant*o.mass*n.options.mass*s/Math.pow(e,2),l=r*a,c=i*a;this.physicsBody.forces[n.id].x+=l,this.physicsBody.forces[n.id].y+=c}}class wge extends id{constructor(e,r,i){super(e,r,i)}_calculateForces(e,r,i,n,o){if(e>0){const s=o.edges.length+1,a=this.options.centralGravity*s*o.options.mass;n[o.id].x=r*a,n[o.id].y=i*a}}}class _ge{constructor(e){this.body=e,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0,wind:{x:0,y:0}},ht(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("initPhysics",()=>{this.initPhysics()}),this.body.emitter.on("_layoutFailed",()=>{this.layoutFailed=!0}),this.body.emitter.on("resetPhysics",()=>{this.stopSimulation(),this.ready=!1}),this.body.emitter.on("disablePhysics",()=>{this.physicsEnabled=!1,this.stopSimulation()}),this.body.emitter.on("restorePhysics",()=>{this.setOptions(this.options),this.ready===!0&&this.startSimulation()}),this.body.emitter.on("startSimulation",()=>{this.ready===!0&&this.startSimulation()}),this.body.emitter.on("stopSimulation",()=>{this.stopSimulation()}),this.body.emitter.on("destroy",()=>{this.stopSimulation(!1),this.body.emitter.off()}),this.body.emitter.on("_dataChanged",()=>{this.updatePhysicsData()})}setOptions(e){if(e!==void 0)if(e===!1)this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation();else if(e===!0)this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation();else{this.physicsEnabled=!0,Fd(["stabilization"],this.options,e),br(this.options,e,"stabilization"),e.enabled===void 0&&(this.options.enabled=!0),this.options.enabled===!1&&(this.physicsEnabled=!1,this.stopSimulation());const r=this.options.wind;r&&((typeof r.x!="number"||Yv(r.x))&&(r.x=0),(typeof r.y!="number"||Yv(r.y))&&(r.y=0)),this.timestep=this.options.timestep}this.init()}init(){let e;this.options.solver==="forceAtlas2Based"?(e=this.options.forceAtlas2Based,this.nodesSolver=new $ge(this.body,this.physicsBody,e),this.edgesSolver=new wp(this.body,this.physicsBody,e),this.gravitySolver=new wge(this.body,this.physicsBody,e)):this.options.solver==="repulsion"?(e=this.options.repulsion,this.nodesSolver=new mge(this.body,this.physicsBody,e),this.edgesSolver=new wp(this.body,this.physicsBody,e),this.gravitySolver=new id(this.body,this.physicsBody,e)):this.options.solver==="hierarchicalRepulsion"?(e=this.options.hierarchicalRepulsion,this.nodesSolver=new yge(this.body,this.physicsBody,e),this.edgesSolver=new bge(this.body,this.physicsBody,e),this.gravitySolver=new id(this.body,this.physicsBody,e)):(e=this.options.barnesHut,this.nodesSolver=new $k(this.body,this.physicsBody,e),this.edgesSolver=new wp(this.body,this.physicsBody,e),this.gravitySolver=new id(this.body,this.physicsBody,e)),this.modelOptions=e}initPhysics(){this.physicsEnabled===!0&&this.options.enabled===!0?this.options.stabilization.enabled===!0?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}startSimulation(){if(this.physicsEnabled===!0&&this.options.enabled===!0){if(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),this.viewFunction===void 0){var e;this.viewFunction=M(e=this.simulationStep).call(e,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}else this.body.emitter.emit("_redraw")}stopSimulation(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.stabilized=!0,e===!0&&this._emitStabilized(),this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,e===!0&&this.body.emitter.emit("_stopRendering"))}simulationStep(){const e=Dd();this.physicsTick(),(Dd()-e<.4*this.simulationInterval||this.runDoubleSpeed===!0)&&this.stabilized===!1&&(this.physicsTick(),this.runDoubleSpeed=!0),this.stabilized===!0&&this.stopSimulation()}_emitStabilized(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||this.startedStabilization===!0)&&_i(()=>{this.body.emitter.emit("stabilized",{iterations:e}),this.startedStabilization=!1,this.stabilizationIterations=0},0)}physicsStep(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}adjustTimeStep(){this._evaluateStepQuality()===!0?this.timestep=1.2*this.timestep:this.timestep/1.2<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/1.2))}physicsTick(){this._startStabilizing(),this.stabilized!==!0&&(this.adaptiveTimestep===!0&&this.adaptiveTimestepEnabled===!0?(this.adaptiveCounter%this.adaptiveInterval===0?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1):(this.timestep=this.options.timestep,this.physicsStep()),this.stabilized===!0&&this.revert(),this.stabilizationIterations++)}updatePhysicsData(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];const e=this.body.nodes,r=this.body.edges;for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&e[i].options.physics===!0&&this.physicsBody.physicsNodeIndices.push(e[i].id);for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&r[i].options.physics===!0&&this.physicsBody.physicsEdgeIndices.push(r[i].id);for(let i=0;i<this.physicsBody.physicsNodeIndices.length;i++){const n=this.physicsBody.physicsNodeIndices[i];this.physicsBody.forces[n]={x:0,y:0},this.physicsBody.velocities[n]===void 0&&(this.physicsBody.velocities[n]={x:0,y:0})}for(const i in this.physicsBody.velocities)e[i]===void 0&&delete this.physicsBody.velocities[i]}revert(){const e=Ze(this.previousStates),r=this.body.nodes,i=this.physicsBody.velocities;this.referenceState={};for(let n=0;n<e.length;n++){const o=e[n];r[o]!==void 0?r[o].options.physics===!0&&(this.referenceState[o]={positions:{x:r[o].x,y:r[o].y}},i[o].x=this.previousStates[o].vx,i[o].y=this.previousStates[o].vy,r[o].x=this.previousStates[o].x,r[o].y=this.previousStates[o].y):delete this.previousStates[o]}}_evaluateStepQuality(){let e,r,i;const n=this.body.nodes,o=this.referenceState,s=.3;for(const a in this.referenceState)if(Object.prototype.hasOwnProperty.call(this.referenceState,a)&&n[a]!==void 0&&(e=n[a].x-o[a].positions.x,r=n[a].y-o[a].positions.y,i=Math.sqrt(Math.pow(e,2)+Math.pow(r,2)),i>s))return!1;return!0}moveNodes(){const e=this.physicsBody.physicsNodeIndices;let r=0,i=0;const n=5;for(let o=0;o<e.length;o++){const s=e[o],a=this._performStep(s);r=Math.max(r,a),i+=a}this.adaptiveTimestepEnabled=i/e.length<n,this.stabilized=r<this.options.minVelocity}calculateComponentVelocity(e,r,i){const n=this.modelOptions.damping*e,o=(r-n)/i;e+=o*this.timestep;const s=this.options.maxVelocity||1e9;return Math.abs(e)>s&&(e=e>0?s:-s),e}_performStep(e){const r=this.body.nodes[e],i=this.physicsBody.forces[e];this.options.wind&&(i.x+=this.options.wind.x,i.y+=this.options.wind.y);const n=this.physicsBody.velocities[e];return this.previousStates[e]={x:r.x,y:r.y,vx:n.x,vy:n.y},r.options.fixed.x===!1?(n.x=this.calculateComponentVelocity(n.x,i.x,r.options.mass),r.x+=n.x*this.timestep):(i.x=0,n.x=0),r.options.fixed.y===!1?(n.y=this.calculateComponentVelocity(n.y,i.y,r.options.mass),r.y+=n.y*this.timestep):(i.y=0,n.y=0),Math.sqrt(Math.pow(n.x,2)+Math.pow(n.y,2))}_freezeNodes(){const e=this.body.nodes;for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&e[r].x&&e[r].y){const i=e[r].options.fixed;this.freezeCache[r]={x:i.x,y:i.y},i.x=!0,i.y=!0}}_restoreFrozenNodes(){const e=this.body.nodes;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&this.freezeCache[r]!==void 0&&(e[r].options.fixed.x=this.freezeCache[r].x,e[r].options.fixed.y=this.freezeCache[r].y);this.freezeCache={}}stabilize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.stabilization.iterations;if(typeof e!="number"&&(e=this.options.stabilization.iterations,console.error("The stabilize method needs a numeric amount of iterations. Switching to default: ",e)),this.physicsBody.physicsNodeIndices.length===0){this.ready=!0;return}this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=e,this.options.stabilization.onlyDynamicEdges===!0&&this._freezeNodes(),this.stabilizationIterations=0,_i(()=>this._stabilizationBatch(),0)}_startStabilizing(){return this.startedStabilization===!0?!1:(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}_stabilizationBatch(){const e=()=>this.stabilized===!1&&this.stabilizationIterations<this.targetIterations,r=()=>{this.body.emitter.emit("stabilizationProgress",{iterations:this.stabilizationIterations,total:this.targetIterations})};this._startStabilizing()&&r();let i=0;for(;e()&&i<this.options.stabilization.updateInterval;)this.physicsTick(),i++;if(r(),e()){var n;_i(M(n=this._stabilizationBatch).call(n,this),0)}else this._finalizeStabilization()}_finalizeStabilization(){this.body.emitter.emit("_allowRedraw"),this.options.stabilization.fit===!0&&this.body.emitter.emit("fit"),this.options.stabilization.onlyDynamicEdges===!0&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),this.stabilized===!0?this._emitStabilized():this.startSimulation(),this.ready=!0}_drawForces(e){for(let r=0;r<this.physicsBody.physicsNodeIndices.length;r++){const i=this.physicsBody.physicsNodeIndices[r],n=this.body.nodes[i],o=this.physicsBody.forces[i],s=20,a=.03,l=Math.sqrt(Math.pow(o.x,2)+Math.pow(o.x,2)),c=Math.min(Math.max(5,l),15),d=3*c,u=Wv((180-Math.min(1,Math.max(0,a*l))*180)/360,1,1),h={x:n.x+s*o.x,y:n.y+s*o.y};e.lineWidth=c,e.strokeStyle=u,e.beginPath(),e.moveTo(n.x,n.y),e.lineTo(h.x,h.y),e.stroke();const f=Math.atan2(o.y,o.x);e.fillStyle=u,yk.draw(e,{type:"arrow",point:h,angle:f,length:d}),Wl(e).call(e)}}}let Rc;const Sge=new Uint8Array(16);function Ege(){if(!Rc&&(Rc=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Rc))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Rc(Sge)}const It=[];for(let t=0;t<256;++t)It.push((t+256).toString(16).slice(1));function Tge(t,e=0){return It[t[e+0]]+It[t[e+1]]+It[t[e+2]]+It[t[e+3]]+"-"+It[t[e+4]]+It[t[e+5]]+"-"+It[t[e+6]]+It[t[e+7]]+"-"+It[t[e+8]]+It[t[e+9]]+"-"+It[t[e+10]]+It[t[e+11]]+It[t[e+12]]+It[t[e+13]]+It[t[e+14]]+It[t[e+15]]}const Ige=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var u_={randomUUID:Ige};function Ea(t,e,r){if(u_.randomUUID&&!t)return u_.randomUUID();t=t||{};const i=t.random||(t.rng||Ege)();return i[6]=i[6]&15|64,i[8]=i[8]&63|128,Tge(i)}class Ht{constructor(){}static getRange(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=1e9,n=-1e9,o=1e9,s=-1e9,a;if(r.length>0)for(let l=0;l<r.length;l++)a=e[r[l]],o>a.shape.boundingBox.left&&(o=a.shape.boundingBox.left),s<a.shape.boundingBox.right&&(s=a.shape.boundingBox.right),i>a.shape.boundingBox.top&&(i=a.shape.boundingBox.top),n<a.shape.boundingBox.bottom&&(n=a.shape.boundingBox.bottom);return o===1e9&&s===-1e9&&i===1e9&&n===-1e9&&(i=0,n=0,o=0,s=0),{minX:o,maxX:s,minY:i,maxY:n}}static getRangeCore(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=1e9,n=-1e9,o=1e9,s=-1e9,a;if(r.length>0)for(let l=0;l<r.length;l++)a=e[r[l]],o>a.x&&(o=a.x),s<a.x&&(s=a.x),i>a.y&&(i=a.y),n<a.y&&(n=a.y);return o===1e9&&s===-1e9&&i===1e9&&n===-1e9&&(i=0,n=0,o=0,s=0),{minX:o,maxX:s,minY:i,maxY:n}}static findCenter(e){return{x:.5*(e.maxX+e.minX),y:.5*(e.maxY+e.minY)}}static cloneOptions(e,r){const i={};return r===void 0||r==="node"?(Be(i,e.options,!0),i.x=e.x,i.y=e.y,i.amountOfConnections=e.edges.length):Be(i,e.options,!0),i}}class Oge extends Ye{constructor(e,r,i,n,o,s){super(e,r,i,n,o,s),this.isCluster=!0,this.containedNodes={},this.containedEdges={}}_openChildCluster(e){const r=this.body.nodes[e];if(this.containedNodes[e]===void 0)throw new Error("node with id: "+e+" not in current cluster");if(!r.isCluster)throw new Error("node with id: "+e+" is not a cluster");delete this.containedNodes[e],me(r.edges,i=>{delete this.containedEdges[i.id]}),me(r.containedNodes,(i,n)=>{this.containedNodes[n]=i}),r.containedNodes={},me(r.containedEdges,(i,n)=>{this.containedEdges[n]=i}),r.containedEdges={},me(r.edges,i=>{me(this.edges,n=>{var o,s;const a=ke(o=n.clusteringEdgeReplacingIds).call(o,i.id);a!==-1&&(me(i.clusteringEdgeReplacingIds,l=>{n.clusteringEdgeReplacingIds.push(l),this.body.edges[l].edgeReplacedById=n.id}),wi(s=n.clusteringEdgeReplacingIds).call(s,a,1))})}),r.edges=[]}}class xge{constructor(e){this.body=e,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},ht(this.options,this.defaultOptions),this.body.emitter.on("_resetData",()=>{this.clusteredNodes={},this.clusteredEdges={}})}clusterByHubsize(e,r){e===void 0?e=this._getHubSize():typeof e=="object"&&(r=this._checkOptions(e),e=this._getHubSize());const i=[];for(let n=0;n<this.body.nodeIndices.length;n++){const o=this.body.nodes[this.body.nodeIndices[n]];o.edges.length>=e&&i.push(o.id)}for(let n=0;n<i.length;n++)this.clusterByConnection(i[n],r,!0);this.body.emitter.emit("_dataChanged")}cluster(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.joinCondition===void 0)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");e=this._checkOptions(e);const i={},n={};me(this.body.nodes,(o,s)=>{o.options&&e.joinCondition(o.options)===!0&&(i[s]=o,me(o.edges,a=>{this.clusteredEdges[a.id]===void 0&&(n[a.id]=a)}))}),this._cluster(i,n,e,r)}clusterByEdgeCount(e,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;r=this._checkOptions(r);const n=[],o={};let s,a,l;for(let c=0;c<this.body.nodeIndices.length;c++){const d={},u={},h=this.body.nodeIndices[c],f=this.body.nodes[h];if(o[h]===void 0){l=0,a=[];for(let p=0;p<f.edges.length;p++)s=f.edges[p],this.clusteredEdges[s.id]===void 0&&(s.toId!==s.fromId&&l++,a.push(s));if(l===e){const p=function($){if(r.joinCondition===void 0||r.joinCondition===null)return!0;const y=Ht.cloneOptions($);return r.joinCondition(y)};let g=!0;for(let $=0;$<a.length;$++){s=a[$];const y=this._getConnectedId(s,h);if(p(f))u[s.id]=s,d[h]=f,d[y]=this.body.nodes[y],o[h]=!0;else{g=!1;break}}if(Ze(d).length>0&&Ze(u).length>0&&g===!0){const y=function(){for(let b=0;b<n.length;++b)for(const S in d)if(n[b].nodes[S]!==void 0)return n[b]}();if(y!==void 0){for(const b in d)y.nodes[b]===void 0&&(y.nodes[b]=d[b]);for(const b in u)y.edges[b]===void 0&&(y.edges[b]=u[b])}else n.push({nodes:d,edges:u})}}}}for(let c=0;c<n.length;c++)this._cluster(n[c].nodes,n[c].edges,r,!1);i===!0&&this.body.emitter.emit("_dataChanged")}clusterOutliers(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(1,e,r)}clusterBridges(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(2,e,r)}clusterByConnection(e,r){var i;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0)throw new Error("No nodeId supplied to clusterByConnection!");if(this.body.nodes[e]===void 0)throw new Error("The nodeId given to clusterByConnection does not exist!");const o=this.body.nodes[e];r=this._checkOptions(r,o),r.clusterNodeProperties.x===void 0&&(r.clusterNodeProperties.x=o.x),r.clusterNodeProperties.y===void 0&&(r.clusterNodeProperties.y=o.y),r.clusterNodeProperties.fixed===void 0&&(r.clusterNodeProperties.fixed={},r.clusterNodeProperties.fixed.x=o.options.fixed.x,r.clusterNodeProperties.fixed.y=o.options.fixed.y);const s={},a={},l=o.id,c=Ht.cloneOptions(o);s[l]=o;for(let u=0;u<o.edges.length;u++){const h=o.edges[u];if(this.clusteredEdges[h.id]===void 0){const f=this._getConnectedId(h,l);if(this.clusteredNodes[f]===void 0)if(f!==l)if(r.joinCondition===void 0)a[h.id]=h,s[f]=this.body.nodes[f];else{const p=Ht.cloneOptions(this.body.nodes[f]);r.joinCondition(c,p)===!0&&(a[h.id]=h,s[f]=this.body.nodes[f])}else a[h.id]=h}}const d=gs(i=Ze(s)).call(i,function(u){return s[u].id});for(const u in s){if(!Object.prototype.hasOwnProperty.call(s,u))continue;const h=s[u];for(let f=0;f<h.edges.length;f++){const p=h.edges[f];ke(d).call(d,this._getConnectedId(p,h.id))>-1&&(a[p.id]=p)}}this._cluster(s,a,r,n)}_createClusterEdges(e,r,i,n){let o,s,a,l,c,d;const u=Ze(e),h=[];for(let g=0;g<u.length;g++){s=u[g],a=e[s];for(let $=0;$<a.edges.length;$++)o=a.edges[$],this.clusteredEdges[o.id]===void 0&&(o.toId==o.fromId?r[o.id]=o:o.toId==s?(l=i.id,c=o.fromId,d=c):(l=o.toId,c=i.id,d=l),e[d]===void 0&&h.push({edge:o,fromId:c,toId:l}))}const f=[],p=function(g){for(let $=0;$<f.length;$++){const y=f[$],b=g.fromId===y.fromId&&g.toId===y.toId,S=g.fromId===y.toId&&g.toId===y.fromId;if(b||S)return y}return null};for(let g=0;g<h.length;g++){const $=h[g],y=$.edge;let b=p($);b===null?(b=this._createClusteredEdge($.fromId,$.toId,y,n),f.push(b)):b.clusteringEdgeReplacingIds.push(y.id),this.body.edges[y.id].edgeReplacedById=b.id,this._backupEdgeOptions(y),y.setOptions({physics:!1})}}_checkOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e.clusterEdgeProperties===void 0&&(e.clusterEdgeProperties={}),e.clusterNodeProperties===void 0&&(e.clusterNodeProperties={}),e}_cluster(e,r,i){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;const o=[];for(const d in e)Object.prototype.hasOwnProperty.call(e,d)&&this.clusteredNodes[d]!==void 0&&o.push(d);for(let d=0;d<o.length;++d)delete e[o[d]];if(Ze(e).length==0||Ze(e).length==1&&i.clusterNodeProperties.allowSingleNodeCluster!=!0)return;let s=Be({},i.clusterNodeProperties);if(i.processProperties!==void 0){const d=[];for(const h in e)if(Object.prototype.hasOwnProperty.call(e,h)){const f=Ht.cloneOptions(e[h]);d.push(f)}const u=[];for(const h in r)if(Object.prototype.hasOwnProperty.call(r,h)&&h.substr(0,12)!=="clusterEdge:"){const f=Ht.cloneOptions(r[h],"edge");u.push(f)}if(s=i.processProperties(s,d,u),!s)throw new Error("The processProperties function does not return properties!")}s.id===void 0&&(s.id="cluster:"+Ea());const a=s.id;s.label===void 0&&(s.label="cluster");let l;s.x===void 0&&(l=this._getClusterPosition(e),s.x=l.x),s.y===void 0&&(l===void 0&&(l=this._getClusterPosition(e)),s.y=l.y),s.id=a;const c=this.body.functions.createNode(s,Oge);c.containedNodes=e,c.containedEdges=r,c.clusterEdgeProperties=i.clusterEdgeProperties,this.body.nodes[s.id]=c,this._clusterEdges(e,r,s,i.clusterEdgeProperties),s.id=void 0,n===!0&&this.body.emitter.emit("_dataChanged")}_backupEdgeOptions(e){this.clusteredEdges[e.id]===void 0&&(this.clusteredEdges[e.id]={physics:e.options.physics})}_restoreEdge(e){const r=this.clusteredEdges[e.id];r!==void 0&&(e.setOptions({physics:r.physics}),delete this.clusteredEdges[e.id])}isCluster(e){return this.body.nodes[e]!==void 0?this.body.nodes[e].isCluster===!0:(console.error("Node does not exist."),!1)}_getClusterPosition(e){const r=Ze(e);let i=e[r[0]].x,n=e[r[0]].x,o=e[r[0]].y,s=e[r[0]].y,a;for(let l=1;l<r.length;l++)a=e[r[l]],i=a.x<i?a.x:i,n=a.x>n?a.x:n,o=a.y<o?a.y:o,s=a.y>s?a.y:s;return{x:.5*(i+n),y:.5*(o+s)}}openCluster(e,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0)throw new Error("No clusterNodeId supplied to openCluster.");const n=this.body.nodes[e];if(n===void 0)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(n.isCluster!==!0||n.containedNodes===void 0||n.containedEdges===void 0)throw new Error("The node:"+e+" is not a valid cluster.");const o=this.findNode(e),s=ke(o).call(o,e)-1;if(s>=0){const d=o[s];this.body.nodes[d]._openChildCluster(e),delete this.body.nodes[e],i===!0&&this.body.emitter.emit("_dataChanged");return}const a=n.containedNodes,l=n.containedEdges;if(r!==void 0&&r.releaseFunction!==void 0&&typeof r.releaseFunction=="function"){const d={},u={x:n.x,y:n.y};for(const f in a)if(Object.prototype.hasOwnProperty.call(a,f)){const p=this.body.nodes[f];d[f]={x:p.x,y:p.y}}const h=r.releaseFunction(u,d);for(const f in a)if(Object.prototype.hasOwnProperty.call(a,f)){const p=this.body.nodes[f];h[f]!==void 0&&(p.x=h[f].x===void 0?n.x:h[f].x,p.y=h[f].y===void 0?n.y:h[f].y)}}else me(a,function(d){d.options.fixed.x===!1&&(d.x=n.x),d.options.fixed.y===!1&&(d.y=n.y)});for(const d in a)if(Object.prototype.hasOwnProperty.call(a,d)){const u=this.body.nodes[d];u.vx=n.vx,u.vy=n.vy,u.setOptions({physics:!0}),delete this.clusteredNodes[d]}const c=[];for(let d=0;d<n.edges.length;d++)c.push(n.edges[d]);for(let d=0;d<c.length;d++){const u=c[d],h=this._getConnectedId(u,e),f=this.clusteredNodes[h];for(let p=0;p<u.clusteringEdgeReplacingIds.length;p++){const g=u.clusteringEdgeReplacingIds[p],$=this.body.edges[g];if($!==void 0)if(f!==void 0){const y=this.body.nodes[f.clusterId];y.containedEdges[$.id]=$,delete l[$.id];let b=$.fromId,S=$.toId;$.toId==h?S=f.clusterId:b=f.clusterId,this._createClusteredEdge(b,S,$,y.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge($)}u.remove()}for(const d in l)Object.prototype.hasOwnProperty.call(l,d)&&this._restoreEdge(l[d]);delete this.body.nodes[e],i===!0&&this.body.emitter.emit("_dataChanged")}getNodesInCluster(e){const r=[];if(this.isCluster(e)===!0){const i=this.body.nodes[e].containedNodes;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&r.push(this.body.nodes[n].id)}return r}findNode(e){const r=[];let n=0,o;for(;this.clusteredNodes[e]!==void 0&&n<100;){if(o=this.body.nodes[e],o===void 0)return[];r.push(o.id),e=this.clusteredNodes[e].clusterId,n++}return o=this.body.nodes[e],o===void 0?[]:(r.push(o.id),Kn(r).call(r),r)}updateClusteredNode(e,r){if(e===void 0)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(r===void 0)throw new Error("No newOptions supplied to updateClusteredNode.");if(this.body.nodes[e]===void 0)throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[e].setOptions(r),this.body.emitter.emit("_dataChanged")}updateEdge(e,r){if(e===void 0)throw new Error("No startEdgeId supplied to updateEdge.");if(r===void 0)throw new Error("No newOptions supplied to updateEdge.");if(this.body.edges[e]===void 0)throw new Error("The startEdgeId supplied to updateEdge does not exist.");const i=this.getClusteredEdges(e);for(let n=0;n<i.length;n++)this.body.edges[i[n]].setOptions(r);this.body.emitter.emit("_dataChanged")}getClusteredEdges(e){const r=[];let n=0;for(;e!==void 0&&this.body.edges[e]!==void 0&&n<100;)r.push(this.body.edges[e].id),e=this.body.edges[e].edgeReplacedById,n++;return Kn(r).call(r),r}getBaseEdge(e){return this.getBaseEdges(e)[0]}getBaseEdges(e){const r=[e],i=[],n=[],o=100;let s=0;for(;r.length>0&&s<o;){const a=r.pop();if(a===void 0)continue;const l=this.body.edges[a];if(l===void 0)continue;s++;const c=l.clusteringEdgeReplacingIds;if(c===void 0)n.push(a);else for(let d=0;d<c.length;++d){const u=c[d];ke(r).call(r,c)!==-1||ke(i).call(i,c)!==-1||r.push(u)}i.push(a)}return n}_getConnectedId(e,r){return e.toId!=r?e.toId:(e.fromId!=r,e.fromId)}_getHubSize(){let e=0,r=0,i=0,n=0;for(let l=0;l<this.body.nodeIndices.length;l++){const c=this.body.nodes[this.body.nodeIndices[l]];c.edges.length>n&&(n=c.edges.length),e+=c.edges.length,r+=Math.pow(c.edges.length,2),i+=1}e=e/i,r=r/i;const o=r-Math.pow(e,2),s=Math.sqrt(o);let a=Math.floor(e+2*s);return a>n&&(a=n),a}_createClusteredEdge(e,r,i,n,o){const s=Ht.cloneOptions(i,"edge");Be(s,n),s.from=e,s.to=r,s.id="clusterEdge:"+Ea(),o!==void 0&&Be(s,o);const a=this.body.functions.createEdge(s);return a.clusteringEdgeReplacingIds=[i.id],a.connect(),this.body.edges[a.id]=a,a}_clusterEdges(e,r,i,n){if(r instanceof cn){const o=r,s={};s[o.id]=o,r=s}if(e instanceof Ye){const o=e,s={};s[o.id]=o,e=s}if(i==null)throw new Error("_clusterEdges: parameter clusterNode required");n===void 0&&(n=i.clusterEdgeProperties),this._createClusterEdges(e,r,i,n);for(const o in r)if(Object.prototype.hasOwnProperty.call(r,o)&&this.body.edges[o]!==void 0){const s=this.body.edges[o];this._backupEdgeOptions(s),s.setOptions({physics:!1})}for(const o in e)Object.prototype.hasOwnProperty.call(e,o)&&(this.clusteredNodes[o]={clusterId:i.id,node:this.body.nodes[o]},this.body.nodes[o].setOptions({physics:!1}))}_getClusterNodeForNode(e){if(e===void 0)return;const r=this.clusteredNodes[e];if(r===void 0)return;const i=r.clusterId;if(i!==void 0)return this.body.nodes[i]}_filter(e,r){const i=[];return me(e,n=>{r(n)&&i.push(n)}),i}_updateState(){let e;const r=[],i={},n=l=>{me(this.body.nodes,c=>{c.isCluster===!0&&l(c)})};for(e in this.clusteredNodes){if(!Object.prototype.hasOwnProperty.call(this.clusteredNodes,e))continue;this.body.nodes[e]===void 0&&r.push(e)}n(function(l){for(let c=0;c<r.length;c++)delete l.containedNodes[r[c]]});for(let l=0;l<r.length;l++)delete this.clusteredNodes[r[l]];me(this.clusteredEdges,l=>{const c=this.body.edges[l];(c===void 0||!c.endPointsValid())&&(i[l]=l)}),n(function(l){me(l.containedEdges,(c,d)=>{!c.endPointsValid()&&!i[d]&&(i[d]=d)})}),me(this.body.edges,(l,c)=>{let d=!0;const u=l.clusteringEdgeReplacingIds;if(u!==void 0){let h=0;me(u,f=>{const p=this.body.edges[f];p!==void 0&&p.endPointsValid()&&(h+=1)}),d=h>0}(!l.endPointsValid()||!d)&&(i[c]=c)}),n(l=>{me(i,c=>{delete l.containedEdges[c],me(l.edges,(d,u)=>{if(d.id===c){l.edges[u]=null;return}d.clusteringEdgeReplacingIds=this._filter(d.clusteringEdgeReplacingIds,function(h){return!i[h]})}),l.edges=this._filter(l.edges,function(d){return d!==null})})}),me(i,l=>{delete this.clusteredEdges[l]}),me(i,l=>{delete this.body.edges[l]});const o=Ze(this.body.edges);me(o,l=>{const c=this.body.edges[l],d=this._isClusteredNode(c.fromId)||this._isClusteredNode(c.toId);if(d!==this._isClusteredEdge(c.id))if(d){const u=this._getClusterNodeForNode(c.fromId);u!==void 0&&this._clusterEdges(this.body.nodes[c.fromId],c,u);const h=this._getClusterNodeForNode(c.toId);h!==void 0&&this._clusterEdges(this.body.nodes[c.toId],c,h)}else delete this._clusterEdges[l],this._restoreEdge(c)});let s=!1,a=!0;for(;a;){const l=[];n(function(c){const d=Ze(c.containedNodes).length,u=c.options.allowSingleNodeCluster===!0;(u&&d<1||!u&&d<2)&&l.push(c.id)});for(let c=0;c<l.length;++c)this.openCluster(l[c],{},!1);a=l.length>0,s=s||a}s&&this._updateState()}_isClusteredNode(e){return this.clusteredNodes[e]!==void 0}_isClusteredEdge(e){return this.clusteredEdges[e]!==void 0}}class Pge{constructor(e,r){this.body=e,this.canvas=r,this.redrawRequested=!1,this.requestAnimationFrameRequestId=void 0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.zooming=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1},ht(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e;this.body.emitter.on("dragStart",()=>{this.dragging=!0}),this.body.emitter.on("dragEnd",()=>{this.dragging=!1}),this.body.emitter.on("zoom",()=>{this.zooming=!0,window.clearTimeout(this.zoomTimeoutId),this.zoomTimeoutId=_i(()=>{var r;this.zooming=!1,M(r=this._requestRedraw).call(r,this)()},250)}),this.body.emitter.on("_resizeNodes",()=>{this._resizeNodes()}),this.body.emitter.on("_redraw",()=>{this.renderingActive===!1&&this._redraw()}),this.body.emitter.on("_blockRedraw",()=>{this.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",()=>{this.allowRedraw=!0,this.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",M(e=this._requestRedraw).call(e,this)),this.body.emitter.on("_startRendering",()=>{this.renderRequests+=1,this.renderingActive=!0,this._startRendering()}),this.body.emitter.on("_stopRendering",()=>{this.renderRequests-=1,this.renderingActive=this.renderRequests>0,this.requestAnimationFrameRequestId=void 0}),this.body.emitter.on("destroy",()=>{this.renderRequests=0,this.allowRedraw=!1,this.renderingActive=!1,window.cancelAnimationFrame(this.requestAnimationFrameRequestId),this.body.emitter.off()})}setOptions(e){e!==void 0&&Vs(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag"],this.options,e)}_startRendering(){if(this.renderingActive===!0&&this.requestAnimationFrameRequestId===void 0){var e;this.requestAnimationFrameRequestId=window.requestAnimationFrame(M(e=this._renderStep).call(e,this),this.simulationInterval)}}_renderStep(){this.renderingActive===!0&&(this.requestAnimationFrameRequestId=void 0,this._startRendering(),this._redraw())}redraw(){this.body.emitter.emit("setSize"),this._redraw()}_requestRedraw(){this.redrawRequested!==!0&&this.renderingActive===!1&&this.allowRedraw===!0&&(this.redrawRequested=!0,window.requestAnimationFrame(()=>{this._redraw(!1)}))}_redraw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.allowRedraw===!0){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1;const r={drawExternalLabels:null};(this.canvas.frame.canvas.width===0||this.canvas.frame.canvas.height===0)&&this.canvas.setSize(),this.canvas.setTransform();const i=this.canvas.getContext(),n=this.canvas.frame.canvas.clientWidth,o=this.canvas.frame.canvas.clientHeight;if(i.clearRect(0,0,n,o),this.canvas.frame.clientWidth===0)return;if(i.save(),i.translate(this.body.view.translation.x,this.body.view.translation.y),i.scale(this.body.view.scale,this.body.view.scale),i.beginPath(),this.body.emitter.emit("beforeDrawing",i),i.closePath(),e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawEdges(i),this.dragging===!1||this.dragging===!0&&this.options.hideNodesOnDrag===!1){const{drawExternalLabels:s}=this._drawNodes(i,e);r.drawExternalLabels=s}e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawArrows(i),r.drawExternalLabels!=null&&r.drawExternalLabels(),e===!1&&this._drawSelectionBox(i),i.beginPath(),this.body.emitter.emit("afterDrawing",i),i.closePath(),i.restore(),e===!0&&i.clearRect(0,0,n,o)}}_resizeNodes(){this.canvas.setTransform();const e=this.canvas.getContext();e.save(),e.translate(this.body.view.translation.x,this.body.view.translation.y),e.scale(this.body.view.scale,this.body.view.scale);const r=this.body.nodes;let i;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i=r[n],i.resize(e),i.updateBoundingBox(e,i.selected));e.restore()}_drawNodes(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const i=this.body.nodes,n=this.body.nodeIndices;let o;const s=[],a=[],l=20,c=this.canvas.DOMtoCanvas({x:-l,y:-l}),d=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+l,y:this.canvas.frame.canvas.clientHeight+l}),u={top:c.y,left:c.x,bottom:d.y,right:d.x},h=[];for(let $=0;$<n.length;$++)if(o=i[n[$]],o.hover)a.push(n[$]);else if(o.isSelected())s.push(n[$]);else if(r===!0){const y=o.draw(e);y.drawExternalLabel!=null&&h.push(y.drawExternalLabel)}else if(o.isBoundingBoxOverlappingWith(u)===!0){const y=o.draw(e);y.drawExternalLabel!=null&&h.push(y.drawExternalLabel)}else o.updateBoundingBox(e,o.selected);let f;const p=s.length,g=a.length;for(f=0;f<p;f++){o=i[s[f]];const $=o.draw(e);$.drawExternalLabel!=null&&h.push($.drawExternalLabel)}for(f=0;f<g;f++){o=i[a[f]];const $=o.draw(e);$.drawExternalLabel!=null&&h.push($.drawExternalLabel)}return{drawExternalLabels:()=>{for(const $ of h)$()}}}_drawEdges(e){const r=this.body.edges,i=this.body.edgeIndices;for(let n=0;n<i.length;n++){const o=r[i[n]];o.connected===!0&&o.draw(e)}}_drawArrows(e){const r=this.body.edges,i=this.body.edgeIndices;for(let n=0;n<i.length;n++){const o=r[i[n]];o.connected===!0&&o.drawArrows(e)}}_drawSelectionBox(e){if(this.body.selectionBox.show){e.beginPath();const r=this.body.selectionBox.position.end.x-this.body.selectionBox.position.start.x,i=this.body.selectionBox.position.end.y-this.body.selectionBox.position.start.y;e.rect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,r,i),e.fillStyle="rgba(151, 194, 252, 0.2)",e.fillRect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,r,i),e.strokeStyle="rgba(151, 194, 252, 1)",e.stroke()}else e.closePath()}}var kge=Ce,Cge=kge.setInterval,Age=Cge,Dge=he(Age);function Hd(t,e){e.inputHandler=function(r){r.isFirst&&e(r)},t.on("hammer.input",e.inputHandler)}function wk(t,e){return e.inputHandler=function(r){r.isFinal&&e(r)},t.on("hammer.input",e.inputHandler)}class Mge{constructor(e){this.body=e,this.pixelRatio=1,this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this._cleanupCallbacks=[],this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},ht(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e;this.body.emitter.once("resize",r=>{r.width!==0&&(this.body.view.translation.x=r.width*.5),r.height!==0&&(this.body.view.translation.y=r.height*.5)}),this.body.emitter.on("setSize",M(e=this.setSize).call(e,this)),this.body.emitter.on("destroy",()=>{this.hammerFrame.destroy(),this.hammer.destroy(),this._cleanUp()})}setOptions(e){if(e!==void 0&&Vs(["width","height","autoResize"],this.options,e),this._cleanUp(),this.options.autoResize===!0){var r;if(window.ResizeObserver){const n=new ResizeObserver(()=>{this.setSize()===!0&&this.body.emitter.emit("_requestRedraw")}),{frame:o}=this;n.observe(o),this._cleanupCallbacks.push(()=>{n.unobserve(o)})}else{const n=Dge(()=>{this.setSize()===!0&&this.body.emitter.emit("_requestRedraw")},1e3);this._cleanupCallbacks.push(()=>{clearInterval(n)})}const i=M(r=this._onResize).call(r,this);window.addEventListener("resize",i),this._cleanupCallbacks.push(()=>{window.removeEventListener("resize",i)})}}_cleanUp(){var e,r,i;Me(e=Kn(r=wi(i=this._cleanupCallbacks).call(i,0)).call(r)).call(e,n=>{try{n()}catch(o){console.error(o)}})}_onResize(){this.setSize(),this.body.emitter.emit("_redraw")}_getCameraState(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.pixelRatio;this.initialized===!0&&(this.cameraState.previousWidth=this.frame.canvas.width/e,this.cameraState.previousHeight=this.frame.canvas.height/e,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/e,y:.5*this.frame.canvas.height/e}))}_setCameraState(){if(this.cameraState.scale!==void 0&&this.frame.canvas.clientWidth!==0&&this.frame.canvas.clientHeight!==0&&this.pixelRatio!==0&&this.cameraState.previousWidth>0&&this.cameraState.previousHeight>0){const e=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,r=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight;let i=this.cameraState.scale;e!=1&&r!=1?i=this.cameraState.scale*.5*(e+r):e!=1?i=this.cameraState.scale*e:r!=1&&(i=this.cameraState.scale*r),this.body.view.scale=i;const n=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),o={x:n.x-this.cameraState.position.x,y:n.y-this.cameraState.position.y};this.body.view.translation.x+=o.x*this.body.view.scale,this.body.view.translation.y+=o.y*this.body.view.scale}}_prepareValue(e){if(typeof e=="number")return e+"px";if(typeof e=="string"){if(ke(e).call(e,"%")!==-1||ke(e).call(e,"px")!==-1)return e;if(ke(e).call(e,"%")===-1)return e+"px"}throw new Error("Could not use the value supplied for width or height:"+e)}_create(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=0,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{const e=document.createElement("DIV");e.style.color="red",e.style.fontWeight="bold",e.style.padding="10px",e.innerText="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(e)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}_bindHammer(){this.hammer!==void 0&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new rs(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:rs.DIRECTION_ALL}),Hd(this.hammer,e=>{this.body.eventListeners.onTouch(e)}),this.hammer.on("tap",e=>{this.body.eventListeners.onTap(e)}),this.hammer.on("doubletap",e=>{this.body.eventListeners.onDoubleTap(e)}),this.hammer.on("press",e=>{this.body.eventListeners.onHold(e)}),this.hammer.on("panstart",e=>{this.body.eventListeners.onDragStart(e)}),this.hammer.on("panmove",e=>{this.body.eventListeners.onDrag(e)}),this.hammer.on("panend",e=>{this.body.eventListeners.onDragEnd(e)}),this.hammer.on("pinch",e=>{this.body.eventListeners.onPinch(e)}),this.frame.canvas.addEventListener("wheel",e=>{this.body.eventListeners.onMouseWheel(e)}),this.frame.canvas.addEventListener("mousemove",e=>{this.body.eventListeners.onMouseMove(e)}),this.frame.canvas.addEventListener("contextmenu",e=>{this.body.eventListeners.onContext(e)}),this.hammerFrame=new rs(this.frame),wk(this.hammerFrame,e=>{this.body.eventListeners.onRelease(e)})}setSize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.width,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.height;e=this._prepareValue(e),r=this._prepareValue(r);let i=!1;const n=this.frame.canvas.width,o=this.frame.canvas.height,s=this.pixelRatio;if(this._setPixelRatio(),e!=this.options.width||r!=this.options.height||this.frame.style.width!=e||this.frame.style.height!=r)this._getCameraState(s),this.frame.style.width=e,this.frame.style.height=r,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=e,this.options.height=r,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},i=!0;else{const a=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),l=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);(this.frame.canvas.width!==a||this.frame.canvas.height!==l)&&this._getCameraState(s),this.frame.canvas.width!==a&&(this.frame.canvas.width=a,i=!0),this.frame.canvas.height!==l&&(this.frame.canvas.height=l,i=!0)}return i===!0&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(n/this.pixelRatio),oldHeight:Math.round(o/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,i}getContext(){return this.frame.canvas.getContext("2d")}_determinePixelRatio(){const e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");let r=1;typeof window<"u"&&(r=window.devicePixelRatio||1);const i=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return r/i}_setPixelRatio(){this.pixelRatio=this._determinePixelRatio()}setTransform(){const e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}_XconvertDOMtoCanvas(e){return(e-this.body.view.translation.x)/this.body.view.scale}_XconvertCanvasToDOM(e){return e*this.body.view.scale+this.body.view.translation.x}_YconvertDOMtoCanvas(e){return(e-this.body.view.translation.y)/this.body.view.scale}_YconvertCanvasToDOM(e){return e*this.body.view.scale+this.body.view.translation.y}canvasToDOM(e){return{x:this._XconvertCanvasToDOM(e.x),y:this._YconvertCanvasToDOM(e.y)}}DOMtoCanvas(e){return{x:this._XconvertDOMtoCanvas(e.x),y:this._YconvertDOMtoCanvas(e.y)}}}function Rge(t,e){const r=ht({nodes:e,minZoomLevel:Number.MIN_VALUE,maxZoomLevel:1},t??{});if(!Qe(r.nodes))throw new TypeError("Nodes has to be an array of ids.");if(r.nodes.length===0&&(r.nodes=e),!(typeof r.minZoomLevel=="number"&&r.minZoomLevel>0))throw new TypeError("Min zoom level has to be a number higher than zero.");if(!(typeof r.maxZoomLevel=="number"&&r.minZoomLevel<=r.maxZoomLevel))throw new TypeError("Max zoom level has to be a number higher than min zoom level.");return r}class Nge{constructor(e,r){var i,n;this.body=e,this.canvas=r,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",M(i=this.fit).call(i,this)),this.body.emitter.on("animationFinished",()=>{this.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",M(n=this.releaseNode).call(n,this))}setOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.options=e}fit(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;e=Rge(e,this.body.nodeIndices);const i=this.canvas.frame.canvas.clientWidth,n=this.canvas.frame.canvas.clientHeight;let o,s;if(i===0||n===0)s=1,o=Ht.getRange(this.body.nodes,e.nodes);else if(r===!0){let c=0;for(const h in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,h)&&this.body.nodes[h].predefinedPosition===!0&&(c+=1);if(c>.5*this.body.nodeIndices.length){this.fit(e,!1);return}o=Ht.getRange(this.body.nodes,e.nodes),s=12.662/(this.body.nodeIndices.length+7.4147)+.0964822;const u=Math.min(i/600,n/600);s*=u}else{this.body.emitter.emit("_resizeNodes"),o=Ht.getRange(this.body.nodes,e.nodes);const c=Math.abs(o.maxX-o.minX)*1.1,d=Math.abs(o.maxY-o.minY)*1.1,u=i/c,h=n/d;s=u<=h?u:h}s>e.maxZoomLevel?s=e.maxZoomLevel:s<e.minZoomLevel&&(s=e.minZoomLevel);const l={position:Ht.findCenter(o),scale:s,animation:e.animation};this.moveTo(l)}focus(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.body.nodes[e]!==void 0){const i={x:this.body.nodes[e].x,y:this.body.nodes[e].y};r.position=i,r.lockedOnNode=e,this.moveTo(r)}else console.error("Node: "+e+" cannot be found.")}moveTo(e){if(e===void 0){e={};return}if(e.offset!=null){if(e.offset.x!=null){if(e.offset.x=+e.offset.x,!Ln(e.offset.x))throw new TypeError('The option "offset.x" has to be a finite number.')}else e.offset.x=0;if(e.offset.y!=null){if(e.offset.y=+e.offset.y,!Ln(e.offset.y))throw new TypeError('The option "offset.y" has to be a finite number.')}else e.offset.x=0}else e.offset={x:0,y:0};if(e.position!=null){if(e.position.x!=null){if(e.position.x=+e.position.x,!Ln(e.position.x))throw new TypeError('The option "position.x" has to be a finite number.')}else e.position.x=0;if(e.position.y!=null){if(e.position.y=+e.position.y,!Ln(e.position.y))throw new TypeError('The option "position.y" has to be a finite number.')}else e.position.x=0}else e.position=this.getViewPosition();if(e.scale!=null){if(e.scale=+e.scale,!(e.scale>0))throw new TypeError('The option "scale" has to be a number greater than zero.')}else e.scale=this.body.view.scale;e.animation===void 0&&(e.animation={duration:0}),e.animation===!1&&(e.animation={duration:0}),e.animation===!0&&(e.animation={}),e.animation.duration===void 0&&(e.animation.duration=1e3),e.animation.easingFunction===void 0&&(e.animation.easingFunction="easeInOutQuad"),this.animateView(e)}animateView(e){if(e===void 0)return;this.animationEasingFunction=e.animation.easingFunction,this.releaseNode(),e.locked===!0&&(this.lockedOnNodeId=e.lockedOnNode,this.lockedOnNodeOffset=e.offset),this.easingTime!=0&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=e.scale,this.body.view.scale=this.targetScale;const r=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),i={x:r.x-e.position.x,y:r.y-e.position.y};if(this.targetTranslation={x:this.sourceTranslation.x+i.x*this.targetScale+e.offset.x,y:this.sourceTranslation.y+i.y*this.targetScale+e.offset.y},e.animation.duration===0)if(this.lockedOnNodeId!=null){var n;this.viewFunction=M(n=this._lockedRedraw).call(n,this),this.body.emitter.on("initRedraw",this.viewFunction)}else this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw");else{var o;this.animationSpeed=1/(60*e.animation.duration*.001)||1/60,this.animationEasingFunction=e.animation.easingFunction,this.viewFunction=M(o=this._transitionRedraw).call(o,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}_lockedRedraw(){const e={x:this.body.nodes[this.lockedOnNodeId].x,y:this.body.nodes[this.lockedOnNodeId].y},r=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),i={x:r.x-e.x,y:r.y-e.y},n=this.body.view.translation,o={x:n.x+i.x*this.body.view.scale+this.lockedOnNodeOffset.x,y:n.y+i.y*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=o}releaseNode(){this.lockedOnNodeId!==void 0&&this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}_transitionRedraw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.easingTime+=this.animationSpeed,this.easingTime=e===!0?1:this.easingTime;const r=Uce[this.animationEasingFunction](this.easingTime);if(this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*r,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*r,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*r},this.easingTime>=1){if(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,this.lockedOnNodeId!=null){var i;this.viewFunction=M(i=this._lockedRedraw).call(i,this),this.body.emitter.on("initRedraw",this.viewFunction)}this.body.emitter.emit("animationFinished")}}getScale(){return this.body.view.scale}getViewPosition(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}function h_(t){var e=t&&t.preventDefault||!1,r=t&&t.container||window,i={},n={keydown:{},keyup:{}},o={},s;for(s=97;s<=122;s++)o[String.fromCharCode(s)]={code:65+(s-97),shift:!1};for(s=65;s<=90;s++)o[String.fromCharCode(s)]={code:s,shift:!0};for(s=0;s<=9;s++)o[""+s]={code:48+s,shift:!1};for(s=1;s<=12;s++)o["F"+s]={code:111+s,shift:!1};for(s=0;s<=9;s++)o["num"+s]={code:96+s,shift:!1};o["num*"]={code:106,shift:!1},o["num+"]={code:107,shift:!1},o["num-"]={code:109,shift:!1},o["num/"]={code:111,shift:!1},o["num."]={code:110,shift:!1},o.left={code:37,shift:!1},o.up={code:38,shift:!1},o.right={code:39,shift:!1},o.down={code:40,shift:!1},o.space={code:32,shift:!1},o.enter={code:13,shift:!1},o.shift={code:16,shift:void 0},o.esc={code:27,shift:!1},o.backspace={code:8,shift:!1},o.tab={code:9,shift:!1},o.ctrl={code:17,shift:!1},o.alt={code:18,shift:!1},o.delete={code:46,shift:!1},o.pageup={code:33,shift:!1},o.pagedown={code:34,shift:!1},o["="]={code:187,shift:!1},o["-"]={code:189,shift:!1},o["]"]={code:221,shift:!1},o["["]={code:219,shift:!1};var a=function(d){c(d,"keydown")},l=function(d){c(d,"keyup")},c=function(d,u){if(n[u][d.keyCode]!==void 0){for(var h=n[u][d.keyCode],f=0;f<h.length;f++)(h[f].shift===void 0||h[f].shift==!0&&d.shiftKey==!0||h[f].shift==!1&&d.shiftKey==!1)&&h[f].fn(d);e==!0&&d.preventDefault()}};return i.bind=function(d,u,h){if(h===void 0&&(h="keydown"),o[d]===void 0)throw new Error("unsupported key: "+d);n[h][o[d].code]===void 0&&(n[h][o[d].code]=[]),n[h][o[d].code].push({fn:u,shift:o[d].shift})},i.bindAll=function(d,u){u===void 0&&(u="keydown");for(var h in o)o.hasOwnProperty(h)&&i.bind(h,d,u)},i.getKey=function(d){for(var u in o)if(o.hasOwnProperty(u)){if(d.shiftKey==!0&&o[u].shift==!0&&d.keyCode==o[u].code)return u;if(d.shiftKey==!1&&o[u].shift==!1&&d.keyCode==o[u].code)return u;if(d.keyCode==o[u].code&&u=="shift")return u}return"unknown key, currently not supported"},i.unbind=function(d,u,h){if(h===void 0&&(h="keydown"),o[d]===void 0)throw new Error("unsupported key: "+d);if(u!==void 0){var f=[],p=n[h][o[d].code];if(p!==void 0)for(var g=0;g<p.length;g++)p[g].fn==u&&p[g].shift==o[d].shift||f.push(n[h][o[d].code][g]);n[h][o[d].code]=f}else n[h][o[d].code]=[]},i.reset=function(){n={keydown:{},keyup:{}}},i.destroy=function(){n={keydown:{},keyup:{}},r.removeEventListener("keydown",a,!0),r.removeEventListener("keyup",l,!0)},r.addEventListener("keydown",a,!0),r.addEventListener("keyup",l,!0),i}class Fge{constructor(e,r){this.body=e,this.canvas=r,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",()=>{this.activated=!0,this.configureKeyboardBindings()}),this.body.emitter.on("deactivate",()=>{this.activated=!1,this.configureKeyboardBindings()}),this.body.emitter.on("destroy",()=>{this.keycharm!==void 0&&this.keycharm.destroy()}),this.options={}}setOptions(e){e!==void 0&&(this.options=e,this.create())}create(){this.options.navigationButtons===!0?this.iconsCreated===!1&&this.loadNavigationElements():this.iconsCreated===!0&&this.cleanNavigation(),this.configureKeyboardBindings()}cleanNavigation(){if(this.navigationHammers.length!=0){for(let e=0;e<this.navigationHammers.length;e++)this.navigationHammers[e].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}loadNavigationElements(){this.cleanNavigation(),this.navigationDOM={};const e=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],r=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(let s=0;s<e.length;s++){this.navigationDOM[e[s]]=document.createElement("div"),this.navigationDOM[e[s]].className="vis-button vis-"+e[s],this.navigationDOM.wrapper.appendChild(this.navigationDOM[e[s]]);const a=new rs(this.navigationDOM[e[s]]);if(r[s]==="_fit"){var i;Hd(a,M(i=this._fit).call(i,this))}else{var n;Hd(a,M(n=this.bindToRedraw).call(n,this,r[s]))}this.navigationHammers.push(a)}const o=new rs(this.canvas.frame);wk(o,()=>{this._stopMovement()}),this.navigationHammers.push(o),this.iconsCreated=!0}bindToRedraw(e){if(this.boundFunctions[e]===void 0){var r;this.boundFunctions[e]=M(r=this[e]).call(r,this),this.body.emitter.on("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_startRendering")}}unbindFromRedraw(e){this.boundFunctions[e]!==void 0&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[e])}_fit(){new Date().valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=new Date().valueOf())}_stopMovement(){for(const e in this.boundFunctions)Object.prototype.hasOwnProperty.call(this.boundFunctions,e)&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}_moveUp(){this.body.view.translation.y+=this.options.keyboard.speed.y}_moveDown(){this.body.view.translation.y-=this.options.keyboard.speed.y}_moveLeft(){this.body.view.translation.x+=this.options.keyboard.speed.x}_moveRight(){this.body.view.translation.x-=this.options.keyboard.speed.x}_zoomIn(){const e=this.body.view.scale,r=this.body.view.scale*(1+this.options.keyboard.speed.zoom),i=this.body.view.translation,n=r/e,o=(1-n)*this.canvas.canvasViewCenter.x+i.x*n,s=(1-n)*this.canvas.canvasViewCenter.y+i.y*n;this.body.view.scale=r,this.body.view.translation={x:o,y:s},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}_zoomOut(){const e=this.body.view.scale,r=this.body.view.scale/(1+this.options.keyboard.speed.zoom),i=this.body.view.translation,n=r/e,o=(1-n)*this.canvas.canvasViewCenter.x+i.x*n,s=(1-n)*this.canvas.canvasViewCenter.y+i.y*n;this.body.view.scale=r,this.body.view.translation={x:o,y:s},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}configureKeyboardBindings(){if(this.keycharm!==void 0&&this.keycharm.destroy(),this.options.keyboard.enabled===!0&&(this.options.keyboard.bindToWindow===!0?this.keycharm=h_({container:window,preventDefault:!0}):this.keycharm=h_({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),this.activated===!0)){var e,r,i,n,o,s,a,l,c,d,u,h,f,p,g,$,y,b,S,_,T,W,Y,z;M(e=this.keycharm).call(e,"up",()=>{this.bindToRedraw("_moveUp")},"keydown"),M(r=this.keycharm).call(r,"down",()=>{this.bindToRedraw("_moveDown")},"keydown"),M(i=this.keycharm).call(i,"left",()=>{this.bindToRedraw("_moveLeft")},"keydown"),M(n=this.keycharm).call(n,"right",()=>{this.bindToRedraw("_moveRight")},"keydown"),M(o=this.keycharm).call(o,"=",()=>{this.bindToRedraw("_zoomIn")},"keydown"),M(s=this.keycharm).call(s,"num+",()=>{this.bindToRedraw("_zoomIn")},"keydown"),M(a=this.keycharm).call(a,"num-",()=>{this.bindToRedraw("_zoomOut")},"keydown"),M(l=this.keycharm).call(l,"-",()=>{this.bindToRedraw("_zoomOut")},"keydown"),M(c=this.keycharm).call(c,"[",()=>{this.bindToRedraw("_zoomOut")},"keydown"),M(d=this.keycharm).call(d,"]",()=>{this.bindToRedraw("_zoomIn")},"keydown"),M(u=this.keycharm).call(u,"pageup",()=>{this.bindToRedraw("_zoomIn")},"keydown"),M(h=this.keycharm).call(h,"pagedown",()=>{this.bindToRedraw("_zoomOut")},"keydown"),M(f=this.keycharm).call(f,"up",()=>{this.unbindFromRedraw("_moveUp")},"keyup"),M(p=this.keycharm).call(p,"down",()=>{this.unbindFromRedraw("_moveDown")},"keyup"),M(g=this.keycharm).call(g,"left",()=>{this.unbindFromRedraw("_moveLeft")},"keyup"),M($=this.keycharm).call($,"right",()=>{this.unbindFromRedraw("_moveRight")},"keyup"),M(y=this.keycharm).call(y,"=",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),M(b=this.keycharm).call(b,"num+",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),M(S=this.keycharm).call(S,"num-",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),M(_=this.keycharm).call(_,"-",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),M(T=this.keycharm).call(T,"[",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),M(W=this.keycharm).call(W,"]",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),M(Y=this.keycharm).call(Y,"pageup",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),M(z=this.keycharm).call(z,"pagedown",()=>{this.unbindFromRedraw("_zoomOut")},"keyup")}}}class Bge{constructor(e,r,i){var n,o,s,a,l,c,d,u,h,f,p,g,$;this.body=e,this.canvas=r,this.selectionHandler=i,this.navigationHandler=new Fge(e,r),this.body.eventListeners.onTap=M(n=this.onTap).call(n,this),this.body.eventListeners.onTouch=M(o=this.onTouch).call(o,this),this.body.eventListeners.onDoubleTap=M(s=this.onDoubleTap).call(s,this),this.body.eventListeners.onHold=M(a=this.onHold).call(a,this),this.body.eventListeners.onDragStart=M(l=this.onDragStart).call(l,this),this.body.eventListeners.onDrag=M(c=this.onDrag).call(c,this),this.body.eventListeners.onDragEnd=M(d=this.onDragEnd).call(d,this),this.body.eventListeners.onMouseWheel=M(u=this.onMouseWheel).call(u,this),this.body.eventListeners.onPinch=M(h=this.onPinch).call(h,this),this.body.eventListeners.onMouseMove=M(f=this.onMouseMove).call(f,this),this.body.eventListeners.onRelease=M(p=this.onRelease).call(p,this),this.body.eventListeners.onContext=M(g=this.onContext).call(g,this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=M($=this.getPointer).call($,this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0,autoFocus:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0,zoomSpeed:1},ht(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("destroy",()=>{clearTimeout(this.popupTimer),delete this.body.functions.getPointer})}setOptions(e){e!==void 0&&(Fd(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"],this.options,e),br(this.options,e,"keyboard"),e.tooltip&&(ht(this.options.tooltip,e.tooltip),e.tooltip.color&&(this.options.tooltip.color=Hv(e.tooltip.color)))),this.navigationHandler.setOptions(this.options)}getPointer(e){return{x:e.x-zce(this.canvas.frame.canvas),y:e.y-Hce(this.canvas.frame.canvas)}}onTouch(e){new Date().valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(e.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=new Date().valueOf())}onTap(e){const r=this.getPointer(e.center),i=this.selectionHandler.options.multiselect&&(e.changedPointers[0].ctrlKey||e.changedPointers[0].metaKey);this.checkSelectionChanges(r,i),this.selectionHandler.commitAndEmit(r,e),this.selectionHandler.generateClickEvent("click",e,r)}onDoubleTap(e){const r=this.getPointer(e.center);this.selectionHandler.generateClickEvent("doubleClick",e,r)}onHold(e){const r=this.getPointer(e.center),i=this.selectionHandler.options.multiselect;this.checkSelectionChanges(r,i),this.selectionHandler.commitAndEmit(r,e),this.selectionHandler.generateClickEvent("click",e,r),this.selectionHandler.generateClickEvent("hold",e,r)}onRelease(e){if(new Date().valueOf()-this.touchTime>10){const r=this.getPointer(e.center);this.selectionHandler.generateClickEvent("release",e,r),this.touchTime=new Date().valueOf()}}onContext(e){const r=this.getPointer({x:e.clientX,y:e.clientY});this.selectionHandler.generateClickEvent("oncontext",e,r)}checkSelectionChanges(e){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)===!0?this.selectionHandler.selectAdditionalOnPoint(e):this.selectionHandler.selectOnPoint(e)}_determineDifference(e,r){const i=function(n,o){const s=[];for(let a=0;a<n.length;a++){const l=n[a];ke(o).call(o,l)===-1&&s.push(l)}return s};return{nodes:i(e.nodes,r.nodes),edges:i(e.edges,r.edges)}}onDragStart(e){if(this.drag.dragging)return;this.drag.pointer===void 0&&this.onTouch(e);const r=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=ht({},this.body.view.translation),this.drag.nodeId=void 0,e.srcEvent.shiftKey){this.body.selectionBox.show=!0;const i=this.getPointer(e.center);this.body.selectionBox.position.start={x:this.canvas._XconvertDOMtoCanvas(i.x),y:this.canvas._YconvertDOMtoCanvas(i.y)},this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(i.x),y:this.canvas._YconvertDOMtoCanvas(i.y)}}else if(r!==void 0&&this.options.dragNodes===!0){this.drag.nodeId=r.id,r.isSelected()===!1&&this.selectionHandler.setSelection({nodes:[r.id]}),this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer);for(const i of this.selectionHandler.getSelectedNodes()){const n={id:i.id,node:i,x:i.x,y:i.y,xFixed:i.options.fixed.x,yFixed:i.options.fixed.y};i.options.fixed.x=!0,i.options.fixed.y=!0,this.drag.selection.push(n)}}else this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer,void 0,!0)}onDrag(e){if(this.drag.pinched===!0)return;this.body.emitter.emit("unlockNode");const r=this.getPointer(e.center),i=this.drag.selection;if(i&&i.length&&this.options.dragNodes===!0){this.selectionHandler.generateClickEvent("dragging",e,r);const n=r.x-this.drag.pointer.x,o=r.y-this.drag.pointer.y;Me(i).call(i,s=>{const a=s.node;s.xFixed===!1&&(a.x=this.canvas._XconvertDOMtoCanvas(this.canvas._XconvertCanvasToDOM(s.x)+n)),s.yFixed===!1&&(a.y=this.canvas._YconvertDOMtoCanvas(this.canvas._YconvertCanvasToDOM(s.y)+o))}),this.body.emitter.emit("startSimulation")}else{if(e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,r,void 0,!0),this.drag.pointer===void 0){this.onDragStart(e);return}this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(r.x),y:this.canvas._YconvertDOMtoCanvas(r.y)},this.body.emitter.emit("_requestRedraw")}if(this.options.dragView===!0&&!e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,r,void 0,!0),this.drag.pointer===void 0){this.onDragStart(e);return}const n=r.x-this.drag.pointer.x,o=r.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+n,y:this.drag.translation.y+o},this.body.emitter.emit("_requestRedraw")}}}onDragEnd(e){if(this.drag.dragging=!1,this.body.selectionBox.show){var r;this.body.selectionBox.show=!1;const i=this.body.selectionBox.position,n={minX:Math.min(i.start.x,i.end.x),minY:Math.min(i.start.y,i.end.y),maxX:Math.max(i.start.x,i.end.x),maxY:Math.max(i.start.y,i.end.y)},o=er(r=this.body.nodeIndices).call(r,a=>{const l=this.body.nodes[a];return l.x>=n.minX&&l.x<=n.maxX&&l.y>=n.minY&&l.y<=n.maxY});Me(o).call(o,a=>this.selectionHandler.selectObject(this.body.nodes[a]));const s=this.getPointer(e.center);this.selectionHandler.commitAndEmit(s,e),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw")}else{const i=this.drag.selection;i&&i.length?(Me(i).call(i,function(n){n.node.options.fixed.x=n.xFixed,n.node.options.fixed.y=n.yFixed}),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}}onPinch(e){const r=this.getPointer(e.center);this.drag.pinched=!0,this.pinch.scale===void 0&&(this.pinch.scale=1);const i=this.pinch.scale*e.scale;this.zoom(i,r)}zoom(e,r){if(this.options.zoomView===!0){const i=this.body.view.scale;e<1e-5&&(e=1e-5),e>10&&(e=10);let n;this.drag!==void 0&&this.drag.dragging===!0&&(n=this.canvas.DOMtoCanvas(this.drag.pointer));const o=this.body.view.translation,s=e/i,a=(1-s)*r.x+o.x*s,l=(1-s)*r.y+o.y*s;if(this.body.view.scale=e,this.body.view.translation={x:a,y:l},n!=null){const c=this.canvas.canvasToDOM(n);this.drag.pointer.x=c.x,this.drag.pointer.y=c.y}this.body.emitter.emit("_requestRedraw"),i<e?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:r}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:r})}}onMouseWheel(e){if(this.options.zoomView===!0){if(e.deltaY!==0){let r=this.body.view.scale;r*=1+(e.deltaY<0?1:-1)*(this.options.zoomSpeed*.1);const i=this.getPointer({x:e.clientX,y:e.clientY});this.zoom(r,i)}e.preventDefault()}}onMouseMove(e){const r=this.getPointer({x:e.clientX,y:e.clientY});let i=!1;this.popup!==void 0&&(this.popup.hidden===!1&&this._checkHidePopup(r),this.popup.hidden===!1&&(i=!0,this.popup.setPosition(r.x+3,r.y-5),this.popup.show())),this.options.keyboard.autoFocus&&this.options.keyboard.bindToWindow===!1&&this.options.keyboard.enabled===!0&&this.canvas.frame.focus(),i===!1&&(this.popupTimer!==void 0&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=_i(()=>this._checkShowPopup(r),this.options.tooltipDelay))),this.options.hover===!0&&this.selectionHandler.hoverObject(e,r)}_checkShowPopup(e){const r=this.canvas._XconvertDOMtoCanvas(e.x),i=this.canvas._YconvertDOMtoCanvas(e.y),n={left:r,top:i,right:r,bottom:i},o=this.popupObj===void 0?void 0:this.popupObj.id;let s=!1,a="node";if(this.popupObj===void 0){const l=this.body.nodeIndices,c=this.body.nodes;let d;const u=[];for(let h=0;h<l.length;h++)d=c[l[h]],d.isOverlappingWith(n)===!0&&(s=!0,d.getTitle()!==void 0&&u.push(l[h]));u.length>0&&(this.popupObj=c[u[u.length-1]],s=!0)}if(this.popupObj===void 0&&s===!1){const l=this.body.edgeIndices,c=this.body.edges;let d;const u=[];for(let h=0;h<l.length;h++)d=c[l[h]],d.isOverlappingWith(n)===!0&&d.connected===!0&&d.getTitle()!==void 0&&u.push(l[h]);u.length>0&&(this.popupObj=c[u[u.length-1]],a="edge")}this.popupObj!==void 0?this.popupObj.id!==o&&(this.popup===void 0&&(this.popup=new Qce(this.canvas.frame)),this.popup.popupTargetType=a,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(e.x+3,e.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):this.popup!==void 0&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}_checkHidePopup(e){const r=this.selectionHandler._pointerToPositionObject(e);let i=!1;if(this.popup.popupTargetType==="node"){if(this.body.nodes[this.popup.popupTargetId]!==void 0&&(i=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(r),i===!0)){const n=this.selectionHandler.getNodeAt(e);i=n===void 0?!1:n.id===this.popup.popupTargetId}}else this.selectionHandler.getNodeAt(e)===void 0&&this.body.edges[this.popup.popupTargetId]!==void 0&&(i=this.body.edges[this.popup.popupTargetId].isOverlappingWith(r));i===!1&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}var Lge=Bm,jge=ZP;Lge("Set",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},jge);var zge=Ce,Hge=zge.Set,Wge=Hge,Vge=Wge,Uge=Vge,Gi=he(Uge),Yge=Ie,f_=Lm,Nc=Ju.getWeakData,qge=Fm,Kge=Fi,Gge=Rs,_p=Ft,Xge=Nm,_k=En,p_=Ct,Sk=$o,Jge=Sk.set,Zge=Sk.getterFor,Qge=_k.find,eme=_k.findIndex,tme=Yge([].splice),rme=0,Fc=function(t){return t.frozen||(t.frozen=new Ek)},Ek=function(){this.entries=[]},Sp=function(t,e){return Qge(t.entries,function(r){return r[0]===e})};Ek.prototype={get:function(t){var e=Sp(this,t);if(e)return e[1]},has:function(t){return!!Sp(this,t)},set:function(t,e){var r=Sp(this,t);r?r[1]=e:this.entries.push([t,e])},delete:function(t){var e=eme(this.entries,function(r){return r[0]===t});return~e&&tme(this.entries,e,1),!!~e}};var ime={getConstructor:function(t,e,r,i){var n=t(function(l,c){qge(l,o),Jge(l,{type:e,id:rme++,frozen:void 0}),Gge(c)||Xge(c,l[i],{that:l,AS_ENTRIES:r})}),o=n.prototype,s=Zge(e),a=function(l,c,d){var u=s(l),h=Nc(Kge(c),!0);return h===!0?Fc(u).set(c,d):h[u.id]=d,l};return f_(o,{delete:function(l){var c=s(this);if(!_p(l))return!1;var d=Nc(l);return d===!0?Fc(c).delete(l):d&&p_(d,c.id)&&delete d[c.id]},has:function(c){var d=s(this);if(!_p(c))return!1;var u=Nc(c);return u===!0?Fc(d).has(c):u&&p_(u,d.id)}}),f_(o,r?{get:function(c){var d=s(this);if(_p(c)){var u=Nc(c);return u===!0?Fc(d).get(c):u?u[d.id]:void 0}},set:function(c,d){return a(this,c,d)}}:{add:function(c){return a(this,c,!0)}}),n}},nme=qP,v_=rt,nd=Ie,g_=Lm,ome=Ju,sme=Bm,Tk=ime,Bc=Ft,Lc=$o.enforce,ame=Te,lme=mx,Gl=Object,cme=Array.isArray,jc=Gl.isExtensible,Ik=Gl.isFrozen,dme=Gl.isSealed,Ok=Gl.freeze,ume=Gl.seal,m_={},y_={},hme=!v_.ActiveXObject&&"ActiveXObject"in v_,ta,xk=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},Pk=sme("WeakMap",xk,Tk),Bo=Pk.prototype,od=nd(Bo.set),fme=function(){return nme&&ame(function(){var t=Ok([]);return od(new Pk,t,1),!Ik(t)})};if(lme)if(hme){ta=Tk.getConstructor(xk,"WeakMap",!0),ome.enable();var b_=nd(Bo.delete),zc=nd(Bo.has),$_=nd(Bo.get);g_(Bo,{delete:function(t){if(Bc(t)&&!jc(t)){var e=Lc(this);return e.frozen||(e.frozen=new ta),b_(this,t)||e.frozen.delete(t)}return b_(this,t)},has:function(e){if(Bc(e)&&!jc(e)){var r=Lc(this);return r.frozen||(r.frozen=new ta),zc(this,e)||r.frozen.has(e)}return zc(this,e)},get:function(e){if(Bc(e)&&!jc(e)){var r=Lc(this);return r.frozen||(r.frozen=new ta),zc(this,e)?$_(this,e):r.frozen.get(e)}return $_(this,e)},set:function(e,r){if(Bc(e)&&!jc(e)){var i=Lc(this);i.frozen||(i.frozen=new ta),zc(this,e)?od(this,e,r):i.frozen.set(e,r)}else od(this,e,r);return this}})}else fme()&&g_(Bo,{set:function(e,r){var i;return cme(e)&&(Ik(e)?i=m_:dme(e)&&(i=y_)),od(this,e,r),i===m_&&Ok(e),i===y_&&ume(e),this}});var pme=Ce,vme=pme.WeakMap,gme=vme,mme=gme,yme=mme,Ta=he(yme);function Fe(t,e,r,i){if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?i:r==="a"?i.call(t):i?i.value:e.get(t)}function Kv(t,e,r,i,n){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,r),r}var Rn,yr,zi,Hi,sd;function w_(t,e){const r=new Gi;for(const i of e)t.has(i)||r.add(i);return r}class __{constructor(){Rn.set(this,new Gi),yr.set(this,new Gi)}get size(){return Fe(this,yr,"f").size}add(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];for(const n of r)Fe(this,yr,"f").add(n)}delete(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];for(const n of r)Fe(this,yr,"f").delete(n)}clear(){Fe(this,yr,"f").clear()}getSelection(){return[...Fe(this,yr,"f")]}getChanges(){return{added:[...w_(Fe(this,Rn,"f"),Fe(this,yr,"f"))],deleted:[...w_(Fe(this,yr,"f"),Fe(this,Rn,"f"))],previous:[...new Gi(Fe(this,Rn,"f"))],current:[...new Gi(Fe(this,yr,"f"))]}}commit(){const e=this.getChanges();Kv(this,Rn,Fe(this,yr,"f")),Kv(this,yr,new Gi(Fe(this,Rn,"f")));for(const r of e.added)r.select();for(const r of e.deleted)r.unselect();return e}}Rn=new Ta,yr=new Ta;class bme{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:()=>{};zi.set(this,new __),Hi.set(this,new __),sd.set(this,void 0),Kv(this,sd,e)}get sizeNodes(){return Fe(this,zi,"f").size}get sizeEdges(){return Fe(this,Hi,"f").size}getNodes(){return Fe(this,zi,"f").getSelection()}getEdges(){return Fe(this,Hi,"f").getSelection()}addNodes(){Fe(this,zi,"f").add(...arguments)}addEdges(){Fe(this,Hi,"f").add(...arguments)}deleteNodes(e){Fe(this,zi,"f").delete(e)}deleteEdges(e){Fe(this,Hi,"f").delete(e)}clear(){Fe(this,zi,"f").clear(),Fe(this,Hi,"f").clear()}commit(){const e={nodes:Fe(this,zi,"f").commit(),edges:Fe(this,Hi,"f").commit()};for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return Fe(this,sd,"f").call(this,e,...i),e}}zi=new Ta,Hi=new Ta,sd=new Ta;class $me{constructor(e,r){this.body=e,this.canvas=r,this._selectionAccumulator=new bme,this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},ht(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",()=>{this.updateSelection()})}setOptions(e){e!==void 0&&Vs(["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"],this.options,e)}selectOnPoint(e){let r=!1;if(this.options.selectable===!0){const i=this.getNodeAt(e)||this.getEdgeAt(e);this.unselectAll(),i!==void 0&&(r=this.selectObject(i)),this.body.emitter.emit("_requestRedraw")}return r}selectAdditionalOnPoint(e){let r=!1;if(this.options.selectable===!0){const i=this.getNodeAt(e)||this.getEdgeAt(e);i!==void 0&&(r=!0,i.isSelected()===!0?this.deselectObject(i):this.selectObject(i),this.body.emitter.emit("_requestRedraw"))}return r}_initBaseEvent(e,r){const i={};return i.pointer={DOM:{x:r.x,y:r.y},canvas:this.canvas.DOMtoCanvas(r)},i.event=e,i}generateClickEvent(e,r,i,n){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;const s=this._initBaseEvent(r,i);if(o===!0)s.nodes=[],s.edges=[];else{const a=this.getSelection();s.nodes=a.nodes,s.edges=a.edges}n!==void 0&&(s.previousSelection=n),e=="click"&&(s.items=this.getClickedItems(i)),r.controlEdge!==void 0&&(s.controlEdge=r.controlEdge),this.body.emitter.emit(e,s)}selectObject(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.selectConnectedEdges;return e!==void 0?(e instanceof Ye?(r===!0&&this._selectionAccumulator.addEdges(...e.edges),this._selectionAccumulator.addNodes(e)):this._selectionAccumulator.addEdges(e),!0):!1}deselectObject(e){e.isSelected()===!0&&(e.selected=!1,this._removeFromSelection(e))}_getAllNodesOverlappingWith(e){const r=[],i=this.body.nodes;for(let n=0;n<this.body.nodeIndices.length;n++){const o=this.body.nodeIndices[n];i[o].isOverlappingWith(e)&&r.push(o)}return r}_pointerToPositionObject(e){const r=this.canvas.DOMtoCanvas(e);return{left:r.x-1,top:r.y+1,right:r.x+1,bottom:r.y-1}}getNodeAt(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const i=this._pointerToPositionObject(e),n=this._getAllNodesOverlappingWith(i);if(n.length>0)return r===!0?this.body.nodes[n[n.length-1]]:n[n.length-1]}_getEdgesOverlappingWith(e,r){const i=this.body.edges;for(let n=0;n<this.body.edgeIndices.length;n++){const o=this.body.edgeIndices[n];i[o].isOverlappingWith(e)&&r.push(o)}}_getAllEdgesOverlappingWith(e){const r=[];return this._getEdgesOverlappingWith(e,r),r}getEdgeAt(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const i=this.canvas.DOMtoCanvas(e);let n=10,o=null;const s=this.body.edges;for(let a=0;a<this.body.edgeIndices.length;a++){const l=this.body.edgeIndices[a],c=s[l];if(c.connected){const d=c.from.x,u=c.from.y,h=c.to.x,f=c.to.y,p=c.edgeType.getDistanceToEdge(d,u,h,f,i.x,i.y);p<n&&(o=l,n=p)}}if(o!==null)return r===!0?this.body.edges[o]:o}_addToHover(e){e instanceof Ye?this.hoverObj.nodes[e.id]=e:this.hoverObj.edges[e.id]=e}_removeFromSelection(e){e instanceof Ye?(this._selectionAccumulator.deleteNodes(e),this._selectionAccumulator.deleteEdges(...e.edges)):this._selectionAccumulator.deleteEdges(e)}unselectAll(){this._selectionAccumulator.clear()}getSelectedNodeCount(){return this._selectionAccumulator.sizeNodes}getSelectedEdgeCount(){return this._selectionAccumulator.sizeEdges}_hoverConnectedEdges(e){for(let r=0;r<e.edges.length;r++){const i=e.edges[r];i.hover=!0,this._addToHover(i)}}emitBlurEvent(e,r,i){const n=this._initBaseEvent(e,r);i.hover===!0&&(i.hover=!1,i instanceof Ye?(n.node=i.id,this.body.emitter.emit("blurNode",n)):(n.edge=i.id,this.body.emitter.emit("blurEdge",n)))}emitHoverEvent(e,r,i){const n=this._initBaseEvent(e,r);let o=!1;return i.hover===!1&&(i.hover=!0,this._addToHover(i),o=!0,i instanceof Ye?(n.node=i.id,this.body.emitter.emit("hoverNode",n)):(n.edge=i.id,this.body.emitter.emit("hoverEdge",n))),o}hoverObject(e,r){let i=this.getNodeAt(r);i===void 0&&(i=this.getEdgeAt(r));let n=!1;for(const o in this.hoverObj.nodes)Object.prototype.hasOwnProperty.call(this.hoverObj.nodes,o)&&(i===void 0||i instanceof Ye&&i.id!=o||i instanceof cn)&&(this.emitBlurEvent(e,r,this.hoverObj.nodes[o]),delete this.hoverObj.nodes[o],n=!0);for(const o in this.hoverObj.edges)Object.prototype.hasOwnProperty.call(this.hoverObj.edges,o)&&(n===!0?(this.hoverObj.edges[o].hover=!1,delete this.hoverObj.edges[o]):(i===void 0||i instanceof cn&&i.id!=o||i instanceof Ye&&!i.hover)&&(this.emitBlurEvent(e,r,this.hoverObj.edges[o]),delete this.hoverObj.edges[o],n=!0));if(i!==void 0){const o=Ze(this.hoverObj.edges).length,s=Ze(this.hoverObj.nodes).length,a=i instanceof cn&&o===0&&s===0,l=i instanceof Ye&&o===0&&s===0;(n||a||l)&&(n=this.emitHoverEvent(e,r,i)),i instanceof Ye&&this.options.hoverConnectedEdges===!0&&this._hoverConnectedEdges(i)}n===!0&&this.body.emitter.emit("_requestRedraw")}commitWithoutEmitting(){this._selectionAccumulator.commit()}commitAndEmit(e,r){let i=!1;const n=this._selectionAccumulator.commit(),o={nodes:n.nodes.previous,edges:n.edges.previous};n.edges.deleted.length>0&&(this.generateClickEvent("deselectEdge",r,e,o),i=!0),n.nodes.deleted.length>0&&(this.generateClickEvent("deselectNode",r,e,o),i=!0),n.nodes.added.length>0&&(this.generateClickEvent("selectNode",r,e),i=!0),n.edges.added.length>0&&(this.generateClickEvent("selectEdge",r,e),i=!0),i===!0&&this.generateClickEvent("select",r,e)}getSelection(){return{nodes:this.getSelectedNodeIds(),edges:this.getSelectedEdgeIds()}}getSelectedNodes(){return this._selectionAccumulator.getNodes()}getSelectedEdges(){return this._selectionAccumulator.getEdges()}getSelectedNodeIds(){var e;return gs(e=this._selectionAccumulator.getNodes()).call(e,r=>r.id)}getSelectedEdgeIds(){var e;return gs(e=this._selectionAccumulator.getEdges()).call(e,r=>r.id)}setSelection(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!e||!e.nodes&&!e.edges)throw new TypeError("Selection must be an object with nodes and/or edges properties");if((r.unselectAll||r.unselectAll===void 0)&&this.unselectAll(),e.nodes)for(const i of e.nodes){const n=this.body.nodes[i];if(!n)throw new RangeError('Node with id "'+i+'" not found');this.selectObject(n,r.highlightEdges)}if(e.edges)for(const i of e.edges){const n=this.body.edges[i];if(!n)throw new RangeError('Edge with id "'+i+'" not found');this.selectObject(n)}this.body.emitter.emit("_requestRedraw"),this._selectionAccumulator.commit()}selectNodes(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({nodes:e},{highlightEdges:r})}selectEdges(e){if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({edges:e})}updateSelection(){for(const e in this._selectionAccumulator.getNodes())Object.prototype.hasOwnProperty.call(this.body.nodes,e.id)||this._selectionAccumulator.deleteNodes(e);for(const e in this._selectionAccumulator.getEdges())Object.prototype.hasOwnProperty.call(this.body.edges,e.id)||this._selectionAccumulator.deleteEdges(e)}getClickedItems(e){const r=this.canvas.DOMtoCanvas(e),i=[],n=this.body.nodeIndices,o=this.body.nodes;for(let l=n.length-1;l>=0;l--){const d=o[n[l]].getItemsOnPoint(r);i.push.apply(i,d)}const s=this.body.edgeIndices,a=this.body.edges;for(let l=s.length-1;l>=0;l--){const d=a[s[l]].getItemsOnPoint(r);i.push.apply(i,d)}return i}}var S_=fx,wme=Math.floor,Gv=function(t,e){var r=t.length,i=wme(r/2);return r<8?_me(t,e):Sme(t,Gv(S_(t,0,i),e),Gv(S_(t,i),e),e)},_me=function(t,e){for(var r=t.length,i=1,n,o;i<r;){for(o=i,n=t[i];o&&e(t[o-1],n)>0;)t[o]=t[--o];o!==i++&&(t[o]=n)}return t},Sme=function(t,e,r,i){for(var n=e.length,o=r.length,s=0,a=0;s<n||a<o;)t[s+a]=s<n&&a<o?i(e[s],r[a])<=0?e[s++]:r[a++]:s<n?e[s++]:r[a++];return t},Eme=Gv,Tme=Tl,E_=Tme.match(/firefox\/(\d+)/i),Ime=!!E_&&+E_[1],Ome=Tl,xme=/MSIE|Trident/.test(Ome),Pme=Tl,T_=Pme.match(/AppleWebKit\/(\d+)\./),kme=!!T_&&+T_[1],Cme=ce,kk=Ie,Ame=Fs,Dme=Or,I_=li,Mme=Jx,O_=ci,Ym=Te,Rme=Eme,Nme=Hs,x_=Ime,Fme=xme,P_=Il,k_=kme,Zi=[],C_=kk(Zi.sort),Bme=kk(Zi.push),Lme=Ym(function(){Zi.sort(void 0)}),jme=Ym(function(){Zi.sort(null)}),zme=Nme("sort"),Ck=!Ym(function(){if(P_)return P_<70;if(!(x_&&x_>3)){if(Fme)return!0;if(k_)return k_<603;var t="",e,r,i,n;for(e=65;e<76;e++){switch(r=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:i=3;break;case 68:case 71:i=4;break;default:i=2}for(n=0;n<47;n++)Zi.push({k:r+n,v:i})}for(Zi.sort(function(o,s){return s.v-o.v}),n=0;n<Zi.length;n++)r=Zi[n].k.charAt(0),t.charAt(t.length-1)!==r&&(t+=r);return t!=="DGBEFHACIJK"}}),Hme=Lme||!jme||!zme||!Ck,Wme=function(t){return function(e,r){return r===void 0?-1:e===void 0?1:t!==void 0?+t(e,r)||0:O_(e)>O_(r)?1:-1}};Cme({target:"Array",proto:!0,forced:Hme},{sort:function(e){e!==void 0&&Ame(e);var r=Dme(this);if(Ck)return e===void 0?C_(r):C_(r,e);var i=[],n=I_(r),o,s;for(s=0;s<n;s++)s in r&&Bme(i,r[s]);for(Rme(i,Wme(e)),o=I_(i),s=0;s<o;)r[s]=i[s++];for(;s<n;)Mme(r,s++);return r}});var Vme=At,Ume=Vme("Array").sort,Yme=gt,qme=Ume,Ep=Array.prototype,Kme=function(t){var e=t.sort;return t===Ep||Yme(Ep,t)&&e===Ep.sort?qme:e},Gme=Kme,Xme=Gme,Jme=Xme,ns=he(Jme),Zme=Fs,Qme=Or,eye=Au,tye=li,rye=TypeError,iye=function(t){return function(e,r,i,n){Zme(r);var o=Qme(e),s=eye(o),a=tye(o),l=t?a-1:0,c=t?-1:1;if(i<2)for(;;){if(l in s){n=s[l],l+=c;break}if(l+=c,t?l<0:a<=l)throw new rye("Reduce of empty array with no initial value")}for(;t?l>=0:a>l;l+=c)l in s&&(n=r(n,s[l],l,o));return n}},nye={left:iye(!1)},oye=rt,sye=Ni,aye=sye(oye.process)==="process",lye=ce,cye=nye.left,dye=Hs,A_=Il,uye=aye,hye=!uye&&A_>79&&A_<83,fye=hye||!dye("reduce");lye({target:"Array",proto:!0,forced:fye},{reduce:function(e){var r=arguments.length;return cye(this,e,r,r>1?arguments[1]:void 0)}});var pye=At,vye=pye("Array").reduce,gye=gt,mye=vye,Tp=Array.prototype,yye=function(t){var e=t.reduce;return t===Tp||gye(Tp,t)&&e===Tp.reduce?mye:e},bye=yye,$ye=bye,wye=$ye,Ak=he(wye);class Dk{abstract(){throw new Error("Can't instantiate abstract class!")}fake_use(){}curveType(){return this.abstract()}getPosition(e){return this.fake_use(e),this.abstract()}setPosition(e,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;this.fake_use(e,r,i),this.abstract()}getTreeSize(e){return this.fake_use(e),this.abstract()}sort(e){this.fake_use(e),this.abstract()}fix(e,r){this.fake_use(e,r),this.abstract()}shift(e,r){this.fake_use(e,r),this.abstract()}}class _ye extends Dk{constructor(e){super(),this.layout=e}curveType(){return"horizontal"}getPosition(e){return e.x}setPosition(e,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;i!==void 0&&this.layout.hierarchical.addToOrdering(e,i),e.x=r}getTreeSize(e){const r=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:r.min_x,max:r.max_x}}sort(e){ns(e).call(e,function(r,i){return r.x-i.x})}fix(e,r){e.y=this.layout.options.hierarchical.levelSeparation*r,e.options.fixed.y=!0}shift(e,r){this.layout.body.nodes[e].x+=r}}class Sye extends Dk{constructor(e){super(),this.layout=e}curveType(){return"vertical"}getPosition(e){return e.y}setPosition(e,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;i!==void 0&&this.layout.hierarchical.addToOrdering(e,i),e.y=r}getTreeSize(e){const r=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:r.min_y,max:r.max_y}}sort(e){ns(e).call(e,function(r,i){return r.y-i.y})}fix(e,r){e.x=this.layout.options.hierarchical.levelSeparation*r,e.options.fixed.x=!0}shift(e,r){this.layout.body.nodes[e].y+=r}}var Eye=ce,Tye=En.every,Iye=Hs,Oye=Iye("every");Eye({target:"Array",proto:!0,forced:!Oye},{every:function(e){return Tye(this,e,arguments.length>1?arguments[1]:void 0)}});var xye=At,Pye=xye("Array").every,kye=gt,Cye=Pye,Ip=Array.prototype,Aye=function(t){var e=t.every;return t===Ip||kye(Ip,t)&&e===Ip.every?Cye:e},Dye=Aye,Mye=Dye,Rye=Mye,Mk=he(Rye);function Nye(t,e){const r=new Gi;return Me(t).call(t,i=>{var n;Me(n=i.edges).call(n,o=>{o.connected&&r.add(o)})}),Me(r).call(r,i=>{const n=i.from.id,o=i.to.id;e[n]==null&&(e[n]=0),(e[o]==null||e[n]>=e[o])&&(e[o]=e[n]+1)}),e}function Fye(t){return Rk(e=>{var r,i;return Mk(r=er(i=e.edges).call(i,n=>t.has(n.toId))).call(r,n=>n.to===e)},(e,r)=>r>e,"from",t)}function Bye(t){return Rk(e=>{var r,i;return Mk(r=er(i=e.edges).call(i,n=>t.has(n.toId))).call(r,n=>n.from===e)},(e,r)=>r<e,"to",t)}function Rk(t,e,r,i){var n;const o=Gn(null),s=Ak(n=[...mk(i).call(i)]).call(n,(u,h)=>u+1+h.edges.length,0),a=r+"Id",l=r==="to"?1:-1;for(const[u,h]of i){if(!i.has(u)||!t(h))continue;o[u]=0;const f=[h];let p=0,g;for(;g=f.pop();){var c,d;if(!i.has(u))continue;const $=o[g.id]+l;if(Me(c=er(d=g.edges).call(d,y=>y.connected&&y.to!==y.from&&y[r]!==g&&i.has(y.toId)&&i.has(y.fromId))).call(c,y=>{const b=y[a],S=o[b];(S==null||e($,S))&&(o[b]=$,f.push(y[r]))}),p>s)return Nye(i,o);++p}}return o}class Lye{constructor(){this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}addRelation(e,r){this.childrenReference[e]===void 0&&(this.childrenReference[e]=[]),this.childrenReference[e].push(r),this.parentReference[r]===void 0&&(this.parentReference[r]=[]),this.parentReference[r].push(e)}checkIfTree(){for(const e in this.parentReference)if(this.parentReference[e].length>1){this.isTree=!1;return}this.isTree=!0}numTrees(){return this.treeIndex+1}setTreeIndex(e,r){r!==void 0&&this.trees[e.id]===void 0&&(this.trees[e.id]=r,this.treeIndex=Math.max(r,this.treeIndex))}ensureLevel(e){this.levels[e]===void 0&&(this.levels[e]=0)}getMaxLevel(e){const r={},i=n=>{if(r[n]!==void 0)return r[n];let o=this.levels[n];if(this.childrenReference[n]){const s=this.childrenReference[n];if(s.length>0)for(let a=0;a<s.length;a++)o=Math.max(o,i(s[a]))}return r[n]=o,o};return i(e)}levelDownstream(e,r){this.levels[r.id]===void 0&&(this.levels[e.id]===void 0&&(this.levels[e.id]=0),this.levels[r.id]=this.levels[e.id]+1)}setMinLevelToZero(){var e;const r=new zm;let i=0;const n=ns(e=[...new Gi(wae(this.levels))]).call(e,(o,s)=>o-s);for(const o of n)r.set(o,i++);for(const o in this.levels)Object.prototype.hasOwnProperty.call(this.levels,o)&&(this.levels[o]=r.get(this.levels[o]))}getTreeSize(e,r){let i=1e9,n=-1e9,o=1e9,s=-1e9;for(const a in this.trees)if(Object.prototype.hasOwnProperty.call(this.trees,a)&&this.trees[a]===r){const l=e[a];i=Math.min(l.x,i),n=Math.max(l.x,n),o=Math.min(l.y,o),s=Math.max(l.y,s)}return{min_x:i,max_x:n,min_y:o,max_y:s}}hasSameParent(e,r){const i=this.parentReference[e.id],n=this.parentReference[r.id];if(i===void 0||n===void 0)return!1;for(let o=0;o<i.length;o++)for(let s=0;s<n.length;s++)if(i[o]==n[s])return!0;return!1}inSameSubNetwork(e,r){return this.trees[e.id]===this.trees[r.id]}getLevels(){return Ze(this.distributionOrdering)}addToOrdering(e,r){this.distributionOrdering[r]===void 0&&(this.distributionOrdering[r]=[]);let i=!1;const n=this.distributionOrdering[r];for(const o in n)if(n[o]===e){i=!0;break}i||(this.distributionOrdering[r].push(e),this.distributionIndex[e.id]=this.distributionOrdering[r].length-1)}}class jye{constructor(e){this.body=e,this._resetRNG(Math.random()+":"+Dd()),this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,clusterThreshold:150,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},ht(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("_dataChanged",()=>{this.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",()=>{this.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",()=>{this.setupHierarchicalLayout()}),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",()=>{if(this.options.hierarchical.enabled!==!0)return;const e=this.direction.curveType();this.body.emitter.emit("_forceDisableDynamicCurves",e,!1)})}setOptions(e,r){if(e!==void 0){const i=this.options.hierarchical,n=i.enabled;if(Vs(["randomSeed","improvedLayout","clusterThreshold"],this.options,e),br(this.options,e,"hierarchical"),e.randomSeed!==void 0&&this._resetRNG(e.randomSeed),i.enabled===!0)return n===!0&&this.body.emitter.emit("refresh",!0),i.direction==="RL"||i.direction==="DU"?i.levelSeparation>0&&(i.levelSeparation*=-1):i.levelSeparation<0&&(i.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(r);if(n===!0)return this.body.emitter.emit("refresh"),Be(r,this.optionsBackup)}return r}_resetRNG(e){this.initialRandomSeed=e,this._rng=Xu(this.initialRandomSeed)}adaptAllOptionsForHierarchicalLayout(e){if(this.options.hierarchical.enabled===!0){const r=this.optionsBackup.physics;e.physics===void 0||e.physics===!0?(e.physics={enabled:r.enabled===void 0?!0:r.enabled,solver:"hierarchicalRepulsion"},r.enabled=r.enabled===void 0?!0:r.enabled,r.solver=r.solver||"barnesHut"):typeof e.physics=="object"?(r.enabled=e.physics.enabled===void 0?!0:e.physics.enabled,r.solver=e.physics.solver||"barnesHut",e.physics.solver="hierarchicalRepulsion"):e.physics!==!1&&(r.solver="barnesHut",e.physics={solver:"hierarchicalRepulsion"});let i=this.direction.curveType();if(e.edges===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges={smooth:!1};else if(e.edges.smooth===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges.smooth=!1;else if(typeof e.edges.smooth=="boolean")this.optionsBackup.edges={smooth:e.edges.smooth},e.edges.smooth={enabled:e.edges.smooth,type:i};else{const n=e.edges.smooth;n.type!==void 0&&n.type!=="dynamic"&&(i=n.type),this.optionsBackup.edges={smooth:{enabled:n.enabled===void 0?!0:n.enabled,type:n.type===void 0?"dynamic":n.type,roundness:n.roundness===void 0?.5:n.roundness,forceDirection:n.forceDirection===void 0?!1:n.forceDirection}},e.edges.smooth={enabled:n.enabled===void 0?!0:n.enabled,type:i,roundness:n.roundness===void 0?.5:n.roundness,forceDirection:n.forceDirection===void 0?!1:n.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",i)}return e}positionInitially(e){if(this.options.hierarchical.enabled!==!0){this._resetRNG(this.initialRandomSeed);const r=e.length+50;for(let i=0;i<e.length;i++){const n=e[i],o=2*Math.PI*this._rng();n.x===void 0&&(n.x=r*Math.cos(o)),n.y===void 0&&(n.y=r*Math.sin(o))}}}layoutNetwork(){if(this.options.hierarchical.enabled!==!0&&this.options.improvedLayout===!0){const e=this.body.nodeIndices;let r=0;for(let i=0;i<e.length;i++)this.body.nodes[e[i]].predefinedPosition===!0&&(r+=1);if(r<.5*e.length){let n=0;const o=this.options.clusterThreshold,s={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(e.length>o){const l=e.length;for(;e.length>o&&n<=10;){n+=1;const c=e.length;n%3===0?this.body.modules.clustering.clusterBridges(s):this.body.modules.clustering.clusterOutliers(s);const d=e.length;if(c==d&&n%3!==0){this._declusterAll(),this.body.emitter.emit("_layoutFailed"),console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.");return}}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*l)})}n>10&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(e,this.body.edgeIndices,!0),this._shiftToCenter();const a=70;for(let l=0;l<e.length;l++){const c=this.body.nodes[e[l]];c.predefinedPosition===!1&&(c.x+=(.5-this._rng())*a,c.y+=(.5-this._rng())*a)}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}_shiftToCenter(){const e=Ht.getRangeCore(this.body.nodes,this.body.nodeIndices),r=Ht.findCenter(e);for(let i=0;i<this.body.nodeIndices.length;i++){const n=this.body.nodes[this.body.nodeIndices[i]];n.x-=r.x,n.y-=r.y}}_declusterAll(){let e=!0;for(;e===!0;){e=!1;for(let r=0;r<this.body.nodeIndices.length;r++)this.body.nodes[this.body.nodeIndices[r]].isCluster===!0&&(e=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[r],{},!1));e===!0&&this.body.emitter.emit("_dataChanged")}}getSeed(){return this.initialRandomSeed}setupHierarchicalLayout(){if(this.options.hierarchical.enabled===!0&&this.body.nodeIndices.length>0){let e,r,i=!1,n=!1;this.lastNodeOnLevel={},this.hierarchical=new Lye;for(r in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,r)&&(e=this.body.nodes[r],e.options.level!==void 0?(i=!0,this.hierarchical.levels[r]=e.options.level):n=!0);if(n===!0&&i===!0)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");{if(n===!0){const s=this.options.hierarchical.sortMethod;s==="hubsize"?this._determineLevelsByHubsize():s==="directed"?this._determineLevelsDirected():s==="custom"&&this._determineLevelsCustomCallback()}for(const s in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,s)&&this.hierarchical.ensureLevel(s);const o=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(o),this._condenseHierarchy(),this._shiftToCenter()}}}_condenseHierarchy(){var e=this;let r=!1;const i={},n=()=>{const y=s();let b=0;for(let S=0;S<y.length-1;S++){const _=y[S].max-y[S+1].min;b+=_+this.options.hierarchical.treeSpacing,o(S+1,b)}},o=(y,b)=>{const S=this.hierarchical.trees;for(const _ in S)Object.prototype.hasOwnProperty.call(S,_)&&S[_]===y&&this.direction.shift(_,b)},s=()=>{const y=[];for(let b=0;b<this.hierarchical.numTrees();b++)y.push(this.direction.getTreeSize(b));return y},a=(y,b)=>{if(!b[y.id]&&(b[y.id]=!0,this.hierarchical.childrenReference[y.id])){const S=this.hierarchical.childrenReference[y.id];if(S.length>0)for(let _=0;_<S.length;_++)a(this.body.nodes[S[_]],b)}},l=function(y){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e9,S=1e9,_=1e9,T=1e9,W=-1e9;for(const Y in y)if(Object.prototype.hasOwnProperty.call(y,Y)){const z=e.body.nodes[Y],C=e.hierarchical.levels[z.id],X=e.direction.getPosition(z),[de,j]=e._getSpaceAroundNode(z,y);S=Math.min(de,S),_=Math.min(j,_),C<=b&&(T=Math.min(X,T),W=Math.max(X,W))}return[T,W,S,_]},c=(y,b)=>{const S=this.hierarchical.getMaxLevel(y.id),_=this.hierarchical.getMaxLevel(b.id);return Math.min(S,_)},d=(y,b,S)=>{const _=this.hierarchical;for(let T=0;T<b.length;T++){const W=b[T],Y=_.distributionOrdering[W];if(Y.length>1)for(let z=0;z<Y.length-1;z++){const C=Y[z],X=Y[z+1];_.hasSameParent(C,X)&&_.inSameSubNetwork(C,X)&&y(C,X,S)}}},u=function(y,b){let S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const _=e.direction.getPosition(y),T=e.direction.getPosition(b),W=Math.abs(T-_),Y=e.options.hierarchical.nodeSpacing;if(W>Y){const z={},C={};a(y,z),a(b,C);const X=c(y,b),de=l(z,X),j=l(C,X),ue=de[1],_e=j[0],ye=j[2];if(Math.abs(ue-_e)>Y){let K=ue-_e+Y;K<-ye+Y&&(K=-ye+Y),K<0&&(e._shiftBlock(b.id,K),r=!0,S===!0&&e._centerParent(b))}}},h=(y,b)=>{const S=b.id,_=b.edges,T=this.hierarchical.levels[b.id],W=this.options.hierarchical.levelSeparation*this.options.hierarchical.levelSeparation,Y={},z=[];for(let ye=0;ye<_.length;ye++){const Q=_[ye];if(Q.toId!=Q.fromId){const K=Q.toId==S?Q.from:Q.to;Y[_[ye].id]=K,this.hierarchical.levels[K.id]<T&&z.push(Q)}}const C=(ye,Q)=>{let K=0;for(let le=0;le<Q.length;le++)if(Y[Q[le].id]!==void 0){const Ae=this.direction.getPosition(Y[Q[le].id])-ye;K+=Ae/Math.sqrt(Ae*Ae+W)}return K},X=(ye,Q)=>{let K=0;for(let le=0;le<Q.length;le++)if(Y[Q[le].id]!==void 0){const Ae=this.direction.getPosition(Y[Q[le].id])-ye;K-=W*Math.pow(Ae*Ae+W,-1.5)}return K},de=(ye,Q)=>{let K=this.direction.getPosition(b);const le={};for(let Ae=0;Ae<ye;Ae++){const Ge=C(K,Q),Et=X(K,Q),nt=40,So=Math.max(-nt,Math.min(nt,Math.round(Ge/Et)));if(K=K-So,le[K]!==void 0)break;le[K]=Ae}return K},j=ye=>{const Q=this.direction.getPosition(b);if(i[b.id]===void 0){const nt={};a(b,nt),i[b.id]=nt}const K=l(i[b.id]),le=K[2],Ae=K[3],Ge=ye-Q;let Et=0;Ge>0?Et=Math.min(Ge,Ae-this.options.hierarchical.nodeSpacing):Ge<0&&(Et=-Math.min(-Ge,le-this.options.hierarchical.nodeSpacing)),Et!=0&&(this._shiftBlock(b.id,Et),r=!0)},ue=ye=>{const Q=this.direction.getPosition(b),[K,le]=this._getSpaceAroundNode(b),Ae=ye-Q;let Ge=Q;Ae>0?Ge=Math.min(Q+(le-this.options.hierarchical.nodeSpacing),ye):Ae<0&&(Ge=Math.max(Q-(K-this.options.hierarchical.nodeSpacing),ye)),Ge!==Q&&(this.direction.setPosition(b,Ge),r=!0)};let _e=de(y,z);j(_e),_e=de(y,_),ue(_e)},f=y=>{let b=this.hierarchical.getLevels();b=Kn(b).call(b);for(let S=0;S<y;S++){r=!1;for(let _=0;_<b.length;_++){const T=b[_],W=this.hierarchical.distributionOrdering[T];for(let Y=0;Y<W.length;Y++)h(1e3,W[Y])}if(r!==!0)break}},p=y=>{let b=this.hierarchical.getLevels();b=Kn(b).call(b);for(let S=0;S<y&&(r=!1,d(u,b,!0),r===!0);S++);},g=()=>{for(const y in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,y)&&this._centerParent(this.body.nodes[y])},$=()=>{let y=this.hierarchical.getLevels();y=Kn(y).call(y);for(let b=0;b<y.length;b++){const S=y[b],_=this.hierarchical.distributionOrdering[S];for(let T=0;T<_.length;T++)this._centerParent(_[T])}};this.options.hierarchical.blockShifting===!0&&(p(5),g()),this.options.hierarchical.edgeMinimization===!0&&f(20),this.options.hierarchical.parentCentralization===!0&&$(),n()}_getSpaceAroundNode(e,r){let i=!0;r===void 0&&(i=!1);const n=this.hierarchical.levels[e.id];if(n!==void 0){const o=this.hierarchical.distributionIndex[e.id],s=this.direction.getPosition(e),a=this.hierarchical.distributionOrdering[n];let l=1e9,c=1e9;if(o!==0){const d=a[o-1];if(i===!0&&r[d.id]===void 0||i===!1){const u=this.direction.getPosition(d);l=s-u}}if(o!=a.length-1){const d=a[o+1];if(i===!0&&r[d.id]===void 0||i===!1){const u=this.direction.getPosition(d);c=Math.min(c,u-s)}}return[l,c]}else return[0,0]}_centerParent(e){if(this.hierarchical.parentReference[e.id]){const r=this.hierarchical.parentReference[e.id];for(let i=0;i<r.length;i++){const n=r[i],o=this.body.nodes[n],s=this.hierarchical.childrenReference[n];if(s!==void 0){const a=this._getCenterPosition(s),l=this.direction.getPosition(o),[c,d]=this._getSpaceAroundNode(o),u=l-a;(u<0&&Math.abs(u)<d-this.options.hierarchical.nodeSpacing||u>0&&Math.abs(u)<c-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(o,a)}}}}_placeNodesByHierarchy(e){this.positionedNodes={};for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var r;let n=Ze(e[i]);n=this._indexArrayToNodes(n),ns(r=this.direction).call(r,n);let o=0;for(let s=0;s<n.length;s++){const a=n[s];if(this.positionedNodes[a.id]===void 0){const l=this.options.hierarchical.nodeSpacing;let c=l*o;o>0&&(c=this.direction.getPosition(n[s-1])+l),this.direction.setPosition(a,c,i),this._validatePositionAndContinue(a,i,c),o++}}}}_placeBranchNodes(e,r){var i;const n=this.hierarchical.childrenReference[e];if(n===void 0)return;const o=[];for(let a=0;a<n.length;a++)o.push(this.body.nodes[n[a]]);ns(i=this.direction).call(i,o);for(let a=0;a<o.length;a++){const l=o[a],c=this.hierarchical.levels[l.id];if(c>r&&this.positionedNodes[l.id]===void 0){const d=this.options.hierarchical.nodeSpacing;let u;a===0?u=this.direction.getPosition(this.body.nodes[e]):u=this.direction.getPosition(o[a-1])+d,this.direction.setPosition(l,u,c),this._validatePositionAndContinue(l,c,u)}else return}const s=this._getCenterPosition(o);this.direction.setPosition(this.body.nodes[e],s,r)}_validatePositionAndContinue(e,r,i){if(this.hierarchical.isTree){if(this.lastNodeOnLevel[r]!==void 0){const n=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[r]]);if(i-n<this.options.hierarchical.nodeSpacing){const o=n+this.options.hierarchical.nodeSpacing-i,s=this._findCommonParent(this.lastNodeOnLevel[r],e.id);this._shiftBlock(s.withChild,o)}}this.lastNodeOnLevel[r]=e.id,this.positionedNodes[e.id]=!0,this._placeBranchNodes(e.id,r)}}_indexArrayToNodes(e){const r=[];for(let i=0;i<e.length;i++)r.push(this.body.nodes[e[i]]);return r}_getDistribution(){const e={};let r,i;for(r in this.body.nodes)if(Object.prototype.hasOwnProperty.call(this.body.nodes,r)){i=this.body.nodes[r];const n=this.hierarchical.levels[r]===void 0?0:this.hierarchical.levels[r];this.direction.fix(i,n),e[n]===void 0&&(e[n]={}),e[n][r]=i}return e}_getActiveEdges(e){const r=[];return me(e.edges,i=>{var n;ke(n=this.body.edgeIndices).call(n,i.id)!==-1&&r.push(i)}),r}_getHubSizes(){const e={},r=this.body.nodeIndices;me(r,n=>{const o=this.body.nodes[n],s=this._getActiveEdges(o).length;e[s]=!0});const i=[];return me(e,n=>{i.push(Number(n))}),ns(i).call(i,function(n,o){return o-n}),i}_determineLevelsByHubsize(){const e=(i,n)=>{this.hierarchical.levelDownstream(i,n)},r=this._getHubSizes();for(let i=0;i<r.length;++i){const n=r[i];if(n===0)break;me(this.body.nodeIndices,o=>{const s=this.body.nodes[o];n===this._getActiveEdges(s).length&&this._crawlNetwork(e,o)})}}_determineLevelsCustomCallback(){const r=function(n,o,s){},i=(n,o,s)=>{let a=this.hierarchical.levels[n.id];a===void 0&&(a=this.hierarchical.levels[n.id]=1e5);const l=r(Ht.cloneOptions(n,"node"),Ht.cloneOptions(o,"node"),Ht.cloneOptions(s,"edge"));this.hierarchical.levels[o.id]=a+l};this._crawlNetwork(i),this.hierarchical.setMinLevelToZero()}_determineLevelsDirected(){var e;const r=Ak(e=this.body.nodeIndices).call(e,(i,n)=>(i.set(n,this.body.nodes[n]),i),new zm);this.options.hierarchical.shakeTowards==="roots"?this.hierarchical.levels=Bye(r):this.hierarchical.levels=Fye(r),this.hierarchical.setMinLevelToZero()}_generateMap(){const e=(r,i)=>{this.hierarchical.levels[i.id]>this.hierarchical.levels[r.id]&&this.hierarchical.addRelation(r.id,i.id)};this._crawlNetwork(e),this.hierarchical.checkIfTree()}_crawlNetwork(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){},r=arguments.length>1?arguments[1]:void 0;const i={},n=(o,s)=>{if(i[o.id]===void 0){this.hierarchical.setTreeIndex(o,s),i[o.id]=!0;let a;const l=this._getActiveEdges(o);for(let c=0;c<l.length;c++){const d=l[c];d.connected===!0&&(d.toId==o.id?a=d.from:a=d.to,o.id!=a.id&&(e(o,a,d),n(a,s)))}}};if(r===void 0){let o=0;for(let s=0;s<this.body.nodeIndices.length;s++){const a=this.body.nodeIndices[s];if(i[a]===void 0){const l=this.body.nodes[a];n(l,o),o+=1}}}else{const o=this.body.nodes[r];if(o===void 0){console.error("Node not found:",r);return}n(o)}}_shiftBlock(e,r){const i={},n=o=>{if(i[o])return;i[o]=!0,this.direction.shift(o,r);const s=this.hierarchical.childrenReference[o];if(s!==void 0)for(let a=0;a<s.length;a++)n(s[a])};n(e)}_findCommonParent(e,r){const i={},n=(s,a)=>{const l=this.hierarchical.parentReference[a];if(l!==void 0)for(let c=0;c<l.length;c++){const d=l[c];s[d]=!0,n(s,d)}},o=(s,a)=>{const l=this.hierarchical.parentReference[a];if(l!==void 0)for(let c=0;c<l.length;c++){const d=l[c];if(s[d]!==void 0)return{foundParent:d,withChild:a};const u=o(s,d);if(u.foundParent!==null)return u}return{foundParent:null,withChild:a}};return n(i,e),o(i,r)}setDirectionStrategy(){this.options.hierarchical.direction==="UD"||this.options.hierarchical.direction==="DU"?this.direction=new _ye(this):this.direction=new Sye(this)}_getCenterPosition(e){let r=1e9,i=-1e9;for(let n=0;n<e.length;n++){let o;if(e[n].id!==void 0)o=e[n];else{const a=e[n];o=this.body.nodes[a]}const s=this.direction.getPosition(o);r=Math.min(r,s),i=Math.max(i,s)}return .5*(r+i)}}class zye{constructor(e,r,i,n){var o,s;this.body=e,this.canvas=r,this.selectionHandler=i,this.interactionHandler=n,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this._domEventListenerCleanupQueue=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},ht(this.options,this.defaultOptions),this.body.emitter.on("destroy",()=>{this._clean()}),this.body.emitter.on("_dataChanged",M(o=this._restore).call(o,this)),this.body.emitter.on("_resetData",M(s=this._restore).call(s,this))}_restore(){this.inMode!==!1&&(this.options.initiallyActive===!0?this.enableEditMode():this.disableEditMode())}setOptions(e,r,i){r!==void 0&&(r.locale!==void 0?this.options.locale=r.locale:this.options.locale=i.locale,r.locales!==void 0?this.options.locales=r.locales:this.options.locales=i.locales),e!==void 0&&(typeof e=="boolean"?this.options.enabled=e:(this.options.enabled=!0,Be(this.options,e)),this.options.initiallyActive===!0&&(this.editMode=!0),this._setup())}toggleEditMode(){this.editMode===!0?this.disableEditMode():this.enableEditMode()}enableEditMode(){this.editMode=!0,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}disableEditMode(){this.editMode=!1,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}showManipulatorToolbar(){if(this._clean(),this.manipulationDOM={},this.guiEnabled===!0){var e,r;this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";const i=this.selectionHandler.getSelectedNodeCount(),n=this.selectionHandler.getSelectedEdgeCount(),o=i+n,s=this.options.locales[this.options.locale];let a=!1;this.options.addNode!==!1&&(this._createAddNodeButton(s),a=!0),this.options.addEdge!==!1&&(a===!0?this._createSeperator(1):a=!0,this._createAddEdgeButton(s)),i===1&&typeof this.options.editNode=="function"?(a===!0?this._createSeperator(2):a=!0,this._createEditNodeButton(s)):n===1&&i===0&&this.options.editEdge!==!1&&(a===!0?this._createSeperator(3):a=!0,this._createEditEdgeButton(s)),o!==0&&(i>0&&this.options.deleteNode!==!1?(a===!0&&this._createSeperator(4),this._createDeleteButton(s)):i===0&&this.options.deleteEdge!==!1&&(a===!0&&this._createSeperator(4),this._createDeleteButton(s))),this._bindElementEvents(this.closeDiv,M(e=this.toggleEditMode).call(e,this)),this._temporaryBindEvent("select",M(r=this.showManipulatorToolbar).call(r,this))}this.body.emitter.emit("_redraw")}addNodeMode(){var e;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addNode",this.guiEnabled===!0){var r;const i=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(i),this._createSeperator(),this._createDescription(i.addDescription||this.options.locales.en.addDescription),this._bindElementEvents(this.closeDiv,M(r=this.toggleEditMode).call(r,this))}this._temporaryBindEvent("click",M(e=this._performAddNode).call(e,this))}editNode(){this.editMode!==!0&&this.enableEditMode(),this._clean();const e=this.selectionHandler.getSelectedNodes()[0];if(e!==void 0)if(this.inMode="editNode",typeof this.options.editNode=="function")if(e.isCluster!==!0){const r=Be({},e.options,!1);if(r.x=e.x,r.y=e.y,this.options.editNode.length===2)this.options.editNode(r,i=>{i!=null&&this.inMode==="editNode"&&this.body.data.nodes.getDataSet().update(i),this.showManipulatorToolbar()});else throw new Error("The function for edit does not support two arguments (data, callback)")}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError);else throw new Error("No function has been configured to handle the editing of nodes.");else this.showManipulatorToolbar()}addEdgeMode(){var e,r,i,n,o;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addEdge",this.guiEnabled===!0){var s;const a=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(a),this._createSeperator(),this._createDescription(a.edgeDescription||this.options.locales.en.edgeDescription),this._bindElementEvents(this.closeDiv,M(s=this.toggleEditMode).call(s,this))}this._temporaryBindUI("onTouch",M(e=this._handleConnect).call(e,this)),this._temporaryBindUI("onDragEnd",M(r=this._finishConnect).call(r,this)),this._temporaryBindUI("onDrag",M(i=this._dragControlNode).call(i,this)),this._temporaryBindUI("onRelease",M(n=this._finishConnect).call(n,this)),this._temporaryBindUI("onDragStart",M(o=this._dragStartEdge).call(o,this)),this._temporaryBindUI("onHold",()=>{})}editEdgeMode(){if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="editEdge",typeof this.options.editEdge=="object"&&typeof this.options.editEdge.editWithoutDrag=="function"&&(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0)){const s=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(s.from.id,s.to.id);return}if(this.guiEnabled===!0){var e;const s=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(s),this._createSeperator(),this._createDescription(s.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindElementEvents(this.closeDiv,M(e=this.toggleEditMode).call(e,this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0){var r,i,n,o;const s=this.body.edges[this.edgeBeingEditedId],a=this._getNewTargetNode(s.from.x,s.from.y),l=this._getNewTargetNode(s.to.x,s.to.y);this.temporaryIds.nodes.push(a.id),this.temporaryIds.nodes.push(l.id),this.body.nodes[a.id]=a,this.body.nodeIndices.push(a.id),this.body.nodes[l.id]=l,this.body.nodeIndices.push(l.id),this._temporaryBindUI("onTouch",M(r=this._controlNodeTouch).call(r,this)),this._temporaryBindUI("onTap",()=>{}),this._temporaryBindUI("onHold",()=>{}),this._temporaryBindUI("onDragStart",M(i=this._controlNodeDragStart).call(i,this)),this._temporaryBindUI("onDrag",M(n=this._controlNodeDrag).call(n,this)),this._temporaryBindUI("onDragEnd",M(o=this._controlNodeDragEnd).call(o,this)),this._temporaryBindUI("onMouseMove",()=>{}),this._temporaryBindEvent("beforeDrawing",c=>{const d=s.edgeType.findBorderPositions(c);a.selected===!1&&(a.x=d.from.x,a.y=d.from.y),l.selected===!1&&(l.x=d.to.x,l.y=d.to.y)}),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}deleteSelected(){this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="delete";const e=this.selectionHandler.getSelectedNodeIds(),r=this.selectionHandler.getSelectedEdgeIds();let i;if(e.length>0){for(let n=0;n<e.length;n++)if(this.body.nodes[e[n]].isCluster===!0){alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);return}typeof this.options.deleteNode=="function"&&(i=this.options.deleteNode)}else r.length>0&&typeof this.options.deleteEdge=="function"&&(i=this.options.deleteEdge);if(typeof i=="function"){const n={nodes:e,edges:r};if(i.length===2)i(n,o=>{o!=null&&this.inMode==="delete"?(this.body.data.edges.getDataSet().remove(o.edges),this.body.data.nodes.getDataSet().remove(o.nodes),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()):(this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar())});else throw new Error("The function for delete does not support two arguments (data, callback)")}else this.body.data.edges.getDataSet().remove(r),this.body.data.nodes.getDataSet().remove(e),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}_setup(){this.options.enabled===!0?(this.guiEnabled=!0,this._createWrappers(),this.editMode===!1?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}_createWrappers(){if(this.manipulationDiv===void 0&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",this.editMode===!0?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.canvas.frame.appendChild(this.manipulationDiv)),this.editModeDiv===void 0&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",this.editMode===!0?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.canvas.frame.appendChild(this.editModeDiv)),this.closeDiv===void 0){var e,r;this.closeDiv=document.createElement("button"),this.closeDiv.className="vis-close",this.closeDiv.setAttribute("aria-label",(e=(r=this.options.locales[this.options.locale])===null||r===void 0?void 0:r.close)!==null&&e!==void 0?e:this.options.locales.en.close),this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv)}}_getNewTargetNode(e,r){const i=Be({},this.options.controlNodeStyle);i.id="targetNode"+Ea(),i.hidden=!1,i.physics=!1,i.x=e,i.y=r;const n=this.body.functions.createNode(i);return n.shape.boundingBox={left:e,right:e,top:r,bottom:r},n}_createEditButton(){var e;this._clean(),this.manipulationDOM={},Yi(this.editModeDiv);const r=this.options.locales[this.options.locale],i=this._createButton("editMode","vis-edit vis-edit-mode",r.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(i),this._bindElementEvents(i,M(e=this.toggleEditMode).call(e,this))}_clean(){this.inMode=!1,this.guiEnabled===!0&&(Yi(this.editModeDiv),Yi(this.manipulationDiv),this._cleanupDOMEventListeners()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}_cleanupDOMEventListeners(){for(const r of wi(e=this._domEventListenerCleanupQueue).call(e,0)){var e;r()}}_removeManipulationDOM(){this._clean(),Yi(this.manipulationDiv),Yi(this.editModeDiv),Yi(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}_createSeperator(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+e]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+e].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+e])}_createAddNodeButton(e){var r;const i=this._createButton("addNode","vis-add",e.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,M(r=this.addNodeMode).call(r,this))}_createAddEdgeButton(e){var r;const i=this._createButton("addEdge","vis-connect",e.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,M(r=this.addEdgeMode).call(r,this))}_createEditNodeButton(e){var r;const i=this._createButton("editNode","vis-edit",e.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,M(r=this.editNode).call(r,this))}_createEditEdgeButton(e){var r;const i=this._createButton("editEdge","vis-edit",e.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,M(r=this.editEdgeMode).call(r,this))}_createDeleteButton(e){var r;let i;this.options.rtl?i="vis-delete-rtl":i="vis-delete";const n=this._createButton("delete",i,e.del||this.options.locales.en.del);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,M(r=this.deleteSelected).call(r,this))}_createBackButton(e){var r;const i=this._createButton("back","vis-back",e.back||this.options.locales.en.back);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,M(r=this.showManipulatorToolbar).call(r,this))}_createButton(e,r,i){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"vis-label";return this.manipulationDOM[e+"Div"]=document.createElement("button"),this.manipulationDOM[e+"Div"].className="vis-button "+r,this.manipulationDOM[e+"Label"]=document.createElement("div"),this.manipulationDOM[e+"Label"].className=n,this.manipulationDOM[e+"Label"].innerText=i,this.manipulationDOM[e+"Div"].appendChild(this.manipulationDOM[e+"Label"]),this.manipulationDOM[e+"Div"]}_createDescription(e){this.manipulationDOM.descriptionLabel=document.createElement("div"),this.manipulationDOM.descriptionLabel.className="vis-none",this.manipulationDOM.descriptionLabel.innerText=e,this.manipulationDiv.appendChild(this.manipulationDOM.descriptionLabel)}_temporaryBindEvent(e,r){this.temporaryEventFunctions.push({event:e,boundFunction:r}),this.body.emitter.on(e,r)}_temporaryBindUI(e,r){if(this.body.eventListeners[e]!==void 0)this.temporaryUIFunctions[e]=this.body.eventListeners[e],this.body.eventListeners[e]=r;else throw new Error("This UI function does not exist. Typo? You tried: "+e+" possible are: "+Hl(Ze(this.body.eventListeners)))}_unbindTemporaryUIs(){for(const e in this.temporaryUIFunctions)Object.prototype.hasOwnProperty.call(this.temporaryUIFunctions,e)&&(this.body.eventListeners[e]=this.temporaryUIFunctions[e],delete this.temporaryUIFunctions[e]);this.temporaryUIFunctions={}}_unbindTemporaryEvents(){for(let e=0;e<this.temporaryEventFunctions.length;e++){const r=this.temporaryEventFunctions[e].event,i=this.temporaryEventFunctions[e].boundFunction;this.body.emitter.off(r,i)}this.temporaryEventFunctions=[]}_bindElementEvents(e,r){const i=new rs(e,{});Hd(i,r),this._domEventListenerCleanupQueue.push(()=>{i.destroy()});const n=o=>{let{keyCode:s,key:a}=o;(a==="Enter"||a===" "||s===13||s===32)&&r()};e.addEventListener("keyup",n,!1),this._domEventListenerCleanupQueue.push(()=>{e.removeEventListener("keyup",n,!1)})}_cleanupTemporaryNodesAndEdges(){for(let o=0;o<this.temporaryIds.edges.length;o++){var e;this.body.edges[this.temporaryIds.edges[o]].disconnect(),delete this.body.edges[this.temporaryIds.edges[o]];const s=ke(e=this.body.edgeIndices).call(e,this.temporaryIds.edges[o]);if(s!==-1){var r;wi(r=this.body.edgeIndices).call(r,s,1)}}for(let o=0;o<this.temporaryIds.nodes.length;o++){var i;delete this.body.nodes[this.temporaryIds.nodes[o]];const s=ke(i=this.body.nodeIndices).call(i,this.temporaryIds.nodes[o]);if(s!==-1){var n;wi(n=this.body.nodeIndices).call(n,s,1)}}this.temporaryIds={nodes:[],edges:[]}}_controlNodeTouch(e){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=ht({},this.body.view.translation)}_controlNodeDragStart(){const e=this.lastTouch,r=this.selectionHandler._pointerToPositionObject(e),i=this.body.nodes[this.temporaryIds.nodes[0]],n=this.body.nodes[this.temporaryIds.nodes[1]],o=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;const s=i.isOverlappingWith(r),a=n.isOverlappingWith(r);s===!0?(this.selectedControlNode=i,o.edgeType.from=i):a===!0&&(this.selectedControlNode=n,o.edgeType.to=n),this.selectedControlNode!==void 0&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}_controlNodeDrag(e){this.body.emitter.emit("disablePhysics");const r=this.body.functions.getPointer(e.center),i=this.canvas.DOMtoCanvas(r);this.selectedControlNode!==void 0?(this.selectedControlNode.x=i.x,this.selectedControlNode.y=i.y):this.interactionHandler.onDrag(e),this.body.emitter.emit("_redraw")}_controlNodeDragEnd(e){const r=this.body.functions.getPointer(e.center),i=this.selectionHandler._pointerToPositionObject(r),n=this.body.edges[this.edgeBeingEditedId];if(this.selectedControlNode===void 0)return;this.selectionHandler.unselectAll();const o=this.selectionHandler._getAllNodesOverlappingWith(i);let s;for(let a=o.length-1;a>=0;a--)if(o[a]!==this.selectedControlNode.id){s=this.body.nodes[o[a]];break}if(s!==void 0&&this.selectedControlNode!==void 0)if(s.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{const a=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===a.id?this._performEditEdge(s.id,n.to.id):this._performEditEdge(n.from.id,s.id)}else n.updateEdgeType(),this.body.emitter.emit("restorePhysics");this.body.emitter.emit("_redraw")}_handleConnect(e){if(new Date().valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=ht({},this.body.view.translation),this.interactionHandler.drag.pointer=this.lastTouch,this.interactionHandler.drag.translation=this.lastTouch.translation;const r=this.lastTouch,i=this.selectionHandler.getNodeAt(r);if(i!==void 0)if(i.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{const n=this._getNewTargetNode(i.x,i.y);this.body.nodes[n.id]=n,this.body.nodeIndices.push(n.id);const o=this.body.functions.createEdge({id:"connectionEdge"+Ea(),from:i.id,to:n.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[o.id]=o,this.body.edgeIndices.push(o.id),this.temporaryIds.nodes.push(n.id),this.temporaryIds.edges.push(o.id)}this.touchTime=new Date().valueOf()}}_dragControlNode(e){const r=this.body.functions.getPointer(e.center),i=this.selectionHandler._pointerToPositionObject(r);let n;this.temporaryIds.edges[0]!==void 0&&(n=this.body.edges[this.temporaryIds.edges[0]].fromId);const o=this.selectionHandler._getAllNodesOverlappingWith(i);let s;for(let l=o.length-1;l>=0;l--){var a;if(ke(a=this.temporaryIds.nodes).call(a,o[l])===-1){s=this.body.nodes[o[l]];break}}if(e.controlEdge={from:n,to:s?s.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragging",e,r),this.temporaryIds.nodes[0]!==void 0){const l=this.body.nodes[this.temporaryIds.nodes[0]];l.x=this.canvas._XconvertDOMtoCanvas(r.x),l.y=this.canvas._YconvertDOMtoCanvas(r.y),this.body.emitter.emit("_redraw")}else this.interactionHandler.onDrag(e)}_finishConnect(e){const r=this.body.functions.getPointer(e.center),i=this.selectionHandler._pointerToPositionObject(r);let n;this.temporaryIds.edges[0]!==void 0&&(n=this.body.edges[this.temporaryIds.edges[0]].fromId);const o=this.selectionHandler._getAllNodesOverlappingWith(i);let s;for(let l=o.length-1;l>=0;l--){var a;if(ke(a=this.temporaryIds.nodes).call(a,o[l])===-1){s=this.body.nodes[o[l]];break}}this._cleanupTemporaryNodesAndEdges(),s!==void 0&&(s.isCluster===!0?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):this.body.nodes[n]!==void 0&&this.body.nodes[s.id]!==void 0&&this._performAddEdge(n,s.id)),e.controlEdge={from:n,to:s?s.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragEnd",e,r),this.body.emitter.emit("_redraw")}_dragStartEdge(e){const r=this.lastTouch;this.selectionHandler.generateClickEvent("dragStart",e,r,void 0,!0)}_performAddNode(e){const r={id:Ea(),x:e.pointer.canvas.x,y:e.pointer.canvas.y,label:"new"};if(typeof this.options.addNode=="function")if(this.options.addNode.length===2)this.options.addNode(r,i=>{i!=null&&this.inMode==="addNode"&&this.body.data.nodes.getDataSet().add(i),this.showManipulatorToolbar()});else throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");else this.body.data.nodes.getDataSet().add(r),this.showManipulatorToolbar()}_performAddEdge(e,r){const i={from:e,to:r};if(typeof this.options.addEdge=="function")if(this.options.addEdge.length===2)this.options.addEdge(i,n=>{n!=null&&this.inMode==="addEdge"&&(this.body.data.edges.getDataSet().add(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar())});else throw new Error("The function for connect does not support two arguments (data,callback)");else this.body.data.edges.getDataSet().add(i),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}_performEditEdge(e,r){const i={id:this.edgeBeingEditedId,from:e,to:r,label:this.body.data.edges.get(this.edgeBeingEditedId).label};let n=this.options.editEdge;if(typeof n=="object"&&(n=n.editWithoutDrag),typeof n=="function")if(n.length===2)n(i,o=>{o==null||this.inMode!=="editEdge"?(this.body.edges[i.id].updateEdgeType(),this.body.emitter.emit("_redraw"),this.showManipulatorToolbar()):(this.body.data.edges.getDataSet().update(o),this.selectionHandler.unselectAll(),this.showManipulatorToolbar())});else throw new Error("The function for edit does not support two arguments (data, callback)");else this.body.data.edges.getDataSet().update(i),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}const L="string",D="boolean",E="number",sa="array",ee="object",Nk="dom",Hye="any",Op=["arrow","bar","box","circle","crow","curve","diamond","image","inv_curve","inv_triangle","triangle","vee"],xp={borderWidth:{number:E},borderWidthSelected:{number:E,undefined:"undefined"},brokenImage:{string:L,undefined:"undefined"},chosen:{label:{boolean:D,function:"function"},node:{boolean:D,function:"function"},__type__:{object:ee,boolean:D}},color:{border:{string:L},background:{string:L},highlight:{border:{string:L},background:{string:L},__type__:{object:ee,string:L}},hover:{border:{string:L},background:{string:L},__type__:{object:ee,string:L}},__type__:{object:ee,string:L}},opacity:{number:E,undefined:"undefined"},fixed:{x:{boolean:D},y:{boolean:D},__type__:{object:ee,boolean:D}},font:{align:{string:L},color:{string:L},size:{number:E},face:{string:L},background:{string:L},strokeWidth:{number:E},strokeColor:{string:L},vadjust:{number:E},multi:{boolean:D,string:L},bold:{color:{string:L},size:{number:E},face:{string:L},mod:{string:L},vadjust:{number:E},__type__:{object:ee,string:L}},boldital:{color:{string:L},size:{number:E},face:{string:L},mod:{string:L},vadjust:{number:E},__type__:{object:ee,string:L}},ital:{color:{string:L},size:{number:E},face:{string:L},mod:{string:L},vadjust:{number:E},__type__:{object:ee,string:L}},mono:{color:{string:L},size:{number:E},face:{string:L},mod:{string:L},vadjust:{number:E},__type__:{object:ee,string:L}},__type__:{object:ee,string:L}},group:{string:L,number:E,undefined:"undefined"},heightConstraint:{minimum:{number:E},valign:{string:L},__type__:{object:ee,boolean:D,number:E}},hidden:{boolean:D},icon:{face:{string:L},code:{string:L},size:{number:E},color:{string:L},weight:{string:L,number:E},__type__:{object:ee}},id:{string:L,number:E},image:{selected:{string:L,undefined:"undefined"},unselected:{string:L,undefined:"undefined"},__type__:{object:ee,string:L}},imagePadding:{top:{number:E},right:{number:E},bottom:{number:E},left:{number:E},__type__:{object:ee,number:E}},label:{string:L,undefined:"undefined"},labelHighlightBold:{boolean:D},level:{number:E,undefined:"undefined"},margin:{top:{number:E},right:{number:E},bottom:{number:E},left:{number:E},__type__:{object:ee,number:E}},mass:{number:E},physics:{boolean:D},scaling:{min:{number:E},max:{number:E},label:{enabled:{boolean:D},min:{number:E},max:{number:E},maxVisible:{number:E},drawThreshold:{number:E},__type__:{object:ee,boolean:D}},customScalingFunction:{function:"function"},__type__:{object:ee}},shadow:{enabled:{boolean:D},color:{string:L},size:{number:E},x:{number:E},y:{number:E},__type__:{object:ee,boolean:D}},shape:{string:["custom","ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},ctxRenderer:{function:"function"},shapeProperties:{borderDashes:{boolean:D,array:sa},borderRadius:{number:E},interpolation:{boolean:D},useImageSize:{boolean:D},useBorderWithImage:{boolean:D},coordinateOrigin:{string:["center","top-left"]},__type__:{object:ee}},size:{number:E},title:{string:L,dom:Nk,undefined:"undefined"},value:{number:E,undefined:"undefined"},widthConstraint:{minimum:{number:E},maximum:{number:E},__type__:{object:ee,boolean:D,number:E}},x:{number:E},y:{number:E},__type__:{object:ee}},Wye={configure:{enabled:{boolean:D},filter:{boolean:D,string:L,array:sa,function:"function"},container:{dom:Nk},showButton:{boolean:D},__type__:{object:ee,boolean:D,string:L,array:sa,function:"function"}},edges:{arrows:{to:{enabled:{boolean:D},scaleFactor:{number:E},type:{string:Op},imageHeight:{number:E},imageWidth:{number:E},src:{string:L},__type__:{object:ee,boolean:D}},middle:{enabled:{boolean:D},scaleFactor:{number:E},type:{string:Op},imageWidth:{number:E},imageHeight:{number:E},src:{string:L},__type__:{object:ee,boolean:D}},from:{enabled:{boolean:D},scaleFactor:{number:E},type:{string:Op},imageWidth:{number:E},imageHeight:{number:E},src:{string:L},__type__:{object:ee,boolean:D}},__type__:{string:["from","to","middle"],object:ee}},endPointOffset:{from:{number:E},to:{number:E},__type__:{object:ee,number:E}},arrowStrikethrough:{boolean:D},background:{enabled:{boolean:D},color:{string:L},size:{number:E},dashes:{boolean:D,array:sa},__type__:{object:ee,boolean:D}},chosen:{label:{boolean:D,function:"function"},edge:{boolean:D,function:"function"},__type__:{object:ee,boolean:D}},color:{color:{string:L},highlight:{string:L},hover:{string:L},inherit:{string:["from","to","both"],boolean:D},opacity:{number:E},__type__:{object:ee,string:L}},dashes:{boolean:D,array:sa},font:{color:{string:L},size:{number:E},face:{string:L},background:{string:L},strokeWidth:{number:E},strokeColor:{string:L},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:E},multi:{boolean:D,string:L},bold:{color:{string:L},size:{number:E},face:{string:L},mod:{string:L},vadjust:{number:E},__type__:{object:ee,string:L}},boldital:{color:{string:L},size:{number:E},face:{string:L},mod:{string:L},vadjust:{number:E},__type__:{object:ee,string:L}},ital:{color:{string:L},size:{number:E},face:{string:L},mod:{string:L},vadjust:{number:E},__type__:{object:ee,string:L}},mono:{color:{string:L},size:{number:E},face:{string:L},mod:{string:L},vadjust:{number:E},__type__:{object:ee,string:L}},__type__:{object:ee,string:L}},hidden:{boolean:D},hoverWidth:{function:"function",number:E},label:{string:L,undefined:"undefined"},labelHighlightBold:{boolean:D},length:{number:E,undefined:"undefined"},physics:{boolean:D},scaling:{min:{number:E},max:{number:E},label:{enabled:{boolean:D},min:{number:E},max:{number:E},maxVisible:{number:E},drawThreshold:{number:E},__type__:{object:ee,boolean:D}},customScalingFunction:{function:"function"},__type__:{object:ee}},selectionWidth:{function:"function",number:E},selfReferenceSize:{number:E},selfReference:{size:{number:E},angle:{number:E},renderBehindTheNode:{boolean:D},__type__:{object:ee}},shadow:{enabled:{boolean:D},color:{string:L},size:{number:E},x:{number:E},y:{number:E},__type__:{object:ee,boolean:D}},smooth:{enabled:{boolean:D},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:E},forceDirection:{string:["horizontal","vertical","none"],boolean:D},__type__:{object:ee,boolean:D}},title:{string:L,undefined:"undefined"},width:{number:E},widthConstraint:{maximum:{number:E},__type__:{object:ee,boolean:D,number:E}},value:{number:E,undefined:"undefined"},__type__:{object:ee}},groups:{useDefaultGroups:{boolean:D},__any__:xp,__type__:{object:ee}},interaction:{dragNodes:{boolean:D},dragView:{boolean:D},hideEdgesOnDrag:{boolean:D},hideEdgesOnZoom:{boolean:D},hideNodesOnDrag:{boolean:D},hover:{boolean:D},keyboard:{enabled:{boolean:D},speed:{x:{number:E},y:{number:E},zoom:{number:E},__type__:{object:ee}},bindToWindow:{boolean:D},autoFocus:{boolean:D},__type__:{object:ee,boolean:D}},multiselect:{boolean:D},navigationButtons:{boolean:D},selectable:{boolean:D},selectConnectedEdges:{boolean:D},hoverConnectedEdges:{boolean:D},tooltipDelay:{number:E},zoomView:{boolean:D},zoomSpeed:{number:E},__type__:{object:ee}},layout:{randomSeed:{undefined:"undefined",number:E,string:L},improvedLayout:{boolean:D},clusterThreshold:{number:E},hierarchical:{enabled:{boolean:D},levelSeparation:{number:E},nodeSpacing:{number:E},treeSpacing:{number:E},blockShifting:{boolean:D},edgeMinimization:{boolean:D},parentCentralization:{boolean:D},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},shakeTowards:{string:["leaves","roots"]},__type__:{object:ee,boolean:D}},__type__:{object:ee}},manipulation:{enabled:{boolean:D},initiallyActive:{boolean:D},addNode:{boolean:D,function:"function"},addEdge:{boolean:D,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:ee,boolean:D,function:"function"}},deleteNode:{boolean:D,function:"function"},deleteEdge:{boolean:D,function:"function"},controlNodeStyle:xp,__type__:{object:ee,boolean:D}},nodes:xp,physics:{enabled:{boolean:D},barnesHut:{theta:{number:E},gravitationalConstant:{number:E},centralGravity:{number:E},springLength:{number:E},springConstant:{number:E},damping:{number:E},avoidOverlap:{number:E},__type__:{object:ee}},forceAtlas2Based:{theta:{number:E},gravitationalConstant:{number:E},centralGravity:{number:E},springLength:{number:E},springConstant:{number:E},damping:{number:E},avoidOverlap:{number:E},__type__:{object:ee}},repulsion:{centralGravity:{number:E},springLength:{number:E},springConstant:{number:E},nodeDistance:{number:E},damping:{number:E},__type__:{object:ee}},hierarchicalRepulsion:{centralGravity:{number:E},springLength:{number:E},springConstant:{number:E},nodeDistance:{number:E},damping:{number:E},avoidOverlap:{number:E},__type__:{object:ee}},maxVelocity:{number:E},minVelocity:{number:E},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:D},iterations:{number:E},updateInterval:{number:E},onlyDynamicEdges:{boolean:D},fit:{boolean:D},__type__:{object:ee,boolean:D}},timestep:{number:E},adaptiveTimestep:{boolean:D},wind:{x:{number:E},y:{number:E},__type__:{object:ee}},__type__:{object:ee,boolean:D}},autoResize:{boolean:D},clickToUse:{boolean:D},locale:{string:L},locales:{__any__:{any:Hye},__type__:{object:ee}},height:{string:L},width:{string:L},__type__:{object:ee}},Fk={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},opacity:[0,0,1,.1],fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},endPointOffset:{from:[0,-10,10,1],to:[0,-10,10,1]},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],selfReference:{size:[20,0,200,1],angle:[Math.PI/2,-6*Math.PI,6*Math.PI,Math.PI/8],renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"],shakeTowards:["leaves","roots"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0,autoFocus:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0,zoomSpeed:[1,.1,2,.1]},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{theta:[.5,.1,1,.05],gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{theta:[.5,.1,1,.05],gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01],wind:{x:[0,-10,10,.1],y:[0,-10,10,.1]}}},Vye=(t,e,r)=>{var i;return!!(sn(t).call(t,"physics")&&sn(i=Fk.physics.solver).call(i,e)&&r.physics.solver!==e&&e!=="wind")};class Uye{constructor(){}getDistances(e,r,i){const n={},o=e.edges;for(let a=0;a<r.length;a++){const l=r[a],c={};n[l]=c;for(let d=0;d<r.length;d++)c[r[d]]=a==d?0:1e9}for(let a=0;a<i.length;a++){const l=o[i[a]];l.connected===!0&&n[l.fromId]!==void 0&&n[l.toId]!==void 0&&(n[l.fromId][l.toId]=1,n[l.toId][l.fromId]=1)}const s=r.length;for(let a=0;a<s;a++){const l=r[a],c=n[l];for(let d=0;d<s-1;d++){const u=r[d],h=n[u];for(let f=d+1;f<s;f++){const p=r[f],g=n[p],$=Math.min(h[p],h[l]+c[p]);h[p]=$,g[u]=$}}}return n}}class Yye{constructor(e,r,i){this.body=e,this.springLength=r,this.springConstant=i,this.distanceSolver=new Uye}setOptions(e){e&&(e.springLength&&(this.springLength=e.springLength),e.springConstant&&(this.springConstant=e.springConstant))}solve(e,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const n=this.distanceSolver.getDistances(this.body,e,r);this._createL_matrix(n),this._createK_matrix(n),this._createE_matrix();const o=.01,s=1;let a=0;const l=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),c=5;let d=1e9,u=0,h=0,f=0,p=0,g=0;for(;d>o&&a<l;)for(a+=1,[u,d,h,f]=this._getHighestEnergyNode(i),p=d,g=0;p>s&&g<c;)g+=1,this._moveNode(u,h,f),[p,h,f]=this._getEnergy(u)}_getHighestEnergyNode(e){const r=this.body.nodeIndices,i=this.body.nodes;let n=0,o=r[0],s=0,a=0;for(let l=0;l<r.length;l++){const c=r[l];if(i[c].predefinedPosition!==!0||i[c].isCluster===!0&&e===!0||i[c].options.fixed.x!==!0||i[c].options.fixed.y!==!0){const[d,u,h]=this._getEnergy(c);n<d&&(n=d,o=c,s=u,a=h)}}return[o,n,s,a]}_getEnergy(e){const[r,i]=this.E_sums[e];return[Math.sqrt(r**2+i**2),r,i]}_moveNode(e,r,i){const n=this.body.nodeIndices,o=this.body.nodes;let s=0,a=0,l=0;const c=o[e].x,d=o[e].y,u=this.K_matrix[e],h=this.L_matrix[e];for(let _=0;_<n.length;_++){const T=n[_];if(T!==e){const W=o[T].x,Y=o[T].y,z=u[T],C=h[T],X=1/((c-W)**2+(d-Y)**2)**1.5;s+=z*(1-C*(d-Y)**2*X),a+=z*(C*(c-W)*(d-Y)*X),l+=z*(1-C*(c-W)**2*X)}}const f=s,p=a,g=r,$=l,y=i,b=(g/f+y/p)/(p/f-$/p),S=-(p*b+g)/f;o[e].x+=S,o[e].y+=b,this._updateE_matrix(e)}_createL_matrix(e){const r=this.body.nodeIndices,i=this.springLength;this.L_matrix=[];for(let n=0;n<r.length;n++){this.L_matrix[r[n]]={};for(let o=0;o<r.length;o++)this.L_matrix[r[n]][r[o]]=i*e[r[n]][r[o]]}}_createK_matrix(e){const r=this.body.nodeIndices,i=this.springConstant;this.K_matrix=[];for(let n=0;n<r.length;n++){this.K_matrix[r[n]]={};for(let o=0;o<r.length;o++)this.K_matrix[r[n]][r[o]]=i*e[r[n]][r[o]]**-2}}_createE_matrix(){const e=this.body.nodeIndices,r=this.body.nodes;this.E_matrix={},this.E_sums={};for(let i=0;i<e.length;i++)this.E_matrix[e[i]]=[];for(let i=0;i<e.length;i++){const n=e[i],o=r[n].x,s=r[n].y;let a=0,l=0;for(let c=i;c<e.length;c++){const d=e[c];if(d!==n){const u=r[d].x,h=r[d].y,f=1/Math.sqrt((o-u)**2+(s-h)**2);this.E_matrix[n][c]=[this.K_matrix[n][d]*(o-u-this.L_matrix[n][d]*(o-u)*f),this.K_matrix[n][d]*(s-h-this.L_matrix[n][d]*(s-h)*f)],this.E_matrix[d][i]=this.E_matrix[n][c],a+=this.E_matrix[n][c][0],l+=this.E_matrix[n][c][1]}}this.E_sums[n]=[a,l]}}_updateE_matrix(e){const r=this.body.nodeIndices,i=this.body.nodes,n=this.E_matrix[e],o=this.K_matrix[e],s=this.L_matrix[e],a=i[e].x,l=i[e].y;let c=0,d=0;for(let u=0;u<r.length;u++){const h=r[u];if(h!==e){const f=n[u],p=f[0],g=f[1],$=i[h].x,y=i[h].y,b=1/Math.sqrt((a-$)**2+(l-y)**2),S=o[h]*(a-$-s[h]*(a-$)*b),_=o[h]*(l-y-s[h]*(l-y)*b);n[u]=[S,_],c+=S,d+=_;const T=this.E_sums[h];T[0]+=S-p,T[1]+=_-g}}this.E_sums[e]=[c,d]}}function J(t,e,r){var i,n,o,s;if(!(this instanceof J))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:Sde,clickToUse:!1},ht(this.options,this.defaultOptions),this.body={container:t,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:M(i=this.on).call(i,this),off:M(n=this.off).call(n,this),emit:M(o=this.emit).call(o,this),once:M(s=this.once).call(s,this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}},selectionBox:{show:!1,position:{start:{x:0,y:0},end:{x:0,y:0}}}},this.bindEventListeners(),this.images=new Ide(()=>this.body.emitter.emit("_requestRedraw")),this.groups=new whe,this.canvas=new Mge(this.body),this.selectionHandler=new $me(this.body,this.canvas),this.interactionHandler=new Bge(this.body,this.canvas,this.selectionHandler),this.view=new Nge(this.body,this.canvas),this.renderer=new Pge(this.body,this.canvas),this.physics=new _ge(this.body),this.layoutEngine=new jye(this.body),this.clustering=new xge(this.body),this.manipulation=new zye(this.body,this.canvas,this.selectionHandler,this.interactionHandler),this.nodesHandler=new Yve(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new gge(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new Yye(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(r),this.setData(e)}rx(J.prototype);J.prototype.setOptions=function(t){if(t===null&&(t=void 0),t!==void 0){if(ede.validate(t,Wye)===!0&&console.error("%cErrors have been found in the supplied options object.",BP),Vs(["locale","locales","clickToUse"],this.options,t),t.locale!==void 0&&(t.locale=Ede(t.locales||this.options.locales,t.locale)),t=this.layoutEngine.setOptions(t.layout,t),this.canvas.setOptions(t),this.groups.setOptions(t.groups),this.nodesHandler.setOptions(t.nodes),this.edgesHandler.setOptions(t.edges),this.physics.setOptions(t.physics),this.manipulation.setOptions(t.manipulation,t,this.options),this.interactionHandler.setOptions(t.interaction),this.renderer.setOptions(t.interaction),this.selectionHandler.setOptions(t.interaction),t.groups!==void 0&&this.body.emitter.emit("refreshNodes"),"configure"in t&&(this.configurator||(this.configurator=new Zce(this,this.body.container,Fk,this.canvas.pixelRatio,Vye)),this.configurator.setOptions(t.configure)),this.configurator&&this.configurator.options.enabled===!0){const i={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};Be(i.nodes,this.nodesHandler.options),Be(i.edges,this.edgesHandler.options),Be(i.layout,this.layoutEngine.options),Be(i.interaction,this.selectionHandler.options),Be(i.interaction,this.renderer.options),Be(i.interaction,this.interactionHandler.options),Be(i.manipulation,this.manipulation.options),Be(i.physics,this.physics.options),Be(i.global,this.canvas.options),Be(i.global,this.options),this.configurator.setModuleOptions(i)}t.clickToUse!==void 0?t.clickToUse===!0?this.activator===void 0&&(this.activator=new Jce(this.canvas.frame),this.activator.on("change",()=>{this.body.emitter.emit("activate")})):(this.activator!==void 0&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}};J.prototype._updateVisibleIndices=function(){const t=this.body.nodes,e=this.body.edges;this.body.nodeIndices=[],this.body.edgeIndices=[];for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&!this.clustering._isClusteredNode(r)&&t[r].options.hidden===!1&&this.body.nodeIndices.push(t[r].id);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const i=e[r],n=t[i.fromId],o=t[i.toId],s=n!==void 0&&o!==void 0;!this.clustering._isClusteredEdge(r)&&i.options.hidden===!1&&s&&n.options.hidden===!1&&o.options.hidden===!1&&this.body.edgeIndices.push(i.id)}};J.prototype.bindEventListeners=function(){this.body.emitter.on("_dataChanged",()=>{this.edgesHandler._updateState(),this.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",()=>{this.clustering._updateState(),this._updateVisibleIndices(),this._updateValueRange(this.body.nodes),this._updateValueRange(this.body.edges),this.body.emitter.emit("startSimulation"),this.body.emitter.emit("_requestRedraw")})};J.prototype.setData=function(t){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),t&&t.dot&&(t.nodes||t.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(t&&t.options),t&&t.dot){console.warn("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");const e=dde(t.dot);this.setData(e);return}else if(t&&t.gephi){console.warn("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");const e=ude(t.gephi);this.setData(e);return}else this.nodesHandler.setData(t&&t.nodes,!0),this.edgesHandler.setData(t&&t.edges,!0);this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")};J.prototype.destroy=function(){this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images;for(const t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&delete this.body.nodes[t];for(const t in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,t)&&delete this.body.edges[t];Yi(this.body.container)};J.prototype._updateValueRange=function(t){let e,r,i,n=0;for(e in t)if(Object.prototype.hasOwnProperty.call(t,e)){const o=t[e].getValue();o!==void 0&&(r=r===void 0?o:Math.min(o,r),i=i===void 0?o:Math.max(o,i),n+=o)}if(r!==void 0&&i!==void 0)for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&t[e].setValueRange(r,i,n)};J.prototype.isActive=function(){return!this.activator||this.activator.active};J.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)};J.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)};J.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)};J.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)};J.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)};J.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)};J.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)};J.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)};J.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)};J.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)};J.prototype.updateClusteredNode=function(){return this.clustering.updateClusteredNode.apply(this.clustering,arguments)};J.prototype.getClusteredEdges=function(){return this.clustering.getClusteredEdges.apply(this.clustering,arguments)};J.prototype.getBaseEdge=function(){return this.clustering.getBaseEdge.apply(this.clustering,arguments)};J.prototype.getBaseEdges=function(){return this.clustering.getBaseEdges.apply(this.clustering,arguments)};J.prototype.updateEdge=function(){return this.clustering.updateEdge.apply(this.clustering,arguments)};J.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)};J.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)};J.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)};J.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)};J.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)};J.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)};J.prototype.editNodeMode=function(){return console.warn("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)};J.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)};J.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)};J.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)};J.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)};J.prototype.getPosition=function(){return this.nodesHandler.getPosition.apply(this.nodesHandler,arguments)};J.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)};J.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)};J.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)};J.prototype.getConnectedNodes=function(t){return this.body.nodes[t]!==void 0?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)};J.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)};J.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)};J.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)};J.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)};J.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)};J.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)};J.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodeIds.apply(this.selectionHandler,arguments)};J.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdgeIds.apply(this.selectionHandler,arguments)};J.prototype.getNodeAt=function(){const t=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return t!==void 0&&t.id!==void 0?t.id:t};J.prototype.getEdgeAt=function(){const t=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return t!==void 0&&t.id!==void 0?t.id:t};J.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)};J.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)};J.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.selectionHandler.commitWithoutEmitting.apply(this.selectionHandler),this.redraw()};J.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)};J.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)};J.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)};J.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)};J.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)};J.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)};J.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)};J.prototype.getOptionsFromConfigurator=function(){let t={};return this.configurator&&(t=this.configurator.getOptions.apply(this.configurator)),t};function qye(){var e,r;const t=[];for(const[i,n]of Object.entries(gd)){const o=n();if(o.choices){for(const s of o.choices())if(s.next&&t.push({from:i,to:s.next,label:s.text}),s.onChoose){const c=[...s.onChoose.toString().matchAll(/goToScene\s*\(\s*['"`]([^'"`]+)['"`]/g)].map(d=>d[1]);for(const d of c)t.push({from:i,to:d,label:"choice-action"})}}if(o.buttonActions)for(const s of o.buttonActions){const c=[...(((r=(e=s==null?void 0:s.action)==null?void 0:e.toString)==null?void 0:r.call(e))??"").matchAll(/goToScene\s*\(\s*['"`]([^'"`]+)['"`]/g)].map(d=>d[1]);for(const d of c)t.push({from:i,to:d,label:"button-action"})}if(o.dialogSequence){const l=[...o.dialogSequence.toString().matchAll(/goToScene\s*\(\s*['"`]([^'"`]+)['"`]/g)].map(c=>c[1]);for(const c of l)t.push({from:i,to:c,label:"dialog-action"})}}return t}const Kye={id:"scene-graph",style:{height:"600px"}},Gye=He({__name:"SceneGraph",setup(t){return Za(()=>{const e=document.getElementById("scene-graph"),r=qye(),i=Array.from(new Set(r.flatMap(o=>[o.from,o.to]))).map(o=>({id:o,label:o})),n=r.map(o=>({from:o.from,to:o.to,label:o.label,arrows:"to"}));new J(e,{nodes:i,edges:n},{})}),(e,r)=>(F(),G("div",Kye))}}),D_={drunk1:{id:"drunk1",name:"Drunk #1",avatar:"src/assets/images/avatars/drunk1.png",sound:"src/assets/audio/characters/drunk1.mp3"},drunk2:{id:"drunk2",name:"Drunk #2",avatar:"src/assets/images/avatars/drunk2.png",sound:"src/assets/audio/characters/drunk2.mp3"},"black-dog":{id:"black-dog",name:"Redblack Dog",avatar:"src/assets/images/avatars/moon-dog.png",sound:"src/assets/audio/characters/redblack-dog.mp3"},"black-dog-scary":{id:"black-dog-scary",name:"Redblack Dog",avatar:"src/assets/images/avatars/yeth-hound.png",sound:"src/assets/audio/characters/redblack-dog.mp3"},faerie1:{id:"faerie1",name:"Hongatar #1",avatar:"src/assets/images/avatars/faerie1.png",sound:"src/assets/audio/characters/faerie1.mp3"},faerie2:{id:"faerie2",name:"Hongatar #2",avatar:"src/assets/images/avatars/faerie2.png",sound:"src/assets/audio/characters/faerie2.mp3"},faerie3:{id:"faerie3",name:"Hongatar #3",avatar:"src/assets/images/avatars/faerie3.png",sound:"src/assets/audio/characters/faerie3.mp3"},squirrel:{id:"squirrel",name:"Squirrel",avatar:"src/assets/images/avatars/squirrel.png",sound:"src/assets/audio/characters/squirrel.mp3"}},Xv="/void-leeba/assets/player-pWeKlCUb.png",Xye={key:0,class:"avatar-wrapper"},Jye=["src"],Zye={class:"stack"},Qye=["src"],ebe=["src"],tbe={key:0,class:"avatar-wrapper-right"},rbe=["src"],ibe=He({__name:"Avatar",props:{showUserAvatar:{type:Boolean},currentCharacter:{},hasDialog:{type:Boolean},dialogClicked:{type:Boolean},onAvatarClicked:{type:Function}},setup(t){return(e,r)=>(F(),G(we,null,[We(Zn,{name:"slide-up"},{default:hn(()=>[e.showUserAvatar?(F(),G("div",Xye,[re("img",{src:P(Xv),alt:"User avatar",class:"avatar"},null,8,Jye)])):e.hasDialog&&e.currentCharacter?(F(),G("div",{class:"avatar-wrapper",key:e.currentCharacter.id,onClick:r[0]||(r[0]=Ee((...i)=>e.onAvatarClicked&&e.onAvatarClicked(...i),["stop"]))},[re("div",Zye,[re("img",{src:e.currentCharacter.avatar,alt:"",class:"avatar base"},null,8,Qye),re("img",{src:e.currentCharacter.avatar,alt:"",class:"avatar wobble"},null,8,ebe)])])):De("",!0)]),_:1}),We(Zn,{name:"slide-up"},{default:hn(()=>[e.dialogClicked?(F(),G("div",tbe,[re("img",{src:P(Xv),alt:"User avatar",class:"avatar-right"},null,8,rbe)])):De("",!0)]),_:1})],64))}}),nbe=ct(ibe,[["__scopeId","data-v-5feeeffc"]]),obe={class:"dialog-header"},sbe=["innerHTML"],abe=He({__name:"Dialog",props:{hasDialog:{type:Boolean},dialogClicked:{type:Boolean},dialog:{},dialogIndex:{},name:{},rotationDeg:{}},emits:["update-dialog-clicked","update-dialog-index"],setup(t,{emit:e}){const r=Z(),i=t,n=e;function o(){i.hasDialog?n("update-dialog-index",i.dialogIndex+1):r.updateShowChoices(!0)}function s(){var a,l,c,d;(a=i.dialog)!=null&&a.onClick?(l=i.dialog)==null||l.onClick():(c=i.dialog)!=null&&c.popUp||o(),(d=i.dialog)!=null&&d.popUp&&(n("update-dialog-clicked",!0),r.updateShowChoices(!0))}return(a,l)=>(F(),ot(Zn,{name:"slide-in-left"},{default:hn(()=>[a.hasDialog||a.dialogClicked?(F(),G("div",{key:0,class:Ai(["dialog-wrapper",{"dialog-slide-up":a.dialogClicked}]),onClick:Ee(s,["stop"])},[re("div",obe,ze(a.name.toUpperCase()),1),re("div",{class:"dialog-foreground",innerHTML:a.dialog.text},null,8,sbe)],2)):De("",!0)]),_:1}))}}),lbe=ct(abe,[["__scopeId","data-v-5dee982c"]]),cbe={key:0,class:"choices-wrapper"},dbe=["innerHTML","onClick"],ube=He({__name:"Choices",setup(t){const e=Z(),r=mg(),i=fr(),n=Rt(0),o=Rt(!1),s=Se(()=>{const b=e.currentScene(e.currentScenePayload).dialogSequence;if(typeof b=="function"){const S=b().length??0;return!!S&&n.value<S&&e.animationSkipped}}),a=Se(()=>{const b=e.currentScene(e.currentScenePayload).dialogSequence;if(typeof b=="function")return b()[n.value]}),l=Se(()=>a.value?D_[a.value.characterId]:null),c=Se(()=>(!s.value||o.value||n.value>=e.currentScene(e.currentScenePayload).dialogSequence().length)&&e.showChoices),d=Se(()=>{const b=e.currentScene(e.currentScenePayload);return b.choices?b.choices():[]}),u=Se(()=>e.currentSceneId!=="intro"&&e.currentSceneId!=="intro1"&&e.currentSceneId!=="start");function h(b){const S=D_[b];S!=null&&S.sound&&r.playCharacterSound(S.sound,S.id)}function f(b){o.value=b}function p(b){n.value=b}function g(){var b,S,_,T;(b=a.value)!=null&&b.onClick?(S=a.value)==null||S.onClick():(_=a.value)!=null&&_.popUp||(s.value?p(n.value+1):e.updateShowChoices(!0)),(T=a.value)!=null&&T.popUp&&(f(!0),e.updateShowChoices(!0))}function $(b){i.toggleDrawer(),i.setDrawerView(b)}const y=Rt("0");return hr(()=>({currentDialog:a,hasDialog:s}),()=>{var b;y.value=(Math.random()*2-1).toFixed(2),(b=a.value)!=null&&b.characterId&&s.value&&(o.value=!1,h(a.value.characterId))},{deep:!0}),hr(()=>e.currentSceneId,()=>{n.value=0,o.value=!1}),(b,S)=>{var _;return F(),G(we,null,[We(nbe,{showUserAvatar:u.value&&c.value&&d.value.length>0&&!o.value,currentCharacter:l.value,hasDialog:s.value??!1,dialogClicked:o.value??!1,onAvatarClicked:g},null,8,["showUserAvatar","currentCharacter","hasDialog","dialogClicked"]),We(Zn,{name:"slide-in-left"},{default:hn(()=>[c.value&&d.value.length?(F(),G("div",cbe,[(F(!0),G(we,null,Br(d.value,(T,W)=>(F(),G("div",{key:W},[re("div",{innerHTML:`• ${T.text}`,class:"choice",onClick:Ee(Y=>T.drawerView?$(T.drawerView):P(e).chooseOption(T),["stop"])},null,8,dbe)]))),128))])):De("",!0)]),_:1}),We(lbe,{hasDialog:s.value??!1,dialogClicked:o.value,dialog:a.value,dialogIndex:n.value,name:((_=l.value)==null?void 0:_.name)??"",rotationDeg:y.value,onUpdateDialogClicked:f,onUpdateDialogIndex:p},null,8,["hasDialog","dialogClicked","dialog","dialogIndex","name","rotationDeg"])],64)}}}),hbe=ct(ube,[["__scopeId","data-v-f4ec016a"]]),fbe=He({__name:"FadeInOverlay",setup(t){const e=Z(),r=Se(()=>e.showOverlay),i=Rt(2e3);return(n,o)=>(F(),G("div",{class:Ai(["black-overlay",{"fade-out":!r.value}]),style:_r({transition:`opacity ${i.value/1e3}s ease`}),key:P(e).currentSceneId},null,6))}}),pbe=ct(fbe,[["__scopeId","data-v-6e202666"]]),vbe={class:"menu-list"},gbe={style:{bottom:"100px",position:"absolute"}},mbe=He({__name:"DrawerMenu",setup(t){const e=Z(),r=fr();function i(){window.location.reload()}return(n,o)=>(F(),G(we,null,[re("ul",vbe,[re("li",{onClick:o[0]||(o[0]=Ee((...s)=>P(r).closeDrawer&&P(r).closeDrawer(...s),["stop"]))},"<"),re("li",{onClick:o[1]||(o[1]=Ee(s=>P(r).setDrawerView("bag"),["stop"]))},"Bag"),re("li",{onClick:o[2]||(o[2]=Ee(s=>P(r).setDrawerView("phone"),["stop"]))},[o[7]||(o[7]=os(" Phone ")),P(r).notificationCount>0||P(r).phoneIsCrazy?(F(),G("span",{key:0,class:Ai(["notification-bubble",{"phone-crazy":P(r).phoneIsCrazy}])},ze(P(r).phoneIsCrazy?"∞":P(r).notificationCount),3)):De("",!0)]),re("li",{onClick:o[3]||(o[3]=Ee(s=>P(r).setDrawerView("dictionary"),["stop"]))},"Dictionary"),re("li",{onClick:o[4]||(o[4]=Ee(s=>P(r).setDrawerView("stats"),["stop"]))},"Stats"),re("li",{onClick:o[5]||(o[5]=Ee(s=>P(r).setDrawerView("scenes"),["stop"]))},"Scenes"),re("li",{onClick:o[6]||(o[6]=Ee((...s)=>P(e).toggleShowSceneGraph&&P(e).toggleShowSceneGraph(...s),["stop"]))},"Scene Graph"),re("li",{onClick:Ee(i,["stop"])},"Restart")]),re("span",gbe,"Current scene: "+ze(P(e).currentSceneId),1)],64))}}),ybe=ct(mbe,[["__scopeId","data-v-e6517d8f"]]),bbe={class:"item-desc"},$be={class:"button-wrapper"},wbe=He({__name:"DrawerSelectedItem",setup(t){const e=ss(),r=pe(),i=fr();async function n(){const o=i.selectedItem;i.closeDrawer(),await e.show(o.actionText??"Nothing happened."),r.useItem(o.id)}return(o,s)=>(F(),G(we,null,[re("div",{class:"sub-menu-header",onClick:s[0]||(s[0]=Ee((...a)=>P(i).clearItem&&P(i).clearItem(...a),["stop"]))}," < "+ze(P(i).selectedItem.label),1),re("p",bbe,ze(P(i).selectedItem.description),1),re("div",$be,[re("button",{onClick:Ee(n,["stop"])},"Use"),P(i).selectedItem.permanent?De("",!0):(F(),G("button",{key:0,onClick:s[1]||(s[1]=Ee(a=>{P(r).removeFromInventory(P(i).selectedItem.id),P(e).show(`-1 ${P(i).selectedItem.label}`),P(i).clearItem()},["stop"]))}," Drop "))])],64))}}),_be=ct(wbe,[["__scopeId","data-v-ca0814c6"]]),Sbe={class:"item-desc"},Ebe=["onClick"],Tbe=["innerHTML"],Ibe=He({__name:"DrawerSelectedDictionaryEntry",setup(t){const e=fr(),r=bg(),i=Se(()=>e.selectedDictionaryEntry.description),n=Se(()=>{const o=/{([^}]+)}/g,s=[];let a=0,l;for(;(l=o.exec(i.value))!==null;){l.index>a&&s.push({text:i.value.slice(a,l.index)});const c=l[1],d=yg[c];s.push({text:d.name,entry:d}),a=o.lastIndex}return a<i.value.length&&s.push({text:i.value.slice(a)}),s});return(o,s)=>(F(),G(we,null,[re("div",{class:"sub-menu-header",onClick:s[0]||(s[0]=Ee((...a)=>P(e).clearDictionaryEntry&&P(e).clearDictionaryEntry(...a),["stop"]))}," < "+ze(P(e).selectedDictionaryEntry.name),1),re("p",Sbe,[(F(!0),G(we,null,Br(n.value,(a,l)=>(F(),G(we,{key:l},[a.entry?(F(),G("span",{key:0,class:"clickable-term",onClick:c=>{P(e).updateSelectedDictionaryEntry(a.entry),P(r).addEntry(a.entry.id)}},ze(a.text),9,Ebe)):(F(),G("span",{key:1,innerHTML:a.text},null,8,Tbe))],64))),128))])],64))}}),Obe=ct(Ibe,[["__scopeId","data-v-417d72cf"]]),xbe={class:"menu-list"},Pbe=["onClick"],kbe={key:0},Cbe=He({__name:"Bag",setup(t){const e=fr(),r=pe(),i=Se(()=>{const n=new Map;for(const o of r.inventory){const s=n.get(o.id);s?s.count++:n.set(o.id,{item:o,count:1})}return Array.from(n.values())});return(n,o)=>(F(),G("ul",xbe,[re("div",{class:"sub-menu-header",onClick:o[0]||(o[0]=Ee((...s)=>P(e).resetDrawerView&&P(e).resetDrawerView(...s),["stop"]))}," < Bag "),(F(!0),G(we,null,Br(i.value,({item:s,count:a},l)=>(F(),G("li",{class:"sub",key:s.id,onClick:Ee(c=>P(e).updateSelectedItem(s),["stop"])},[re("div",null,[os(" • "+ze(s.label)+" ",1),a>1?(F(),G("span",kbe,"x"+ze(a),1)):De("",!0)])],8,Pbe))),128))]))}}),Abe=ct(Cbe,[["__scopeId","data-v-8c463585"]]),Dbe={class:"menu-list"},Mbe=["onClick"],Rbe=He({__name:"Dictionary",setup(t){const e=fr(),r=bg();return(i,n)=>(F(),G("ul",Dbe,[re("div",{class:"sub-menu-header",onClick:n[0]||(n[0]=Ee((...o)=>P(e).resetDrawerView&&P(e).resetDrawerView(...o),["stop"]))}," < Dictionary "),(F(!0),G(we,null,Br(P(r).entries,(o,s)=>(F(),G("li",{class:"sub",key:o.id,onClick:Ee(a=>P(e).updateSelectedDictionaryEntry(o),["stop"])},[re("div",null,"• "+ze(o.name),1)],8,Mbe))),128))]))}}),Nbe=ct(Rbe,[["__scopeId","data-v-c99fa5d2"]]),Fbe={class:"list"},Bbe=He({__name:"Phone",setup(t){const e=Z(),r=fr(),i=Se(()=>e.scenes),n=Se(()=>{const s=Array.from(new Set(i.value));return Math.floor(s.length/4)}),o=Se(()=>Qo.length<=n.value?Qo:Qo.slice(0,n.value));return(s,a)=>(F(),G("ul",Fbe,[re("div",{class:"sub-menu-header",onClick:a[0]||(a[0]=Ee((...l)=>P(r).resetDrawerView&&P(r).resetDrawerView(...l),["stop"]))}," < Phone "),(F(!0),G(we,null,Br(o.value,(l,c)=>(F(),G("li",{key:c,class:Ai({highlight:!l.isRead})},ze(l.title),3))),128))]))}}),Lbe=ct(Bbe,[["__scopeId","data-v-7950d47a"]]),jbe={key:0,class:"stat-header"},zbe={class:"stat"},Hbe={key:1,class:"stat-header"},Wbe={class:"stat"},Vbe=He({__name:"Stats",setup(t){const e=fr(),r=pe(),i=Qn();return(n,o)=>(F(),G(we,null,[re("div",{class:"sub-menu-header",onClick:o[0]||(o[0]=Ee((...s)=>P(e).resetDrawerView&&P(e).resetDrawerView(...s),["stop"]))},"< Stats"),P(i).activeAspects.length>0?(F(),G("p",jbe,[o[1]||(o[1]=os(" Aspects ")),(F(!0),G(we,null,Br(P(i).activeAspects,(s,a)=>(F(),G("p",zbe,ze(s.name)+" Duration: "+ze(s.durationScenes)+" Scenes remaining: "+ze(s.scenesRemaining),1))),256))])):De("",!0),Object.keys(P(r).flags).length>0?(F(),G("p",Hbe,[o[2]||(o[2]=os(" Flags ")),(F(!0),G(we,null,Br(P(r).flags,(s,a)=>(F(),G("p",Wbe,ze(a)+": "+ze(s),1))),256))])):De("",!0)],64))}}),Ube=ct(Vbe,[["__scopeId","data-v-54c4f6f8"]]),Ybe={class:"menu-list"},qbe=["onClick"],Kbe=He({__name:"Scenes",setup(t){const e=Z(),r=fr();function i(n){e.goToScene(n),r.resetDrawerView(),r.closeDrawer()}return(n,o)=>(F(),G("ul",Ybe,[re("div",{class:"sub-menu-header",onClick:o[0]||(o[0]=Ee((...s)=>P(r).resetDrawerView&&P(r).resetDrawerView(...s),["stop"]))}," < Scenes "),(F(!0),G(we,null,Br(P(gd),(s,a)=>(F(),G("li",{key:a,onClick:Ee(l=>i(a),["stop"])},ze(a),9,qbe))),128))]))}}),Gbe=He({__name:"Drawer",setup(t){const e=fr();return hr(()=>e.isDrawerOpen,()=>{e.isDrawerOpen||(e.clearItem(),e.setDrawerView("main"))}),(r,i)=>(F(),ot(Zn,{name:"slide"},{default:hn(()=>[P(e).isDrawerOpen?(F(),G("div",{key:0,class:"drawer",onClick:i[0]||(i[0]=Ee((...n)=>P(e).toggleDrawer&&P(e).toggleDrawer(...n),["self"]))},[P(e).drawerView==="main"?(F(),ot(ybe,{key:0})):P(e).selectedItem?(F(),ot(_be,{key:1})):P(e).selectedDictionaryEntry?(F(),ot(Obe,{key:2})):P(e).drawerView==="bag"?(F(),ot(Abe,{key:3})):P(e).drawerView==="phone"?(F(),ot(Lbe,{key:4})):P(e).drawerView==="dictionary"?(F(),ot(Nbe,{key:5})):P(e).drawerView==="stats"?(F(),ot(Ube,{key:6})):P(e).drawerView==="scenes"?(F(),ot(Kbe,{key:7})):De("",!0)])):De("",!0)]),_:1}))}}),Xbe=ct(Gbe,[["__scopeId","data-v-abf926b8"]]),Jbe={class:"sidebar"},Zbe=He({__name:"Sidebar",setup(t){const e=Z(),r=zp(),i=fr(),n=Se(()=>e.scenes),o=Se(()=>n.value.indexOf(e.currentSceneId)),s=Se(()=>o.value<n.value.length-1),a=Se(()=>{const u=Array.from(new Set(n.value));return Math.floor(u.length/4)}),l=Rt(i.notificationCount);let c=!1;function d(u,h=100){let f=u;const p=()=>{if(c||f>=h)return;f+=1,l.value=f;const $=100-(f-u)/(h-u)*45;setTimeout(p,$)};p()}return hr(()=>i.phoneIsCrazy,u=>{c=!1,u?d(l.value):(c=!0,l.value=i.notificationCount)},{immediate:!0}),hr(()=>({phone:r.$state,scene:e.currentSceneId,isDrawerOpen:i.isDrawerOpen}),()=>{const u=a.value-r.$state.filter(h=>h.isRead).length;i.updateNotificationCount(u)},{deep:!0}),(u,h)=>(F(),G(we,null,[re("div",Jbe,[n.value.length>1&&o.value>0?(F(),G("button",{key:0,onClick:h[0]||(h[0]=Ee(f=>P(e).goBack(),["stop"]))}," < ")):De("",!0),s.value?(F(),G("button",{key:1,onClick:h[1]||(h[1]=Ee(f=>P(e).goForward(),["stop"]))},">")):De("",!0),re("button",{onClick:h[2]||(h[2]=Ee((...f)=>P(i).toggleDrawer&&P(i).toggleDrawer(...f),["stop"]))},[h[4]||(h[4]=os(" ☰ ")),l.value>0?(F(),G("span",{key:0,class:Ai(["notification-bubble",{"phone-crazy":P(i).phoneIsCrazy}]),style:_r({position:"absolute",top:n.value.length>1&&o.value>0&&s.value?"6.8vw":"3.2vw"})},ze(l.value==100?"∞":l.value),7)):De("",!0)])]),We(Zn,{name:"fade"},{default:hn(()=>[P(i).isDrawerOpen?(F(),G("div",{key:0,class:"drawer-overlay",onClick:h[3]||(h[3]=Ee((...f)=>P(i).toggleDrawer&&P(i).toggleDrawer(...f),["self"]))})):De("",!0)]),_:1}),We(Xbe)],64))}}),Qbe=ct(Zbe,[["__scopeId","data-v-4517e4c4"]]),e$e="/void-leeba/assets/plant-matter-lock-of-hair-DuljO2I8.png",t$e=["src"],r$e=He({__name:"DisappearingItem",setup(t){const e=Z(),r=Rt(!1);hr(()=>e.showDisappearingItem,()=>{e.showDisappearingItem&&(r.value=!0,setTimeout(()=>{r.value=!1},4e3))});function i(){e.updateShowDisappearingItem(!1)}return(n,o)=>(F(),ot(Zn,{name:"fade-out",onAfterLeave:i},{default:hn(()=>[r.value?(F(),G("img",{key:0,class:"fade-message",src:P(e$e)},null,8,t$e)):De("",!0)]),_:1}))}}),i$e=ct(r$e,[["__scopeId","data-v-153d528c"]]),n$e="/void-leeba/assets/pine-needles-_-PYWavi.jpg",o$e={class:"hit-counter"},s$e={class:"hit-counter"},a$e=["src"],l$e=["src"],c$e=He({__name:"MiniGameTreeChase",setup(t){const e=Rt(null),r=Rt(null),i=Rt(0),n=Rt(0);let o=0;const s=pe(),a=Z(),c=40-s.inventory.reduce((p,g)=>p+g.weight,0)*5;function d(){var Y;const p=document.createElement("div");p.textContent="🌲",p.classList.add("tree");const g=document.getElementById("game"),$=((g==null?void 0:g.offsetWidth)??0)/20,b=Math.floor(Math.random()*20)*$;p.style.left=`${b}px`,(Y=e.value)==null||Y.appendChild(p);const S=document.getElementById("player"),_=Math.random()*30+15;let T=0;const W=setInterval(()=>{var z,C;T+=_,p.style.top=`${T}px`,u(p,S)?(f(),clearInterval(W),(z=e.value)==null||z.removeChild(p),i.value=i.value+1,i.value>3&&(clearInterval(o),Qn().addAspect(KD),a.goToScene("dream-tree-chase-game-lose"))):T>window.innerHeight&&(clearInterval(W),(C=e.value)==null||C.removeChild(p))},50)}function u(p,g){const $=p==null?void 0:p.getBoundingClientRect(),y=g==null?void 0:g.getBoundingClientRect();return!$||!y?!1:$.right>=y.left+c&&$.left<=y.right-c&&$.bottom>=y.top&&$.top<=y.bottom}function h(){const p=Math.random()*300;setTimeout(()=>{d(),h()},p)}function f(){const p=document.getElementById("flash"),g=document.getElementById("player");p&&(p.style.opacity="0.6",setTimeout(()=>{p.style.opacity="0"},200),g&&(g.style.filter="sepia(1) saturate(10) hue-rotate(-50deg)",setTimeout(()=>{g.style.filter=""},200)))}return Za(()=>{const p=document.getElementById("game"),g=document.getElementById("player");p==null||p.addEventListener("mousemove",$=>{const y=p.getBoundingClientRect();let b=$.clientX-y.left;if(b=Math.min(Math.max(0,b),y.width),g){const S=g.offsetWidth;g.style.left=`${b-S/2}px`}}),h(),o=setInterval(()=>{n.value++,n.value==30&&(clearInterval(o),Qn().addAspect(GD),a.goToScene("dream-tree-chase-game-win"))},1e3)}),(p,g)=>(F(),G(we,null,[re("div",{id:"game",ref_key:"gameRef",ref:e},[re("div",o$e,"Hits: "+ze(i.value),1),re("div",s$e,"Time: "+ze(n.value),1),g[0]||(g[0]=re("div",{id:"flash",class:"flash"},null,-1)),re("img",{id:"player",src:P(Xv),ref_key:"playerRef",ref:r,alt:"Player"},null,8,a$e)],512),re("img",{class:"pine-needles",style:_r({height:`${i.value*1.5}vw`}),src:P(n$e)},null,12,l$e)],64))}}),d$e=He({__name:"MiniGame",props:{miniGameId:{}},setup(t){return(e,r)=>e.miniGameId=="tree-chase"?(F(),ot(c$e,{key:0})):De("",!0)}}),u$e=He({__name:"Scene",setup(t){const e=tE(),r=Z(),i=mg(),{finishAnimation:n,triggerFade:o,onSceneChanged:s}=sM(),a=Se(()=>r.currentScene().background),l=Se(()=>a.value?{backgroundImage:`url(${a.value})`}:""),c=Se(()=>r.currentScene(r.currentScenePayload).text),d=Se(()=>c.value.split("")),u=Se(()=>r.currentScene(r.currentScenePayload).animationRate??30),h=Se(()=>900+(d.value.length-1)*u.value),f=Se(()=>r.animationSkipped),p=Se(()=>!QS.includes(r.currentSceneId)),g=Se(()=>r.currentScene(r.currentScenePayload).miniGameId),$=Se(()=>p.value?"":{alignItems:"center",justifyContent:"center"}),y=Se(()=>r.currentScene(r.currentScenePayload).backgroundFilter?{filter:"brightness(0.4) sepia(1) hue-rotate(-20deg) saturate(8) contrast(1.2)"}:"");return Za(()=>{o(),e.set(r.currentSceneId,()=>{r.updateShowChoices(!0)},h.value)}),hr(()=>r.currentSceneId,async()=>{await s(h.value)}),hr(()=>r.currentScene(r.currentScenePayload),b=>{i.playBackgroundAudio(b.audio),b.onPageLoad&&b.onPageLoad()}),(b,S)=>g.value?(F(),ot(d$e,{key:0,miniGameId:g.value},null,8,["miniGameId"])):P(r).showSceneGraph?(F(),ot(Gye,{key:1})):(F(),G("div",{key:2,class:Ai(["scene-wrapper",{psychedelic:P(r).isPsychedelic}]),style:_r([l.value,$.value,y.value]),onClick:S[0]||(S[0]=(..._)=>P(n)&&P(n)(..._))},[We(pbe),p.value?(F(),ot(Qbe,{key:0})):De("",!0),P(r).currentSceneId==="start"?(F(),ot(fM,{key:P(r).currentSceneId,letters:d.value,animationSkipped:f.value},null,8,["letters","animationSkipped"])):De("",!0),P(r).currentSceneId==="credits"?(F(),ot(vM,{key:2})):De("",!0),P(r).currentSceneId=="intro"||P(r).currentSceneId=="intro1"?(F(),ot(_M,{key:P(r).currentSceneId,letters:d.value,animationSkipped:f.value,eyeIsOpened:P(r).currentSceneId=="intro1"},null,8,["letters","animationSkipped","eyeIsOpened"])):De("",!0),p.value&&d.value.length>0?(F(),ot(xM,{key:P(r).currentSceneId,animationSkipped:f.value,letters:d.value},null,8,["animationSkipped","letters"])):De("",!0),We(i$e),We(hbe)],6))}}),h$e=ct(u$e,[["__scopeId","data-v-ef0e56f5"]]),f$e=He({__name:"Snackbar",setup(t){const e=ss();return(r,i)=>P(e).visible?(F(),G("div",{key:0,class:"snackbar",onClick:i[0]||(i[0]=Ee(n=>P(e).dismiss(),["stop"]))},ze(P(e).message),1)):De("",!0)}}),p$e=ct(f$e,[["__scopeId","data-v-deb7d6a4"]]),v$e=He({__name:"App",setup(t){const e=Z();return(r,i)=>(F(),G(we,null,[We(oM),P(e).started?(F(),ot(h$e,{key:0})):De("",!0),We(p$e)],64))}}),Bk=gD();Bk.use(CD);fD(v$e).use(Bk).mount("#app");
