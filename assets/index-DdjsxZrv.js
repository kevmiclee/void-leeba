(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function r(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(n){if(n.ep)return;n.ep=!0;const o=r(n);fetch(n.href,o)}})();/**
* @vue/shared v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Zv(t){const e=Object.create(null);for(const r of t.split(","))e[r]=1;return r=>r in e}const je={},Zo=[],oi=()=>{},Vk=()=>!1,Vd=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Qv=t=>t.startsWith("onUpdate:"),wt=Object.assign,eg=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},Uk=Object.prototype.hasOwnProperty,Oe=(t,e)=>Uk.call(t,e),se=Array.isArray,Qo=t=>Ud(t)==="[object Map]",B_=t=>Ud(t)==="[object Set]",ve=t=>typeof t=="function",ct=t=>typeof t=="string",$n=t=>typeof t=="symbol",Ve=t=>t!==null&&typeof t=="object",L_=t=>(Ve(t)||ve(t))&&ve(t.then)&&ve(t.catch),j_=Object.prototype.toString,Ud=t=>j_.call(t),Yk=t=>Ud(t).slice(8,-1),z_=t=>Ud(t)==="[object Object]",tg=t=>ct(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,la=Zv(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Yd=t=>{const e=Object.create(null);return r=>e[r]||(e[r]=t(r))},qk=/-(\w)/g,hn=Yd(t=>t.replace(qk,(e,r)=>r?r.toUpperCase():"")),Kk=/\B([A-Z])/g,ho=Yd(t=>t.replace(Kk,"-$1").toLowerCase()),H_=Yd(t=>t.charAt(0).toUpperCase()+t.slice(1)),ih=Yd(t=>t?`on${H_(t)}`:""),tn=(t,e)=>!Object.is(t,e),nh=(t,...e)=>{for(let r=0;r<t.length;r++)t[r](...e)},W_=(t,e,r,i=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:i,value:r})},Gk=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Xk=t=>{const e=ct(t)?Number(t):NaN;return isNaN(e)?t:e};let Xm;const qd=()=>Xm||(Xm=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Sr(t){if(se(t)){const e={};for(let r=0;r<t.length;r++){const i=t[r],n=ct(i)?eC(i):Sr(i);if(n)for(const o in n)e[o]=n[o]}return e}else if(ct(t)||Ve(t))return t}const Jk=/;(?![^(]*\))/g,Zk=/:([^]+)/,Qk=/\/\*[^]*?\*\//g;function eC(t){const e={};return t.replace(Qk,"").split(Jk).forEach(r=>{if(r){const i=r.split(Zk);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function Mi(t){let e="";if(ct(t))e=t;else if(se(t))for(let r=0;r<t.length;r++){const i=Mi(t[r]);i&&(e+=i+" ")}else if(Ve(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}const tC="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",rC=Zv(tC);function V_(t){return!!t||t===""}const U_=t=>!!(t&&t.__v_isRef===!0),Me=t=>ct(t)?t:t==null?"":se(t)||Ve(t)&&(t.toString===j_||!ve(t.toString))?U_(t)?Me(t.value):JSON.stringify(t,Y_,2):String(t),Y_=(t,e)=>U_(e)?Y_(t,e.value):Qo(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[i,n],o)=>(r[oh(i,o)+" =>"]=n,r),{})}:B_(e)?{[`Set(${e.size})`]:[...e.values()].map(r=>oh(r))}:$n(e)?oh(e):Ve(e)&&!se(e)&&!z_(e)?String(e):e,oh=(t,e="")=>{var r;return $n(t)?`Symbol(${(r=t.description)!=null?r:e})`:t};/**
* @vue/reactivity v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Dt;class q_{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Dt,!e&&Dt&&(this.index=(Dt.scopes||(Dt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].pause();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].resume();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].resume()}}run(e){if(this._active){const r=Dt;try{return Dt=this,e()}finally{Dt=r}}}on(){++this._on===1&&(this.prevScope=Dt,Dt=this)}off(){this._on>0&&--this._on===0&&(Dt=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let r,i;for(r=0,i=this.effects.length;r<i;r++)this.effects[r].stop();for(this.effects.length=0,r=0,i=this.cleanups.length;r<i;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,i=this.scopes.length;r<i;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function K_(t){return new q_(t)}function G_(){return Dt}function iC(t,e=!1){Dt&&Dt.cleanups.push(t)}let Fe;const sh=new WeakSet;class X_{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Dt&&Dt.active&&Dt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,sh.has(this)&&(sh.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Z_(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Jm(this),Q_(this);const e=Fe,r=Br;Fe=this,Br=!0;try{return this.fn()}finally{eS(this),Fe=e,Br=r,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)ng(e);this.deps=this.depsTail=void 0,Jm(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?sh.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){kp(this)&&this.run()}get dirty(){return kp(this)}}let J_=0,ca,da;function Z_(t,e=!1){if(t.flags|=8,e){t.next=da,da=t;return}t.next=ca,ca=t}function rg(){J_++}function ig(){if(--J_>0)return;if(da){let e=da;for(da=void 0;e;){const r=e.next;e.next=void 0,e.flags&=-9,e=r}}let t;for(;ca;){let e=ca;for(ca=void 0;e;){const r=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(i){t||(t=i)}e=r}}if(t)throw t}function Q_(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function eS(t){let e,r=t.depsTail,i=r;for(;i;){const n=i.prevDep;i.version===-1?(i===r&&(r=n),ng(i),nC(i)):e=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=n}t.deps=e,t.depsTail=r}function kp(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(tS(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function tS(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Oa)||(t.globalVersion=Oa,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!kp(t))))return;t.flags|=2;const e=t.dep,r=Fe,i=Br;Fe=t,Br=!0;try{Q_(t);const n=t.fn(t._value);(e.version===0||tn(n,t._value))&&(t.flags|=128,t._value=n,e.version++)}catch(n){throw e.version++,n}finally{Fe=r,Br=i,eS(t),t.flags&=-3}}function ng(t,e=!1){const{dep:r,prevSub:i,nextSub:n}=t;if(i&&(i.nextSub=n,t.prevSub=void 0),n&&(n.prevSub=i,t.nextSub=void 0),r.subs===t&&(r.subs=i,!i&&r.computed)){r.computed.flags&=-5;for(let o=r.computed.deps;o;o=o.nextDep)ng(o,!0)}!e&&!--r.sc&&r.map&&r.map.delete(r.key)}function nC(t){const{prevDep:e,nextDep:r}=t;e&&(e.nextDep=r,t.prevDep=void 0),r&&(r.prevDep=e,t.nextDep=void 0)}let Br=!0;const rS=[];function xi(){rS.push(Br),Br=!1}function Pi(){const t=rS.pop();Br=t===void 0?!0:t}function Jm(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const r=Fe;Fe=void 0;try{e()}finally{Fe=r}}}let Oa=0;class oC{constructor(e,r){this.sub=e,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class og{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Fe||!Br||Fe===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==Fe)r=this.activeLink=new oC(Fe,this),Fe.deps?(r.prevDep=Fe.depsTail,Fe.depsTail.nextDep=r,Fe.depsTail=r):Fe.deps=Fe.depsTail=r,iS(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const i=r.nextDep;i.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=i),r.prevDep=Fe.depsTail,r.nextDep=void 0,Fe.depsTail.nextDep=r,Fe.depsTail=r,Fe.deps===r&&(Fe.deps=i)}return r}trigger(e){this.version++,Oa++,this.notify(e)}notify(e){rg();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{ig()}}}function iS(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let i=e.deps;i;i=i.nextDep)iS(i)}const r=t.dep.subs;r!==t&&(t.prevSub=r,r&&(r.nextSub=t)),t.dep.subs=t}}const ld=new WeakMap,Hn=Symbol(""),Cp=Symbol(""),xa=Symbol("");function Mt(t,e,r){if(Br&&Fe){let i=ld.get(t);i||ld.set(t,i=new Map);let n=i.get(r);n||(i.set(r,n=new og),n.map=i,n.key=r),n.track()}}function gi(t,e,r,i,n,o){const s=ld.get(t);if(!s){Oa++;return}const a=l=>{l&&l.trigger()};if(rg(),e==="clear")s.forEach(a);else{const l=se(t),c=l&&tg(r);if(l&&r==="length"){const d=Number(i);s.forEach((u,h)=>{(h==="length"||h===xa||!$n(h)&&h>=d)&&a(u)})}else switch((r!==void 0||s.has(void 0))&&a(s.get(r)),c&&a(s.get(xa)),e){case"add":l?c&&a(s.get("length")):(a(s.get(Hn)),Qo(t)&&a(s.get(Cp)));break;case"delete":l||(a(s.get(Hn)),Qo(t)&&a(s.get(Cp)));break;case"set":Qo(t)&&a(s.get(Hn));break}}ig()}function sC(t,e){const r=ld.get(t);return r&&r.get(e)}function Io(t){const e=$e(t);return e===t?e:(Mt(e,"iterate",xa),Er(t)?e:e.map(Ot))}function Kd(t){return Mt(t=$e(t),"iterate",xa),t}const aC={__proto__:null,[Symbol.iterator](){return ah(this,Symbol.iterator,Ot)},concat(...t){return Io(this).concat(...t.map(e=>se(e)?Io(e):e))},entries(){return ah(this,"entries",t=>(t[1]=Ot(t[1]),t))},every(t,e){return fi(this,"every",t,e,void 0,arguments)},filter(t,e){return fi(this,"filter",t,e,r=>r.map(Ot),arguments)},find(t,e){return fi(this,"find",t,e,Ot,arguments)},findIndex(t,e){return fi(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return fi(this,"findLast",t,e,Ot,arguments)},findLastIndex(t,e){return fi(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return fi(this,"forEach",t,e,void 0,arguments)},includes(...t){return lh(this,"includes",t)},indexOf(...t){return lh(this,"indexOf",t)},join(t){return Io(this).join(t)},lastIndexOf(...t){return lh(this,"lastIndexOf",t)},map(t,e){return fi(this,"map",t,e,void 0,arguments)},pop(){return qs(this,"pop")},push(...t){return qs(this,"push",t)},reduce(t,...e){return Zm(this,"reduce",t,e)},reduceRight(t,...e){return Zm(this,"reduceRight",t,e)},shift(){return qs(this,"shift")},some(t,e){return fi(this,"some",t,e,void 0,arguments)},splice(...t){return qs(this,"splice",t)},toReversed(){return Io(this).toReversed()},toSorted(t){return Io(this).toSorted(t)},toSpliced(...t){return Io(this).toSpliced(...t)},unshift(...t){return qs(this,"unshift",t)},values(){return ah(this,"values",Ot)}};function ah(t,e,r){const i=Kd(t),n=i[e]();return i!==t&&!Er(t)&&(n._next=n.next,n.next=()=>{const o=n._next();return o.value&&(o.value=r(o.value)),o}),n}const lC=Array.prototype;function fi(t,e,r,i,n,o){const s=Kd(t),a=s!==t&&!Er(t),l=s[e];if(l!==lC[e]){const u=l.apply(t,o);return a?Ot(u):u}let c=r;s!==t&&(a?c=function(u,h){return r.call(this,Ot(u),h,t)}:r.length>2&&(c=function(u,h){return r.call(this,u,h,t)}));const d=l.call(s,c,i);return a&&n?n(d):d}function Zm(t,e,r,i){const n=Kd(t);let o=r;return n!==t&&(Er(t)?r.length>3&&(o=function(s,a,l){return r.call(this,s,a,l,t)}):o=function(s,a,l){return r.call(this,s,Ot(a),l,t)}),n[e](o,...i)}function lh(t,e,r){const i=$e(t);Mt(i,"iterate",xa);const n=i[e](...r);return(n===-1||n===!1)&&lg(r[0])?(r[0]=$e(r[0]),i[e](...r)):n}function qs(t,e,r=[]){xi(),rg();const i=$e(t)[e].apply(t,r);return ig(),Pi(),i}const cC=Zv("__proto__,__v_isRef,__isVue"),nS=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter($n));function dC(t){$n(t)||(t=String(t));const e=$e(this);return Mt(e,"has",t),e.hasOwnProperty(t)}class oS{constructor(e=!1,r=!1){this._isReadonly=e,this._isShallow=r}get(e,r,i){if(r==="__v_skip")return e.__v_skip;const n=this._isReadonly,o=this._isShallow;if(r==="__v_isReactive")return!n;if(r==="__v_isReadonly")return n;if(r==="__v_isShallow")return o;if(r==="__v_raw")return i===(n?o?$C:cS:o?lS:aS).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(i)?e:void 0;const s=se(e);if(!n){let l;if(s&&(l=aC[r]))return l;if(r==="hasOwnProperty")return dC}const a=Reflect.get(e,r,at(e)?e:i);return($n(r)?nS.has(r):cC(r))||(n||Mt(e,"get",r),o)?a:at(a)?s&&tg(r)?a:a.value:Ve(a)?n?dS(a):Gd(a):a}}class sS extends oS{constructor(e=!1){super(!1,e)}set(e,r,i,n){let o=e[r];if(!this._isShallow){const l=fn(o);if(!Er(i)&&!fn(i)&&(o=$e(o),i=$e(i)),!se(e)&&at(o)&&!at(i))return l?!1:(o.value=i,!0)}const s=se(e)&&tg(r)?Number(r)<e.length:Oe(e,r),a=Reflect.set(e,r,i,at(e)?e:n);return e===$e(n)&&(s?tn(i,o)&&gi(e,"set",r,i):gi(e,"add",r,i)),a}deleteProperty(e,r){const i=Oe(e,r);e[r];const n=Reflect.deleteProperty(e,r);return n&&i&&gi(e,"delete",r,void 0),n}has(e,r){const i=Reflect.has(e,r);return(!$n(r)||!nS.has(r))&&Mt(e,"has",r),i}ownKeys(e){return Mt(e,"iterate",se(e)?"length":Hn),Reflect.ownKeys(e)}}class uC extends oS{constructor(e=!1){super(!0,e)}set(e,r){return!0}deleteProperty(e,r){return!0}}const hC=new sS,fC=new uC,pC=new sS(!0);const Ap=t=>t,Zl=t=>Reflect.getPrototypeOf(t);function vC(t,e,r){return function(...i){const n=this.__v_raw,o=$e(n),s=Qo(o),a=t==="entries"||t===Symbol.iterator&&s,l=t==="keys"&&s,c=n[t](...i),d=r?Ap:e?cd:Ot;return!e&&Mt(o,"iterate",l?Cp:Hn),{next(){const{value:u,done:h}=c.next();return h?{value:u,done:h}:{value:a?[d(u[0]),d(u[1])]:d(u),done:h}},[Symbol.iterator](){return this}}}}function Ql(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function gC(t,e){const r={get(n){const o=this.__v_raw,s=$e(o),a=$e(n);t||(tn(n,a)&&Mt(s,"get",n),Mt(s,"get",a));const{has:l}=Zl(s),c=e?Ap:t?cd:Ot;if(l.call(s,n))return c(o.get(n));if(l.call(s,a))return c(o.get(a));o!==s&&o.get(n)},get size(){const n=this.__v_raw;return!t&&Mt($e(n),"iterate",Hn),Reflect.get(n,"size",n)},has(n){const o=this.__v_raw,s=$e(o),a=$e(n);return t||(tn(n,a)&&Mt(s,"has",n),Mt(s,"has",a)),n===a?o.has(n):o.has(n)||o.has(a)},forEach(n,o){const s=this,a=s.__v_raw,l=$e(a),c=e?Ap:t?cd:Ot;return!t&&Mt(l,"iterate",Hn),a.forEach((d,u)=>n.call(o,c(d),c(u),s))}};return wt(r,t?{add:Ql("add"),set:Ql("set"),delete:Ql("delete"),clear:Ql("clear")}:{add(n){!e&&!Er(n)&&!fn(n)&&(n=$e(n));const o=$e(this);return Zl(o).has.call(o,n)||(o.add(n),gi(o,"add",n,n)),this},set(n,o){!e&&!Er(o)&&!fn(o)&&(o=$e(o));const s=$e(this),{has:a,get:l}=Zl(s);let c=a.call(s,n);c||(n=$e(n),c=a.call(s,n));const d=l.call(s,n);return s.set(n,o),c?tn(o,d)&&gi(s,"set",n,o):gi(s,"add",n,o),this},delete(n){const o=$e(this),{has:s,get:a}=Zl(o);let l=s.call(o,n);l||(n=$e(n),l=s.call(o,n)),a&&a.call(o,n);const c=o.delete(n);return l&&gi(o,"delete",n,void 0),c},clear(){const n=$e(this),o=n.size!==0,s=n.clear();return o&&gi(n,"clear",void 0,void 0),s}}),["keys","values","entries",Symbol.iterator].forEach(n=>{r[n]=vC(n,t,e)}),r}function sg(t,e){const r=gC(t,e);return(i,n,o)=>n==="__v_isReactive"?!t:n==="__v_isReadonly"?t:n==="__v_raw"?i:Reflect.get(Oe(r,n)&&n in i?r:i,n,o)}const mC={get:sg(!1,!1)},yC={get:sg(!1,!0)},bC={get:sg(!0,!1)};const aS=new WeakMap,lS=new WeakMap,cS=new WeakMap,$C=new WeakMap;function wC(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function _C(t){return t.__v_skip||!Object.isExtensible(t)?0:wC(Yk(t))}function Gd(t){return fn(t)?t:ag(t,!1,hC,mC,aS)}function SC(t){return ag(t,!1,pC,yC,lS)}function dS(t){return ag(t,!0,fC,bC,cS)}function ag(t,e,r,i,n){if(!Ve(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=_C(t);if(o===0)return t;const s=n.get(t);if(s)return s;const a=new Proxy(t,o===2?i:r);return n.set(t,a),a}function rn(t){return fn(t)?rn(t.__v_raw):!!(t&&t.__v_isReactive)}function fn(t){return!!(t&&t.__v_isReadonly)}function Er(t){return!!(t&&t.__v_isShallow)}function lg(t){return t?!!t.__v_raw:!1}function $e(t){const e=t&&t.__v_raw;return e?$e(e):t}function cg(t){return!Oe(t,"__v_skip")&&Object.isExtensible(t)&&W_(t,"__v_skip",!0),t}const Ot=t=>Ve(t)?Gd(t):t,cd=t=>Ve(t)?dS(t):t;function at(t){return t?t.__v_isRef===!0:!1}function Wt(t){return EC(t,!1)}function EC(t,e){return at(t)?t:new TC(t,e)}class TC{constructor(e,r){this.dep=new og,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?e:$e(e),this._value=r?e:Ot(e),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(e){const r=this._rawValue,i=this.__v_isShallow||Er(e)||fn(e);e=i?e:$e(e),tn(e,r)&&(this._rawValue=e,this._value=i?e:Ot(e),this.dep.trigger())}}function P(t){return at(t)?t.value:t}const IC={get:(t,e,r)=>e==="__v_raw"?t:P(Reflect.get(t,e,r)),set:(t,e,r,i)=>{const n=t[e];return at(n)&&!at(r)?(n.value=r,!0):Reflect.set(t,e,r,i)}};function uS(t){return rn(t)?t:new Proxy(t,IC)}function OC(t){const e=se(t)?new Array(t.length):{};for(const r in t)e[r]=PC(t,r);return e}class xC{constructor(e,r,i){this._object=e,this._key=r,this._defaultValue=i,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return sC($e(this._object),this._key)}}function PC(t,e,r){const i=t[e];return at(i)?i:new xC(t,e,r)}class kC{constructor(e,r,i){this.fn=e,this.setter=r,this._value=void 0,this.dep=new og(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Oa-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&Fe!==this)return Z_(this,!0),!0}get value(){const e=this.dep.track();return tS(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function CC(t,e,r=!1){let i,n;return ve(t)?i=t:(i=t.get,n=t.set),new kC(i,n,r)}const ec={},dd=new WeakMap;let Nn;function AC(t,e=!1,r=Nn){if(r){let i=dd.get(r);i||dd.set(r,i=[]),i.push(t)}}function DC(t,e,r=je){const{immediate:i,deep:n,once:o,scheduler:s,augmentJob:a,call:l}=r,c=_=>n?_:Er(_)||n===!1||n===0?Xi(_,1):Xi(_);let d,u,h,f,p=!1,g=!1;if(at(t)?(u=()=>t.value,p=Er(t)):rn(t)?(u=()=>c(t),p=!0):se(t)?(g=!0,p=t.some(_=>rn(_)||Er(_)),u=()=>t.map(_=>{if(at(_))return _.value;if(rn(_))return c(_);if(ve(_))return l?l(_,2):_()})):ve(t)?e?u=l?()=>l(t,2):t:u=()=>{if(h){xi();try{h()}finally{Pi()}}const _=Nn;Nn=d;try{return l?l(t,3,[f]):t(f)}finally{Nn=_}}:u=oi,e&&n){const _=u,T=n===!0?1/0:n;u=()=>Xi(_(),T)}const $=G_(),y=()=>{d.stop(),$&&$.active&&eg($.effects,d)};if(o&&e){const _=e;e=(...T)=>{_(...T),y()}}let b=g?new Array(t.length).fill(ec):ec;const S=_=>{if(!(!(d.flags&1)||!d.dirty&&!_))if(e){const T=d.run();if(n||p||(g?T.some((W,q)=>tn(W,b[q])):tn(T,b))){h&&h();const W=Nn;Nn=d;try{const q=[T,b===ec?void 0:g&&b[0]===ec?[]:b,f];b=T,l?l(e,3,q):e(...q)}finally{Nn=W}}}else d.run()};return a&&a(S),d=new X_(u),d.scheduler=s?()=>s(S,!1):S,f=_=>AC(_,!1,d),h=d.onStop=()=>{const _=dd.get(d);if(_){if(l)l(_,4);else for(const T of _)T();dd.delete(d)}},e?i?S(!0):b=d.run():s?s(S.bind(null,!0),!0):d.run(),y.pause=d.pause.bind(d),y.resume=d.resume.bind(d),y.stop=y,y}function Xi(t,e=1/0,r){if(e<=0||!Ve(t)||t.__v_skip||(r=r||new Set,r.has(t)))return t;if(r.add(t),e--,at(t))Xi(t.value,e,r);else if(se(t))for(let i=0;i<t.length;i++)Xi(t[i],e,r);else if(B_(t)||Qo(t))t.forEach(i=>{Xi(i,e,r)});else if(z_(t)){for(const i in t)Xi(t[i],e,r);for(const i of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,i)&&Xi(t[i],e,r)}return t}/**
* @vue/runtime-core v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Za(t,e,r,i){try{return i?t(...i):t()}catch(n){Xd(n,e,r)}}function Lr(t,e,r,i){if(ve(t)){const n=Za(t,e,r,i);return n&&L_(n)&&n.catch(o=>{Xd(o,e,r)}),n}if(se(t)){const n=[];for(let o=0;o<t.length;o++)n.push(Lr(t[o],e,r,i));return n}}function Xd(t,e,r,i=!0){const n=e?e.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:s}=e&&e.appContext.config||je;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${r}`;for(;a;){const d=a.ec;if(d){for(let u=0;u<d.length;u++)if(d[u](t,l,c)===!1)return}a=a.parent}if(o){xi(),Za(o,null,10,[t,l,c]),Pi();return}}MC(t,r,n,i,s)}function MC(t,e,r,i=!0,n=!1){if(n)throw t;console.error(t)}const jt=[];let Qr=-1;const es=[];let Ui=null,Lo=0;const hS=Promise.resolve();let ud=null;function dg(t){const e=ud||hS;return t?e.then(this?t.bind(this):t):e}function RC(t){let e=Qr+1,r=jt.length;for(;e<r;){const i=e+r>>>1,n=jt[i],o=Pa(n);o<t||o===t&&n.flags&2?e=i+1:r=i}return e}function ug(t){if(!(t.flags&1)){const e=Pa(t),r=jt[jt.length-1];!r||!(t.flags&2)&&e>=Pa(r)?jt.push(t):jt.splice(RC(e),0,t),t.flags|=1,fS()}}function fS(){ud||(ud=hS.then(vS))}function NC(t){se(t)?es.push(...t):Ui&&t.id===-1?Ui.splice(Lo+1,0,t):t.flags&1||(es.push(t),t.flags|=1),fS()}function Qm(t,e,r=Qr+1){for(;r<jt.length;r++){const i=jt[r];if(i&&i.flags&2){if(t&&i.id!==t.uid)continue;jt.splice(r,1),r--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function pS(t){if(es.length){const e=[...new Set(es)].sort((r,i)=>Pa(r)-Pa(i));if(es.length=0,Ui){Ui.push(...e);return}for(Ui=e,Lo=0;Lo<Ui.length;Lo++){const r=Ui[Lo];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}Ui=null,Lo=0}}const Pa=t=>t.id==null?t.flags&2?-1:1/0:t.id;function vS(t){try{for(Qr=0;Qr<jt.length;Qr++){const e=jt[Qr];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Za(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Qr<jt.length;Qr++){const e=jt[Qr];e&&(e.flags&=-2)}Qr=-1,jt.length=0,pS(),ud=null,(jt.length||es.length)&&vS()}}let _r=null,gS=null;function hd(t){const e=_r;return _r=t,gS=t&&t.type.__scopeId||null,e}function pn(t,e=_r,r){if(!e||t._n)return t;const i=(...n)=>{i._d&&cy(-1);const o=hd(e);let s;try{s=t(...n)}finally{hd(o),i._d&&cy(1)}return s};return i._n=!0,i._c=!0,i._d=!0,i}function kn(t,e,r,i){const n=t.dirs,o=e&&e.dirs;for(let s=0;s<n.length;s++){const a=n[s];o&&(a.oldValue=o[s].value);let l=a.dir[i];l&&(xi(),Lr(l,r,8,[t.el,a,t,e]),Pi())}}const FC=Symbol("_vte"),mS=t=>t.__isTeleport,Yi=Symbol("_leaveCb"),tc=Symbol("_enterCb");function BC(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Qa(()=>{t.isMounted=!0}),TS(()=>{t.isUnmounting=!0}),t}const yr=[Function,Array],yS={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:yr,onEnter:yr,onAfterEnter:yr,onEnterCancelled:yr,onBeforeLeave:yr,onLeave:yr,onAfterLeave:yr,onLeaveCancelled:yr,onBeforeAppear:yr,onAppear:yr,onAfterAppear:yr,onAppearCancelled:yr},bS=t=>{const e=t.subTree;return e.component?bS(e.component):e},LC={name:"BaseTransition",props:yS,setup(t,{slots:e}){const r=RA(),i=BC();return()=>{const n=e.default&&_S(e.default(),!0);if(!n||!n.length)return;const o=$S(n),s=$e(t),{mode:a}=s;if(i.isLeaving)return ch(o);const l=ey(o);if(!l)return ch(o);let c=Dp(l,s,i,r,u=>c=u);l.type!==Ht&&ka(l,c);let d=r.subTree&&ey(r.subTree);if(d&&d.type!==Ht&&!Bn(l,d)&&bS(r).type!==Ht){let u=Dp(d,s,i,r);if(ka(d,u),a==="out-in"&&l.type!==Ht)return i.isLeaving=!0,u.afterLeave=()=>{i.isLeaving=!1,r.job.flags&8||r.update(),delete u.afterLeave,d=void 0},ch(o);a==="in-out"&&l.type!==Ht?u.delayLeave=(h,f,p)=>{const g=wS(i,d);g[String(d.key)]=d,h[Yi]=()=>{f(),h[Yi]=void 0,delete c.delayedLeave,d=void 0},c.delayedLeave=()=>{p(),delete c.delayedLeave,d=void 0}}:d=void 0}else d&&(d=void 0);return o}}};function $S(t){let e=t[0];if(t.length>1){for(const r of t)if(r.type!==Ht){e=r;break}}return e}const jC=LC;function wS(t,e){const{leavingVNodes:r}=t;let i=r.get(e.type);return i||(i=Object.create(null),r.set(e.type,i)),i}function Dp(t,e,r,i,n){const{appear:o,mode:s,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:d,onEnterCancelled:u,onBeforeLeave:h,onLeave:f,onAfterLeave:p,onLeaveCancelled:g,onBeforeAppear:$,onAppear:y,onAfterAppear:b,onAppearCancelled:S}=e,_=String(t.key),T=wS(r,t),W=(C,X)=>{C&&Lr(C,i,9,X)},q=(C,X)=>{const ue=X[1];W(C,X),se(C)?C.every(j=>j.length<=1)&&ue():C.length<=1&&ue()},z={mode:s,persisted:a,beforeEnter(C){let X=l;if(!r.isMounted)if(o)X=$||l;else return;C[Yi]&&C[Yi](!0);const ue=T[_];ue&&Bn(t,ue)&&ue.el[Yi]&&ue.el[Yi](),W(X,[C])},enter(C){let X=c,ue=d,j=u;if(!r.isMounted)if(o)X=y||c,ue=b||d,j=S||u;else return;let he=!1;const Se=C[tc]=ye=>{he||(he=!0,ye?W(j,[C]):W(ue,[C]),z.delayedLeave&&z.delayedLeave(),C[tc]=void 0)};X?q(X,[C,Se]):Se()},leave(C,X){const ue=String(t.key);if(C[tc]&&C[tc](!0),r.isUnmounting)return X();W(h,[C]);let j=!1;const he=C[Yi]=Se=>{j||(j=!0,X(),Se?W(g,[C]):W(p,[C]),C[Yi]=void 0,T[ue]===t&&delete T[ue])};T[ue]=t,f?q(f,[C,he]):he()},clone(C){const X=Dp(C,e,r,i,n);return n&&n(X),X}};return z}function ch(t){if(Jd(t))return t=vn(t),t.children=null,t}function ey(t){if(!Jd(t))return mS(t.type)&&t.children?$S(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:e,children:r}=t;if(r){if(e&16)return r[0];if(e&32&&ve(r.default))return r.default()}}function ka(t,e){t.shapeFlag&6&&t.component?(t.transition=e,ka(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function _S(t,e=!1,r){let i=[],n=0;for(let o=0;o<t.length;o++){let s=t[o];const a=r==null?s.key:String(r)+String(s.key!=null?s.key:o);s.type===_e?(s.patchFlag&128&&n++,i=i.concat(_S(s.children,e,a))):(e||s.type!==Ht)&&i.push(a!=null?vn(s,{key:a}):s)}if(n>1)for(let o=0;o<i.length;o++)i[o].patchFlag=-2;return i}/*! #__NO_SIDE_EFFECTS__ */function He(t,e){return ve(t)?wt({name:t.name},e,{setup:t}):t}function SS(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function fd(t,e,r,i,n=!1){if(se(t)){t.forEach((p,g)=>fd(p,e&&(se(e)?e[g]:e),r,i,n));return}if(ua(i)&&!n){i.shapeFlag&512&&i.type.__asyncResolved&&i.component.subTree.component&&fd(t,e,r,i.component.subTree);return}const o=i.shapeFlag&4?vg(i.component):i.el,s=n?null:o,{i:a,r:l}=t,c=e&&e.r,d=a.refs===je?a.refs={}:a.refs,u=a.setupState,h=$e(u),f=u===je?()=>!1:p=>Oe(h,p);if(c!=null&&c!==l&&(ct(c)?(d[c]=null,f(c)&&(u[c]=null)):at(c)&&(c.value=null)),ve(l))Za(l,a,12,[s,d]);else{const p=ct(l),g=at(l);if(p||g){const $=()=>{if(t.f){const y=p?f(l)?u[l]:d[l]:l.value;n?se(y)&&eg(y,o):se(y)?y.includes(o)||y.push(o):p?(d[l]=[o],f(l)&&(u[l]=d[l])):(l.value=[o],t.k&&(d[t.k]=l.value))}else p?(d[l]=s,f(l)&&(u[l]=s)):g&&(l.value=s,t.k&&(d[t.k]=s))};s?($.id=-1,cr($,r)):$()}}}qd().requestIdleCallback;qd().cancelIdleCallback;const ua=t=>!!t.type.__asyncLoader,Jd=t=>t.type.__isKeepAlive;function zC(t,e){ES(t,"a",e)}function HC(t,e){ES(t,"da",e)}function ES(t,e,r=xt){const i=t.__wdc||(t.__wdc=()=>{let n=r;for(;n;){if(n.isDeactivated)return;n=n.parent}return t()});if(Zd(e,i,r),r){let n=r.parent;for(;n&&n.parent;)Jd(n.parent.vnode)&&WC(i,e,r,n),n=n.parent}}function WC(t,e,r,i){const n=Zd(e,t,i,!0);IS(()=>{eg(i[e],n)},r)}function Zd(t,e,r=xt,i=!1){if(r){const n=r[t]||(r[t]=[]),o=e.__weh||(e.__weh=(...s)=>{xi();const a=el(r),l=Lr(e,r,t,s);return a(),Pi(),l});return i?n.unshift(o):n.push(o),o}}const Ri=t=>(e,r=xt)=>{(!Aa||t==="sp")&&Zd(t,(...i)=>e(...i),r)},VC=Ri("bm"),Qa=Ri("m"),UC=Ri("bu"),YC=Ri("u"),TS=Ri("bum"),IS=Ri("um"),qC=Ri("sp"),KC=Ri("rtg"),GC=Ri("rtc");function XC(t,e=xt){Zd("ec",t,e)}const JC=Symbol.for("v-ndc");function jr(t,e,r,i){let n;const o=r,s=se(t);if(s||ct(t)){const a=s&&rn(t);let l=!1,c=!1;a&&(l=!Er(t),c=fn(t),t=Kd(t)),n=new Array(t.length);for(let d=0,u=t.length;d<u;d++)n[d]=e(l?c?cd(Ot(t[d])):Ot(t[d]):t[d],d,void 0,o)}else if(typeof t=="number"){n=new Array(t);for(let a=0;a<t;a++)n[a]=e(a+1,a,void 0,o)}else if(Ve(t))if(t[Symbol.iterator])n=Array.from(t,(a,l)=>e(a,l,void 0,o));else{const a=Object.keys(t);n=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const d=a[l];n[l]=e(t[d],d,l,o)}}else n=[];return n}const Mp=t=>t?YS(t)?vg(t):Mp(t.parent):null,ha=wt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Mp(t.parent),$root:t=>Mp(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>xS(t),$forceUpdate:t=>t.f||(t.f=()=>{ug(t.update)}),$nextTick:t=>t.n||(t.n=dg.bind(t.proxy)),$watch:t=>$A.bind(t)}),dh=(t,e)=>t!==je&&!t.__isScriptSetup&&Oe(t,e),ZC={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:r,setupState:i,data:n,props:o,accessCache:s,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const f=s[e];if(f!==void 0)switch(f){case 1:return i[e];case 2:return n[e];case 4:return r[e];case 3:return o[e]}else{if(dh(i,e))return s[e]=1,i[e];if(n!==je&&Oe(n,e))return s[e]=2,n[e];if((c=t.propsOptions[0])&&Oe(c,e))return s[e]=3,o[e];if(r!==je&&Oe(r,e))return s[e]=4,r[e];Rp&&(s[e]=0)}}const d=ha[e];let u,h;if(d)return e==="$attrs"&&Mt(t.attrs,"get",""),d(t);if((u=a.__cssModules)&&(u=u[e]))return u;if(r!==je&&Oe(r,e))return s[e]=4,r[e];if(h=l.config.globalProperties,Oe(h,e))return h[e]},set({_:t},e,r){const{data:i,setupState:n,ctx:o}=t;return dh(n,e)?(n[e]=r,!0):i!==je&&Oe(i,e)?(i[e]=r,!0):Oe(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(o[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:i,appContext:n,propsOptions:o}},s){let a;return!!r[s]||t!==je&&Oe(t,s)||dh(e,s)||(a=o[0])&&Oe(a,s)||Oe(i,s)||Oe(ha,s)||Oe(n.config.globalProperties,s)},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:Oe(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}};function ty(t){return se(t)?t.reduce((e,r)=>(e[r]=null,e),{}):t}let Rp=!0;function QC(t){const e=xS(t),r=t.proxy,i=t.ctx;Rp=!1,e.beforeCreate&&ry(e.beforeCreate,t,"bc");const{data:n,computed:o,methods:s,watch:a,provide:l,inject:c,created:d,beforeMount:u,mounted:h,beforeUpdate:f,updated:p,activated:g,deactivated:$,beforeDestroy:y,beforeUnmount:b,destroyed:S,unmounted:_,render:T,renderTracked:W,renderTriggered:q,errorCaptured:z,serverPrefetch:C,expose:X,inheritAttrs:ue,components:j,directives:he,filters:Se}=e;if(c&&eA(c,i,null),s)for(const K in s){const ce=s[K];ve(ce)&&(i[K]=ce.bind(r))}if(n){const K=n.call(r,r);Ve(K)&&(t.data=Gd(K))}if(Rp=!0,o)for(const K in o){const ce=o[K],Ae=ve(ce)?ce.bind(r,r):ve(ce.get)?ce.get.bind(r,r):oi,Ge=!ve(ce)&&ve(ce.set)?ce.set.bind(r):oi,Et=we({get:Ae,set:Ge});Object.defineProperty(i,K,{enumerable:!0,configurable:!0,get:()=>Et.value,set:ot=>Et.value=ot})}if(a)for(const K in a)OS(a[K],i,r,K);if(l){const K=ve(l)?l.call(r):l;Reflect.ownKeys(K).forEach(ce=>{sA(ce,K[ce])})}d&&ry(d,t,"c");function Q(K,ce){se(ce)?ce.forEach(Ae=>K(Ae.bind(r))):ce&&K(ce.bind(r))}if(Q(VC,u),Q(Qa,h),Q(UC,f),Q(YC,p),Q(zC,g),Q(HC,$),Q(XC,z),Q(GC,W),Q(KC,q),Q(TS,b),Q(IS,_),Q(qC,C),se(X))if(X.length){const K=t.exposed||(t.exposed={});X.forEach(ce=>{Object.defineProperty(K,ce,{get:()=>r[ce],set:Ae=>r[ce]=Ae})})}else t.exposed||(t.exposed={});T&&t.render===oi&&(t.render=T),ue!=null&&(t.inheritAttrs=ue),j&&(t.components=j),he&&(t.directives=he),C&&SS(t)}function eA(t,e,r=oi){se(t)&&(t=Np(t));for(const i in t){const n=t[i];let o;Ve(n)?"default"in n?o=fa(n.from||i,n.default,!0):o=fa(n.from||i):o=fa(n),at(o)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>o.value,set:s=>o.value=s}):e[i]=o}}function ry(t,e,r){Lr(se(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,r)}function OS(t,e,r,i){let n=i.includes(".")?zS(r,i):()=>r[i];if(ct(t)){const o=e[t];ve(o)&&fr(n,o)}else if(ve(t))fr(n,t.bind(r));else if(Ve(t))if(se(t))t.forEach(o=>OS(o,e,r,i));else{const o=ve(t.handler)?t.handler.bind(r):e[t.handler];ve(o)&&fr(n,o,t)}}function xS(t){const e=t.type,{mixins:r,extends:i}=e,{mixins:n,optionsCache:o,config:{optionMergeStrategies:s}}=t.appContext,a=o.get(e);let l;return a?l=a:!n.length&&!r&&!i?l=e:(l={},n.length&&n.forEach(c=>pd(l,c,s,!0)),pd(l,e,s)),Ve(e)&&o.set(e,l),l}function pd(t,e,r,i=!1){const{mixins:n,extends:o}=e;o&&pd(t,o,r,!0),n&&n.forEach(s=>pd(t,s,r,!0));for(const s in e)if(!(i&&s==="expose")){const a=tA[s]||r&&r[s];t[s]=a?a(t[s],e[s]):e[s]}return t}const tA={data:iy,props:ny,emits:ny,methods:ia,computed:ia,beforeCreate:Ft,created:Ft,beforeMount:Ft,mounted:Ft,beforeUpdate:Ft,updated:Ft,beforeDestroy:Ft,beforeUnmount:Ft,destroyed:Ft,unmounted:Ft,activated:Ft,deactivated:Ft,errorCaptured:Ft,serverPrefetch:Ft,components:ia,directives:ia,watch:iA,provide:iy,inject:rA};function iy(t,e){return e?t?function(){return wt(ve(t)?t.call(this,this):t,ve(e)?e.call(this,this):e)}:e:t}function rA(t,e){return ia(Np(t),Np(e))}function Np(t){if(se(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function Ft(t,e){return t?[...new Set([].concat(t,e))]:e}function ia(t,e){return t?wt(Object.create(null),t,e):e}function ny(t,e){return t?se(t)&&se(e)?[...new Set([...t,...e])]:wt(Object.create(null),ty(t),ty(e??{})):e}function iA(t,e){if(!t)return e;if(!e)return t;const r=wt(Object.create(null),t);for(const i in e)r[i]=Ft(t[i],e[i]);return r}function PS(){return{app:null,config:{isNativeTag:Vk,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let nA=0;function oA(t,e){return function(i,n=null){ve(i)||(i=wt({},i)),n!=null&&!Ve(n)&&(n=null);const o=PS(),s=new WeakSet,a=[];let l=!1;const c=o.app={_uid:nA++,_component:i,_props:n,_container:null,_context:o,_instance:null,version:HA,get config(){return o.config},set config(d){},use(d,...u){return s.has(d)||(d&&ve(d.install)?(s.add(d),d.install(c,...u)):ve(d)&&(s.add(d),d(c,...u))),c},mixin(d){return o.mixins.includes(d)||o.mixins.push(d),c},component(d,u){return u?(o.components[d]=u,c):o.components[d]},directive(d,u){return u?(o.directives[d]=u,c):o.directives[d]},mount(d,u,h){if(!l){const f=c._ceVNode||We(i,n);return f.appContext=o,h===!0?h="svg":h===!1&&(h=void 0),t(f,d,h),l=!0,c._container=d,d.__vue_app__=c,vg(f.component)}},onUnmount(d){a.push(d)},unmount(){l&&(Lr(a,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(d,u){return o.provides[d]=u,c},runWithContext(d){const u=Wn;Wn=c;try{return d()}finally{Wn=u}}};return c}}let Wn=null;function sA(t,e){if(xt){let r=xt.provides;const i=xt.parent&&xt.parent.provides;i===r&&(r=xt.provides=Object.create(i)),r[t]=e}}function fa(t,e,r=!1){const i=xt||_r;if(i||Wn){let n=Wn?Wn._context.provides:i?i.parent==null||i.ce?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(n&&t in n)return n[t];if(arguments.length>1)return r&&ve(e)?e.call(i&&i.proxy):e}}function aA(){return!!(xt||_r||Wn)}const kS={},CS=()=>Object.create(kS),AS=t=>Object.getPrototypeOf(t)===kS;function lA(t,e,r,i=!1){const n={},o=CS();t.propsDefaults=Object.create(null),DS(t,e,n,o);for(const s in t.propsOptions[0])s in n||(n[s]=void 0);r?t.props=i?n:SC(n):t.type.props?t.props=n:t.props=o,t.attrs=o}function cA(t,e,r,i){const{props:n,attrs:o,vnode:{patchFlag:s}}=t,a=$e(n),[l]=t.propsOptions;let c=!1;if((i||s>0)&&!(s&16)){if(s&8){const d=t.vnode.dynamicProps;for(let u=0;u<d.length;u++){let h=d[u];if(Qd(t.emitsOptions,h))continue;const f=e[h];if(l)if(Oe(o,h))f!==o[h]&&(o[h]=f,c=!0);else{const p=hn(h);n[p]=Fp(l,a,p,f,t,!1)}else f!==o[h]&&(o[h]=f,c=!0)}}}else{DS(t,e,n,o)&&(c=!0);let d;for(const u in a)(!e||!Oe(e,u)&&((d=ho(u))===u||!Oe(e,d)))&&(l?r&&(r[u]!==void 0||r[d]!==void 0)&&(n[u]=Fp(l,a,u,void 0,t,!0)):delete n[u]);if(o!==a)for(const u in o)(!e||!Oe(e,u))&&(delete o[u],c=!0)}c&&gi(t.attrs,"set","")}function DS(t,e,r,i){const[n,o]=t.propsOptions;let s=!1,a;if(e)for(let l in e){if(la(l))continue;const c=e[l];let d;n&&Oe(n,d=hn(l))?!o||!o.includes(d)?r[d]=c:(a||(a={}))[d]=c:Qd(t.emitsOptions,l)||(!(l in i)||c!==i[l])&&(i[l]=c,s=!0)}if(o){const l=$e(r),c=a||je;for(let d=0;d<o.length;d++){const u=o[d];r[u]=Fp(n,l,u,c[u],t,!Oe(c,u))}}return s}function Fp(t,e,r,i,n,o){const s=t[r];if(s!=null){const a=Oe(s,"default");if(a&&i===void 0){const l=s.default;if(s.type!==Function&&!s.skipFactory&&ve(l)){const{propsDefaults:c}=n;if(r in c)i=c[r];else{const d=el(n);i=c[r]=l.call(null,e),d()}}else i=l;n.ce&&n.ce._setProp(r,i)}s[0]&&(o&&!a?i=!1:s[1]&&(i===""||i===ho(r))&&(i=!0))}return i}const dA=new WeakMap;function MS(t,e,r=!1){const i=r?dA:e.propsCache,n=i.get(t);if(n)return n;const o=t.props,s={},a=[];let l=!1;if(!ve(t)){const d=u=>{l=!0;const[h,f]=MS(u,e,!0);wt(s,h),f&&a.push(...f)};!r&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}if(!o&&!l)return Ve(t)&&i.set(t,Zo),Zo;if(se(o))for(let d=0;d<o.length;d++){const u=hn(o[d]);oy(u)&&(s[u]=je)}else if(o)for(const d in o){const u=hn(d);if(oy(u)){const h=o[d],f=s[u]=se(h)||ve(h)?{type:h}:wt({},h),p=f.type;let g=!1,$=!0;if(se(p))for(let y=0;y<p.length;++y){const b=p[y],S=ve(b)&&b.name;if(S==="Boolean"){g=!0;break}else S==="String"&&($=!1)}else g=ve(p)&&p.name==="Boolean";f[0]=g,f[1]=$,(g||Oe(f,"default"))&&a.push(u)}}const c=[s,a];return Ve(t)&&i.set(t,c),c}function oy(t){return t[0]!=="$"&&!la(t)}const hg=t=>t[0]==="_"||t==="$stable",fg=t=>se(t)?t.map(ei):[ei(t)],uA=(t,e,r)=>{if(e._n)return e;const i=pn((...n)=>fg(e(...n)),r);return i._c=!1,i},RS=(t,e,r)=>{const i=t._ctx;for(const n in t){if(hg(n))continue;const o=t[n];if(ve(o))e[n]=uA(n,o,i);else if(o!=null){const s=fg(o);e[n]=()=>s}}},NS=(t,e)=>{const r=fg(e);t.slots.default=()=>r},FS=(t,e,r)=>{for(const i in e)(r||!hg(i))&&(t[i]=e[i])},hA=(t,e,r)=>{const i=t.slots=CS();if(t.vnode.shapeFlag&32){const n=e._;n?(FS(i,e,r),r&&W_(i,"_",n,!0)):RS(e,i)}else e&&NS(t,e)},fA=(t,e,r)=>{const{vnode:i,slots:n}=t;let o=!0,s=je;if(i.shapeFlag&32){const a=e._;a?r&&a===1?o=!1:FS(n,e,r):(o=!e.$stable,RS(e,n)),s=e}else e&&(NS(t,e),s={default:1});if(o)for(const a in n)!hg(a)&&s[a]==null&&delete n[a]},cr=OA;function pA(t){return vA(t)}function vA(t,e){const r=qd();r.__VUE__=!0;const{insert:i,remove:n,patchProp:o,createElement:s,createText:a,createComment:l,setText:c,setElementText:d,parentNode:u,nextSibling:h,setScopeId:f=oi,insertStaticContent:p}=t,g=(v,m,w,O=null,I=null,x=null,H=void 0,F=null,R=!!m.dynamicChildren)=>{if(v===m)return;v&&!Bn(v,m)&&(O=ji(v),ot(v,I,x,!0),v=null),m.patchFlag===-2&&(R=!1,m.dynamicChildren=null);const{type:A,ref:ie,shapeFlag:Y}=m;switch(A){case eu:$(v,m,w,O);break;case Ht:y(v,m,w,O);break;case hh:v==null&&b(m,w,O,H);break;case _e:j(v,m,w,O,I,x,H,F,R);break;default:Y&1?T(v,m,w,O,I,x,H,F,R):Y&6?he(v,m,w,O,I,x,H,F,R):(Y&64||Y&128)&&A.process(v,m,w,O,I,x,H,F,R,k)}ie!=null&&I&&fd(ie,v&&v.ref,x,m||v,!m)},$=(v,m,w,O)=>{if(v==null)i(m.el=a(m.children),w,O);else{const I=m.el=v.el;m.children!==v.children&&c(I,m.children)}},y=(v,m,w,O)=>{v==null?i(m.el=l(m.children||""),w,O):m.el=v.el},b=(v,m,w,O)=>{[v.el,v.anchor]=p(v.children,m,w,O,v.el,v.anchor)},S=({el:v,anchor:m},w,O)=>{let I;for(;v&&v!==m;)I=h(v),i(v,w,O),v=I;i(m,w,O)},_=({el:v,anchor:m})=>{let w;for(;v&&v!==m;)w=h(v),n(v),v=w;n(m)},T=(v,m,w,O,I,x,H,F,R)=>{m.type==="svg"?H="svg":m.type==="math"&&(H="mathml"),v==null?W(m,w,O,I,x,H,F,R):C(v,m,I,x,H,F,R)},W=(v,m,w,O,I,x,H,F)=>{let R,A;const{props:ie,shapeFlag:Y,transition:re,dirs:pe}=v;if(R=v.el=s(v.type,x,ie&&ie.is,ie),Y&8?d(R,v.children):Y&16&&z(v.children,R,null,O,I,uh(v,x),H,F),pe&&kn(v,null,O,"created"),q(R,v,v.scopeId,H,O),ie){for(const Ne in ie)Ne!=="value"&&!la(Ne)&&o(R,Ne,null,ie[Ne],x,O);"value"in ie&&o(R,"value",null,ie.value,x),(A=ie.onVnodeBeforeMount)&&Gr(A,O,v)}pe&&kn(v,null,O,"beforeMount");const be=gA(I,re);be&&re.beforeEnter(R),i(R,m,w),((A=ie&&ie.onVnodeMounted)||be||pe)&&cr(()=>{A&&Gr(A,O,v),be&&re.enter(R),pe&&kn(v,null,O,"mounted")},I)},q=(v,m,w,O,I)=>{if(w&&f(v,w),O)for(let x=0;x<O.length;x++)f(v,O[x]);if(I){let x=I.subTree;if(m===x||WS(x.type)&&(x.ssContent===m||x.ssFallback===m)){const H=I.vnode;q(v,H,H.scopeId,H.slotScopeIds,I.parent)}}},z=(v,m,w,O,I,x,H,F,R=0)=>{for(let A=R;A<v.length;A++){const ie=v[A]=F?qi(v[A]):ei(v[A]);g(null,ie,m,w,O,I,x,H,F)}},C=(v,m,w,O,I,x,H)=>{const F=m.el=v.el;let{patchFlag:R,dynamicChildren:A,dirs:ie}=m;R|=v.patchFlag&16;const Y=v.props||je,re=m.props||je;let pe;if(w&&Cn(w,!1),(pe=re.onVnodeBeforeUpdate)&&Gr(pe,w,m,v),ie&&kn(m,v,w,"beforeUpdate"),w&&Cn(w,!0),(Y.innerHTML&&re.innerHTML==null||Y.textContent&&re.textContent==null)&&d(F,""),A?X(v.dynamicChildren,A,F,w,O,uh(m,I),x):H||ce(v,m,F,null,w,O,uh(m,I),x,!1),R>0){if(R&16)ue(F,Y,re,w,I);else if(R&2&&Y.class!==re.class&&o(F,"class",null,re.class,I),R&4&&o(F,"style",Y.style,re.style,I),R&8){const be=m.dynamicProps;for(let Ne=0;Ne<be.length;Ne++){const Pe=be[Ne],sr=Y[Pe],qt=re[Pe];(qt!==sr||Pe==="value")&&o(F,Pe,sr,qt,I,w)}}R&1&&v.children!==m.children&&d(F,m.children)}else!H&&A==null&&ue(F,Y,re,w,I);((pe=re.onVnodeUpdated)||ie)&&cr(()=>{pe&&Gr(pe,w,m,v),ie&&kn(m,v,w,"updated")},O)},X=(v,m,w,O,I,x,H)=>{for(let F=0;F<m.length;F++){const R=v[F],A=m[F],ie=R.el&&(R.type===_e||!Bn(R,A)||R.shapeFlag&198)?u(R.el):w;g(R,A,ie,null,O,I,x,H,!0)}},ue=(v,m,w,O,I)=>{if(m!==w){if(m!==je)for(const x in m)!la(x)&&!(x in w)&&o(v,x,m[x],null,I,O);for(const x in w){if(la(x))continue;const H=w[x],F=m[x];H!==F&&x!=="value"&&o(v,x,F,H,I,O)}"value"in w&&o(v,"value",m.value,w.value,I)}},j=(v,m,w,O,I,x,H,F,R)=>{const A=m.el=v?v.el:a(""),ie=m.anchor=v?v.anchor:a("");let{patchFlag:Y,dynamicChildren:re,slotScopeIds:pe}=m;pe&&(F=F?F.concat(pe):pe),v==null?(i(A,w,O),i(ie,w,O),z(m.children||[],w,ie,I,x,H,F,R)):Y>0&&Y&64&&re&&v.dynamicChildren?(X(v.dynamicChildren,re,w,I,x,H,F),(m.key!=null||I&&m===I.subTree)&&BS(v,m,!0)):ce(v,m,w,ie,I,x,H,F,R)},he=(v,m,w,O,I,x,H,F,R)=>{m.slotScopeIds=F,v==null?m.shapeFlag&512?I.ctx.activate(m,w,O,H,R):Se(m,w,O,I,x,H,R):ye(v,m,R)},Se=(v,m,w,O,I,x,H)=>{const F=v.component=MA(v,O,I);if(Jd(v)&&(F.ctx.renderer=k),NA(F,!1,H),F.asyncDep){if(I&&I.registerDep(F,Q,H),!v.el){const R=F.subTree=We(Ht);y(null,R,m,w)}}else Q(F,v,m,w,I,x,H)},ye=(v,m,w)=>{const O=m.component=v.component;if(TA(v,m,w))if(O.asyncDep&&!O.asyncResolved){K(O,m,w);return}else O.next=m,O.update();else m.el=v.el,O.vnode=m},Q=(v,m,w,O,I,x,H)=>{const F=()=>{if(v.isMounted){let{next:Y,bu:re,u:pe,parent:be,vnode:Ne}=v;{const qr=LS(v);if(qr){Y&&(Y.el=Ne.el,K(v,Y,H)),qr.asyncDep.then(()=>{v.isUnmounted||F()});return}}let Pe=Y,sr;Cn(v,!1),Y?(Y.el=Ne.el,K(v,Y,H)):Y=Ne,re&&nh(re),(sr=Y.props&&Y.props.onVnodeBeforeUpdate)&&Gr(sr,be,Y,Ne),Cn(v,!0);const qt=ay(v),Yr=v.subTree;v.subTree=qt,g(Yr,qt,u(Yr.el),ji(Yr),v,I,x),Y.el=qt.el,Pe===null&&IA(v,qt.el),pe&&cr(pe,I),(sr=Y.props&&Y.props.onVnodeUpdated)&&cr(()=>Gr(sr,be,Y,Ne),I)}else{let Y;const{el:re,props:pe}=m,{bm:be,m:Ne,parent:Pe,root:sr,type:qt}=v,Yr=ua(m);Cn(v,!1),be&&nh(be),!Yr&&(Y=pe&&pe.onVnodeBeforeMount)&&Gr(Y,Pe,m),Cn(v,!0);{sr.ce&&sr.ce._injectChildStyle(qt);const qr=v.subTree=ay(v);g(null,qr,w,O,v,I,x),m.el=qr.el}if(Ne&&cr(Ne,I),!Yr&&(Y=pe&&pe.onVnodeMounted)){const qr=m;cr(()=>Gr(Y,Pe,qr),I)}(m.shapeFlag&256||Pe&&ua(Pe.vnode)&&Pe.vnode.shapeFlag&256)&&v.a&&cr(v.a,I),v.isMounted=!0,m=w=O=null}};v.scope.on();const R=v.effect=new X_(F);v.scope.off();const A=v.update=R.run.bind(R),ie=v.job=R.runIfDirty.bind(R);ie.i=v,ie.id=v.uid,R.scheduler=()=>ug(ie),Cn(v,!0),A()},K=(v,m,w)=>{m.component=v;const O=v.vnode.props;v.vnode=m,v.next=null,cA(v,m.props,O,w),fA(v,m.children,w),xi(),Qm(v),Pi()},ce=(v,m,w,O,I,x,H,F,R=!1)=>{const A=v&&v.children,ie=v?v.shapeFlag:0,Y=m.children,{patchFlag:re,shapeFlag:pe}=m;if(re>0){if(re&128){Ge(A,Y,w,O,I,x,H,F,R);return}else if(re&256){Ae(A,Y,w,O,I,x,H,F,R);return}}pe&8?(ie&16&&hi(A,I,x),Y!==A&&d(w,Y)):ie&16?pe&16?Ge(A,Y,w,O,I,x,H,F,R):hi(A,I,x,!0):(ie&8&&d(w,""),pe&16&&z(Y,w,O,I,x,H,F,R))},Ae=(v,m,w,O,I,x,H,F,R)=>{v=v||Zo,m=m||Zo;const A=v.length,ie=m.length,Y=Math.min(A,ie);let re;for(re=0;re<Y;re++){const pe=m[re]=R?qi(m[re]):ei(m[re]);g(v[re],pe,w,null,I,x,H,F,R)}A>ie?hi(v,I,x,!0,!1,Y):z(m,w,O,I,x,H,F,R,Y)},Ge=(v,m,w,O,I,x,H,F,R)=>{let A=0;const ie=m.length;let Y=v.length-1,re=ie-1;for(;A<=Y&&A<=re;){const pe=v[A],be=m[A]=R?qi(m[A]):ei(m[A]);if(Bn(pe,be))g(pe,be,w,null,I,x,H,F,R);else break;A++}for(;A<=Y&&A<=re;){const pe=v[Y],be=m[re]=R?qi(m[re]):ei(m[re]);if(Bn(pe,be))g(pe,be,w,null,I,x,H,F,R);else break;Y--,re--}if(A>Y){if(A<=re){const pe=re+1,be=pe<ie?m[pe].el:O;for(;A<=re;)g(null,m[A]=R?qi(m[A]):ei(m[A]),w,be,I,x,H,F,R),A++}}else if(A>re)for(;A<=Y;)ot(v[A],I,x,!0),A++;else{const pe=A,be=A,Ne=new Map;for(A=be;A<=re;A++){const ar=m[A]=R?qi(m[A]):ei(m[A]);ar.key!=null&&Ne.set(ar.key,A)}let Pe,sr=0;const qt=re-be+1;let Yr=!1,qr=0;const Ys=new Array(qt);for(A=0;A<qt;A++)Ys[A]=0;for(A=pe;A<=Y;A++){const ar=v[A];if(sr>=qt){ot(ar,I,x,!0);continue}let Kr;if(ar.key!=null)Kr=Ne.get(ar.key);else for(Pe=be;Pe<=re;Pe++)if(Ys[Pe-be]===0&&Bn(ar,m[Pe])){Kr=Pe;break}Kr===void 0?ot(ar,I,x,!0):(Ys[Kr-be]=A+1,Kr>=qr?qr=Kr:Yr=!0,g(ar,m[Kr],w,null,I,x,H,F,R),sr++)}const Km=Yr?mA(Ys):Zo;for(Pe=Km.length-1,A=qt-1;A>=0;A--){const ar=be+A,Kr=m[ar],Gm=ar+1<ie?m[ar+1].el:O;Ys[A]===0?g(null,Kr,w,Gm,I,x,H,F,R):Yr&&(Pe<0||A!==Km[Pe]?Et(Kr,w,Gm,2):Pe--)}}},Et=(v,m,w,O,I=null)=>{const{el:x,type:H,transition:F,children:R,shapeFlag:A}=v;if(A&6){Et(v.component.subTree,m,w,O);return}if(A&128){v.suspense.move(m,w,O);return}if(A&64){H.move(v,m,w,k);return}if(H===_e){i(x,m,w);for(let Y=0;Y<R.length;Y++)Et(R[Y],m,w,O);i(v.anchor,m,w);return}if(H===hh){S(v,m,w);return}if(O!==2&&A&1&&F)if(O===0)F.beforeEnter(x),i(x,m,w),cr(()=>F.enter(x),I);else{const{leave:Y,delayLeave:re,afterLeave:pe}=F,be=()=>{v.ctx.isUnmounted?n(x):i(x,m,w)},Ne=()=>{Y(x,()=>{be(),pe&&pe()})};re?re(x,be,Ne):Ne()}else i(x,m,w)},ot=(v,m,w,O=!1,I=!1)=>{const{type:x,props:H,ref:F,children:R,dynamicChildren:A,shapeFlag:ie,patchFlag:Y,dirs:re,cacheIndex:pe}=v;if(Y===-2&&(I=!1),F!=null&&(xi(),fd(F,null,w,v,!0),Pi()),pe!=null&&(m.renderCache[pe]=void 0),ie&256){m.ctx.deactivate(v);return}const be=ie&1&&re,Ne=!ua(v);let Pe;if(Ne&&(Pe=H&&H.onVnodeBeforeUnmount)&&Gr(Pe,m,v),ie&6)rh(v.component,w,O);else{if(ie&128){v.suspense.unmount(w,O);return}be&&kn(v,null,m,"beforeUnmount"),ie&64?v.type.remove(v,m,w,k,O):A&&!A.hasOnce&&(x!==_e||Y>0&&Y&64)?hi(A,m,w,!1,!0):(x===_e&&Y&384||!I&&ie&16)&&hi(R,m,w),O&&To(v)}(Ne&&(Pe=H&&H.onVnodeUnmounted)||be)&&cr(()=>{Pe&&Gr(Pe,m,v),be&&kn(v,null,m,"unmounted")},w)},To=v=>{const{type:m,el:w,anchor:O,transition:I}=v;if(m===_e){Jl(w,O);return}if(m===hh){_(v);return}const x=()=>{n(w),I&&!I.persisted&&I.afterLeave&&I.afterLeave()};if(v.shapeFlag&1&&I&&!I.persisted){const{leave:H,delayLeave:F}=I,R=()=>H(w,x);F?F(v.el,x,R):R()}else x()},Jl=(v,m)=>{let w;for(;v!==m;)w=h(v),n(v),v=w;n(m)},rh=(v,m,w)=>{const{bum:O,scope:I,job:x,subTree:H,um:F,m:R,a:A,parent:ie,slots:{__:Y}}=v;sy(R),sy(A),O&&nh(O),ie&&se(Y)&&Y.forEach(re=>{ie.renderCache[re]=void 0}),I.stop(),x&&(x.flags|=8,ot(H,v,m,w)),F&&cr(F,m),cr(()=>{v.isUnmounted=!0},m),m&&m.pendingBranch&&!m.isUnmounted&&v.asyncDep&&!v.asyncResolved&&v.suspenseId===m.pendingId&&(m.deps--,m.deps===0&&m.resolve())},hi=(v,m,w,O=!1,I=!1,x=0)=>{for(let H=x;H<v.length;H++)ot(v[H],m,w,O,I)},ji=v=>{if(v.shapeFlag&6)return ji(v.component.subTree);if(v.shapeFlag&128)return v.suspense.next();const m=h(v.anchor||v.el),w=m&&m[FC];return w?h(w):m};let Pn=!1;const V=(v,m,w)=>{v==null?m._vnode&&ot(m._vnode,null,null,!0):g(m._vnode||null,v,m,null,null,null,w),m._vnode=v,Pn||(Pn=!0,Qm(),pS(),Pn=!1)},k={p:g,um:ot,m:Et,r:To,mt:Se,mc:z,pc:ce,pbc:X,n:ji,o:t};return{render:V,hydrate:void 0,createApp:oA(V)}}function uh({type:t,props:e},r){return r==="svg"&&t==="foreignObject"||r==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:r}function Cn({effect:t,job:e},r){r?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function gA(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function BS(t,e,r=!1){const i=t.children,n=e.children;if(se(i)&&se(n))for(let o=0;o<i.length;o++){const s=i[o];let a=n[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[o]=qi(n[o]),a.el=s.el),!r&&a.patchFlag!==-2&&BS(s,a)),a.type===eu&&(a.el=s.el),a.type===Ht&&!a.el&&(a.el=s.el)}}function mA(t){const e=t.slice(),r=[0];let i,n,o,s,a;const l=t.length;for(i=0;i<l;i++){const c=t[i];if(c!==0){if(n=r[r.length-1],t[n]<c){e[i]=n,r.push(i);continue}for(o=0,s=r.length-1;o<s;)a=o+s>>1,t[r[a]]<c?o=a+1:s=a;c<t[r[o]]&&(o>0&&(e[i]=r[o-1]),r[o]=i)}}for(o=r.length,s=r[o-1];o-- >0;)r[o]=s,s=e[s];return r}function LS(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:LS(e)}function sy(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const yA=Symbol.for("v-scx"),bA=()=>fa(yA);function fr(t,e,r){return jS(t,e,r)}function jS(t,e,r=je){const{immediate:i,deep:n,flush:o,once:s}=r,a=wt({},r),l=e&&i||!e&&o!=="post";let c;if(Aa){if(o==="sync"){const f=bA();c=f.__watcherHandles||(f.__watcherHandles=[])}else if(!l){const f=()=>{};return f.stop=oi,f.resume=oi,f.pause=oi,f}}const d=xt;a.call=(f,p,g)=>Lr(f,d,p,g);let u=!1;o==="post"?a.scheduler=f=>{cr(f,d&&d.suspense)}:o!=="sync"&&(u=!0,a.scheduler=(f,p)=>{p?f():ug(f)}),a.augmentJob=f=>{e&&(f.flags|=4),u&&(f.flags|=2,d&&(f.id=d.uid,f.i=d))};const h=DC(t,e,a);return Aa&&(c?c.push(h):l&&h()),h}function $A(t,e,r){const i=this.proxy,n=ct(t)?t.includes(".")?zS(i,t):()=>i[t]:t.bind(i,i);let o;ve(e)?o=e:(o=e.handler,r=e);const s=el(this),a=jS(n,o.bind(i),r);return s(),a}function zS(t,e){const r=e.split(".");return()=>{let i=t;for(let n=0;n<r.length&&i;n++)i=i[r[n]];return i}}const wA=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${hn(e)}Modifiers`]||t[`${ho(e)}Modifiers`];function _A(t,e,...r){if(t.isUnmounted)return;const i=t.vnode.props||je;let n=r;const o=e.startsWith("update:"),s=o&&wA(i,e.slice(7));s&&(s.trim&&(n=r.map(d=>ct(d)?d.trim():d)),s.number&&(n=r.map(Gk)));let a,l=i[a=ih(e)]||i[a=ih(hn(e))];!l&&o&&(l=i[a=ih(ho(e))]),l&&Lr(l,t,6,n);const c=i[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Lr(c,t,6,n)}}function HS(t,e,r=!1){const i=e.emitsCache,n=i.get(t);if(n!==void 0)return n;const o=t.emits;let s={},a=!1;if(!ve(t)){const l=c=>{const d=HS(c,e,!0);d&&(a=!0,wt(s,d))};!r&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!o&&!a?(Ve(t)&&i.set(t,null),null):(se(o)?o.forEach(l=>s[l]=null):wt(s,o),Ve(t)&&i.set(t,s),s)}function Qd(t,e){return!t||!Vd(e)?!1:(e=e.slice(2).replace(/Once$/,""),Oe(t,e[0].toLowerCase()+e.slice(1))||Oe(t,ho(e))||Oe(t,e))}function ay(t){const{type:e,vnode:r,proxy:i,withProxy:n,propsOptions:[o],slots:s,attrs:a,emit:l,render:c,renderCache:d,props:u,data:h,setupState:f,ctx:p,inheritAttrs:g}=t,$=hd(t);let y,b;try{if(r.shapeFlag&4){const _=n||i,T=_;y=ei(c.call(T,_,d,u,f,h,p)),b=a}else{const _=e;y=ei(_.length>1?_(u,{attrs:a,slots:s,emit:l}):_(u,null)),b=e.props?a:SA(a)}}catch(_){pa.length=0,Xd(_,t,1),y=We(Ht)}let S=y;if(b&&g!==!1){const _=Object.keys(b),{shapeFlag:T}=S;_.length&&T&7&&(o&&_.some(Qv)&&(b=EA(b,o)),S=vn(S,b,!1,!0))}return r.dirs&&(S=vn(S,null,!1,!0),S.dirs=S.dirs?S.dirs.concat(r.dirs):r.dirs),r.transition&&ka(S,r.transition),y=S,hd($),y}const SA=t=>{let e;for(const r in t)(r==="class"||r==="style"||Vd(r))&&((e||(e={}))[r]=t[r]);return e},EA=(t,e)=>{const r={};for(const i in t)(!Qv(i)||!(i.slice(9)in e))&&(r[i]=t[i]);return r};function TA(t,e,r){const{props:i,children:n,component:o}=t,{props:s,children:a,patchFlag:l}=e,c=o.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return i?ly(i,s,c):!!s;if(l&8){const d=e.dynamicProps;for(let u=0;u<d.length;u++){const h=d[u];if(s[h]!==i[h]&&!Qd(c,h))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:i===s?!1:i?s?ly(i,s,c):!0:!!s;return!1}function ly(t,e,r){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let n=0;n<i.length;n++){const o=i[n];if(e[o]!==t[o]&&!Qd(r,o))return!0}return!1}function IA({vnode:t,parent:e},r){for(;e;){const i=e.subTree;if(i.suspense&&i.suspense.activeBranch===t&&(i.el=t.el),i===t)(t=e.vnode).el=r,e=e.parent;else break}}const WS=t=>t.__isSuspense;function OA(t,e){e&&e.pendingBranch?se(t)?e.effects.push(...t):e.effects.push(t):NC(t)}const _e=Symbol.for("v-fgt"),eu=Symbol.for("v-txt"),Ht=Symbol.for("v-cmt"),hh=Symbol.for("v-stc"),pa=[];let ur=null;function N(t=!1){pa.push(ur=t?null:[])}function xA(){pa.pop(),ur=pa[pa.length-1]||null}let Ca=1;function cy(t,e=!1){Ca+=t,t<0&&ur&&e&&(ur.hasOnce=!0)}function VS(t){return t.dynamicChildren=Ca>0?ur||Zo:null,xA(),Ca>0&&ur&&ur.push(t),t}function G(t,e,r,i,n,o){return VS(te(t,e,r,i,n,o,!0))}function st(t,e,r,i,n){return VS(We(t,e,r,i,n,!0))}function vd(t){return t?t.__v_isVNode===!0:!1}function Bn(t,e){return t.type===e.type&&t.key===e.key}const US=({key:t})=>t??null,Wc=({ref:t,ref_key:e,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?ct(t)||at(t)||ve(t)?{i:_r,r:t,k:e,f:!!r}:t:null);function te(t,e=null,r=null,i=0,n=null,o=t===_e?0:1,s=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&US(e),ref:e&&Wc(e),scopeId:gS,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:i,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:_r};return a?(pg(l,r),o&128&&t.normalize(l)):r&&(l.shapeFlag|=ct(r)?8:16),Ca>0&&!s&&ur&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&ur.push(l),l}const We=PA;function PA(t,e=null,r=null,i=0,n=null,o=!1){if((!t||t===JC)&&(t=Ht),vd(t)){const a=vn(t,e,!0);return r&&pg(a,r),Ca>0&&!o&&ur&&(a.shapeFlag&6?ur[ur.indexOf(t)]=a:ur.push(a)),a.patchFlag=-2,a}if(jA(t)&&(t=t.__vccOpts),e){e=kA(e);let{class:a,style:l}=e;a&&!ct(a)&&(e.class=Mi(a)),Ve(l)&&(lg(l)&&!se(l)&&(l=wt({},l)),e.style=Sr(l))}const s=ct(t)?1:WS(t)?128:mS(t)?64:Ve(t)?4:ve(t)?2:0;return te(t,e,r,i,n,s,o,!0)}function kA(t){return t?lg(t)||AS(t)?wt({},t):t:null}function vn(t,e,r=!1,i=!1){const{props:n,ref:o,patchFlag:s,children:a,transition:l}=t,c=e?CA(n||{},e):n,d={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&US(c),ref:e&&e.ref?r&&o?se(o)?o.concat(Wc(e)):[o,Wc(e)]:Wc(e):o,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==_e?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&vn(t.ssContent),ssFallback:t.ssFallback&&vn(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&i&&ka(d,l.clone(d)),d}function Vn(t=" ",e=0){return We(eu,null,t,e)}function De(t="",e=!1){return e?(N(),st(Ht,null,t)):We(Ht,null,t)}function ei(t){return t==null||typeof t=="boolean"?We(Ht):se(t)?We(_e,null,t.slice()):vd(t)?qi(t):We(eu,null,String(t))}function qi(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:vn(t)}function pg(t,e){let r=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(se(e))r=16;else if(typeof e=="object")if(i&65){const n=e.default;n&&(n._c&&(n._d=!1),pg(t,n()),n._c&&(n._d=!0));return}else{r=32;const n=e._;!n&&!AS(e)?e._ctx=_r:n===3&&_r&&(_r.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ve(e)?(e={default:e,_ctx:_r},r=32):(e=String(e),i&64?(r=16,e=[Vn(e)]):r=8);t.children=e,t.shapeFlag|=r}function CA(...t){const e={};for(let r=0;r<t.length;r++){const i=t[r];for(const n in i)if(n==="class")e.class!==i.class&&(e.class=Mi([e.class,i.class]));else if(n==="style")e.style=Sr([e.style,i.style]);else if(Vd(n)){const o=e[n],s=i[n];s&&o!==s&&!(se(o)&&o.includes(s))&&(e[n]=o?[].concat(o,s):s)}else n!==""&&(e[n]=i[n])}return e}function Gr(t,e,r,i=null){Lr(t,e,7,[r,i])}const AA=PS();let DA=0;function MA(t,e,r){const i=t.type,n=(e?e.appContext:t.appContext)||AA,o={uid:DA++,vnode:t,type:i,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new q_(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:MS(i,n),emitsOptions:HS(i,n),emit:null,emitted:null,propsDefaults:je,inheritAttrs:i.inheritAttrs,ctx:je,data:je,props:je,attrs:je,slots:je,refs:je,setupState:je,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=_A.bind(null,o),t.ce&&t.ce(o),o}let xt=null;const RA=()=>xt||_r;let gd,Bp;{const t=qd(),e=(r,i)=>{let n;return(n=t[r])||(n=t[r]=[]),n.push(i),o=>{n.length>1?n.forEach(s=>s(o)):n[0](o)}};gd=e("__VUE_INSTANCE_SETTERS__",r=>xt=r),Bp=e("__VUE_SSR_SETTERS__",r=>Aa=r)}const el=t=>{const e=xt;return gd(t),t.scope.on(),()=>{t.scope.off(),gd(e)}},dy=()=>{xt&&xt.scope.off(),gd(null)};function YS(t){return t.vnode.shapeFlag&4}let Aa=!1;function NA(t,e=!1,r=!1){e&&Bp(e);const{props:i,children:n}=t.vnode,o=YS(t);lA(t,i,o,e),hA(t,n,r||e);const s=o?FA(t,e):void 0;return e&&Bp(!1),s}function FA(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,ZC);const{setup:i}=r;if(i){xi();const n=t.setupContext=i.length>1?LA(t):null,o=el(t),s=Za(i,t,0,[t.props,n]),a=L_(s);if(Pi(),o(),(a||t.sp)&&!ua(t)&&SS(t),a){if(s.then(dy,dy),e)return s.then(l=>{uy(t,l)}).catch(l=>{Xd(l,t,0)});t.asyncDep=s}else uy(t,s)}else qS(t)}function uy(t,e,r){ve(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ve(e)&&(t.setupState=uS(e)),qS(t)}function qS(t,e,r){const i=t.type;t.render||(t.render=i.render||oi);{const n=el(t);xi();try{QC(t)}finally{Pi(),n()}}}const BA={get(t,e){return Mt(t,"get",""),t[e]}};function LA(t){const e=r=>{t.exposed=r||{}};return{attrs:new Proxy(t.attrs,BA),slots:t.slots,emit:t.emit,expose:e}}function vg(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(uS(cg(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in ha)return ha[r](t)},has(e,r){return r in e||r in ha}})):t.proxy}function jA(t){return ve(t)&&"__vccOpts"in t}const we=(t,e)=>CC(t,e,Aa);function zA(t,e,r){const i=arguments.length;return i===2?Ve(e)&&!se(e)?vd(e)?We(t,null,[e]):We(t,e):We(t,null,e):(i>3?r=Array.prototype.slice.call(arguments,2):i===3&&vd(r)&&(r=[r]),We(t,e,r))}const HA="3.5.16";/**
* @vue/runtime-dom v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Lp;const hy=typeof window<"u"&&window.trustedTypes;if(hy)try{Lp=hy.createPolicy("vue",{createHTML:t=>t})}catch{}const KS=Lp?t=>Lp.createHTML(t):t=>t,WA="http://www.w3.org/2000/svg",VA="http://www.w3.org/1998/Math/MathML",vi=typeof document<"u"?document:null,fy=vi&&vi.createElement("template"),UA={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,i)=>{const n=e==="svg"?vi.createElementNS(WA,t):e==="mathml"?vi.createElementNS(VA,t):r?vi.createElement(t,{is:r}):vi.createElement(t);return t==="select"&&i&&i.multiple!=null&&n.setAttribute("multiple",i.multiple),n},createText:t=>vi.createTextNode(t),createComment:t=>vi.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>vi.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,i,n,o){const s=r?r.previousSibling:e.lastChild;if(n&&(n===o||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),r),!(n===o||!(n=n.nextSibling)););else{fy.innerHTML=KS(i==="svg"?`<svg>${t}</svg>`:i==="mathml"?`<math>${t}</math>`:t);const a=fy.content;if(i==="svg"||i==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,r)}return[s?s.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}},zi="transition",Ks="animation",Da=Symbol("_vtc"),GS={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},YA=wt({},yS,GS),qA=t=>(t.displayName="Transition",t.props=YA,t),to=qA((t,{slots:e})=>zA(jC,KA(t),e)),An=(t,e=[])=>{se(t)?t.forEach(r=>r(...e)):t&&t(...e)},py=t=>t?se(t)?t.some(e=>e.length>1):t.length>1:!1;function KA(t){const e={};for(const j in t)j in GS||(e[j]=t[j]);if(t.css===!1)return e;const{name:r="v",type:i,duration:n,enterFromClass:o=`${r}-enter-from`,enterActiveClass:s=`${r}-enter-active`,enterToClass:a=`${r}-enter-to`,appearFromClass:l=o,appearActiveClass:c=s,appearToClass:d=a,leaveFromClass:u=`${r}-leave-from`,leaveActiveClass:h=`${r}-leave-active`,leaveToClass:f=`${r}-leave-to`}=t,p=GA(n),g=p&&p[0],$=p&&p[1],{onBeforeEnter:y,onEnter:b,onEnterCancelled:S,onLeave:_,onLeaveCancelled:T,onBeforeAppear:W=y,onAppear:q=b,onAppearCancelled:z=S}=e,C=(j,he,Se,ye)=>{j._enterCancelled=ye,Dn(j,he?d:a),Dn(j,he?c:s),Se&&Se()},X=(j,he)=>{j._isLeaving=!1,Dn(j,u),Dn(j,f),Dn(j,h),he&&he()},ue=j=>(he,Se)=>{const ye=j?q:b,Q=()=>C(he,j,Se);An(ye,[he,Q]),vy(()=>{Dn(he,j?l:o),pi(he,j?d:a),py(ye)||gy(he,i,g,Q)})};return wt(e,{onBeforeEnter(j){An(y,[j]),pi(j,o),pi(j,s)},onBeforeAppear(j){An(W,[j]),pi(j,l),pi(j,c)},onEnter:ue(!1),onAppear:ue(!0),onLeave(j,he){j._isLeaving=!0;const Se=()=>X(j,he);pi(j,u),j._enterCancelled?(pi(j,h),by()):(by(),pi(j,h)),vy(()=>{j._isLeaving&&(Dn(j,u),pi(j,f),py(_)||gy(j,i,$,Se))}),An(_,[j,Se])},onEnterCancelled(j){C(j,!1,void 0,!0),An(S,[j])},onAppearCancelled(j){C(j,!0,void 0,!0),An(z,[j])},onLeaveCancelled(j){X(j),An(T,[j])}})}function GA(t){if(t==null)return null;if(Ve(t))return[fh(t.enter),fh(t.leave)];{const e=fh(t);return[e,e]}}function fh(t){return Xk(t)}function pi(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.add(r)),(t[Da]||(t[Da]=new Set)).add(e)}function Dn(t,e){e.split(/\s+/).forEach(i=>i&&t.classList.remove(i));const r=t[Da];r&&(r.delete(e),r.size||(t[Da]=void 0))}function vy(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let XA=0;function gy(t,e,r,i){const n=t._endId=++XA,o=()=>{n===t._endId&&i()};if(r!=null)return setTimeout(o,r);const{type:s,timeout:a,propCount:l}=JA(t,e);if(!s)return i();const c=s+"end";let d=0;const u=()=>{t.removeEventListener(c,h),o()},h=f=>{f.target===t&&++d>=l&&u()};setTimeout(()=>{d<l&&u()},a+1),t.addEventListener(c,h)}function JA(t,e){const r=window.getComputedStyle(t),i=p=>(r[p]||"").split(", "),n=i(`${zi}Delay`),o=i(`${zi}Duration`),s=my(n,o),a=i(`${Ks}Delay`),l=i(`${Ks}Duration`),c=my(a,l);let d=null,u=0,h=0;e===zi?s>0&&(d=zi,u=s,h=o.length):e===Ks?c>0&&(d=Ks,u=c,h=l.length):(u=Math.max(s,c),d=u>0?s>c?zi:Ks:null,h=d?d===zi?o.length:l.length:0);const f=d===zi&&/\b(transform|all)(,|$)/.test(i(`${zi}Property`).toString());return{type:d,timeout:u,propCount:h,hasTransform:f}}function my(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((r,i)=>yy(r)+yy(t[i])))}function yy(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function by(){return document.body.offsetHeight}function ZA(t,e,r){const i=t[Da];i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}const $y=Symbol("_vod"),QA=Symbol("_vsh"),eD=Symbol(""),tD=/(^|;)\s*display\s*:/;function rD(t,e,r){const i=t.style,n=ct(r);let o=!1;if(r&&!n){if(e)if(ct(e))for(const s of e.split(";")){const a=s.slice(0,s.indexOf(":")).trim();r[a]==null&&Vc(i,a,"")}else for(const s in e)r[s]==null&&Vc(i,s,"");for(const s in r)s==="display"&&(o=!0),Vc(i,s,r[s])}else if(n){if(e!==r){const s=i[eD];s&&(r+=";"+s),i.cssText=r,o=tD.test(r)}}else e&&t.removeAttribute("style");$y in t&&(t[$y]=o?i.display:"",t[QA]&&(i.display="none"))}const wy=/\s*!important$/;function Vc(t,e,r){if(se(r))r.forEach(i=>Vc(t,e,i));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const i=iD(t,e);wy.test(r)?t.setProperty(ho(i),r.replace(wy,""),"important"):t[i]=r}}const _y=["Webkit","Moz","ms"],ph={};function iD(t,e){const r=ph[e];if(r)return r;let i=hn(e);if(i!=="filter"&&i in t)return ph[e]=i;i=H_(i);for(let n=0;n<_y.length;n++){const o=_y[n]+i;if(o in t)return ph[e]=o}return e}const Sy="http://www.w3.org/1999/xlink";function Ey(t,e,r,i,n,o=rC(e)){i&&e.startsWith("xlink:")?r==null?t.removeAttributeNS(Sy,e.slice(6,e.length)):t.setAttributeNS(Sy,e,r):r==null||o&&!V_(r)?t.removeAttribute(e):t.setAttribute(e,o?"":$n(r)?String(r):r)}function Ty(t,e,r,i,n){if(e==="innerHTML"||e==="textContent"){r!=null&&(t[e]=e==="innerHTML"?KS(r):r);return}const o=t.tagName;if(e==="value"&&o!=="PROGRESS"&&!o.includes("-")){const a=o==="OPTION"?t.getAttribute("value")||"":t.value,l=r==null?t.type==="checkbox"?"on":"":String(r);(a!==l||!("_value"in t))&&(t.value=l),r==null&&t.removeAttribute(e),t._value=r;return}let s=!1;if(r===""||r==null){const a=typeof t[e];a==="boolean"?r=V_(r):r==null&&a==="string"?(r="",s=!0):a==="number"&&(r=0,s=!0)}try{t[e]=r}catch{}s&&t.removeAttribute(n||e)}function nD(t,e,r,i){t.addEventListener(e,r,i)}function oD(t,e,r,i){t.removeEventListener(e,r,i)}const Iy=Symbol("_vei");function sD(t,e,r,i,n=null){const o=t[Iy]||(t[Iy]={}),s=o[e];if(i&&s)s.value=i;else{const[a,l]=aD(e);if(i){const c=o[e]=dD(i,n);nD(t,a,c,l)}else s&&(oD(t,a,s,l),o[e]=void 0)}}const Oy=/(?:Once|Passive|Capture)$/;function aD(t){let e;if(Oy.test(t)){e={};let i;for(;i=t.match(Oy);)t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):ho(t.slice(2)),e]}let vh=0;const lD=Promise.resolve(),cD=()=>vh||(lD.then(()=>vh=0),vh=Date.now());function dD(t,e){const r=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=r.attached)return;Lr(uD(i,r.value),e,5,[i])};return r.value=t,r.attached=cD(),r}function uD(t,e){if(se(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(i=>n=>!n._stopped&&i&&i(n))}else return e}const xy=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,hD=(t,e,r,i,n,o)=>{const s=n==="svg";e==="class"?ZA(t,i,s):e==="style"?rD(t,r,i):Vd(e)?Qv(e)||sD(t,e,r,i,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):fD(t,e,i,s))?(Ty(t,e,i),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Ey(t,e,i,s,o,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!ct(i))?Ty(t,hn(e),i,o,e):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),Ey(t,e,i,s))};function fD(t,e,r,i){if(i)return!!(e==="innerHTML"||e==="textContent"||e in t&&xy(e)&&ve(r));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const n=t.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return xy(e)&&ct(r)?!1:e in t}const pD=["ctrl","shift","alt","meta"],vD={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>pD.some(r=>t[`${r}Key`]&&!e.includes(r))},Ee=(t,e)=>{const r=t._withMods||(t._withMods={}),i=e.join(".");return r[i]||(r[i]=(n,...o)=>{for(let s=0;s<e.length;s++){const a=vD[e[s]];if(a&&a(n,e))return}return t(n,...o)})},gD=wt({patchProp:hD},UA);let Py;function mD(){return Py||(Py=pA(gD))}const yD=(...t)=>{const e=mD().createApp(...t),{mount:r}=e;return e.mount=i=>{const n=$D(i);if(!n)return;const o=e._component;!ve(o)&&!o.render&&!o.template&&(o.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const s=r(n,!1,bD(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),s},e};function bD(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function $D(t){return ct(t)?document.querySelector(t):t}/*!
 * pinia v3.0.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let XS;const tu=t=>XS=t,JS=Symbol();function jp(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var va;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(va||(va={}));function wD(){const t=K_(!0),e=t.run(()=>Wt({}));let r=[],i=[];const n=cg({install(o){tu(n),n._a=o,o.provide(JS,n),o.config.globalProperties.$pinia=n,i.forEach(s=>r.push(s)),i=[]},use(o){return this._a?r.push(o):i.push(o),this},_p:r,_a:null,_e:t,_s:new Map,state:e});return n}const ZS=()=>{};function ky(t,e,r,i=ZS){t.push(e);const n=()=>{const o=t.indexOf(e);o>-1&&(t.splice(o,1),i())};return!r&&G_()&&iC(n),n}function Oo(t,...e){t.slice().forEach(r=>{r(...e)})}const _D=t=>t(),Cy=Symbol(),gh=Symbol();function zp(t,e){t instanceof Map&&e instanceof Map?e.forEach((r,i)=>t.set(i,r)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const r in e){if(!e.hasOwnProperty(r))continue;const i=e[r],n=t[r];jp(n)&&jp(i)&&t.hasOwnProperty(r)&&!at(i)&&!rn(i)?t[r]=zp(n,i):t[r]=i}return t}const SD=Symbol();function ED(t){return!jp(t)||!Object.prototype.hasOwnProperty.call(t,SD)}const{assign:Hi}=Object;function TD(t){return!!(at(t)&&t.effect)}function ID(t,e,r,i){const{state:n,actions:o,getters:s}=e,a=r.state.value[t];let l;function c(){a||(r.state.value[t]=n?n():{});const d=OC(r.state.value[t]);return Hi(d,o,Object.keys(s||{}).reduce((u,h)=>(u[h]=cg(we(()=>{tu(r);const f=r._s.get(t);return s[h].call(f,f)})),u),{}))}return l=QS(t,c,e,r,i,!0),l}function QS(t,e,r={},i,n,o){let s;const a=Hi({actions:{}},r),l={deep:!0};let c,d,u=[],h=[],f;const p=i.state.value[t];!o&&!p&&(i.state.value[t]={}),Wt({});let g;function $(z){let C;c=d=!1,typeof z=="function"?(z(i.state.value[t]),C={type:va.patchFunction,storeId:t,events:f}):(zp(i.state.value[t],z),C={type:va.patchObject,payload:z,storeId:t,events:f});const X=g=Symbol();dg().then(()=>{g===X&&(c=!0)}),d=!0,Oo(u,C,i.state.value[t])}const y=o?function(){const{state:C}=r,X=C?C():{};this.$patch(ue=>{Hi(ue,X)})}:ZS;function b(){s.stop(),u=[],h=[],i._s.delete(t)}const S=(z,C="")=>{if(Cy in z)return z[gh]=C,z;const X=function(){tu(i);const ue=Array.from(arguments),j=[],he=[];function Se(K){j.push(K)}function ye(K){he.push(K)}Oo(h,{args:ue,name:X[gh],store:T,after:Se,onError:ye});let Q;try{Q=z.apply(this&&this.$id===t?this:T,ue)}catch(K){throw Oo(he,K),K}return Q instanceof Promise?Q.then(K=>(Oo(j,K),K)).catch(K=>(Oo(he,K),Promise.reject(K))):(Oo(j,Q),Q)};return X[Cy]=!0,X[gh]=C,X},_={_p:i,$id:t,$onAction:ky.bind(null,h),$patch:$,$reset:y,$subscribe(z,C={}){const X=ky(u,z,C.detached,()=>ue()),ue=s.run(()=>fr(()=>i.state.value[t],j=>{(C.flush==="sync"?d:c)&&z({storeId:t,type:va.direct,events:f},j)},Hi({},l,C)));return X},$dispose:b},T=Gd(_);i._s.set(t,T);const q=(i._a&&i._a.runWithContext||_D)(()=>i._e.run(()=>(s=K_()).run(()=>e({action:S}))));for(const z in q){const C=q[z];if(at(C)&&!TD(C)||rn(C))o||(p&&ED(C)&&(at(C)?C.value=p[z]:zp(C,p[z])),i.state.value[t][z]=C);else if(typeof C=="function"){const X=S(C,z);q[z]=X,a.actions[z]=C}}return Hi(T,q),Hi($e(T),q),Object.defineProperty(T,"$state",{get:()=>i.state.value[t],set:z=>{$(C=>{Hi(C,z)})}}),i._p.forEach(z=>{Hi(T,s.run(()=>z({store:T,app:i._a,pinia:i,options:a})))}),p&&o&&r.hydrate&&r.hydrate(T.$state,p),c=!0,d=!0,T}/*! #__NO_SIDE_EFFECTS__ */function wn(t,e,r){let i;const n=typeof e=="function";i=n?r:e;function o(s,a){const l=aA();return s=s||(l?fa(JS,null):null),s&&tu(s),s=XS,s._s.has(t)||(n?QS(t,e,i,s):ID(t,i,s)),s._s.get(t)}return o.$id=t,o}const OD=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,xD=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,PD=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function kD(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){CD(t);return}return e}function CD(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function AD(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const r=t.trim();if(r.length<=9)switch(r.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!PD.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(OD.test(t)||xD.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,kD)}return JSON.parse(t)}catch(i){if(e.strict)throw i;return t}}function DD(t,e){if(t==null)return;let r=t;for(let i=0;i<e.length;i++){if(r==null||r[e[i]]==null)return;r=r[e[i]]}return r}function gg(t,e,r){if(r.length===0)return e;const i=r[0];return r.length>1&&(e=gg(typeof t!="object"||t===null||!Object.prototype.hasOwnProperty.call(t,i)?Number.isInteger(Number(r[1]))?[]:{}:t[i],e,Array.prototype.slice.call(r,1))),Number.isInteger(Number(i))&&Array.isArray(t)?t.slice()[i]:Object.assign({},t,{[i]:e})}function eE(t,e){if(t==null||e.length===0)return t;if(e.length===1){if(t==null)return t;if(Number.isInteger(e[0])&&Array.isArray(t))return Array.prototype.slice.call(t,0).splice(e[0],1);const r={};for(const i in t)r[i]=t[i];return delete r[e[0]],r}if(t[e[0]]==null){if(Number.isInteger(e[0])&&Array.isArray(t))return Array.prototype.concat.call([],t);const r={};for(const i in t)r[i]=t[i];return r}return gg(t,eE(t[e[0]],Array.prototype.slice.call(e,1)),[e[0]])}function tE(t,e){return e.map(r=>r.split(".")).map(r=>[r,DD(t,r)]).filter(r=>r[1]!==void 0).reduce((r,i)=>gg(r,i[1],i[0]),{})}function rE(t,e){return e.map(r=>r.split(".")).reduce((r,i)=>eE(r,i),t)}function Ay(t,{storage:e,serializer:r,key:i,debug:n,pick:o,omit:s,beforeHydrate:a,afterHydrate:l},c,d=!0){try{d&&(a==null||a(c));const u=e.getItem(i);if(u){const h=r.deserialize(u),f=o?tE(h,o):h,p=s?rE(f,s):f;t.$patch(p)}d&&(l==null||l(c))}catch(u){n&&console.error("[pinia-plugin-persistedstate]",u)}}function Dy(t,{storage:e,serializer:r,key:i,debug:n,pick:o,omit:s}){try{const a=o?tE(t,o):t,l=s?rE(a,s):a,c=r.serialize(l);e.setItem(i,c)}catch(a){n&&console.error("[pinia-plugin-persistedstate]",a)}}function MD(t,e,r){const{pinia:i,store:n,options:{persist:o=r}}=t;if(!o)return;if(!(n.$id in i.state.value)){const l=i._s.get(n.$id.replace("__hot:",""));l&&Promise.resolve().then(()=>l.$persist());return}const a=(Array.isArray(o)?o:o===!0?[{}]:[o]).map(e);n.$hydrate=({runHooks:l=!0}={})=>{a.forEach(c=>{Ay(n,c,t,l)})},n.$persist=()=>{a.forEach(l=>{Dy(n.$state,l)})},a.forEach(l=>{Ay(n,l,t),n.$subscribe((c,d)=>Dy(d,l),{detached:!0})})}function RD(t={}){return function(e){MD(e,r=>({key:(t.key?t.key:i=>i)(r.key??e.store.$id),debug:r.debug??t.debug??!1,serializer:r.serializer??t.serializer??{serialize:i=>JSON.stringify(i),deserialize:i=>AD(i)},storage:r.storage??t.storage??window.localStorage,beforeHydrate:r.beforeHydrate,afterHydrate:r.afterHydrate,pick:r.pick,omit:r.omit}),t.auto??!1)}}var ND=RD();const ga={"dragon-ring":{id:"dragon-ring",label:"Dragon ring",description:"The dragon is made of stainless steel with ruby red eyes, and in its claws, it holds a swirling planet of turquoise.",actionText:"You slip your dragon ring on. It always makes you feel connected to the Gurpy you never met.",value:0,weight:0,permanent:!0},"patched-coat":{id:"patched-coat",label:"Patched coat",description:"There is an intricately-hooked patch on its back that shows four images: an ancient windmill, an historic longship, a modern wind turbine, and a lobster boat.",actionText:"You put on the coat. Smells like Mormor.",value:0,weight:0,permanent:!0},pinecone:{id:"pinecone",label:"Pinecone",description:"A pinecone.",actionText:"It's prickly to the touch.",value:0,weight:1},"pine-needles":{id:"pine-needles",label:"Pine needles",description:"Long, brown and pointy on one end. Some are paired together, others in bunches of three.",actionText:"Pine needly.",value:0,weight:1},mushroom:{id:"mushroom",label:"Mushroom",description:"Spongy, earthy, fungal.",actionText:"Tastes like dirt. You feel funny.",value:0,weight:1,type:"consumable"},"hongatar-trash":{id:"hongatar-trash",label:"Hongatar trash",description:"Empty snail shells. Looks like they were licked clean.",actionText:"You roll the shells around in your palm. They emit a delicate clacking sound.",value:0,weight:1},"self-help-book":{id:"self-help-book",label:"Self help book",description:`The book is titled "Sisu". The author's name sounds Finnish. There is an illustration of two hikers at the top of a snowy peak.`,actionText:"You aren't fluent enough in Finnish to read this.",value:0,weight:2},"dog-food":{id:"dog-food",label:"Dog food can",description:"",value:0,weight:1},cards:{id:"cards",label:"Playing cards",description:"",value:0,weight:1},"spray-paint":{id:"spray-paint",label:"Orange spray paint",description:"",value:0,weight:1,type:"consumable"},translator:{id:"translator",label:"Translator",description:"",value:0,weight:1},"beest-recording":{id:"beest-recording",label:"Beest recording",description:"",value:0,weight:1},"brain-moss":{id:"brain-moss",label:"Brain moss",description:"Fine, leathery strings of pink stuff.",actionText:"You twirl the moss around above your head like a ribbon dancer.",value:0,weight:1},axe:{id:"axe",label:"Ax",description:"A single-headed carbon-fiber ax.",value:0,weight:5}},FD=[ga["dragon-ring"],ga["patched-coat"]];let Gs;const as=wn("snackbar",{state:()=>({visible:!1,message:"",timeout:5e3}),actions:{async show(t){this.message=t,this.visible=!0,await new Promise(e=>{Gs=setTimeout(e,this.timeout)}),Gs&&Gs!=0&&(this.visible=!1)},dismiss(){clearTimeout(Gs),Gs=0,this.visible=!1}}}),le=wn("character",{state:()=>({name:"Adventurer",health:100,blueMagic:0,will:0,shitheadedness:0,athletics:0,inventory:[...FD],flags:{},manners:void 0}),actions:{takeDamage(t){this.health=Math.max(this.health-t,0)},gainStat(t,e){this[t]!==void 0&&(this[t]+=e)},loseStat(t,e){this[t]!==void 0&&(this[t]-=e)},setFlag(t,e){this.flags[t]=e},addToInventory(t,e){const r=ga[t];r.pageAcquired=e,this.inventory.push(r),as().show(`+1 ${r.label}`)},removeFromInventory(t,e=!0){const r=this.inventory.findIndex(i=>i.id===t);if(r!==-1){const i=ga[t];this.inventory.splice(r,1);const n=as();e&&n.show(`-1 ${i.label}`)}},async useItem(t){t=="mushroom"&&J().startPsychedelicEffect(),ga[t].type=="consumable"&&this.removeFromInventory(t,!1)},hasItem(t){return this.inventory.some(e=>e.id==t)},setManners(t){this.manners=t}}}),BD="/void-leeba/assets/Landing-Page-BeHrxynY.png",iE="/void-leeba/assets/intro-BFV8Qq9v.mp3",My="/void-leeba/assets/wind-tunnel-Dzt3gv-F.mp3",LD={start:t=>({id:"start",text:"An intro to the Leakyverse",animationRate:250,background:BD,audio:iE,choices:()=>[{text:"New game",next:"intro"},{text:"Credits",next:"credits"}]}),intro:t=>({id:"intro",text:"I left the home I'd come to know",audio:My,animationRate:250,buttonActions:[{action:()=>{J().goToScene("home")}}]}),intro1:t=>({id:"intro1",text:"I stayed alive to find a way to grow",audio:My,animationRate:250}),credits:t=>({id:"credits",text:"credits"}),preamble:()=>({id:"preamble",text:""})},U="/void-leeba/assets/new-game-DItTJ8YH.png",Ry="/void-leeba/assets/morning-birds-BZ71bbnz.mp3",jD={home:t=>({id:"home",background:U,audio:Ry,text:"You have just moved away from the countryside, finally. Endless evergreens, oceans and coves, silence and stars, and quiet. People knew you, but you only knew a few. You didn't grow up near the ocean. You're from away. Isolation multiplies where one doesn't belong. Your grandma died recently, removing your last obligation to stay.^^Now you live in the suburbs of the city of Poetland. In the suburbs, you can choose to know your neighbors, or not. No one knows you unless you want them to know you.^^You have on your grandfather's dragon ring. The dragon is made of stainless steel with ruby red eyes, and in its claws, it holds a swirling planet of turquoise. You wear your grandmother's wool coat, with an intricately-hooked patch on its back that shows four images: an ancient windmill, an historic longship, a modern wind turbine, and a lobster boat. {Continue.}",buttonActions:[{action:()=>{J().goToScene("home1")}}]}),home1:t=>({id:"home1",background:U,audio:Ry,text:"Your rented room shares its house with roommates, who are at work. Daylight filters through the blinds of the living room window and is spilt onto the ceiling in stripes. The view out your window shows a lawn, a small tree speckled with red berries, and a quiet road with cars parked along its length.^^You could go out and explore. Also, no one is home. You might enjoy some quiet time in your room.",choices:()=>[{text:"Go out and explore.",next:"home2"},{text:"Enjoy some quiet time in your room.",next:"room"},{text:"You can do anything! Look at your phone.",drawerView:"phone"}]}),home2:t=>({id:"home2",background:U,text:"Will you take anything with you?",choices:()=>[{text:"Dog food can",next:"home3",payload:{text:"Maybe you'll meet a hungry dog. {Continue.}"},onChoose:()=>{le().addToInventory("dog-food","home2")}},{text:"Playing cards",next:"home3",payload:{text:"Maybe someone will want to play. {Continue.}"},onChoose:()=>{le().addToInventory("cards","home2")}},{text:"Orange spray paint",next:"home3",payload:{text:"Maybe you'll spray paint something. {Continue.}"},onChoose:()=>{le().addToInventory("spray-paint","home2")}},{text:"Translator",next:"home3",payload:{text:"Maybe you'll encounter a language you can't comprehend. {Continue.}"},onChoose:()=>{le().addToInventory("translator","home2")}},{text:"Nothing",next:"home3",payload:{text:"Maybe you won't need anything. {Continue.}"}}]}),home3:t=>({id:"home3",background:U,text:(t==null?void 0:t.text)??"",buttonActions:[{action:()=>{J().goToScene("park")}}]}),room:t=>({id:"room",background:U,text:"You trudge up the light green carpeted narrow stairs to your room. Your room is festooned with posters, orderly piles of sorted odds and ends, and trinkets. Your bed may be a full, but its puffy yellow comforter looks inviting. {A nap sounds nice}.^^A notebook sits on a little desk, a stiff chair next to it. Drawing utensils rest here. {Settle into the chair to make something}.^^The empty bed and the blank page remind you of fresh snow, a bright day, the smell of morning mud, and afternoon heat. Wait, {I'm going to the park}.",buttonActions:[{action:()=>{J().goToScene("nap")}},{action:()=>{J().goToScene("make-something")}},{action:()=>{J().goToScene("park")}}]}),nap:t=>({id:"nap",background:U,text:"You get over to your bed, pull up the sheets, slip in and nestle into the blankets. You're not very tired, but you're so unmotivated it hardly matters.",choices:()=>[{text:"Close your eyes.",next:"dream"},{text:"Noooo!!! I'm not sleepy! I'd rather sit at my desk.",next:"make-something"}]}),"make-something":t=>({id:"make-something",text:"You sit down at the desk and open to a fresh page of the pad.^You look down onto the off-white paper. A void to fill. Dimensionless.^The desire to form and create something in that void. It pulls you, amuses you, scares you. You feel like proving your stoicism, resisting the urge to make marks. Go {into the Void}.^^You can feel the spirit rising in you, and the thrill of channeling that spirit! Feelings with no where to go are like idle hands...they animate. Or, no, do they become animate hands!? Nonononono! You pick up the paintbrush, smoosh some acrylic paint into the palette and {paint with your heart}.^^Nah, nevermind, I'm {going to sleep}.",background:U,buttonActions:[{action:()=>{}},{action:()=>{}},{action:()=>{J().goToScene("nap")}}]})},zD={park:t=>({id:"park",background:U,text:"You are in the park. In the distance, a children's play structure. Behind the play structure, an empty public pool in yellow and light blue. Behind you, a soccer field, basketball court, and extensive skatepark. To your side, a huge snow pile.",choices:()=>[{text:"Still yourself and listen to the sounds.",next:"park-drunks"},{text:"Leave the park and enter the neighborhood."},{text:"Play on the snowpile."}]}),"park-drunks":t=>({id:"park-drunks",background:U,text:"The sun sets over the park. A few stars resist the city's lights. The playground and fences now set into silhouettes. As your eyes adjust, the park takes on a dark grey black clarity. The stars and a white crescent illuminate it with a soft whiteness devoid of color.^^You hear two drunks arguing as they walk along, looking up and pointing.",dialogSequence:()=>[{characterId:"drunk1",text:"That's not the Moon! It's the Sun!"},{characterId:"drunk2",text:"That's not the Sun! It's the Moon!",onClick:()=>{J().goToScene("park-drunks1")}}],choices:()=>[]}),"park-drunks1":t=>({id:"park-drunks1",background:U,text:"In loopy diagonals from either direction, they come up to you.^^The first drunk seizes on the opportunity to accost you, her breath bequeathing hot sick.",dialogSequence:()=>[{characterId:"drunk1",text:"Hey <i>obversant</i> one, settle this for us. <i>*hiccup*</i> You see that thing up there in the sky? Is that the Sun or the Moon?",popUp:!0}],choices:()=>[{text:`"I'm sorry, I'm not from around here."`,next:"park-drunks2a",onChoose:()=>{le().setFlag("drunk-choice",void 0)}},{text:`"It's the Sun."`,next:"park-drunks2b",onChoose:()=>{le().setFlag("drunk-choice","drunk1")}},{text:`"It's the Moon."`,next:"park-drunks2b",onChoose:()=>{le().setFlag("drunk-choice","drunk2")}}]}),"park-drunks2a":t=>({id:"park-drunks2a",background:U,text:"",dialogSequence:()=>[{characterId:"drunk1",text:"And you never looked up before neither, huh?",popUp:!0}],choices:()=>[{text:`"I don't have time for this."`,next:"park-drunks3",onChoose:()=>{le().setManners("rude")}},{text:'"Looking up is for the young and hopeful."',next:"park-drunks3",onChoose:()=>{le().setManners("depressing")}},{text:"Just laugh.",next:"park-drunks3",onChoose:()=>{le().setManners("polite")}}]}),"park-drunks2b":t=>({id:"park-drunks2b",background:U,text:"",dialogSequence:()=>{const e=le();return[{characterId:e.flags["drunk-choice"],text:e.flags["drunk-choice"]=="drunk1"?"THANK YOU!!":"BOOYAH!!"},{characterId:e.flags["drunk-choice"],text:".........",onClick:()=>{J().goToScene("park-drunks2c")}}]},choices:()=>[{text:'"Not cool."',next:"park-drunks3",onChoose:()=>{le().setManners("depressing")}},{text:'"YEAH! EAT IT, YA DOPE!"',next:"park-drunks3",onChoose:()=>{le().setManners("rude")}},{text:"Just laugh.",next:"park-drunks3",onChoose:()=>{le().setManners("polite")}}]}),"park-drunks2c":t=>({id:"park-drunks2c",background:U,text:"The one celebrates to the other.",dialogSequence:()=>[{characterId:le().flags["drunk-choice"],text:"HA, EAT IT!",popUp:!0}],choices:()=>[{text:'"Not cool."',next:"park-drunks3",onChoose:()=>{le().setManners("depressing")}},{text:'"YEAH! EAT IT, YA DOPE!"',next:"park-drunks3",onChoose:()=>{le().setManners("rude")}},{text:"Just laugh.",next:"park-drunks3",onChoose:()=>{le().setManners("polite")}}]}),"park-drunks3":t=>({id:"park-drunks3",background:U,text:"",dialogSequence:()=>{const e=le(),r=e.manners,i=e.flags["drunk-choice"],n=r=="rude"?i?"Woah. Easy man, that's my friend you're talking about! ":"Rude! ":r=="depressing"?"Depressing! ":"";return[{characterId:i??"drunk1",text:`${n}Oh dang! A skatepark! Cool! Bye!`,onClick:()=>{J().goToScene("black-dog")}}]}})};function Ny(){return Array.from({length:4},()=>{const e=Math.floor(Math.random()*3);return e===0?-1:e===1?0:1}).reduce((e,r)=>e+r,0)}function mg(t,e){const r=Ny(),i=Ny(),n=t+r,o=e+i;return n-o}function HD(t){return t>=2?{text:"You take a running step toward it and fly through the air feet-first in preparation for a two-legged drop kick. The human-faced dog yelps. The dog-bodied human snarls. It looks right into your eyes. You abandon your maneuver mid-air. The creature retreats into the shadows. Something inside you stirs and start to {feel bad}.",success:!0}:t==1?{text:"With malicious fury, you wind your leg up to your chest to prepare a wanton one-footed stomp. The human-faced dog squeals. The dog-bodied human snarls. It looks right into your eyes. You lower your foot. The creature retreats into the shadows. Something inside you stirs and start to {feel bad}.",success:!0}:t==0?{text:"You close your eyes and kick out quickly where you think its face is. Your hear its panting as your leg furtively kicks out. You hit nothing. But strangely, you hear it depart. You open your eyes.^^Seeing the human-faced dog scamper away, you wonder if it was wrong to judge it so quickly. You start to {feel bad}.",success:!0}:{text:"As you prepare your attack, you lose your footing. The redblack dog's eyes flicker with an all-to-human violence. It's bared teeth shimmer with the certainty of death. The dog-body rushes toward you. The human-face is inches from yours. {You close your eyes.}",success:!1}}function WD(t){return t>0?{text:"chop-success",success:!0}:t<0?{text:"chop-fail",success:!1}:{text:"chop-neutral",success:!0}}function VD(t){switch(t){case"bow":return"The {hongatar} seem giddy at your gracious display and you can feel your nosehairs tingling.";case"lesson":return"The {hongatar} nod solemnly. After a moment of quiet reflection, they all begin to extol the virtues of not littering.";case"thanks":return'"Thanks!".."`Thanks!`".."tHaNkS!!" The {hongatar} are mocking you ruthlessly in what you tell yourself is all in good fun.';case"wink":return"This excites the {hongatar} very much. They start to flip and spin and shout and yip.";case"flatter":return"The {hongatar} blush simultaneously. What you said has them all a-titter!";case"insult":return"\"`tHaT's ThE sTuPiDeSt ThInG i'Ve EvEr HeArD!`\" The {hongatar} are mocking you ruthlessly, totally unfazed by your shallow insult.";case"accuse":return"The {hongatar} dismiss you summarily. You simply don't have the proof to back your accusations.";default:return""}}function UD(t){switch(t){case"dream":return"The thuds you were hearing turned out to be very real. Well, for a dream... especially considering you were dreaming twice.^^";case"squirrel":return"As you swat at the pesky vermin you lose your grip and fall backwards like a defeated villain in slow-motion, finally hitting the ground with a thud. ";case"chop-success":return'You slice through the tree with one fell swoop. Wow! Your parking lot dreams just might come true!^^The huge tree creaks ominously as it starts to fall. Just as you are about to yell, "Timber!", you hear strange noises from the depths of the forest. The tree hits the ground with a dull, lifeless thud. ';case"chop-fail":return"The axe bounces off the tree and flies out of your hands, disappearing into the forest. Not even a dent. Lame! Looks like you won't get your parking lot after all. ";case"chop-neutral":return"You manage to slice into the tree, but the axe gets stuck in the trunk. You yank it free, and as you do, it flies out of your hands, disappearing into the forest. ";default:return""}}function YD(t){return t?"The drunk from before stumbles by.":"There are those drunks from before. You cry out for help, but they don't see to care."}function qD(t){switch(t){case"rude":return"Serves them right. Probably deserve whatever Paul has in mind for them.";case"depressing":return"A good dose of mortal fear should remind them how to appreciate the little things in life.";case"polite":return"We should help them, but only because they were so polite to us earlier."}}const ts=[{title:"New CDC director: Byron Leakschild."},{title:"CDC director declares sweeping staff cuts."},{title:'"Too many scientists, political bias, living off citizens.", Leakschild says.'},{title:`"Too many maintenance workers and technicians." No one is safe from Leakschild's cuts.`},{title:'"Infectious disease labs overstaffed", staff cuts imminent.'},{title:`CDC director finds 15 employees all whose job it is to maintain watch and status of world's healthiest goblin, "waste of taxpayer money".`},{title:`World's healthiest goblin escapes when the one employee left to maintain facility falls asleep. Leakschild blames "Shleepy Shoshana".`},{title:"Escaped goblin now believed to carry a single deadly disease per reports."},{title:"Block your windows, quarantine in your homes, don't let the disease spread."},{title:"Army deployed to contain outbreak. Shelter in palce."}],Hp=wn("phone",{state:()=>ts,actions:{markAsRead(){const t=J(),e=Array.from(new Set(t.scenes)),r=Math.floor(e.length/4);for(let i=0;i<ts.length;i++)i<r&&(ts[i].isRead=!0)}}}),pr=wn("drawer",{state:()=>({isDrawerOpen:!1,notificationCount:0,didViewPhone:!1,drawerView:"main",selectedItem:null,selectedDictionaryEntry:null,phoneIsCrazy:!1}),actions:{toggleDrawer(){this.isDrawerOpen=!this.isDrawerOpen,this.didViewPhone&&!this.isDrawerOpen&&(Hp().markAsRead(),this.didViewPhone=!1)},updateNotificationCount(t){this.notificationCount=t},closeDrawer(){this.selectedItem=null,this.selectedDictionaryEntry=null,this.drawerView="main",this.toggleDrawer()},resetDrawerView(){this.drawerView=="phone"&&Hp().markAsRead(),this.drawerView="main"},clearItem(){this.selectedItem=null},setDrawerView(t){this.drawerView=t,t=="phone"&&(this.didViewPhone=!0,this.notificationCount=0)},updateSelectedItem(t){this.selectedItem=t},updateSelectedDictionaryEntry(t){this.selectedDictionaryEntry=t},clearDictionaryEntry(){this.selectedDictionaryEntry=null},togglePhoneIsCrazy(){this.phoneIsCrazy=!this.phoneIsCrazy}}}),KD={"black-dog":t=>({id:"black-dog",background:U,text:"They run past you to the skatepark. As they lope off, you turn around and lean against a tree.^^Your attention shifts to the field as the distant lights of the highway pull your gaze, like shooting stars.^^Below your gaze, you think you can see a form hunched across the field from you. Like a dark and burly bush, you can't make out its features. You are sure that was not there a minute ago.",choices:()=>[{text:"Go closer.",next:"black-dog1",onChoose:()=>{const e=le();e.setFlag("closer-to-black-dog",!0),e.gainStat("will",1)}},{text:"Back away.",next:"black-dog1",onChoose:()=>{const e=le();e.setFlag("closer-to-black-dog",!1),e.loseStat("will",1)}}]}),"black-dog1":t=>({id:"black-dog1",background:U,text:'Before you move a muscle, the dark star advances at a clip. As the distance closes, you notice rust red fur, interspersed with oily black. You feel riveted to the spot, unable to look away.^^You recall the words of your sister the last time she read your fortune using those weird blocks and strings, "You must be careful! There is a Red Dog. And, there is a Black Dog." But...^^...this is both? ^^{You start acting careful.}',buttonActions:[{action:()=>{J().goToScene("black-dog2")}}]}),"black-dog2":t=>({id:"black-dog2",background:U,text:"As the Redblack dog approaches, you observe with rising nausea that it has a humanlike face but with dog flesh, and full dark eyes. The dog snarls, and it sounds like a hungry snarl. As it closes the distance to you, you see that its hair is caught in snarls too. Ungroomed...^^The human-faced dog circles you, growling, barking, with human-like lips that reveal its strong jaw and saliva-wet teeth. The redblack dog lunges at your ankles, its teeth snapping around your heels as you leap back.",dialogSequence:()=>[{characterId:"black-dog",text:"<i>Grrrrrrrrrrr</i>",popUp:!0}],choices:()=>[{text:"Good puppy.",next:"black-dog-good"},{text:"Defend yourself.",next:"black-dog-bad"}]}),"black-dog-good":t=>({id:"black-dog-good",background:U,text:"You remember back to your childhood, to a dog you had, Calla. Calla, so stinky, so sweet, so loyal. The contrast between your childhood pet and this creature is striking. You feel few of the same feelings, despite the bodily similarity. And yet, you just love dogs, and you know that if you follow certain procedures, a mean-seeming dog may flip onto its back.^^The dog submits to your touch, and leans against you. You find a collar with a locket wrapped around its neck. The locket is glowing faintly with a sigul of a crescent moon. The dog does not react to you touching the locket, and you think to {open it}.",buttonActions:[{action:()=>{J().goToScene("black-dog-good1")}}]}),"black-dog-good1":t=>({id:"black-dog-good1",background:U,text:"Inside the locket is a dried bit of plant matter that smells of vanilla, and a taped lock of hair.^^As you hold these items, they dissolve in your palm, and you feel an energy fill you with intention.",choices:()=>{const e=le();return[{text:"Heal the human-faced dog's face back into a dog's face.",next:"black-dog-heal-dog",onChoose:()=>{e.setFlag("healed-dog","dog")}},{text:"Heal the human-faced dog's body back into a human's body.",next:"black-dog-heal-human",onChoose:()=>{e.setFlag("healed-dog","human")}}]},onPageLoad:()=>{J().updateShowDisappearingItem(!0)}}),"black-dog-heal-dog":t=>({id:"black-dog-heal-dog",background:U,text:"The creature's body seems to glow blue. Its human features morph and melt into the shape of a regular dog, keeping its general size, shape, and coloration, albeit red and black piebald.^^The dog looks up at you, panting, its eyes searching you cautiously for treats or pets. Seeing mostly surprise and wonder in your eyes, but no action, it turns tail to traipse across the field, stopping here and there to sniff the ground, but disappearing into the neighborhood.",choices:()=>{const e=[],r=le();return r.hasItem("dog-food")&&e.push({text:"Give it some dog food.",onChoose:()=>{r.setFlag("gave-dog-food",!0),r.removeFromInventory("dog-food")},next:"black-dog-heal-dog-food"}),e}}),"black-dog-heal-dog-food":t=>({id:"black-dog-heal-dog-food",background:U,text:""}),"black-dog-heal-human":t=>({id:"black-dog-heal-human",background:U,text:"The creature's body seems to glow pink. Its dog features seem to morph and melt into the shape of a human, kneeling on the ground, its limbs lengthening and its fur receeding and shifting into a mop of red-black hair on the top of the skull, and faint hairs on the back and arms.^^The man looks up into your eyes, looking confused and wild, looking down at himself, he covers his gonads, and turns tail to sprint across the field into the neighborhood.",choices:()=>[]}),"black-dog-heal-human-redux":t=>({id:"black-dog-heal-human-redux",background:U,text:"I saw the Moondog again today. Under the empty playground slide in the park. An empty locket hangs around their neck. They contemplate the slide and my hide. I work up the guts to say, You're not a dog now, what the heck!Moondog says, You made me this way, and it's been so long since I've been just one thing. Don't you think you ought to take responsibility?I thought about it, and with my gait, I rose to the top of the slide's deck. I purse my lips, open my chest, and sing. The Moon-former-dog pipes up, You've got real ability! Though, please, could you show me how to be human? I looked the Moondog in its eyes, eyes unchanged through the transformation. Then I took them to a museum. But they wouldn't let the Moondog in. Something about <i>parts flapping in the wind</i>. So I took the Moondog to a Lost and Found full of clothes they could fit into.Then I brought the Moondog to a swamp, the wastewater treatment plant, the grocery store, a shelter, and a job placement agency.The Moondog said, I don't want to be human if I have to be poor, to stop my howling before I get too loud, and keep things I find inside a door, inside a box within a box, in a box. I'm out. I never saw the Moondog again, until I went to buy some used CDs. I heard the Moondog at the counterI stop, I freeze. There they were, winking back at me, bearded, beastly, and barking up the treeof musicit was music to my ease."}),"black-dog-bad":t=>({id:"black-dog-bad",background:U,text:"Its bloodshot eyes stare into yours with shameless hunger. The smell of stale smoke like the stench of clothing bathed in campfire fills your nostrils. It begins to howl. The sound is eerily human, distincly <i>evil</i> in its gleeful exuberance. Its lips purse, and its cheeks tighen around its jaw, baring a mouth filled with human teeth. A stomach-seizing terror builds in you and you know...^^<i>This kind of creature feeds on fear.</i>^^You shall try a gambit, or it may best ye. You must latch onto a solid wavelength, to stabilize, secure your base.",dialogSequence:()=>[{characterId:"black-dog-scary",text:"AWOOOOOOOOOOO!!!!",onClick:()=>{const e=le(),r=3,i=e.athletics+(e.flags["closer-to-black-dog"]?0:1),n=mg(i,r),o=HD(n),s=J();o.success?s.goToScene("black-dog-bad-success",{text:o.text}):s.goToScene("black-dog-bad-fail",{text:o.text})}}]}),"black-dog-bad-success":t=>({id:"black-dog-bad-success",background:U,text:(t==null?void 0:t.text)??"",buttonActions:[{action:()=>{J().goToScene("black-dog-feel-bad")}}]}),"black-dog-bad-fail":t=>({id:"black-dog-bad-fail",background:U,text:(t==null?void 0:t.text)??"",buttonActions:[{action:()=>{const e=J(),r=le(),i=r.inventory.some(o=>o.id=="dog-food"),n=r.flags["drunk-choice"];i?e.goToScene("black-dog-bad-fail-food"):e.goToScene("black-dog-bad-fail-drunks",{filter:n})}}]}),"black-dog-bad-fail-food":t=>({id:"black-dog-bad-fail-food",background:U,text:"...^^But wait! You're still here... You open your eyes. The redblack dog is harmlessly sniffing around your pack. That's when you remember -- the dog food! Sweet serendiptity! Cautiously, you open your pack and {let the creature take the food}.",buttonActions:[{action:()=>{const e=le(),r=J();e.removeFromInventory("dog-food"),r.goToScene("black-dog-bad-fail-food1")}}]}),"black-dog-bad-fail-food1":t=>({id:"black-dog-bad-fail-food1",background:U,text:"",dialogSequence:()=>[{characterId:"black-dog",text:"<i>*whimpers happily*</i>"}]}),"black-dog-bad-fail-drunks":t=>({id:"black-dog-bad-fail-drunks",background:U,text:YD(t==null?void 0:t.filter),dialogSequence:()=>{if(t!=null&&t.filter)return[{characterId:t.filter=="sun"?"drunk1":"drunk2",text:"Hey, my friend! I see you've met Paul. He's not as scary as he looks. The little fella's jus' hangry. Don't you have any dog food?"},{characterId:t.filter=="sun"?"drunk1":"drunk2",text:"No worries. I owe you one from before!",onClick:()=>{J().goToScene("black-dog-bad-fail-drunks-help",{filter:"single"})}}];{const r=le().manners;return[{characterId:"drunk2",text:`Look! It's Mr. <i>"Not-from-around-here"</i>!`},{characterId:"drunk1",text:"HAHAHA!! Looks like they made a new friend!"},{characterId:"drunk2",text:`They were awfully <i>${r}</i> for someone who's <i>not from around here</i>.`},{characterId:"drunk1",text:`Facts. ${qD(r)}`,onClick:()=>{const i=J();r=="polite"?i.goToScene("black-dog-bad-fail-drunks-help",{filter:"both"}):i.goToScene("black-dog-bad-fail-drunks-leave",{filter:"both"})}}]}}}),"black-dog-bad-fail-drunks-help":t=>({id:"black-dog-bad-fail-drunks-help",background:U,text:`The ${(t==null?void 0:t.filter)=="both"?"drunks scatter":"drunk scatters"}  some dog food on the ground. The redblack dog retreats and busies itself with the food.`}),"black-dog-bad-fail-drunks-leave":t=>({id:"black-dog-bad-fail-drunks-leave",background:U,text:"They leave. And miracualously, so does the redblack dog. It seems to recognize the drunks and follows them happily.^^You feel embarassed for what just happened. {And alone}.",buttonActions:[{action:()=>{J().goToScene("black-dog-viral")}}]}),"black-dog-feel-bad":t=>({id:"black-dog-feel-bad",background:U,text:"You animal abuser!! But...its face is human, you say. Does that make it okay?^^Do you hate the human-faced dog because it's pieces of you?^Did you kick the dog-bodied human because it's pieces of you?^^Or was it because it was {so scary}?",buttonActions:[{action:()=>{J().goToScene("black-dog-viral")}}]}),"black-dog-viral":t=>({id:"black-dog-viral",background:U,text:"Suddenly, it's like a bomb went off on your phone. Alerts chirping like crazy.",onPageLoad:()=>{pr().togglePhoneIsCrazy()}})},Rr=wn("aspects",{state:()=>({aspects:[]}),actions:{addAspect(t){this.aspects.find(r=>r.id===t.id)||this.aspects.push({...t,scenesRemaining:t.durationScenes})},removeAspect(t){this.aspects=this.aspects.filter(e=>e.id!==t)},hasAspect(t){return this.aspects.some(e=>e.id===t)},decrementDurations(){this.aspects.forEach(t=>{t.durationScenes>-1&&t.scenesRemaining--}),this.aspects=this.aspects.filter(t=>t.durationScenes<0||t.scenesRemaining>0)}}}),GD={id:"magic-nosehairs",name:"Magic Nosehairs",description:"Unknown",durationScenes:-1,scenesRemaining:0},XD={id:"one-with-the-hongatar",name:"One with the Hongatar",description:"Unknown",durationScenes:-1,scenesRemaining:0},JD={id:"god-of-the-forest",name:"God of the Forest",description:"Unknown",durationScenes:-1,scenesRemaining:0},ZD={id:"sexy-god-of-the-forest",name:"Sexy God of the Forest",description:"Unknown",durationScenes:-1,scenesRemaining:0},QD={id:"butt-of-the-joke",name:"Butt of the Joke",description:"Unknown",durationScenes:-1,scenesRemaining:0},eM={id:"boy-who-cried-wolf",name:"Boy Who Cried Wolf",description:"Unknown",durationScenes:-1,scenesRemaining:0},tM={id:"nobodys-friend",name:"Nobody's Friend",description:"Unknown",durationScenes:-1,scenesRemaining:0},rM={id:"squirrel-tamer",name:"Squirrel Tamer",description:"Unknown",durationScenes:-1,scenesRemaining:0},iM={id:"squirrel-bitch",name:"Squirrel Bitch",description:"Unknown",durationScenes:-1,scenesRemaining:0},nM={id:"tree-murderer",name:"Tree Murderer",description:"Unknown",durationScenes:-1,scenesRemaining:0},oM={id:"all-your-bones-are-broken",name:"All Your Bones Are Broken",description:"Unknown",durationScenes:-1,scenesRemaining:0},sM={id:"jack-be-nimble",name:"Jack Be Nimble",description:"Unknown",durationScenes:-1,scenesRemaining:0},aM={dream:t=>({id:"dream",background:U,text:'"Ah, to sleep, perchance to dream."^^...^^A great forest towers over you. The ground is layered with pine needles. The stacked needles must be at least 40cm deep! It feels like this bed of needles is just barely supporting your weight and if you were any heavier, you might start to sink. Your progress is slow while you focus on balance. {Pick up a handful of pine needles.}',choices:()=>[{text:"Admire the trees.",next:"dream1"}],buttonActions:[{isItem:!0,action:()=>{le().addToInventory("pine-needles","dream")}}]}),dream1:t=>({id:"dream1",background:U,text:`${(t==null?void 0:t.filter)=="fromNap"?"You're able to wake up from the dream within the dream, but you're still dreaming. You are back where you started.^^":t!=null&&t.filter?"You find your way back to where you started.^^":""}Trees! Grand, huge, awe-inspiring trees! The crisp, beautiful pine scent cuts through the pervading damp of the forest. ${(t==null?void 0:t.filter)=="noSquirrel"?"":"There are squirrels and spiders scurrying and spindling. {Try to catch one}. "}Above, the pines' trunks creak. Their creaky columns bend into the sky. You gaze at the trees, taking them in like a worshipper at the shrine. The woody deities are set in bas-relief against the backdrop of clear sky.${(t==null?void 0:t.filter)=="noFaeries"?"":"^^A group of {pine faeries} emerge from the knot of a nearby tree. They circle around you, teasing you, plucking your eyelashes and spitting in your nostril holes. They swirl away off to your left.^{Follow them}."}^^Dad-gum forest faeries. Yep, if you had you an ax, you'd {start chopping} down all these trees, right this second. If you don't, someone else surely will. A place like this? Prime real estate. Goodbye paradise, hello parking lot!${(t==null?void 0:t.filter)=="noNap"?"":"^^Forget the faeries, forget the trees, forget the parking lot... look at that brain-colored moss over there! Mmm, awww.... you wanna curl up and {take a nap}.^^{Pick up a handful of pine needles.}"}`,buttonActions:[{action:()=>{J().goToScene("dream-squirrel")}},{dictionaryEntryId:"hongatar"},{action:()=>{J().goToScene("dream-faeries")}},{action:()=>{J().goToScene("dream-chop")}},{action:()=>{J().goToScene("dream-within-a-dream")}},{isItem:!0,action:()=>{le().addToInventory("pine-needles","dream1")}}]}),"dream-within-a-dream":t=>({id:"dream-within-a-dream",background:U,text:"It's so serene and beautiful here. It would be funny if you could go to sleep again when you are already dreaming. You pick a spot to nap on the brain moss, sinking into it, supple and cozy.^^{Pick up a handful of brain moss.}",buttonActions:[{isItem:!0,action:()=>{le().addToInventory("brain-moss","dream-within-a-dream")}}],choices:()=>[{text:"Fall asleep.",next:"dream-within-a-dream1"},{text:"Nevermind",next:"dream1"}]}),"dream-within-a-dream1":t=>({id:"dream-within-a-dream1",background:U,text:"You fell asleep on some brain moss. Now you are dreaming twice.",choices:()=>[{text:"Wait... will I fall asleep <i>forever</i>?",next:"dream-within-a-dream2"},{text:"No, that's silly. Don't entertain that worry.",next:"dream-within-a-dream-refuse"}]}),"dream-within-a-dream-refuse":t=>({id:"dream-within-a-dream-refuse",background:U,text:`...^^The concept of dreaming twice is so scary! What if you don't wake up? ^^Too late, you fell asleep anyway. Radiating anxiety, your raw nerves attack you.^^After a spiral of overthinking, you notice that you are hugging a brightly colored mushroom. You can tell because your face is right up against it and your arms are surrounding it. The mushroom smells like marshmallows, pencil shavings, sad carnivals and tests. Its flesh is soft, like a rotting orange. You recoil. What a gross mushroom! What a cruddy day! You feel off.^^You hear yourself say aloud, "Eugh! What a wash."^^You lean back for a while just admiring the mushroom's disgustingness, worrying that you'll never wake up again.^^{Grab up a handful of the mushroom's flesh.}^^You begin to hear a faint thudding noise like the labored heartbeat of some distant goliath. Oh no. Your dreaming was weak, filled with worry. A foreboding sense of doom cuts forces you to {awaken back into the first dream}.`,buttonActions:[{isItem:!0,action:()=>{le().addToInventory("mushroom","dream-within-a-dream-refuse")}},{action:()=>{J().goToScene("dream-tree-chase",{filter:"dream"})}}]}),"dream-within-a-dream2":t=>({id:"dream-within-a-dream2",background:U,text:`Completely serene, without a worry in your mind, you fall asleep in your dream. You breathe in.^^A new dream! You notice that you are hugging a brightly colored mushroom! You can tell because your face is right up against it and your arms are embracing it. The mushroom smells like a marshmallow pencil, graphite and sugar. Its flesh is soft, yet springy. What a special mushroom! What a special day! You feel content.^^You hear yourself say aloud, "Wow! What a colorful mushroom."^^You lean back for a while just admiring the mushroom's shape.^^{Grab up a handful of the mushroom's flesh.}^^Looking up from the shroom, {a hilly landscape sprawls out before you}.`,buttonActions:[{isItem:!0,action:()=>{le().addToInventory("mushroom","dream-within-a-dream2")}},{action:()=>{J().goToScene("dream-within-a-dream3")}}]}),"dream-within-a-dream3":t=>({id:"dream-within-a-dream3",background:U,text:"The landscape expands into a void panorama, filling every corner of the emptiness as you inhale deeper. Day, night, day, night. Seasons cycle and time dutifully carves the terrain with imperceptible changes.^^You've never had a dream like this before. Usually it's packing, or missing busses.^^Settlements form. Clusters of huts dot the hillsides. Farms appear in patchwork sewn around the huts.^^You begin to exhale and as you do, the huts morph into vinyl-sided cookie-cutter houses. Spidery networks of highways fan out and spread upon the landscape like mycelia exploring a forest floor.^^A hill flattens here, a plain rises into a mountain there. The houses multiply and spread out along the roads, and from their coverage, large buildings and the grey of steel and asphalt overtakes the vegetative green. The stars in the night sky become less, the clarity of day is obscured by haze. The quiet is consumed by an ever-surmounting hum.^^{Breathe in.}",buttonActions:[{action:()=>{J().goToScene("dream-within-a-dream4")}}]}),"dream-within-a-dream4":t=>({id:"dream-within-a-dream4",background:U,text:"The hum intensifies until it almost becomes unbearable, making you wince. It reaches a cresecendo and slowly begins its ebb back into entropic silence, leaving a ghostly impression of its power in your memory.^^With each milliliter of breath that exits your lungs, the pervading artifical glow diminishes and the stars return to their former glory, one by one.^^Buildings topple and decay as trees and fields reclaim the landscape. The highways wither like wisps of smoke disintegrating into the hills. The once imposing grids of farms and neighborhoods fade into amorphous wilderness.^^Day, night, day, night. Seasons cycle and time dutifully carves the terrain with imperceptible changes. All is as it was before.^^{Open your eyes}.",buttonActions:[{action:()=>{J().goToScene("hypno")}}]}),"dream-chop":t=>({id:"dream-chop",background:U,text:"You have chosen to swing a dream ax at a dream tree.^^Looking down, you see a single-headed carbon-fiber ax in your left hand. Heh. Hefty!^^You spit into each of your palms and aiming at the nearest tree, you get a good look at its bark. The brown armor is thick and full of a maze of paths, following the pine's vertical growth. You position the ax over your left shoulder, and closing one eye, take a swing at a healthy angle to hit the tree.",onPageLoad:()=>{const e=le();e.hasItem("axe")||e.addToInventory("axe","dream-chop")},choices:()=>[{text:"THUNK",onChoose:()=>{const e=le(),i=mg(e.athletics,0),n=WD(i);n.success&&Rr().addAspect(nM),J().goToScene("dream-tree-chase",{filter:n.text}),i<=0&&e.removeFromInventory("axe")}}]})},lM={"dream-squirrel":t=>({id:"dream-squirrel",background:U,text:"You lock in on a squirrel. Its grey body is a corkscrew streak around the trunk. It's time to give chase. You straddle the trunk, feeling the roughness of the bark tugging at your turtleneck as you shimmy up. Just a little closer... The squirrel is right there! Its little face, filled with alarm (or is it amusement?), fills you with determination.",choices:()=>[{text:"Reach for the closest branch.",next:"dream-squirrel1a"},{text:"Keep shimmying up.",next:"dream-squirrel1b"}]}),"dream-squirrel1a":t=>({id:"dream-squirrel1a",background:U,text:"You reach for a nearby branch. It breaks, but your thighs remain firmly clenched on the trunk. {Keep shimmying up}.",buttonActions:[{action:()=>{J().goToScene("dream-squirrel1b")}}]}),"dream-squirrel1b":t=>({id:"dream-squirrel1b",background:U,text:"You keep shimmying up the trunk, past the first branch. Your arms and legs are giving out. The squirrel hasn't moved. The way it watches you, vacillating between tepid curiosity and utter indifference, suggests the thought of you as a threat could not be further from its mind.",choices:()=>[{text:"Push yourself even harder.",next:"dream-squirrel2"},{text:"This was a bad idea. Shimmy back down before you get hurt.",next:"dream-squirrel-give-up"}]}),"dream-squirrel2":t=>({id:"dream-squirrel2",background:U,text:"Atta boy! Quitters never win. Your brow is wet with dream sweat. Your hands and limbs are all scraped up from climbing. You feel sappy bits on your clothes and face. The squirrel comes a little closer to you.^^Your muscles start to tremble. The squirrel gets up in your grill.",dialogSequence:()=>[{characterId:"squirrel",text:"Putoat! Putoat!",onClick:()=>{J().goToScene("dream-squirrel3")}}]}),"dream-squirrel3":t=>({id:"dream-squirrel3",background:U,text:"The little vermin is taunting you!",choices:()=>[{text:"In a last ditch effort, dart your hand out to snatch the furball.",next:"dream-squirrel4",onChoose:()=>{const e=le(),r=Rr(),n=mg(e.athletics,2),o=n>=0?"success":"fail";n>=0?r.addAspect(rM):r.addAspect(iM),J().goToScene("dream-squirrel4",{filter:o})}}]}),"dream-squirrel4":t=>({id:"dream-squirrel4",background:U,text:(t==null?void 0:t.filter)=="success"?"Sweet synergy! You grabbed that sucker! It almost squirms free before you can recover from the shock of actually catching it. Overjoyed and triumphant, you shimmy back down to the forest floor with an easy swagger. The squirrel crawls up your sleeve and runs a circle around your neck. You made a friend!^^The squirrel wants you to follow it.":"Pfft. Of course you missed. Who catches a squirrel with their bare hands? As a result, you lose your grip and fall backwards like a defeated villain in slow-motion.^^You hit the ground with a soft thud and several pinecones scatter down around you. {Pick up a pinecone.}^^The squirrel wants you to follow it.",buttonActions:(t==null?void 0:t.filter)=="success"?[]:[{isItem:!0,action:()=>{le().addToInventory("pinecone","dream-squirrel4")}}],dialogSequence:()=>[{characterId:"squirrel",text:"Puolue! Puolue!",onClick:()=>{J().goToScene("dream-squirrel5")}}]}),"dream-squirrel5":t=>({id:"dream-squirrel5",background:U,text:""}),"dream-squirrel-give-up":t=>({id:"dream-squirrel-give-up",background:U,text:"The squirrel is right. You could never expect to be compete with its arboreal superiority. Better to slide back down the tree before you get hurt.",dialogSequence:()=>[{characterId:"squirrel",text:"Putoat! Putoat!",onClick:()=>{J().goToScene("dream-squirrel-give-up1")}}]}),"dream-squirrel-give-up1":t=>({id:"dream-squirrel-give-up1",background:U,text:"Dang squirrel! It's becoming aggressive, jumping on and off your head and yanking your hair.",dialogSequence:()=>[{characterId:"squirrel",text:"PUTOAT! PUTOAT!",onClick:()=>{J().goToScene("dream-tree-chase",{filter:"squirrel"})}}]})},lr="/void-leeba/assets/faeries-NhACxVvu.mp3",cM={"dream-faeries":t=>({id:"dream-faeries",background:U,audio:lr,text:"You follow after the {hongatar}. They all have the same dutch boy haircut and cro-magnon facial features. The wings look like fly's wings. The pack flies through the air, leaving rapidly fading trails of light in their wake. They seem to be eating small snails, and then casting their shells to the forest floor.^^{Pick up a handful of hongatar trash.}^^The faeries are excitedly chattering amongst themselves.",buttonActions:[{dictionaryEntryId:"hongatar"},{isItem:!0,action:()=>{le().addToInventory("hongatar-trash","dream-faeries")}}],dialogSequence:()=>[{characterId:"faerie1",text:"Mun muru, if you're with me, I can endure any frat party without crying."},{characterId:"faerie2",text:"Aww kullannuppu, that's so sweet. Are you gonna do a Keg stand this time?"},{characterId:"faerie1",text:"Muru, I would do it, but I would have to cry first."},{characterId:"faerie3",text:"Hey funny faces, let's see if the Keg can do an us-stand!"},{characterId:"faerie2",text:"Spt pikku puput, a thingy is following us.",onClick:()=>{J().goToScene("dream-faeries1")}}]}),"dream-faeries1":t=>({id:"dream-faeries1",background:U,audio:lr,text:"The group of {hongatar} turn to look at you.",buttonActions:[{dictionaryEntryId:"hongatar"}],choices:()=>[{text:'Bow graciously. "Thanks for spitting in my nostril holes."',next:"dream-faeries2",payload:{filter:"bow"},onChoose:()=>{Rr().addAspect(GD)}},{text:"Get on their case about littering.",next:"dream-faeries-litter"},{text:"There's that squirrel again! Try to catch it.",next:"dream-squirrel"}]}),"dream-faeries2":t=>({id:"dream-faeries2",background:U,audio:lr,text:`${VD(t==null?void 0:t.filter)} Their excited chattering finds a rhythmic unison in a sing-song chant.`,buttonActions:[{dictionaryEntryId:"hongatar"}],dialogSequence:()=>[{characterId:"faerie1",text:"We're going to a party!"},{characterId:"faerie2",text:"We're going to a party!"},{characterId:"faerie1",text:"We want to sing and drink and eat!"},{characterId:"faerie3",text:"A party is the thing we need!"},{characterId:"faerie2",text:"Heed the call!"},{characterId:"faerie1",text:"Come one, come all!"},{characterId:"faerie3",text:"We're going to a party!"},{characterId:"faerie1",text:"We're going to a party!",onClick:()=>{J().goToScene("dream-faeries3")}}]}),"dream-faeries3":t=>({id:"dream-faeries3",background:U,audio:lr,text:"The {hongatar} with the coolest outfit addresses you.",buttonActions:[{dictionaryEntryId:"hongatar"}],dialogSequence:()=>[{characterId:"faerie2",text:"Wow, a human that understands Fairy etiquette, how amusing, how rare! What a find! Will you join us? We are headed to a Leak Party.",popUp:!0}],choices:()=>[{text:"Um...",next:"dream-faeries-party-check"},{text:"PARTY!!!",next:"dream-faeries4"}]}),"dream-faeries4":t=>({id:"dream-faeries4",background:U,audio:lr,text:"You follow them into a clearing where the hongatar with the dullest outfit starts handing out eggcorns. He hands you one.",dialogSequence:()=>[{characterId:"faerie3",text:"See you soon raccoon!",onClick:()=>{J().goToScene("dream-faeries5")}}]}),"dream-faeries5":t=>({id:"dream-faeries5",background:U,audio:lr,text:"Whatever that means.^^The eggcorn's skin is a luscious, lacquered brown. It has a neat little cap and a fine pointy bottom. In fact, you've never found an eggcorn to be so... tantalizing. Definitely something odd about these eggcorns. You notice that after eating an eggcorn, the hongatar fall to the ground unconscious. Soon you're the only one left standing.",choices:()=>[{text:"YOLO! Eat the eggcorn.",next:"party-eggcorn"},{text:"On second thought...",next:"party-eggcorn-check"}]}),"dream-faeries-litter":t=>({id:"dream-faeries-litter",background:U,audio:lr,text:"",dialogSequence:()=>[{characterId:"faerie1",text:"What? Plkkyp! Everyone knows hongatar don't litter.",popUp:!0}],choices:()=>{const e=le(),r=[{text:'"Oh I see, you were planting snail trees! The Hongatar truly are a noble breed.',next:"dream-faeries-litter1"},{text:'"LIES!"',next:"dream-faeries-litter1"}];return e.inventory.some(i=>i.id=="hongatar-trash")&&r.push({text:"Show them the proof.",next:"dream-faeries-litter-police"}),r}}),"dream-faeries-litter1":t=>({id:"dream-faeries-litter1",background:U,audio:lr,text:"The {hongatar} puff up, proud.",buttonActions:[{dictionaryEntryId:"hongatar"}],dialogSequence:()=>[{characterId:"faerie1",text:"Humans have decimated the snail forest. We hongatar are nobly trying to replant them one snail shell at a time."}],choices:()=>{const e=le(),r=Rr();return[{text:`"You're lying. I saw you eating the snails!"`,next:"dream-faeries2",payload:{filter:"accuse"},onChoose:()=>{e.setManners("depressing"),r.addAspect(eM)}},{text:'"Your dedication to the ecosystem is so inspiring. If only we humans were so thoughtful and so brave."',next:"dream-faeries2",payload:{filter:"flatter"},onChoose:()=>{e.setManners("polite"),r.addAspect(XD)}},{text:'"That is asinine."',next:"dream-faeries2",payload:{filter:"insult"},onChoose:()=>{e.setManners("rude"),r.addAspect(tM)}}]}}),"dream-faeries-litter-police":t=>({id:"dream-faeries-litter-police",background:U,audio:lr,text:"",dialogSequence:()=>[{characterId:"faerie2",text:"Mercy!"},{characterId:"faerie1",text:"Forgive us!",onClick:()=>{J().goToScene("dream-faeries-litter-police1")}}]}),"dream-faeries-litter-police1":t=>({id:"dream-faeries-litter-police1",background:U,audio:lr,text:"The {hongatar} now all seem to hold you in great reverence and awe, as if you were a god of the whole forest.",buttonActions:[{dictionaryEntryId:"hongatar"}],dialogSequence:()=>[{characterId:"faerie3",text:"A being of your stature should not dirty their hands with such filth.",onClick:()=>{le().removeFromInventory("hongatar-trash")}},{characterId:"faerie3",text:"We found this magical tome in the forest. We can't read it but we know it's valuable. Here.",onClick:()=>{le().addToInventory("self-help-book","dream-faeries-litter-police1"),J().goToScene("dream-faeries-litter-police2")}}]}),"dream-faeries-litter-police2":t=>({id:"dream-faeries-litter-police2",background:U,audio:lr,text:"The {hongatar} all stare at you expectantly, like eager children.",buttonActions:[{dictionaryEntryId:"hongatar"}],choices:()=>[{text:'"Let that be a lesson to you."',next:"dream-faeries2",payload:{filter:"lesson"},onChoose:()=>{Rr().addAspect(JD)}},{text:'"Self-help is my favorite genre, thanks!"',next:"dream-faeries2",payload:{filter:"thanks"},onChoose:()=>{Rr().addAspect(QD)}},{text:"Wink.",next:"dream-faeries2",payload:{filter:"wink"},onChoose:()=>{Rr().addAspect(ZD)}}]}),"dream-faeries-party-check":t=>({id:"dream-faeries-party-check",background:U,audio:lr,text:"",dialogSequence:()=>[{characterId:"faerie2",text:"Are you sure Armaani? The party train is leaving!",popUp:!0}],choices:()=>[{text:"I'm good. Thanks",next:"dream-faeries-party-decline"},{text:"PARTY!!!",next:"dream-faeries4"}]}),"dream-faeries-party-decline":t=>({id:"dream-faeries-party-decline",background:U,audio:lr,text:"",dialogSequence:()=>[{characterId:"faerie2",text:"Suit yourself!",onClick:()=>{J().goToScene("dream1",{filter:"noFaeries"})}}]})},dM="/void-leeba/assets/party-Drqkywae.mp3",uM={"party-eggcorn":t=>({id:"party-eggcorn",background:U,text:`Yuck! It tastes like...^^You don't get a chance to finish the thought. It feels like the whole world is being stretched inside-out. You hear a voice, like an echo in your mind, "See you soon, raccoon!" Then {everything goes dark}.`,buttonActions:[{action:()=>{J().goToScene("party")}}]}),"party-eggcorn-check":t=>({id:"party-eggcorn-check",background:U,text:"But it's <i>so tantalizing!</i>",choices:()=>[{text:"YOLO! Eat the eggcorn.",next:"party-eggcorn"},{text:"No. Seriously. I'm not eating it.",next:"dream1",payload:{filter:"noFaeries"}}]}),party:t=>({id:"party",background:U,text:(t==null?void 0:t.filter)=="isKeg"?"You're the life of the party. You're the Keg.":"When you come to, you're still in the clearing, but it all seems <i>different</i>. The squirrel and hongatar are all here, but perfectly conscious. There is upbeat music, merry-making and of course, a keg!",audio:dM,backgroundFilter:"invert(1)",dialogSequence:()=>[{characterId:"faerie1",text:"WOOOOOOOTTT!"},{characterId:"squirrel",text:"JOOOOOOOO!"}]})},hM={"dream-tree-chase":t=>({id:"dream-tree-chase",background:U,text:UD(t==null?void 0:t.filter)+"As the dull sound resounds, it is joined by a chorus of snapping, cracking, creaking. Soft at first, the din grows louder and louder.^^A tree slams as it splinters and crashes into the ground behind you, making you jump. Another tree falls, narrowly missing your shoulder. A tree that wasn't even there before begins to fall directly overhead. You dive out of the way at the last moment.^^The trees are chasing you!^^You {run} forward through the forest.^^{Pick up a handful of pine needles.}",buttonActions:[{action:()=>{const e=J(),i=le().inventory.reduce((n,o)=>n+o.weight,0);e.goToScene("dream-tree-chase-game-intro",{text:i<4?"You feel unencumbered and are able to move nimbly.":i<7?"You feel somewhat burdened by the weight of your bag. Your agility is limited.":"Why did you pick up so much stuff? You can barely move to save your life."})}},{isItem:!0,action:()=>{le().addToInventory("pine-needles","dream-tree-chase")}}]}),"dream-tree-chase-game-intro":t=>({id:"dream-tree-chase-game-intro",background:U,text:((t==null?void 0:t.text)??"")+"^^Trees are falling all around you. You have to {dodge them}.",buttonActions:[{action:()=>{J().goToScene("dream-tree-chase-game")}}]}),"dream-tree-chase-game":t=>({id:"dream-tree-chase-game",background:U,text:"",miniGameId:"tree-chase"}),"dream-tree-chase-game-win":t=>({id:"dream-tree-chase-game-win",background:U,text:"It suddenly occurs to you that your legs feel unprecedentedly supple. Like those little rubber caps you used to get from the toy dispensers at the front of the grocery store. You'd put a quarter in and you'd get a round clear plastic capsule with a colorful little rubber cap inside. You'd turn the cap inside-out, set it down and...^^FWOOM!!! You're leaping and bounding through the air, {springing off the pine needles} like a tree frog on a trampoline.",buttonActions:[{action:()=>{}}]}),"dream-tree-chase-game-lose":t=>({id:"dream-tree-chase-game-lose",background:U,text:"You feel yourself starting to sink. You try to run but you can't move your legs, like in a bad dream. You remember that you're dreaming and realize that's exactly what this is. A bad dream.^^The trees are closing in on you now and there is nothing you can do.^^WHACK!^THOOMB!!^CRACK!!!^^You're mangled in a barrage of falling trees. {All your bones are broken.}",buttonActions:[{action:()=>{}}]})},fM={hypno:t=>({id:"hypno",text:`You had fallen asleep on some dream moss, but you open your eyes to find yourself in a dressing room with a script in your hands, practicing lines for a play:^^"What a good boy am I, so far from being an ant."^"What a good boy... am I! So... <i>far</i> from being an ant!"^"What a good boy am I, so far... from <i>being</i> an ant."^...^"Builder of the gods, put an orange-soda fountain in my bedroom!"^"Builder... <i>of the gods</i>, put an orange-soda fountain in... <i>my bedroom</i>!"^"BUILDER OF THE GODS... PUT AN ORANGE-SODA FOUNTAIN IN MY BEDROOM!"^...^"Where's my wife? I miss her."^"Where's my... <i>wife?</i> I miss her!"^"Where's <i>my</i> wife? <i>I miiiiiss herrrrrrr</i>!!!"`,background:U,choices:()=>[{text:"Keep practicing."},{text:"Finish."}]})},md={...LD,...jD,...zD,...KD,...aM,...lM,...cM,...hM,...uM,...fM},nE=["intro","intro1","start","credits","preamble"],J=wn("game",{state:()=>({currentSceneId:"preamble",currentScenePayload:void 0,started:!1,showChoices:!1,animationSkipped:!1,showOverlay:!0,scenes:[],showDisappearingItem:!1,isPsychedelic:!1,psychedelicScenesRemaining:0,showSceneGraph:!1}),getters:{currentScene(t){return md[t.currentSceneId]}},actions:{start(){this.currentSceneId="start",this.started=!0},goToScene(t,e){md[t]?(this.showDisappearingItem=!1,this.currentSceneId=t,e&&(this.currentScenePayload=e),this.scenes.includes(t)||Rr().decrementDurations(),this.psychedelicScenesRemaining>0&&(this.psychedelicScenesRemaining--,this.psychedelicScenesRemaining<=0&&(this.isPsychedelic=!1))):as().show("This path has not been built yet")},goBack(){const e=this.scenes.lastIndexOf(this.currentSceneId)-1;if(e>-1){const r=this.scenes[e],i=le(),n=i.inventory.filter(o=>o.pageAcquired!=r);i.inventory=n,this.goToScene(r)}},goForward(){const e=this.scenes.indexOf(this.currentSceneId)+1,r=this.scenes[e];this.goToScene(r)},addSceneToHistory(){!nE.includes(this.currentSceneId)&&!this.scenes.includes(this.currentSceneId)&&this.scenes.push(this.currentSceneId)},chooseOption(t){t.next||t.onChoose?(this.currentScenePayload=t.payload||void 0,t.onChoose&&t.onChoose(),t.next&&this.goToScene(t.next)):as().show("This path has not been built yet")},updateShowChoices(t){this.showChoices=t},updateAnimationSkipped(t){this.animationSkipped=t},updateShowOverlay(t){this.showOverlay=t},updateShowDisappearingItem(t){this.showDisappearingItem=t},startPsychedelicEffect(t=3){this.isPsychedelic=!0,this.psychedelicScenesRemaining=t},toggleShowSceneGraph(){this.showSceneGraph=!this.showSceneGraph}}});let Fy,By=0;const Ly=new Map,pM=15e3,kr=Wt(null),mh=1e3;function yg(){function t(o,s){const a=Date.now(),l=Ly.get(s)||0;if(a-l<pM)return;Ly.set(s,a),new Audio(o).play().catch(d=>{console.warn("Audio playback failed:",d)})}function e(o){var a;if(!o){kr.value&&(i(kr.value),kr.value=null);return}if((a=kr.value)!=null&&a.src.includes(o))return;const s=new Audio(o);r(s,kr.value)}function r(o,s){var a;if(s){kr.value=o;const l=s.volume/(mh/50),c=setInterval(()=>{s.volume>.05?s.volume-=l:(clearInterval(c),s.pause(),n(o))},50)}else kr.value=o,kr.value.volume=0,n(kr.value);(a=kr.value)==null||a.addEventListener("loadedmetadata",()=>{oE()})}function i(o){const s=o.volume/(mh/50),a=setInterval(()=>{o.volume>.05?o.volume-=s:(clearInterval(a),o.pause())},50)}function n(o){o.play();const s=1/(mh/50),a=setInterval(()=>{o.volume<.95?o.volume+=s:(o.volume=1,clearInterval(a))},50)}return{playBackgroundAudio:e,playCharacterSound:t}}function oE(){const t=kr.value;clearInterval(Fy),t&&(By=t.duration-t.currentTime,Fy=setInterval(()=>{!t.paused&&!t.ended&&(t.currentTime=0,oE())},By*1e3))}const vM={key:0,class:"overlay"},gM=He({__name:"StartDialog",setup(t){const e=Wt(!0),r=J(),{playBackgroundAudio:i}=yg();function n(){i(iE),e.value=!1,r.start()}return(o,s)=>e.value?(N(),G("div",vM,[te("div",{class:"box"},[s[0]||(s[0]=te("p",{class:"message"},"This game uses sound. Please click Play to begin.",-1)),te("button",{onClick:n},"Play")])])):De("",!0)}}),et=(t,e)=>{const r=t.__vccOpts||t;for(const[i,n]of e)r[i]=n;return r},mM=et(gM,[["__scopeId","data-v-fdd09f02"]]),sE=wn("timeout",{state:()=>({timeouts:{}}),actions:{set(t,e,r){this.clear(t,!1);const i=setTimeout(()=>{e(),delete this.timeouts[t]},r);this.timeouts[t]={timeoutId:i,callback:e}},clear(t,e){const r=this.timeouts[t];r&&(clearTimeout(r.timeoutId),e&&r.callback&&r.callback(),delete this.timeouts[t])},clearAll(){for(const t in this.timeouts)clearTimeout(this.timeouts[t].timeoutId);this.timeouts={}}}});function yM(){const t=J(),e=sE();function r(){const o=t.animationSkipped,s=t.currentSceneId;(o&&s=="intro"||s=="intro1")&&(e.clearAll(),t.goToScene(s==="intro"?"intro1":"home")),t.updateAnimationSkipped(!0),t.updateShowChoices(!0),e.clear(s,!0)}function i(){t.updateShowOverlay(!0),requestAnimationFrame(()=>{t.updateShowOverlay(!1)})}async function n(o){t.scenes.includes(t.currentSceneId)||(t.updateAnimationSkipped(!1),t.updateShowChoices(!1)),t.addSceneToHistory(),await dg(),i(),e.set(t.currentSceneId,async()=>{(t.currentSceneId=="intro"||t.currentSceneId=="intro1")&&e.set(`${t.currentSceneId}-overlay`,()=>{t.updateShowOverlay(!0),e.set(`${t.currentSceneId}-scene`,()=>{t.goToScene(t.currentSceneId=="intro"?"intro1":"home")},2e3)},2e3),t.updateShowChoices(!0),t.updateAnimationSkipped(!0)},o)}return{finishAnimation:r,triggerFade:i,onSceneChanged:n}}const bM="/void-leeba/assets/void-leeba-logo-DeaNUMHk.png",$M={class:"col"},wM=["src"],_M={class:"text"},SM=["innerHTML"],EM=He({__name:"StartBody",props:{letters:{},animationSkipped:{type:Boolean}},setup(t){return(e,r)=>(N(),G("div",$M,[te("img",{src:P(bM),alt:"Game Logo",class:"centered-logo"},null,8,wM),te("div",_M,[(N(!0),G(_e,null,jr(e.letters,(i,n)=>(N(),G("span",{key:`${n}-start-base`,class:"letter",style:Sr(e.animationSkipped?{animation:"none",opacity:1}:{animationDelay:`${n*.15}s`,opacity:0}),innerHTML:i===" "?"":i},null,12,SM))),128))])]))}}),TM=et(EM,[["__scopeId","data-v-70b1336a"]]),IM=He({__name:"Credits",setup(t){const e=J();return(r,i)=>(N(),G(_e,null,[te("button",{class:"back-button",onClick:i[0]||(i[0]=Ee(n=>P(e).goToScene("start"),["stop"]))},"<"),i[1]||(i[1]=te("div",{style:{color:"white"}},"CREDITS",-1))],64))}}),OM=et(IM,[["__scopeId","data-v-71385cb3"]]),jy="/void-leeba/assets/closed-eye-DZpySIhl.png",zy="/void-leeba/assets/open-eye-CqBbuo-3.png",xM={class:"col"},PM={class:"eyes"},kM=["src"],CM=["src"],AM={class:"animated-text"},DM=He({__name:"IntroBody",props:{letters:{},animationSkipped:{type:Boolean},eyeIsOpened:{type:Boolean}},setup(t){return(e,r)=>(N(),G("div",xM,[te("div",PM,[te("img",{class:"eye",src:e.eyeIsOpened?P(zy):P(jy)},null,8,kM),te("img",{class:"eye flipped",src:e.eyeIsOpened?P(zy):P(jy)},null,8,CM)]),te("div",AM,[(N(!0),G(_e,null,jr(e.letters,(i,n)=>(N(),G("span",{key:`${n}-intro`,class:"intro-text",style:Sr(e.animationSkipped?{animation:"none",opacity:1}:{animationDelay:`${n*.25}s`,opacity:0})},Me(i),5))),128))])]))}}),MM=et(DM,[["__scopeId","data-v-3ffce796"]]),bg={hongatar:{id:"hongatar",name:"Hongatar",description:"Hongatar are mischief incarnate. They, like nature, are neither good nor evil, not lawful nor chaotic. Sometimes they help a small child escape a cave, even though they might complain about the nuisance cuttingly, and make fun of the kid. Sometimes they will help a megalomaniac into great power by hacking their competitor's {hyperleak}s. The reason faeries glow is because they have a pure and beautiful life force like {dorgang}."},hyperleak:{id:"hyperleak",name:"Hyperleak",description:"A Hyperleak is a prosumer product. Invented by Survecap, this machine is under constant corporate surveillance throughout all Leaks. If you do anything on this machine, Survecap will know for sure. Client-side scanning, baby.<br><br>That being said, this machine is SO user-friendly or 'easy-to-use'. Though, it is easy to use mostly because everyone in the Leakyverse uses Survecap interfaces and are used to their particular type of user-hostile. Organisms resist change."},dorgang:{id:"dorgang",name:"Dorgang",description:"If Dorgang were not so ethical, he might be a real sex wizard. But don't get your hopes up, this guy is GREY in many ways. He does like puns and dry humor, however. Always cleverness is Dorgang's jam. And he also knows a lot about anything weird, powerful or mystical. He's always on his enemies' asses, making sure they do not commit evil against large swatches of other people. Dorgang is not exactly what one might call 'chill' or 'bussin'. That being said, you REALLY want Dorgang on your team, no matter what.<br><br>Dorgang is a Gandalf-like parody character made up by someone at Wendall Carefare's Leaktable. If a comparative reference to Dorgang led you here, just know that Dorgang can be used as a comparative character-reference to the chracter that is being compared to Dorgang. They are Dorgang-like."},whatever:{id:"whatever",name:"Whatever",description:"Whatever can be somewhere, somehow, something. But it has not figured out where that is yet."}},$g=wn("dictionary",{state:()=>({entries:[]}),actions:{addEntry(t){this.entries.every(e=>e.id!==t)&&(this.entries.push(bg[t]),this.entries.sort((e,r)=>e.id.localeCompare(r.id)))}}}),RM={class:"wrapper"},NM={class:"animated-text"},FM={key:2},BM=["onClick"],LM=He({__name:"SceneBody",props:{letters:{},animationSkipped:{type:Boolean}},setup(t){const e=t,r=we(()=>{const l=[],c=/(\^)|(\{[^}]+\})|(<i>.*?<\/i>)|([^<{^]+)/g,u=[...e.letters.join("").matchAll(c)];let h=0;for(const f of u)if(f[1])l.push({type:"br"});else if(f[2])l.push({type:"button",value:f[2].slice(1,-1),index:h}),h++;else if(f[3])l.push({type:"italic",value:f[3].slice(3,-4)});else if(f[4])for(const p of f[4])l.push({type:"text",value:p});return l}),i=J(),n=i.currentScene(i.currentScenePayload).buttonActions??[],o=we(()=>i.animationSkipped),s=Wt([]);function a(l){if(o.value){const c=n[l];if(c&&(c.action&&c.action(),c.isItem&&s.value.push(l),c.dictionaryEntryId)){const d=pr();$g().addEntry(c.dictionaryEntryId),d.toggleDrawer(),d.setDrawerView("dictionary"),d.updateSelectedDictionaryEntry(bg[c.dictionaryEntryId])}}}return fr(()=>i.currentSceneId,async()=>{s.value=[]}),(l,c)=>(N(),G("div",RM,[te("div",NM,[(N(!0),G(_e,null,jr(r.value,(d,u)=>(N(),G(_e,{key:u},[d.type==="text"?(N(),G("span",{key:0,class:"text",style:Sr(o.value?{animation:"none",opacity:1}:{animationDelay:`${u*.03}s`,opacity:0})},Me(d.value),5)):De("",!0),d.type==="italic"?(N(),G("span",{key:1,class:"text",style:Sr([{"font-style":"italic"},o.value?{animation:"none",opacity:1}:{animationDelay:`${u*.03}s`,opacity:0}])},Me(d.value),5)):d.type==="br"?(N(),G("br",FM)):d.type==="button"&&!s.value.includes(d.index)?(N(),G("span",{key:3,class:"text-button",onClick:Ee(h=>a(d.index),["stop"]),style:Sr(o.value?{animation:"none",opacity:1}:{animationDelay:`${u*.03}s`,opacity:0})},Me(d.value),13,BM)):De("",!0)],64))),128))])]))}}),jM=et(LM,[["__scopeId","data-v-91df661a"]]);/**
 * vis-data
 * http://visjs.org/
 *
 * Manage unstructured data using DataSet. Add, update, and remove data, and listen for changes in the data.
 *
 * @version 7.1.9
 * @date    2023-11-24T17:53:34.179Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */function ru(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var yh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ae(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var aE={exports:{}},rc=function(t){return t&&t.Math===Math&&t},qe=rc(typeof globalThis=="object"&&globalThis)||rc(typeof window=="object"&&window)||rc(typeof self=="object"&&self)||rc(typeof yh=="object"&&yh)||function(){return this}()||yh||Function("return this")(),xe=function(t){try{return!!t()}catch{return!0}},zM=xe,tl=!zM(function(){var t=(function(){}).bind();return typeof t!="function"||t.hasOwnProperty("prototype")}),HM=tl,lE=Function.prototype,Hy=lE.apply,Wy=lE.call,_s=typeof Reflect=="object"&&Reflect.apply||(HM?Wy.bind(Hy):function(){return Wy.apply(Hy,arguments)}),cE=tl,dE=Function.prototype,Wp=dE.call,WM=cE&&dE.bind.bind(Wp,Wp),Ue=cE?WM:function(t){return function(){return Wp.apply(t,arguments)}},uE=Ue,VM=uE({}.toString),UM=uE("".slice),_n=function(t){return UM(VM(t),8,-1)},YM=_n,qM=Ue,hE=function(t){if(YM(t)==="Function")return qM(t)},Vp=typeof document=="object"&&document.all,KM=typeof Vp>"u"&&Vp!==void 0,fE={all:Vp,IS_HTMLDDA:KM},pE=fE,GM=pE.all,tt=pE.IS_HTMLDDA?function(t){return typeof t=="function"||t===GM}:function(t){return typeof t=="function"},fo={},XM=xe,_t=!XM(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),JM=tl,ic=Function.prototype.call,St=JM?ic.bind(ic):function(){return ic.apply(ic,arguments)},iu={},vE={}.propertyIsEnumerable,gE=Object.getOwnPropertyDescriptor,ZM=gE&&!vE.call({1:2},1);iu.f=ZM?function(e){var r=gE(this,e);return!!r&&r.enumerable}:vE;var po=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}},QM=Ue,eR=xe,tR=_n,bh=Object,rR=QM("".split),nu=eR(function(){return!bh("z").propertyIsEnumerable(0)})?function(t){return tR(t)==="String"?rR(t,""):bh(t)}:bh,Ss=function(t){return t==null},iR=Ss,nR=TypeError,wg=function(t){if(iR(t))throw new nR("Can't call method on "+t);return t},oR=nu,sR=wg,li=function(t){return oR(sR(t))},Vy=tt,mE=fE,aR=mE.all,Pt=mE.IS_HTMLDDA?function(t){return typeof t=="object"?t!==null:Vy(t)||t===aR}:function(t){return typeof t=="object"?t!==null:Vy(t)},Ke={},$h=Ke,wh=qe,lR=tt,Uy=function(t){return lR(t)?t:void 0},Yt=function(t,e){return arguments.length<2?Uy($h[t])||Uy(wh[t]):$h[t]&&$h[t][e]||wh[t]&&wh[t][e]},cR=Ue,pt=cR({}.isPrototypeOf),Sn=typeof navigator<"u"&&String(navigator.userAgent)||"",yE=qe,_h=Sn,Yy=yE.process,qy=yE.Deno,Ky=Yy&&Yy.versions||qy&&qy.version,Gy=Ky&&Ky.v8,Cr,yd;Gy&&(Cr=Gy.split("."),yd=Cr[0]>0&&Cr[0]<4?1:+(Cr[0]+Cr[1]));!yd&&_h&&(Cr=_h.match(/Edge\/(\d+)/),(!Cr||Cr[1]>=74)&&(Cr=_h.match(/Chrome\/(\d+)/),Cr&&(yd=+Cr[1])));var Es=yd,Xy=Es,dR=xe,uR=qe,hR=uR.String,Ts=!!Object.getOwnPropertySymbols&&!dR(function(){var t=Symbol("symbol detection");return!hR(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&Xy&&Xy<41}),fR=Ts,bE=fR&&!Symbol.sham&&typeof Symbol.iterator=="symbol",pR=Yt,vR=tt,gR=pt,mR=bE,yR=Object,rl=mR?function(t){return typeof t=="symbol"}:function(t){var e=pR("Symbol");return vR(e)&&gR(e.prototype,yR(t))},bR=String,Is=function(t){try{return bR(t)}catch{return"Object"}},$R=tt,wR=Is,_R=TypeError,ir=function(t){if($R(t))return t;throw new _R(wR(t)+" is not a function")},SR=ir,ER=Ss,_g=function(t,e){var r=t[e];return ER(r)?void 0:SR(r)},Sh=St,Eh=tt,Th=Pt,TR=TypeError,IR=function(t,e){var r,i;if(e==="string"&&Eh(r=t.toString)&&!Th(i=Sh(r,t))||Eh(r=t.valueOf)&&!Th(i=Sh(r,t))||e!=="string"&&Eh(r=t.toString)&&!Th(i=Sh(r,t)))return i;throw new TR("Can't convert object to primitive value")},$E={exports:{}},OR=!0,Jy=qe,xR=Object.defineProperty,PR=function(t,e){try{xR(Jy,t,{value:e,configurable:!0,writable:!0})}catch{Jy[t]=e}return e},kR=qe,CR=PR,Zy="__core-js_shared__",AR=kR[Zy]||CR(Zy,{}),Sg=AR,Qy=Sg;($E.exports=function(t,e){return Qy[t]||(Qy[t]=e!==void 0?e:{})})("versions",[]).push({version:"3.33.2",mode:"pure",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.2/LICENSE",source:"https://github.com/zloirock/core-js"});var Os=$E.exports,DR=wg,MR=Object,nr=function(t){return MR(DR(t))},RR=Ue,NR=nr,FR=RR({}.hasOwnProperty),vt=Object.hasOwn||function(e,r){return FR(NR(e),r)},BR=Ue,LR=0,jR=Math.random(),zR=BR(1 .toString),ou=function(t){return"Symbol("+(t===void 0?"":t)+")_"+zR(++LR+jR,36)},HR=qe,WR=Os,eb=vt,VR=ou,UR=Ts,YR=bE,zo=HR.Symbol,Ih=WR("wks"),qR=YR?zo.for||zo:zo&&zo.withoutSetter||VR,Xe=function(t){return eb(Ih,t)||(Ih[t]=UR&&eb(zo,t)?zo[t]:qR("Symbol."+t)),Ih[t]},KR=St,tb=Pt,rb=rl,GR=_g,XR=IR,JR=Xe,ZR=TypeError,QR=JR("toPrimitive"),eN=function(t,e){if(!tb(t)||rb(t))return t;var r=GR(t,QR),i;if(r){if(e===void 0&&(e="default"),i=KR(r,t,e),!tb(i)||rb(i))return i;throw new ZR("Can't convert object to primitive value")}return e===void 0&&(e="number"),XR(t,e)},tN=eN,rN=rl,su=function(t){var e=tN(t,"string");return rN(e)?e:e+""},iN=qe,ib=Pt,Up=iN.document,nN=ib(Up)&&ib(Up.createElement),Eg=function(t){return nN?Up.createElement(t):{}},oN=_t,sN=xe,aN=Eg,wE=!oN&&!sN(function(){return Object.defineProperty(aN("div"),"a",{get:function(){return 7}}).a!==7}),lN=_t,cN=St,dN=iu,uN=po,hN=li,fN=su,pN=vt,vN=wE,nb=Object.getOwnPropertyDescriptor;fo.f=lN?nb:function(e,r){if(e=hN(e),r=fN(r),vN)try{return nb(e,r)}catch{}if(pN(e,r))return uN(!cN(dN.f,e,r),e[r])};var gN=xe,mN=tt,yN=/#|\.prototype\./,il=function(t,e){var r=$N[bN(t)];return r===_N?!0:r===wN?!1:mN(e)?gN(e):!!e},bN=il.normalize=function(t){return String(t).replace(yN,".").toLowerCase()},$N=il.data={},wN=il.NATIVE="N",_N=il.POLYFILL="P",_E=il,ob=hE,SN=ir,EN=tl,TN=ob(ob.bind),En=function(t,e){return SN(t),e===void 0?t:EN?TN(t,e):function(){return t.apply(e,arguments)}},or={},IN=_t,ON=xe,SE=IN&&ON(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),xN=Pt,PN=String,kN=TypeError,vr=function(t){if(xN(t))return t;throw new kN(PN(t)+" is not an object")},CN=_t,AN=wE,DN=SE,nc=vr,sb=su,MN=TypeError,Oh=Object.defineProperty,RN=Object.getOwnPropertyDescriptor,xh="enumerable",Ph="configurable",kh="writable";or.f=CN?DN?function(e,r,i){if(nc(e),r=sb(r),nc(i),typeof e=="function"&&r==="prototype"&&"value"in i&&kh in i&&!i[kh]){var n=RN(e,r);n&&n[kh]&&(e[r]=i.value,i={configurable:Ph in i?i[Ph]:n[Ph],enumerable:xh in i?i[xh]:n[xh],writable:!1})}return Oh(e,r,i)}:Oh:function(e,r,i){if(nc(e),r=sb(r),nc(i),AN)try{return Oh(e,r,i)}catch{}if("get"in i||"set"in i)throw new MN("Accessors not supported");return"value"in i&&(e[r]=i.value),e};var NN=_t,FN=or,BN=po,Ni=NN?function(t,e,r){return FN.f(t,e,BN(1,r))}:function(t,e,r){return t[e]=r,t},oc=qe,LN=_s,jN=hE,zN=tt,HN=fo.f,WN=_E,xo=Ke,VN=En,Po=Ni,ab=vt,UN=function(t){var e=function(r,i,n){if(this instanceof e){switch(arguments.length){case 0:return new t;case 1:return new t(r);case 2:return new t(r,i)}return new t(r,i,n)}return LN(t,this,arguments)};return e.prototype=t.prototype,e},ne=function(t,e){var r=t.target,i=t.global,n=t.stat,o=t.proto,s=i?oc:n?oc[r]:(oc[r]||{}).prototype,a=i?xo:xo[r]||Po(xo,r,{})[r],l=a.prototype,c,d,u,h,f,p,g,$,y;for(h in e)c=WN(i?h:r+(n?".":"#")+h,t.forced),d=!c&&s&&ab(s,h),p=a[h],d&&(t.dontCallGetSet?(y=HN(s,h),g=y&&y.value):g=s[h]),f=d&&g?g:e[h],!(d&&typeof p==typeof f)&&(t.bind&&d?$=VN(f,oc):t.wrap&&d?$=UN(f):o&&zN(f)?$=jN(f):$=f,(t.sham||f&&f.sham||p&&p.sham)&&Po($,"sham",!0),Po(a,h,$),o&&(u=r+"Prototype",ab(xo,u)||Po(xo,u,{}),Po(xo[u],h,f),t.real&&l&&(c||!l[h])&&Po(l,h,f)))},YN=ne,qN=_t,lb=or.f;YN({target:"Object",stat:!0,forced:Object.defineProperty!==lb,sham:!qN},{defineProperty:lb});var KN=Ke,EE=KN.Object,GN=aE.exports=function(e,r,i){return EE.defineProperty(e,r,i)};EE.defineProperty.sham&&(GN.sham=!0);var XN=aE.exports,JN=XN,TE=JN,ZN=TE,QN=ZN,e2=QN,t2=e2,IE=t2,au=ae(IE),r2=_n,Tn=Array.isArray||function(e){return r2(e)==="Array"},i2=Math.ceil,n2=Math.floor,o2=Math.trunc||function(e){var r=+e;return(r>0?n2:i2)(r)},s2=o2,lu=function(t){var e=+t;return e!==e||e===0?0:s2(e)},a2=lu,l2=Math.min,c2=function(t){return t>0?l2(a2(t),9007199254740991):0},d2=c2,gr=function(t){return d2(t.length)},u2=TypeError,h2=9007199254740991,cu=function(t){if(t>h2)throw u2("Maximum allowed index exceeded");return t},f2=su,p2=or,v2=po,xs=function(t,e,r){var i=f2(e);i in t?p2.f(t,i,v2(0,r)):t[i]=r},g2=Xe,m2=g2("toStringTag"),OE={};OE[m2]="z";var Tg=String(OE)==="[object z]",y2=Tg,b2=tt,Uc=_n,$2=Xe,w2=$2("toStringTag"),_2=Object,S2=Uc(function(){return arguments}())==="Arguments",E2=function(t,e){try{return t[e]}catch{}},Fi=y2?Uc:function(t){var e,r,i;return t===void 0?"Undefined":t===null?"Null":typeof(r=E2(e=_2(t),w2))=="string"?r:S2?Uc(e):(i=Uc(e))==="Object"&&b2(e.callee)?"Arguments":i},T2=Ue,I2=tt,Yp=Sg,O2=T2(Function.toString);I2(Yp.inspectSource)||(Yp.inspectSource=function(t){return O2(t)});var xE=Yp.inspectSource,x2=Ue,P2=xe,PE=tt,k2=Fi,C2=Yt,A2=xE,kE=function(){},D2=[],CE=C2("Reflect","construct"),Ig=/^\s*(?:class|function)\b/,M2=x2(Ig.exec),R2=!Ig.test(kE),Xs=function(e){if(!PE(e))return!1;try{return CE(kE,D2,e),!0}catch{return!1}},AE=function(e){if(!PE(e))return!1;switch(k2(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return R2||!!M2(Ig,A2(e))}catch{return!0}};AE.sham=!0;var du=!CE||P2(function(){var t;return Xs(Xs.call)||!Xs(Object)||!Xs(function(){t=!0})||t})?AE:Xs,cb=Tn,N2=du,F2=Pt,B2=Xe,L2=B2("species"),db=Array,j2=function(t){var e;return cb(t)&&(e=t.constructor,N2(e)&&(e===db||cb(e.prototype))?e=void 0:F2(e)&&(e=e[L2],e===null&&(e=void 0))),e===void 0?db:e},z2=j2,uu=function(t,e){return new(z2(t))(e===0?0:e)},H2=xe,W2=Xe,V2=Es,U2=W2("species"),nl=function(t){return V2>=51||!H2(function(){var e=[],r=e.constructor={};return r[U2]=function(){return{foo:1}},e[t](Boolean).foo!==1})},Y2=ne,q2=xe,K2=Tn,G2=Pt,X2=nr,J2=gr,ub=cu,hb=xs,Z2=uu,Q2=nl,eF=Xe,tF=Es,DE=eF("isConcatSpreadable"),rF=tF>=51||!q2(function(){var t=[];return t[DE]=!1,t.concat()[0]!==t}),iF=function(t){if(!G2(t))return!1;var e=t[DE];return e!==void 0?!!e:K2(t)},nF=!rF||!Q2("concat");Y2({target:"Array",proto:!0,forced:nF},{concat:function(e){var r=X2(this),i=Z2(r,0),n=0,o,s,a,l,c;for(o=-1,a=arguments.length;o<a;o++)if(c=o===-1?r:arguments[o],iF(c))for(l=J2(c),ub(n+l),s=0;s<l;s++,n++)s in c&&hb(i,n,c[s]);else ub(n+1),hb(i,n++,c);return i.length=n,i}});var oF=Fi,sF=String,vo=function(t){if(oF(t)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return sF(t)},hu={},aF=lu,lF=Math.max,cF=Math.min,fu=function(t,e){var r=aF(t);return r<0?lF(r+e,0):cF(r,e)},dF=li,uF=fu,hF=gr,fF=function(t){return function(e,r,i){var n=dF(e),o=hF(n),s=uF(i,o),a;if(t&&r!==r){for(;o>s;)if(a=n[s++],a!==a)return!0}else for(;o>s;s++)if((t||s in n)&&n[s]===r)return t||s||0;return!t&&-1}},pF={indexOf:fF(!1)},ol={},vF=Ue,Ch=vt,gF=li,mF=pF.indexOf,yF=ol,fb=vF([].push),ME=function(t,e){var r=gF(t),i=0,n=[],o;for(o in r)!Ch(yF,o)&&Ch(r,o)&&fb(n,o);for(;e.length>i;)Ch(r,o=e[i++])&&(~mF(n,o)||fb(n,o));return n},Og=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],bF=ME,$F=Og,pu=Object.keys||function(e){return bF(e,$F)},wF=_t,_F=SE,SF=or,EF=vr,TF=li,IF=pu;hu.f=wF&&!_F?Object.defineProperties:function(e,r){EF(e);for(var i=TF(r),n=IF(r),o=n.length,s=0,a;o>s;)SF.f(e,a=n[s++],i[a]);return e};var OF=Yt,RE=OF("document","documentElement"),xF=Os,PF=ou,pb=xF("keys"),vu=function(t){return pb[t]||(pb[t]=PF(t))},kF=vr,CF=hu,vb=Og,AF=ol,DF=RE,MF=Eg,RF=vu,gb=">",mb="<",qp="prototype",Kp="script",NE=RF("IE_PROTO"),Ah=function(){},FE=function(t){return mb+Kp+gb+t+mb+"/"+Kp+gb},yb=function(t){t.write(FE("")),t.close();var e=t.parentWindow.Object;return t=null,e},NF=function(){var t=MF("iframe"),e="java"+Kp+":",r;return t.style.display="none",DF.appendChild(t),t.src=String(e),r=t.contentWindow.document,r.open(),r.write(FE("document.F=Object")),r.close(),r.F},sc,Yc=function(){try{sc=new ActiveXObject("htmlfile")}catch{}Yc=typeof document<"u"?document.domain&&sc?yb(sc):NF():yb(sc);for(var t=vb.length;t--;)delete Yc[qp][vb[t]];return Yc()};AF[NE]=!0;var go=Object.create||function(e,r){var i;return e!==null?(Ah[qp]=kF(e),i=new Ah,Ah[qp]=null,i[NE]=e):i=Yc(),r===void 0?i:CF.f(i,r)},sl={},FF=ME,BF=Og,LF=BF.concat("length","prototype");sl.f=Object.getOwnPropertyNames||function(e){return FF(e,LF)};var xg={},bb=fu,jF=gr,zF=xs,HF=Array,WF=Math.max,BE=function(t,e,r){for(var i=jF(t),n=bb(e,i),o=bb(r===void 0?i:r,i),s=HF(WF(o-n,0)),a=0;n<o;n++,a++)zF(s,a,t[n]);return s.length=a,s},VF=_n,UF=li,LE=sl.f,YF=BE,jE=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],qF=function(t){try{return LE(t)}catch{return YF(jE)}};xg.f=function(e){return jE&&VF(e)==="Window"?qF(e):LE(UF(e))};var al={};al.f=Object.getOwnPropertySymbols;var KF=Ni,Ps=function(t,e,r,i){return i&&i.enumerable?t[e]=r:KF(t,e,r),t},GF=or,Pg=function(t,e,r){return GF.f(t,e,r)},ll={},XF=Xe;ll.f=XF;var $b=Ke,JF=vt,ZF=ll,QF=or.f,rt=function(t){var e=$b.Symbol||($b.Symbol={});JF(e,t)||QF(e,t,{value:ZF.f(t)})},eB=St,tB=Yt,rB=Xe,iB=Ps,zE=function(){var t=tB("Symbol"),e=t&&t.prototype,r=e&&e.valueOf,i=rB("toPrimitive");e&&!e[i]&&iB(e,i,function(n){return eB(r,this)},{})},nB=Tg,oB=Fi,sB=nB?{}.toString:function(){return"[object "+oB(this)+"]"},aB=Tg,lB=or.f,cB=Ni,dB=vt,uB=sB,hB=Xe,wb=hB("toStringTag"),mo=function(t,e,r,i){if(t){var n=r?t:t.prototype;dB(n,wb)||lB(n,wb,{configurable:!0,value:e}),i&&!aB&&cB(n,"toString",uB)}},fB=qe,pB=tt,_b=fB.WeakMap,vB=pB(_b)&&/native code/.test(String(_b)),gB=vB,HE=qe,mB=Pt,yB=Ni,Dh=vt,Mh=Sg,bB=vu,$B=ol,Sb="Object already initialized",Gp=HE.TypeError,wB=HE.WeakMap,bd,Ma,$d,_B=function(t){return $d(t)?Ma(t):bd(t,{})},SB=function(t){return function(e){var r;if(!mB(e)||(r=Ma(e)).type!==t)throw new Gp("Incompatible receiver, "+t+" required");return r}};if(gB||Mh.state){var Xr=Mh.state||(Mh.state=new wB);Xr.get=Xr.get,Xr.has=Xr.has,Xr.set=Xr.set,bd=function(t,e){if(Xr.has(t))throw new Gp(Sb);return e.facade=t,Xr.set(t,e),e},Ma=function(t){return Xr.get(t)||{}},$d=function(t){return Xr.has(t)}}else{var ko=bB("state");$B[ko]=!0,bd=function(t,e){if(Dh(t,ko))throw new Gp(Sb);return e.facade=t,yB(t,ko,e),e},Ma=function(t){return Dh(t,ko)?t[ko]:{}},$d=function(t){return Dh(t,ko)}}var ks={set:bd,get:Ma,has:$d,enforce:_B,getterFor:SB},EB=En,TB=Ue,IB=nu,OB=nr,xB=gr,PB=uu,Eb=TB([].push),ac=function(t){var e=t===1,r=t===2,i=t===3,n=t===4,o=t===6,s=t===7,a=t===5||o;return function(l,c,d,u){for(var h=OB(l),f=IB(h),p=EB(c,d),g=xB(f),$=0,y=u||PB,b=e?y(l,g):r||s?y(l,0):void 0,S,_;g>$;$++)if((a||$ in f)&&(S=f[$],_=p(S,$,h),t))if(e)b[$]=_;else if(_)switch(t){case 3:return!0;case 5:return S;case 6:return $;case 2:Eb(b,S)}else switch(t){case 4:return!1;case 7:Eb(b,S)}return o?-1:i||n?n:b}},Cs={forEach:ac(0),map:ac(1),filter:ac(2),some:ac(3)},gu=ne,cl=qe,kg=St,kB=Ue,ls=_t,cs=Ts,CB=xe,bt=vt,AB=pt,Xp=vr,mu=li,Cg=su,DB=vo,Jp=po,Ra=go,WE=pu,MB=sl,VE=xg,RB=al,UE=fo,YE=or,NB=hu,qE=iu,Tb=Ps,FB=Pg,Ag=Os,BB=vu,KE=ol,Ib=ou,LB=Xe,jB=ll,zB=rt,HB=zE,WB=mo,GE=ks,yu=Cs.forEach,Jt=BB("hidden"),bu="Symbol",Na="prototype",VB=GE.set,Ob=GE.getterFor(bu),Nr=Object[Na],Un=cl.Symbol,na=Un&&Un[Na],UB=cl.RangeError,YB=cl.TypeError,Rh=cl.QObject,XE=UE.f,Yn=YE.f,JE=VE.f,qB=qE.f,ZE=kB([].push),ki=Ag("symbols"),dl=Ag("op-symbols"),KB=Ag("wks"),Zp=!Rh||!Rh[Na]||!Rh[Na].findChild,QE=function(t,e,r){var i=XE(Nr,e);i&&delete Nr[e],Yn(t,e,r),i&&t!==Nr&&Yn(Nr,e,i)},Qp=ls&&CB(function(){return Ra(Yn({},"a",{get:function(){return Yn(this,"a",{value:7}).a}})).a!==7})?QE:Yn,Nh=function(t,e){var r=ki[t]=Ra(na);return VB(r,{type:bu,tag:t,description:e}),ls||(r.description=e),r},$u=function(e,r,i){e===Nr&&$u(dl,r,i),Xp(e);var n=Cg(r);return Xp(i),bt(ki,n)?(i.enumerable?(bt(e,Jt)&&e[Jt][n]&&(e[Jt][n]=!1),i=Ra(i,{enumerable:Jp(0,!1)})):(bt(e,Jt)||Yn(e,Jt,Jp(1,{})),e[Jt][n]=!0),Qp(e,n,i)):Yn(e,n,i)},Dg=function(e,r){Xp(e);var i=mu(r),n=WE(i).concat(iT(i));return yu(n,function(o){(!ls||kg(eT,i,o))&&$u(e,o,i[o])}),e},GB=function(e,r){return r===void 0?Ra(e):Dg(Ra(e),r)},eT=function(e){var r=Cg(e),i=kg(qB,this,r);return this===Nr&&bt(ki,r)&&!bt(dl,r)?!1:i||!bt(this,r)||!bt(ki,r)||bt(this,Jt)&&this[Jt][r]?i:!0},tT=function(e,r){var i=mu(e),n=Cg(r);if(!(i===Nr&&bt(ki,n)&&!bt(dl,n))){var o=XE(i,n);return o&&bt(ki,n)&&!(bt(i,Jt)&&i[Jt][n])&&(o.enumerable=!0),o}},rT=function(e){var r=JE(mu(e)),i=[];return yu(r,function(n){!bt(ki,n)&&!bt(KE,n)&&ZE(i,n)}),i},iT=function(t){var e=t===Nr,r=JE(e?dl:mu(t)),i=[];return yu(r,function(n){bt(ki,n)&&(!e||bt(Nr,n))&&ZE(i,ki[n])}),i};cs||(Un=function(){if(AB(na,this))throw new YB("Symbol is not a constructor");var e=!arguments.length||arguments[0]===void 0?void 0:DB(arguments[0]),r=Ib(e),i=function(n){var o=this===void 0?cl:this;o===Nr&&kg(i,dl,n),bt(o,Jt)&&bt(o[Jt],r)&&(o[Jt][r]=!1);var s=Jp(1,n);try{Qp(o,r,s)}catch(a){if(!(a instanceof UB))throw a;QE(o,r,s)}};return ls&&Zp&&Qp(Nr,r,{configurable:!0,set:i}),Nh(r,e)},na=Un[Na],Tb(na,"toString",function(){return Ob(this).tag}),Tb(Un,"withoutSetter",function(t){return Nh(Ib(t),t)}),qE.f=eT,YE.f=$u,NB.f=Dg,UE.f=tT,MB.f=VE.f=rT,RB.f=iT,jB.f=function(t){return Nh(LB(t),t)},ls&&FB(na,"description",{configurable:!0,get:function(){return Ob(this).description}}));gu({global:!0,wrap:!0,forced:!cs,sham:!cs},{Symbol:Un});yu(WE(KB),function(t){zB(t)});gu({target:bu,stat:!0,forced:!cs},{useSetter:function(){Zp=!0},useSimple:function(){Zp=!1}});gu({target:"Object",stat:!0,forced:!cs,sham:!ls},{create:GB,defineProperty:$u,defineProperties:Dg,getOwnPropertyDescriptor:tT});gu({target:"Object",stat:!0,forced:!cs},{getOwnPropertyNames:rT});HB();WB(Un,bu);KE[Jt]=!0;var XB=Ts,nT=XB&&!!Symbol.for&&!!Symbol.keyFor,JB=ne,ZB=Yt,QB=vt,eL=vo,oT=Os,tL=nT,Fh=oT("string-to-symbol-registry"),rL=oT("symbol-to-string-registry");JB({target:"Symbol",stat:!0,forced:!tL},{for:function(t){var e=eL(t);if(QB(Fh,e))return Fh[e];var r=ZB("Symbol")(e);return Fh[e]=r,rL[r]=e,r}});var iL=ne,nL=vt,oL=rl,sL=Is,aL=Os,lL=nT,xb=aL("symbol-to-string-registry");iL({target:"Symbol",stat:!0,forced:!lL},{keyFor:function(e){if(!oL(e))throw new TypeError(sL(e)+" is not a symbol");if(nL(xb,e))return xb[e]}});var cL=Ue,ul=cL([].slice),dL=Ue,Pb=Tn,uL=tt,kb=_n,hL=vo,Cb=dL([].push),fL=function(t){if(uL(t))return t;if(Pb(t)){for(var e=t.length,r=[],i=0;i<e;i++){var n=t[i];typeof n=="string"?Cb(r,n):(typeof n=="number"||kb(n)==="Number"||kb(n)==="String")&&Cb(r,hL(n))}var o=r.length,s=!0;return function(a,l){if(s)return s=!1,l;if(Pb(this))return l;for(var c=0;c<o;c++)if(r[c]===a)return l}}},pL=ne,sT=Yt,aT=_s,vL=St,hl=Ue,lT=xe,Ab=tt,Db=rl,cT=ul,gL=fL,mL=Ts,yL=String,nn=sT("JSON","stringify"),lc=hl(/./.exec),Mb=hl("".charAt),bL=hl("".charCodeAt),$L=hl("".replace),wL=hl(1 .toString),_L=/[\uD800-\uDFFF]/g,Rb=/^[\uD800-\uDBFF]$/,Nb=/^[\uDC00-\uDFFF]$/,Fb=!mL||lT(function(){var t=sT("Symbol")("stringify detection");return nn([t])!=="[null]"||nn({a:t})!=="{}"||nn(Object(t))!=="{}"}),Bb=lT(function(){return nn("\uDF06\uD834")!=='"\\udf06\\ud834"'||nn("\uDEAD")!=='"\\udead"'}),SL=function(t,e){var r=cT(arguments),i=gL(e);if(!(!Ab(i)&&(t===void 0||Db(t))))return r[1]=function(n,o){if(Ab(i)&&(o=vL(i,this,yL(n),o)),!Db(o))return o},aT(nn,null,r)},EL=function(t,e,r){var i=Mb(r,e-1),n=Mb(r,e+1);return lc(Rb,t)&&!lc(Nb,n)||lc(Nb,t)&&!lc(Rb,i)?"\\u"+wL(bL(t,0),16):t};nn&&pL({target:"JSON",stat:!0,forced:Fb||Bb},{stringify:function(e,r,i){var n=cT(arguments),o=aT(Fb?SL:nn,null,n);return Bb&&typeof o=="string"?$L(o,_L,EL):o}});var TL=ne,IL=Ts,OL=xe,dT=al,xL=nr,PL=!IL||OL(function(){dT.f(1)});TL({target:"Object",stat:!0,forced:PL},{getOwnPropertySymbols:function(e){var r=dT.f;return r?r(xL(e)):[]}});var kL=rt;kL("asyncIterator");var CL=rt;CL("hasInstance");var AL=rt;AL("isConcatSpreadable");var DL=rt;DL("iterator");var ML=rt;ML("match");var RL=rt;RL("matchAll");var NL=rt;NL("replace");var FL=rt;FL("search");var BL=rt;BL("species");var LL=rt;LL("split");var jL=rt,zL=zE;jL("toPrimitive");zL();var HL=Yt,WL=rt,VL=mo;WL("toStringTag");VL(HL("Symbol"),"Symbol");var UL=rt;UL("unscopables");var YL=qe,qL=mo;qL(YL.JSON,"JSON",!0);var KL=Ke,GL=KL.Symbol,As={},ev=_t,XL=vt,uT=Function.prototype,JL=ev&&Object.getOwnPropertyDescriptor,hT=XL(uT,"name"),ZL=hT&&(function(){}).name==="something";hT&&(!ev||ev&&JL(uT,"name").configurable);var QL={PROPER:ZL},ej=xe,fT=!ej(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}),tj=vt,rj=tt,ij=nr,nj=vu,oj=fT,Lb=nj("IE_PROTO"),tv=Object,sj=tv.prototype,wu=oj?tv.getPrototypeOf:function(t){var e=ij(t);if(tj(e,Lb))return e[Lb];var r=e.constructor;return rj(r)&&e instanceof r?r.prototype:e instanceof tv?sj:null},aj=xe,lj=tt,cj=Pt,dj=go,jb=wu,uj=Ps,hj=Xe,rv=hj("iterator"),pT=!1,yi,Bh,Lh;[].keys&&(Lh=[].keys(),"next"in Lh?(Bh=jb(jb(Lh)),Bh!==Object.prototype&&(yi=Bh)):pT=!0);var fj=!cj(yi)||aj(function(){var t={};return yi[rv].call(t)!==t});fj?yi={}:yi=dj(yi);lj(yi[rv])||uj(yi,rv,function(){return this});var vT={IteratorPrototype:yi,BUGGY_SAFARI_ITERATORS:pT},pj=vT.IteratorPrototype,vj=go,gj=po,mj=mo,yj=As,bj=function(){return this},$j=function(t,e,r,i){var n=e+" Iterator";return t.prototype=vj(pj,{next:gj(+!i,r)}),mj(t,n,!1,!0),yj[n]=bj,t},wj=Ue,_j=ir,Sj=function(t,e,r){try{return wj(_j(Object.getOwnPropertyDescriptor(t,e)[r]))}catch{}},Ej=tt,Tj=String,Ij=TypeError,Oj=function(t){if(typeof t=="object"||Ej(t))return t;throw new Ij("Can't set "+Tj(t)+" as a prototype")},xj=Sj,Pj=vr,kj=Oj,gT=Object.setPrototypeOf||("__proto__"in{}?function(){var t=!1,e={},r;try{r=xj(Object.prototype,"__proto__","set"),r(e,[]),t=e instanceof Array}catch{}return function(n,o){return Pj(n),kj(o),t?r(n,o):n.__proto__=o,n}}():void 0),Cj=ne,Aj=St,Dj=QL,Mj=$j,Rj=wu,Nj=mo,zb=Ps,Fj=Xe,Hb=As,Bj=vT,Lj=Dj.PROPER,cc=Bj.BUGGY_SAFARI_ITERATORS,jh=Fj("iterator"),Wb="keys",dc="values",Vb="entries",jj=function(){return this},Mg=function(t,e,r,i,n,o,s){Mj(r,e,i);var a=function(y){if(y===n&&h)return h;if(!cc&&y&&y in d)return d[y];switch(y){case Wb:return function(){return new r(this,y)};case dc:return function(){return new r(this,y)};case Vb:return function(){return new r(this,y)}}return function(){return new r(this)}},l=e+" Iterator",c=!1,d=t.prototype,u=d[jh]||d["@@iterator"]||n&&d[n],h=!cc&&u||a(n),f=e==="Array"&&d.entries||u,p,g,$;if(f&&(p=Rj(f.call(new t)),p!==Object.prototype&&p.next&&(Nj(p,l,!0,!0),Hb[l]=jj)),Lj&&n===dc&&u&&u.name!==dc&&(c=!0,h=function(){return Aj(u,this)}),n)if(g={values:a(dc),keys:o?h:a(Wb),entries:a(Vb)},s)for($ in g)(cc||c||!($ in d))&&zb(d,$,g[$]);else Cj({target:e,proto:!0,forced:cc||c},g);return s&&d[jh]!==h&&zb(d,jh,h,{}),Hb[e]=h,g},Rg=function(t,e){return{value:t,done:e}},zj=li,Ub=As,mT=ks;or.f;var Hj=Mg,uc=Rg,yT="Array Iterator",Wj=mT.set,Vj=mT.getterFor(yT);Hj(Array,"Array",function(t,e){Wj(this,{type:yT,target:zj(t),index:0,kind:e})},function(){var t=Vj(this),e=t.target,r=t.index++;if(!e||r>=e.length)return t.target=void 0,uc(void 0,!0);switch(t.kind){case"keys":return uc(r,!1);case"values":return uc(e[r],!1)}return uc([r,e[r]],!1)},"values");Ub.Arguments=Ub.Array;var Uj={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Yj=Uj,qj=qe,Kj=Fi,Gj=Ni,Yb=As,Xj=Xe,qb=Xj("toStringTag");for(var zh in Yj){var Kb=qj[zh],Hh=Kb&&Kb.prototype;Hh&&Kj(Hh)!==qb&&Gj(Hh,qb,zh),Yb[zh]=Yb.Array}var Jj=GL,bT=Jj,Zj=Xe,Qj=or.f,Gb=Zj("metadata"),Xb=Function.prototype;Xb[Gb]===void 0&&Qj(Xb,Gb,{value:null});var ez=rt;ez("asyncDispose");var tz=rt;tz("dispose");var rz=rt;rz("metadata");var iz=bT,nz=iz,oz=Yt,sz=Ue,Ng=oz("Symbol"),az=Ng.keyFor,lz=sz(Ng.prototype.valueOf),$T=Ng.isRegisteredSymbol||function(e){try{return az(lz(e))!==void 0}catch{return!1}},cz=ne,dz=$T;cz({target:"Symbol",stat:!0},{isRegisteredSymbol:dz});var uz=Os,wT=Yt,hz=Ue,fz=rl,pz=Xe,wd=wT("Symbol"),Jb=wd.isWellKnownSymbol,_T=wT("Object","getOwnPropertyNames"),vz=hz(wd.prototype.valueOf),Zb=uz("wks");for(var Wh=0,Qb=_T(wd),gz=Qb.length;Wh<gz;Wh++)try{var e$=Qb[Wh];fz(wd[e$])&&pz(e$)}catch{}var ST=function(e){if(Jb&&Jb(e))return!0;try{for(var r=vz(e),i=0,n=_T(Zb),o=n.length;i<o;i++)if(Zb[n[i]]==r)return!0}catch{}return!1},mz=ne,yz=ST;mz({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:yz});var bz=rt;bz("matcher");var $z=rt;$z("observable");var wz=ne,_z=$T;wz({target:"Symbol",stat:!0},{isRegistered:_z});var Sz=ne,Ez=ST;Sz({target:"Symbol",stat:!0,forced:!0},{isWellKnown:Ez});var Tz=rt;Tz("metadataKey");var Iz=rt;Iz("patternMatch");var Oz=rt;Oz("replaceAll");var xz=nz,Pz=xz,Fg=Pz,Ho=ae(Fg),Bg=Ue,kz=lu,Cz=vo,Az=wg,Dz=Bg("".charAt),t$=Bg("".charCodeAt),Mz=Bg("".slice),Rz=function(t){return function(e,r){var i=Cz(Az(e)),n=kz(r),o=i.length,s,a;return n<0||n>=o?t?"":void 0:(s=t$(i,n),s<55296||s>56319||n+1===o||(a=t$(i,n+1))<56320||a>57343?t?Dz(i,n):s:t?Mz(i,n,n+2):(s-55296<<10)+(a-56320)+65536)}},Nz={charAt:Rz(!0)},Fz=Nz.charAt,Bz=vo,ET=ks,Lz=Mg,r$=Rg,TT="String Iterator",jz=ET.set,zz=ET.getterFor(TT);Lz(String,"String",function(t){jz(this,{type:TT,string:Bz(t),index:0})},function(){var e=zz(this),r=e.string,i=e.index,n;return i>=r.length?r$(void 0,!0):(n=Fz(r,i),e.index+=n.length,r$(n,!1))});var Hz=ll,Wz=Hz.f("iterator"),Vz=Wz,IT=Vz,Uz=IT,Yz=Uz,qz=Yz,Kz=qz,OT=Kz,Gz=ae(OT);function ds(t){"@babel/helpers - typeof";return ds=typeof Ho=="function"&&typeof Gz=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Ho=="function"&&e.constructor===Ho&&e!==Ho.prototype?"symbol":typeof e},ds(t)}var Xz=ll,Jz=Xz.f("toPrimitive"),Zz=Jz,Qz=Zz,e3=Qz,t3=e3,r3=t3,i3=r3,n3=i3,o3=ae(n3);function s3(t,e){if(ds(t)!=="object"||t===null)return t;var r=t[o3];if(r!==void 0){var i=r.call(t,e);if(ds(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xT(t){var e=s3(t,"string");return ds(e)==="symbol"?e:String(e)}function i$(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),au(t,xT(i.key),i)}}function _u(t,e,r){return e&&i$(t.prototype,e),r&&i$(t,r),au(t,"prototype",{writable:!1}),t}function on(t,e,r){return e=xT(e),e in t?au(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var PT=Ue,a3=ir,l3=Pt,c3=vt,n$=ul,d3=tl,kT=Function,u3=PT([].concat),h3=PT([].join),Vh={},f3=function(t,e,r){if(!c3(Vh,e)){for(var i=[],n=0;n<e;n++)i[n]="a["+n+"]";Vh[e]=kT("C,a","return new C("+h3(i,",")+")")}return Vh[e](t,r)},CT=d3?kT.bind:function(e){var r=a3(this),i=r.prototype,n=n$(arguments,1),o=function(){var a=u3(n,n$(arguments));return this instanceof o?f3(r,a.length,a):r.apply(e,a)};return l3(i)&&(o.prototype=i),o},p3=ne,o$=CT;p3({target:"Function",proto:!0,forced:Function.bind!==o$},{bind:o$});var v3=qe,g3=Ke,Rt=function(t,e){var r=g3[t+"Prototype"],i=r&&r[e];if(i)return i;var n=v3[t],o=n&&n.prototype;return o&&o[e]},m3=Rt,y3=m3("Function","bind"),b3=pt,$3=y3,Uh=Function.prototype,w3=function(t){var e=t.bind;return t===Uh||b3(Uh,t)&&e===Uh.bind?$3:e},_3=w3,AT=_3,S3=AT,DT=ae(S3),E3=ir,T3=nr,I3=nu,O3=gr,x3=TypeError,P3=function(t){return function(e,r,i,n){E3(r);var o=T3(e),s=I3(o),a=O3(o),l=t?a-1:0,c=t?-1:1;if(i<2)for(;;){if(l in s){n=s[l],l+=c;break}if(l+=c,t?l<0:a<=l)throw new x3("Reduce of empty array with no initial value")}for(;t?l>=0:a>l;l+=c)l in s&&(n=r(n,s[l],l,o));return n}},k3={left:P3(!1)},C3=xe,Su=function(t,e){var r=[][t];return!!r&&C3(function(){r.call(null,e||function(){return 1},1)})},A3=qe,D3=_n,fl=D3(A3.process)==="process",M3=ne,R3=k3.left,N3=Su,s$=Es,F3=fl,B3=!F3&&s$>79&&s$<83,L3=B3||!N3("reduce");M3({target:"Array",proto:!0,forced:L3},{reduce:function(e){var r=arguments.length;return R3(this,e,r,r>1?arguments[1]:void 0)}});var j3=Rt,z3=j3("Array","reduce"),H3=pt,W3=z3,Yh=Array.prototype,V3=function(t){var e=t.reduce;return t===Yh||H3(Yh,t)&&e===Yh.reduce?W3:e},U3=V3,Y3=U3,q3=Y3,K3=ae(q3),G3=ne,X3=Cs.filter,J3=nl,Z3=J3("filter");G3({target:"Array",proto:!0,forced:!Z3},{filter:function(e){return X3(this,e,arguments.length>1?arguments[1]:void 0)}});var Q3=Rt,e5=Q3("Array","filter"),t5=pt,r5=e5,qh=Array.prototype,i5=function(t){var e=t.filter;return t===qh||t5(qh,t)&&e===qh.filter?r5:e},n5=i5,o5=n5,s5=o5,Wo=ae(s5),a5=ne,l5=Cs.map,c5=nl,d5=c5("map");a5({target:"Array",proto:!0,forced:!d5},{map:function(e){return l5(this,e,arguments.length>1?arguments[1]:void 0)}});var u5=Rt,h5=u5("Array","map"),f5=pt,p5=h5,Kh=Array.prototype,v5=function(t){var e=t.map;return t===Kh||f5(Kh,t)&&e===Kh.map?p5:e},g5=v5,m5=g5,y5=m5,Ar=ae(y5),b5=Tn,$5=gr,w5=cu,_5=En,MT=function(t,e,r,i,n,o,s,a){for(var l=n,c=0,d=s?_5(s,a):!1,u,h;c<i;)c in r&&(u=d?d(r[c],c,e):r[c],o>0&&b5(u)?(h=$5(u),l=MT(t,e,u,h,l,o-1)-1):(w5(l+1),t[l]=u),l++),c++;return l},S5=MT,E5=ne,T5=S5,I5=ir,O5=nr,x5=gr,P5=uu;E5({target:"Array",proto:!0},{flatMap:function(e){var r=O5(this),i=x5(r),n;return I5(e),n=P5(r,0),n.length=T5(n,r,r,i,0,1,e,arguments.length>1?arguments[1]:void 0),n}});var k5=Rt;k5("Array","flatMap");var C5=St,a$=vr,A5=_g,RT=function(t,e,r){var i,n;a$(t);try{if(i=A5(t,"return"),!i){if(e==="throw")throw r;return r}i=C5(i,t)}catch(o){n=!0,i=o}if(e==="throw")throw r;if(n)throw i;return a$(i),r},D5=vr,M5=RT,R5=function(t,e,r,i){try{return i?e(D5(r)[0],r[1]):e(r)}catch(n){M5(t,"throw",n)}},N5=Xe,F5=As,B5=N5("iterator"),L5=Array.prototype,NT=function(t){return t!==void 0&&(F5.Array===t||L5[B5]===t)},j5=Fi,l$=_g,z5=Ss,H5=As,W5=Xe,V5=W5("iterator"),Eu=function(t){if(!z5(t))return l$(t,V5)||l$(t,"@@iterator")||H5[j5(t)]},U5=St,Y5=ir,q5=vr,K5=Is,G5=Eu,X5=TypeError,Lg=function(t,e){var r=arguments.length<2?G5(t):e;if(Y5(r))return q5(U5(r,t));throw new X5(K5(t)+" is not iterable")},J5=En,Z5=St,Q5=nr,eH=R5,tH=NT,rH=du,iH=gr,c$=xs,nH=Lg,oH=Eu,d$=Array,sH=function(e){var r=Q5(e),i=rH(this),n=arguments.length,o=n>1?arguments[1]:void 0,s=o!==void 0;s&&(o=J5(o,n>2?arguments[2]:void 0));var a=oH(r),l=0,c,d,u,h,f,p;if(a&&!(this===d$&&tH(a)))for(h=nH(r,a),f=h.next,d=i?new this:[];!(u=Z5(f,h)).done;l++)p=s?eH(h,o,[u.value,l],!0):u.value,c$(d,l,p);else for(c=iH(r),d=i?new this(c):d$(c);c>l;l++)p=s?o(r[l],l):r[l],c$(d,l,p);return d.length=l,d},aH=Xe,FT=aH("iterator"),BT=!1;try{var lH=0,u$={next:function(){return{done:!!lH++}},return:function(){BT=!0}};u$[FT]=function(){return this},Array.from(u$,function(){throw 2})}catch{}var LT=function(t,e){try{if(!e&&!BT)return!1}catch{return!1}var r=!1;try{var i={};i[FT]=function(){return{next:function(){return{done:r=!0}}}},t(i)}catch{}return r},cH=ne,dH=sH,uH=LT,hH=!uH(function(t){Array.from(t)});cH({target:"Array",stat:!0,forced:hH},{from:dH});var fH=Ke,pH=fH.Array.from,vH=pH,jT=vH,gH=jT,jg=ae(gH),mH=Eu,yH=mH,bH=yH,$H=bH,wH=$H,_H=wH,SH=_H,EH=SH,zT=EH,HT=ae(zT),TH=zT,zg=ae(TH),IH=ne,OH=Tn;IH({target:"Array",stat:!0},{isArray:OH});var xH=Ke,PH=xH.Array.isArray,kH=PH,WT=kH,CH=WT,AH=CH,DH=AH,MH=DH,RH=MH,VT=ae(RH);function NH(t){if(VT(t))return t}var FH=_t,BH=Tn,LH=TypeError,jH=Object.getOwnPropertyDescriptor,zH=FH&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}(),UT=zH?function(t,e){if(BH(t)&&!jH(t,"length").writable)throw new LH("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e},HH=ne,WH=nr,VH=gr,UH=UT,YH=cu,qH=xe,KH=qH(function(){return[].push.call({length:4294967296},1)!==4294967297}),GH=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}},XH=KH||!GH();HH({target:"Array",proto:!0,forced:XH},{push:function(e){var r=WH(this),i=VH(r),n=arguments.length;YH(i+n);for(var o=0;o<n;o++)r[i]=arguments[o],i++;return UH(r,i),i}});var JH=Rt,ZH=JH("Array","push"),QH=pt,eW=ZH,Gh=Array.prototype,tW=function(t){var e=t.push;return t===Gh||QH(Gh,t)&&e===Gh.push?eW:e},rW=tW,iW=rW,nW=iW,oW=nW,sW=oW,aW=sW,YT=aW,lW=ae(YT);function cW(t,e){var r=t==null?null:typeof Ho<"u"&&HT(t)||t["@@iterator"];if(r!=null){var i,n,o,s,a=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(i=o.call(r)).done)&&(lW(a).call(a,i.value),a.length!==e);l=!0);}catch(d){c=!0,n=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw n}}return a}}var dW=ne,h$=Tn,uW=du,hW=Pt,f$=fu,fW=gr,pW=li,vW=xs,gW=Xe,mW=nl,yW=ul,bW=mW("slice"),$W=gW("species"),Xh=Array,wW=Math.max;dW({target:"Array",proto:!0,forced:!bW},{slice:function(e,r){var i=pW(this),n=fW(i),o=f$(e,n),s=f$(r===void 0?n:r,n),a,l,c;if(h$(i)&&(a=i.constructor,uW(a)&&(a===Xh||h$(a.prototype))?a=void 0:hW(a)&&(a=a[$W],a===null&&(a=void 0)),a===Xh||a===void 0))return yW(i,o,s);for(l=new(a===void 0?Xh:a)(wW(s-o,0)),c=0;o<s;o++,c++)o in i&&vW(l,c,i[o]);return l.length=c,l}});var _W=Rt,SW=_W("Array","slice"),EW=pt,TW=SW,Jh=Array.prototype,IW=function(t){var e=t.slice;return t===Jh||EW(Jh,t)&&e===Jh.slice?TW:e},OW=IW,qT=OW,xW=qT,PW=xW,kW=PW,CW=kW,KT=CW,AW=ae(KT),DW=jT,MW=DW,RW=MW,NW=RW,FW=NW,GT=ae(FW);function iv(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=t[r];return i}function XT(t,e){var r;if(t){if(typeof t=="string")return iv(t,e);var i=AW(r=Object.prototype.toString.call(t)).call(r,8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return GT(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return iv(t,e)}}function BW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kt(t,e){return NH(t)||cW(t,e)||XT(t,e)||BW()}function LW(t){if(VT(t))return iv(t)}function jW(t){if(typeof Ho<"u"&&HT(t)!=null||t["@@iterator"]!=null)return GT(t)}function zW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zt(t){return LW(t)||jW(t)||XT(t)||zW()}var HW=bT,Tu=ae(HW),WW=Rt,VW=WW("Array","concat"),UW=pt,YW=VW,Zh=Array.prototype,qW=function(t){var e=t.concat;return t===Zh||UW(Zh,t)&&e===Zh.concat?YW:e},KW=qW,GW=KW,XW=GW,Iu=ae(XW),JW=qT,Ou=ae(JW),ZW=Yt,QW=Ue,e4=sl,t4=al,r4=vr,i4=QW([].concat),Hg=ZW("Reflect","ownKeys")||function(e){var r=e4.f(r4(e)),i=t4.f;return i?i4(r,i(e)):r},n4=ne,o4=Hg;n4({target:"Reflect",stat:!0},{ownKeys:o4});var s4=Ke,a4=s4.Reflect.ownKeys,l4=a4,c4=l4,d4=c4,u4=ae(d4),h4=WT,dr=ae(h4),f4=ne,p4=nr,JT=pu,v4=xe,g4=v4(function(){JT(1)});f4({target:"Object",stat:!0,forced:g4},{keys:function(e){return JT(p4(e))}});var m4=Ke,y4=m4.Object.keys,b4=y4,$4=b4,w4=$4,Wg=ae(w4),_4=Cs.forEach,S4=Su,E4=S4("forEach"),T4=E4?[].forEach:function(e){return _4(this,e,arguments.length>1?arguments[1]:void 0)},I4=ne,p$=T4;I4({target:"Array",proto:!0,forced:[].forEach!==p$},{forEach:p$});var O4=Rt,x4=O4("Array","forEach"),P4=x4,k4=P4,C4=Fi,A4=vt,D4=pt,M4=k4,Qh=Array.prototype,R4={DOMTokenList:!0,NodeList:!0},ZT=function(t){var e=t.forEach;return t===Qh||D4(Qh,t)&&e===Qh.forEach||A4(R4,C4(t))?M4:e},N4=ZT,ro=ae(N4),F4=ne,B4=Ue,L4=Tn,j4=B4([].reverse),v$=[1,2];F4({target:"Array",proto:!0,forced:String(v$)===String(v$.reverse())},{reverse:function(){return L4(this)&&(this.length=this.length),j4(this)}});var z4=Rt,H4=z4("Array","reverse"),W4=pt,V4=H4,ef=Array.prototype,U4=function(t){var e=t.reverse;return t===ef||W4(ef,t)&&e===ef.reverse?V4:e},Y4=U4,QT=Y4,q4=QT,K4=ae(q4),g$=Is,G4=TypeError,eI=function(t,e){if(!delete t[e])throw new G4("Cannot delete property "+g$(e)+" of "+g$(t))},X4=ne,J4=nr,Z4=fu,Q4=lu,eV=gr,tV=UT,rV=cu,iV=uu,nV=xs,tf=eI,oV=nl,sV=oV("splice"),aV=Math.max,lV=Math.min;X4({target:"Array",proto:!0,forced:!sV},{splice:function(e,r){var i=J4(this),n=eV(i),o=Z4(e,n),s=arguments.length,a,l,c,d,u,h;for(s===0?a=l=0:s===1?(a=0,l=n-o):(a=s-2,l=lV(aV(Q4(r),0),n-o)),rV(n+a-l),c=iV(i,l),d=0;d<l;d++)u=o+d,u in i&&nV(c,d,i[u]);if(c.length=l,a<l){for(d=o;d<n-l;d++)u=d+l,h=d+a,u in i?i[h]=i[u]:tf(i,h);for(d=n;d>n-l+a;d--)tf(i,d-1)}else if(a>l)for(d=n-l;d>o;d--)u=d+l-1,h=d+a-1,u in i?i[h]=i[u]:tf(i,h);for(d=0;d<a;d++)i[d+o]=arguments[d+2];return tV(i,n-l+a),c}});var cV=Rt,dV=cV("Array","splice"),uV=pt,hV=dV,rf=Array.prototype,fV=function(t){var e=t.splice;return t===rf||uV(rf,t)&&e===rf.splice?hV:e},pV=fV,vV=pV,gV=vV,tI=ae(gV),m$=_t,mV=Ue,yV=St,bV=xe,nf=pu,$V=al,wV=iu,_V=nr,SV=nu,Co=Object.assign,y$=Object.defineProperty,EV=mV([].concat),TV=!Co||bV(function(){if(m$&&Co({b:1},Co(y$({},"a",{enumerable:!0,get:function(){y$(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var t={},e={},r=Symbol("assign detection"),i="abcdefghijklmnopqrst";return t[r]=7,i.split("").forEach(function(n){e[n]=n}),Co({},t)[r]!==7||nf(Co({},e)).join("")!==i})?function(e,r){for(var i=_V(e),n=arguments.length,o=1,s=$V.f,a=wV.f;n>o;)for(var l=SV(arguments[o++]),c=s?EV(nf(l),s(l)):nf(l),d=c.length,u=0,h;d>u;)h=c[u++],(!m$||yV(a,l,h))&&(i[h]=l[h]);return i}:Co,IV=ne,b$=TV;IV({target:"Object",stat:!0,forced:Object.assign!==b$},{assign:b$});var OV=Ke,xV=OV.Object.assign,PV=xV,kV=PV,CV=kV,AV=ae(CV),DV=ne,MV=xe,RV=nr,rI=wu,NV=fT,FV=MV(function(){rI(1)});DV({target:"Object",stat:!0,forced:FV,sham:!NV},{getPrototypeOf:function(e){return rI(RV(e))}});var BV=Ke,LV=BV.Object.getPrototypeOf,jV=LV,zV=jV,HV=ne,WV=_t,VV=go;HV({target:"Object",stat:!0,sham:!WV},{create:VV});var UV=Ke,YV=UV.Object,qV=function(e,r){return YV.create(e,r)},KV=qV,iI=KV,GV=iI,XV=ae(GV),nv=Ke,JV=_s;nv.JSON||(nv.JSON={stringify:JSON.stringify});var ZV=function(e,r,i){return JV(nv.JSON.stringify,null,arguments)},QV=ZV,e6=QV,t6=e6,r6=ae(t6),i6=typeof Bun=="function"&&Bun&&typeof Bun.version=="string",n6=TypeError,nI=function(t,e){if(t<e)throw new n6("Not enough arguments");return t},oI=qe,o6=_s,s6=tt,a6=i6,l6=Sn,c6=ul,d6=nI,u6=oI.Function,h6=/MSIE .\./.test(l6)||a6&&function(){var t=oI.Bun.version.split(".");return t.length<3||t[0]==="0"&&(t[1]<3||t[1]==="3"&&t[2]==="0")}(),sI=function(t,e){var r=e?2:1;return h6?function(i,n){var o=d6(arguments.length,1)>r,s=s6(i)?i:u6(i),a=o?c6(arguments,r):[],l=o?function(){o6(s,this,a)}:s;return e?t(l,n):t(l)}:t},f6=ne,aI=qe,p6=sI,$$=p6(aI.setInterval,!0);f6({global:!0,bind:!0,forced:aI.setInterval!==$$},{setInterval:$$});var v6=ne,lI=qe,g6=sI,w$=g6(lI.setTimeout,!0);v6({global:!0,bind:!0,forced:lI.setTimeout!==w$},{setTimeout:w$});var m6=Ke,y6=m6.setTimeout,b6=y6,$6=ae(b6),cI={exports:{}};(function(t){function e(i){if(i)return r(i);this._callbacks=new Map}function r(i){return Object.assign(i,e.prototype),i._callbacks=new Map,i}e.prototype.on=function(i,n){const o=this._callbacks.get(i)??[];return o.push(n),this._callbacks.set(i,o),this},e.prototype.once=function(i,n){const o=(...s)=>{this.off(i,o),n.apply(this,s)};return o.fn=n,this.on(i,o),this},e.prototype.off=function(i,n){if(i===void 0&&n===void 0)return this._callbacks.clear(),this;if(n===void 0)return this._callbacks.delete(i),this;const o=this._callbacks.get(i);if(o){for(const[s,a]of o.entries())if(a===n||a.fn===n){o.splice(s,1);break}o.length===0?this._callbacks.delete(i):this._callbacks.set(i,o)}return this},e.prototype.emit=function(i,...n){const o=this._callbacks.get(i);if(o){const s=[...o];for(const a of s)a.apply(this,n)}return this},e.prototype.listeners=function(i){return this._callbacks.get(i)??[]},e.prototype.listenerCount=function(i){if(i)return this.listeners(i).length;let n=0;for(const o of this._callbacks.values())n+=o.length;return n},e.prototype.hasListeners=function(i){return this.listenerCount(i)>0},e.prototype.addEventListener=e.prototype.on,e.prototype.removeListener=e.prototype.off,e.prototype.removeEventListener=e.prototype.off,e.prototype.removeAllListeners=e.prototype.off,t.exports=e})(cI);var w6=cI.exports,_6=ae(w6);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function zr(){return zr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},zr.apply(this,arguments)}function Or(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function hc(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var ov;typeof Object.assign!="function"?ov=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(e),i=1;i<arguments.length;i++){var n=arguments[i];if(n!=null)for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])}return r}:ov=Object.assign;var io=ov,_$=["","webkit","Moz","MS","ms","o"],S6=typeof document>"u"?{style:{}}:document.createElement("div"),E6="function",Vo=Math.round,no=Math.abs,Vg=Date.now;function xu(t,e){for(var r,i,n=e[0].toUpperCase()+e.slice(1),o=0;o<_$.length;){if(r=_$[o],i=r?r+n:e,i in t)return i;o++}}var bi;typeof window>"u"?bi={}:bi=window;var dI=xu(S6.style,"touchAction"),uI=dI!==void 0;function T6(){if(!uI)return!1;var t={},e=bi.CSS&&bi.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(r){return t[r]=e?bi.CSS.supports("touch-action",r):!0}),t}var hI="compute",fI="auto",sv="manipulation",qn="none",Fa="pan-x",Ba="pan-y",fc=T6(),I6=/mobile|tablet|ip(ad|hone|od)|android/i,pI="ontouchstart"in bi,O6=xu(bi,"PointerEvent")!==void 0,x6=pI&&I6.test(navigator.userAgent),pl="touch",P6="pen",Ug="mouse",k6="kinect",C6=25,Vt=1,yo=2,ut=4,tr=8,_d=1,vl=2,gl=4,ml=8,us=16,si=vl|gl,Kn=ml|us,vI=si|Kn,gI=["x","y"],Sd=["clientX","clientY"];function $i(t,e,r){var i;if(t)if(t.forEach)t.forEach(e,r);else if(t.length!==void 0)for(i=0;i<t.length;)e.call(r,t[i],i,t),i++;else for(i in t)t.hasOwnProperty(i)&&e.call(r,t[i],i,t)}function Pu(t,e){return typeof t===E6?t.apply(e&&e[0]||void 0,e):t}function Ln(t,e){return t.indexOf(e)>-1}function A6(t){if(Ln(t,qn))return qn;var e=Ln(t,Fa),r=Ln(t,Ba);return e&&r?qn:e||r?e?Fa:Ba:Ln(t,sv)?sv:fI}var mI=function(){function t(r,i){this.manager=r,this.set(i)}var e=t.prototype;return e.set=function(i){i===hI&&(i=this.compute()),uI&&this.manager.element.style&&fc[i]&&(this.manager.element.style[dI]=i),this.actions=i.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var i=[];return $i(this.manager.recognizers,function(n){Pu(n.options.enable,[n])&&(i=i.concat(n.getTouchAction()))}),A6(i.join(" "))},e.preventDefaults=function(i){var n=i.srcEvent,o=i.offsetDirection;if(this.manager.session.prevented){n.preventDefault();return}var s=this.actions,a=Ln(s,qn)&&!fc[qn],l=Ln(s,Ba)&&!fc[Ba],c=Ln(s,Fa)&&!fc[Fa];if(a){var d=i.pointers.length===1,u=i.distance<2,h=i.deltaTime<250;if(d&&u&&h)return}if(!(c&&l)&&(a||l&&o&si||c&&o&Kn))return this.preventSrc(n)},e.preventSrc=function(i){this.manager.session.prevented=!0,i.preventDefault()},t}();function Yg(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function yI(t){var e=t.length;if(e===1)return{x:Vo(t[0].clientX),y:Vo(t[0].clientY)};for(var r=0,i=0,n=0;n<e;)r+=t[n].clientX,i+=t[n].clientY,n++;return{x:Vo(r/e),y:Vo(i/e)}}function S$(t){for(var e=[],r=0;r<t.pointers.length;)e[r]={clientX:Vo(t.pointers[r].clientX),clientY:Vo(t.pointers[r].clientY)},r++;return{timeStamp:Vg(),pointers:e,center:yI(e),deltaX:t.deltaX,deltaY:t.deltaY}}function Ed(t,e,r){r||(r=gI);var i=e[r[0]]-t[r[0]],n=e[r[1]]-t[r[1]];return Math.sqrt(i*i+n*n)}function av(t,e,r){r||(r=gI);var i=e[r[0]]-t[r[0]],n=e[r[1]]-t[r[1]];return Math.atan2(n,i)*180/Math.PI}function bI(t,e){return t===e?_d:no(t)>=no(e)?t<0?vl:gl:e<0?ml:us}function D6(t,e){var r=e.center,i=t.offsetDelta||{},n=t.prevDelta||{},o=t.prevInput||{};(e.eventType===Vt||o.eventType===ut)&&(n=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=t.offsetDelta={x:r.x,y:r.y}),e.deltaX=n.x+(r.x-i.x),e.deltaY=n.y+(r.y-i.y)}function $I(t,e,r){return{x:e/t||0,y:r/t||0}}function M6(t,e){return Ed(e[0],e[1],Sd)/Ed(t[0],t[1],Sd)}function R6(t,e){return av(e[1],e[0],Sd)+av(t[1],t[0],Sd)}function N6(t,e){var r=t.lastInterval||e,i=e.timeStamp-r.timeStamp,n,o,s,a;if(e.eventType!==tr&&(i>C6||r.velocity===void 0)){var l=e.deltaX-r.deltaX,c=e.deltaY-r.deltaY,d=$I(i,l,c);o=d.x,s=d.y,n=no(d.x)>no(d.y)?d.x:d.y,a=bI(l,c),t.lastInterval=e}else n=r.velocity,o=r.velocityX,s=r.velocityY,a=r.direction;e.velocity=n,e.velocityX=o,e.velocityY=s,e.direction=a}function F6(t,e){var r=t.session,i=e.pointers,n=i.length;r.firstInput||(r.firstInput=S$(e)),n>1&&!r.firstMultiple?r.firstMultiple=S$(e):n===1&&(r.firstMultiple=!1);var o=r.firstInput,s=r.firstMultiple,a=s?s.center:o.center,l=e.center=yI(i);e.timeStamp=Vg(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=av(a,l),e.distance=Ed(a,l),D6(r,e),e.offsetDirection=bI(e.deltaX,e.deltaY);var c=$I(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=no(c.x)>no(c.y)?c.x:c.y,e.scale=s?M6(s.pointers,i):1,e.rotation=s?R6(s.pointers,i):0,e.maxPointers=r.prevInput?e.pointers.length>r.prevInput.maxPointers?e.pointers.length:r.prevInput.maxPointers:e.pointers.length,N6(r,e);var d=t.element,u=e.srcEvent,h;u.composedPath?h=u.composedPath()[0]:u.path?h=u.path[0]:h=u.target,Yg(h,d)&&(d=h),e.target=d}function B6(t,e,r){var i=r.pointers.length,n=r.changedPointers.length,o=e&Vt&&i-n===0,s=e&(ut|tr)&&i-n===0;r.isFirst=!!o,r.isFinal=!!s,o&&(t.session={}),r.eventType=e,F6(t,r),t.emit("hammer.input",r),t.recognize(r),t.session.prevInput=r}function La(t){return t.trim().split(/\s+/g)}function ma(t,e,r){$i(La(e),function(i){t.addEventListener(i,r,!1)})}function ya(t,e,r){$i(La(e),function(i){t.removeEventListener(i,r,!1)})}function E$(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var Ds=function(){function t(r,i){var n=this;this.manager=r,this.callback=i,this.element=r.element,this.target=r.options.inputTarget,this.domHandler=function(o){Pu(r.options.enable,[r])&&n.handler(o)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&ma(this.element,this.evEl,this.domHandler),this.evTarget&&ma(this.target,this.evTarget,this.domHandler),this.evWin&&ma(E$(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&ya(this.element,this.evEl,this.domHandler),this.evTarget&&ya(this.target,this.evTarget,this.domHandler),this.evWin&&ya(E$(this.element),this.evWin,this.domHandler)},t}();function oo(t,e,r){if(t.indexOf&&!r)return t.indexOf(e);for(var i=0;i<t.length;){if(r&&t[i][r]==e||!r&&t[i]===e)return i;i++}return-1}var L6={pointerdown:Vt,pointermove:yo,pointerup:ut,pointercancel:tr,pointerout:tr},j6={2:pl,3:P6,4:Ug,5:k6},wI="pointerdown",_I="pointermove pointerup pointercancel";bi.MSPointerEvent&&!bi.PointerEvent&&(wI="MSPointerDown",_I="MSPointerMove MSPointerUp MSPointerCancel");var SI=function(t){Or(e,t);function e(){var i,n=e.prototype;return n.evEl=wI,n.evWin=_I,i=t.apply(this,arguments)||this,i.store=i.manager.session.pointerEvents=[],i}var r=e.prototype;return r.handler=function(n){var o=this.store,s=!1,a=n.type.toLowerCase().replace("ms",""),l=L6[a],c=j6[n.pointerType]||n.pointerType,d=c===pl,u=oo(o,n.pointerId,"pointerId");l&Vt&&(n.button===0||d)?u<0&&(o.push(n),u=o.length-1):l&(ut|tr)&&(s=!0),!(u<0)&&(o[u]=n,this.callback(this.manager,l,{pointers:o,changedPointers:[n],pointerType:c,srcEvent:n}),s&&o.splice(u,1))},e}(Ds);function ja(t){return Array.prototype.slice.call(t,0)}function qg(t,e,r){for(var i=[],n=[],o=0;o<t.length;){var s=e?t[o][e]:t[o];oo(n,s)<0&&i.push(t[o]),n[o]=s,o++}return r&&(e?i=i.sort(function(a,l){return a[e]>l[e]}):i=i.sort()),i}var z6={touchstart:Vt,touchmove:yo,touchend:ut,touchcancel:tr},H6="touchstart touchmove touchend touchcancel",Kg=function(t){Or(e,t);function e(){var i;return e.prototype.evTarget=H6,i=t.apply(this,arguments)||this,i.targetIds={},i}var r=e.prototype;return r.handler=function(n){var o=z6[n.type],s=W6.call(this,n,o);s&&this.callback(this.manager,o,{pointers:s[0],changedPointers:s[1],pointerType:pl,srcEvent:n})},e}(Ds);function W6(t,e){var r=ja(t.touches),i=this.targetIds;if(e&(Vt|yo)&&r.length===1)return i[r[0].identifier]=!0,[r,r];var n,o,s=ja(t.changedTouches),a=[],l=this.target;if(o=r.filter(function(c){return Yg(c.target,l)}),e===Vt)for(n=0;n<o.length;)i[o[n].identifier]=!0,n++;for(n=0;n<s.length;)i[s[n].identifier]&&a.push(s[n]),e&(ut|tr)&&delete i[s[n].identifier],n++;if(a.length)return[qg(o.concat(a),"identifier",!0),a]}var V6={mousedown:Vt,mousemove:yo,mouseup:ut},U6="mousedown",Y6="mousemove mouseup",Gg=function(t){Or(e,t);function e(){var i,n=e.prototype;return n.evEl=U6,n.evWin=Y6,i=t.apply(this,arguments)||this,i.pressed=!1,i}var r=e.prototype;return r.handler=function(n){var o=V6[n.type];o&Vt&&n.button===0&&(this.pressed=!0),o&yo&&n.which!==1&&(o=ut),this.pressed&&(o&ut&&(this.pressed=!1),this.callback(this.manager,o,{pointers:[n],changedPointers:[n],pointerType:Ug,srcEvent:n}))},e}(Ds),q6=2500,T$=25;function I$(t){var e=t.changedPointers,r=e[0];if(r.identifier===this.primaryTouch){var i={x:r.clientX,y:r.clientY},n=this.lastTouches;this.lastTouches.push(i);var o=function(){var a=n.indexOf(i);a>-1&&n.splice(a,1)};setTimeout(o,q6)}}function K6(t,e){t&Vt?(this.primaryTouch=e.changedPointers[0].identifier,I$.call(this,e)):t&(ut|tr)&&I$.call(this,e)}function G6(t){for(var e=t.srcEvent.clientX,r=t.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var n=this.lastTouches[i],o=Math.abs(e-n.x),s=Math.abs(r-n.y);if(o<=T$&&s<=T$)return!0}return!1}var EI=function(){var t=function(e){Or(r,e);function r(n,o){var s;return s=e.call(this,n,o)||this,s.handler=function(a,l,c){var d=c.pointerType===pl,u=c.pointerType===Ug;if(!(u&&c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents)){if(d)K6.call(hc(hc(s)),l,c);else if(u&&G6.call(hc(hc(s)),c))return;s.callback(a,l,c)}},s.touch=new Kg(s.manager,s.handler),s.mouse=new Gg(s.manager,s.handler),s.primaryTouch=null,s.lastTouches=[],s}var i=r.prototype;return i.destroy=function(){this.touch.destroy(),this.mouse.destroy()},r}(Ds);return t}();function X6(t){var e,r=t.options.inputClass;return r?e=r:O6?e=SI:x6?e=Kg:pI?e=EI:e=Gg,new e(t,B6)}function Uo(t,e,r){return Array.isArray(t)?($i(t,r[e],r),!0):!1}var qc=1,Tr=2,hs=4,sn=8,wi=sn,za=16,ri=32,J6=1;function Z6(){return J6++}function pc(t,e){var r=e.manager;return r?r.get(t):t}function O$(t){return t&za?"cancel":t&sn?"end":t&hs?"move":t&Tr?"start":""}var yl=function(){function t(r){r===void 0&&(r={}),this.options=zr({enable:!0},r),this.id=Z6(),this.manager=null,this.state=qc,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(i){return io(this.options,i),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(i){if(Uo(i,"recognizeWith",this))return this;var n=this.simultaneous;return i=pc(i,this),n[i.id]||(n[i.id]=i,i.recognizeWith(this)),this},e.dropRecognizeWith=function(i){return Uo(i,"dropRecognizeWith",this)?this:(i=pc(i,this),delete this.simultaneous[i.id],this)},e.requireFailure=function(i){if(Uo(i,"requireFailure",this))return this;var n=this.requireFail;return i=pc(i,this),oo(n,i)===-1&&(n.push(i),i.requireFailure(this)),this},e.dropRequireFailure=function(i){if(Uo(i,"dropRequireFailure",this))return this;i=pc(i,this);var n=oo(this.requireFail,i);return n>-1&&this.requireFail.splice(n,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(i){return!!this.simultaneous[i.id]},e.emit=function(i){var n=this,o=this.state;function s(a){n.manager.emit(a,i)}o<sn&&s(n.options.event+O$(o)),s(n.options.event),i.additionalEvent&&s(i.additionalEvent),o>=sn&&s(n.options.event+O$(o))},e.tryEmit=function(i){if(this.canEmit())return this.emit(i);this.state=ri},e.canEmit=function(){for(var i=0;i<this.requireFail.length;){if(!(this.requireFail[i].state&(ri|qc)))return!1;i++}return!0},e.recognize=function(i){var n=io({},i);if(!Pu(this.options.enable,[this,n])){this.reset(),this.state=ri;return}this.state&(wi|za|ri)&&(this.state=qc),this.state=this.process(n),this.state&(Tr|hs|sn|za)&&this.tryEmit(n)},e.process=function(i){},e.getTouchAction=function(){},e.reset=function(){},t}(),lv=function(t){Or(e,t);function e(i){var n;return i===void 0&&(i={}),n=t.call(this,zr({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},i))||this,n.pTime=!1,n.pCenter=!1,n._timer=null,n._input=null,n.count=0,n}var r=e.prototype;return r.getTouchAction=function(){return[sv]},r.process=function(n){var o=this,s=this.options,a=n.pointers.length===s.pointers,l=n.distance<s.threshold,c=n.deltaTime<s.time;if(this.reset(),n.eventType&Vt&&this.count===0)return this.failTimeout();if(l&&c&&a){if(n.eventType!==ut)return this.failTimeout();var d=this.pTime?n.timeStamp-this.pTime<s.interval:!0,u=!this.pCenter||Ed(this.pCenter,n.center)<s.posThreshold;this.pTime=n.timeStamp,this.pCenter=n.center,!u||!d?this.count=1:this.count+=1,this._input=n;var h=this.count%s.taps;if(h===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){o.state=wi,o.tryEmit()},s.interval),Tr):wi}return ri},r.failTimeout=function(){var n=this;return this._timer=setTimeout(function(){n.state=ri},this.options.interval),ri},r.reset=function(){clearTimeout(this._timer)},r.emit=function(){this.state===wi&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(yl),fs=function(t){Or(e,t);function e(i){return i===void 0&&(i={}),t.call(this,zr({pointers:1},i))||this}var r=e.prototype;return r.attrTest=function(n){var o=this.options.pointers;return o===0||n.pointers.length===o},r.process=function(n){var o=this.state,s=n.eventType,a=o&(Tr|hs),l=this.attrTest(n);return a&&(s&tr||!l)?o|za:a||l?s&ut?o|sn:o&Tr?o|hs:Tr:ri},e}(yl);function TI(t){return t===us?"down":t===ml?"up":t===vl?"left":t===gl?"right":""}var Xg=function(t){Or(e,t);function e(i){var n;return i===void 0&&(i={}),n=t.call(this,zr({event:"pan",threshold:10,pointers:1,direction:vI},i))||this,n.pX=null,n.pY=null,n}var r=e.prototype;return r.getTouchAction=function(){var n=this.options.direction,o=[];return n&si&&o.push(Ba),n&Kn&&o.push(Fa),o},r.directionTest=function(n){var o=this.options,s=!0,a=n.distance,l=n.direction,c=n.deltaX,d=n.deltaY;return l&o.direction||(o.direction&si?(l=c===0?_d:c<0?vl:gl,s=c!==this.pX,a=Math.abs(n.deltaX)):(l=d===0?_d:d<0?ml:us,s=d!==this.pY,a=Math.abs(n.deltaY))),n.direction=l,s&&a>o.threshold&&l&o.direction},r.attrTest=function(n){return fs.prototype.attrTest.call(this,n)&&(this.state&Tr||!(this.state&Tr)&&this.directionTest(n))},r.emit=function(n){this.pX=n.deltaX,this.pY=n.deltaY;var o=TI(n.direction);o&&(n.additionalEvent=this.options.event+o),t.prototype.emit.call(this,n)},e}(fs),II=function(t){Or(e,t);function e(i){return i===void 0&&(i={}),t.call(this,zr({event:"swipe",threshold:10,velocity:.3,direction:si|Kn,pointers:1},i))||this}var r=e.prototype;return r.getTouchAction=function(){return Xg.prototype.getTouchAction.call(this)},r.attrTest=function(n){var o=this.options.direction,s;return o&(si|Kn)?s=n.overallVelocity:o&si?s=n.overallVelocityX:o&Kn&&(s=n.overallVelocityY),t.prototype.attrTest.call(this,n)&&o&n.offsetDirection&&n.distance>this.options.threshold&&n.maxPointers===this.options.pointers&&no(s)>this.options.velocity&&n.eventType&ut},r.emit=function(n){var o=TI(n.offsetDirection);o&&this.manager.emit(this.options.event+o,n),this.manager.emit(this.options.event,n)},e}(fs),OI=function(t){Or(e,t);function e(i){return i===void 0&&(i={}),t.call(this,zr({event:"pinch",threshold:0,pointers:2},i))||this}var r=e.prototype;return r.getTouchAction=function(){return[qn]},r.attrTest=function(n){return t.prototype.attrTest.call(this,n)&&(Math.abs(n.scale-1)>this.options.threshold||this.state&Tr)},r.emit=function(n){if(n.scale!==1){var o=n.scale<1?"in":"out";n.additionalEvent=this.options.event+o}t.prototype.emit.call(this,n)},e}(fs),xI=function(t){Or(e,t);function e(i){return i===void 0&&(i={}),t.call(this,zr({event:"rotate",threshold:0,pointers:2},i))||this}var r=e.prototype;return r.getTouchAction=function(){return[qn]},r.attrTest=function(n){return t.prototype.attrTest.call(this,n)&&(Math.abs(n.rotation)>this.options.threshold||this.state&Tr)},e}(fs),PI=function(t){Or(e,t);function e(i){var n;return i===void 0&&(i={}),n=t.call(this,zr({event:"press",pointers:1,time:251,threshold:9},i))||this,n._timer=null,n._input=null,n}var r=e.prototype;return r.getTouchAction=function(){return[fI]},r.process=function(n){var o=this,s=this.options,a=n.pointers.length===s.pointers,l=n.distance<s.threshold,c=n.deltaTime>s.time;if(this._input=n,!l||!a||n.eventType&(ut|tr)&&!c)this.reset();else if(n.eventType&Vt)this.reset(),this._timer=setTimeout(function(){o.state=wi,o.tryEmit()},s.time);else if(n.eventType&ut)return wi;return ri},r.reset=function(){clearTimeout(this._timer)},r.emit=function(n){this.state===wi&&(n&&n.eventType&ut?this.manager.emit(this.options.event+"up",n):(this._input.timeStamp=Vg(),this.manager.emit(this.options.event,this._input)))},e}(yl),kI={domEvents:!1,touchAction:hI,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},x$=[[xI,{enable:!1}],[OI,{enable:!1},["rotate"]],[II,{direction:si}],[Xg,{direction:si},["swipe"]],[lv],[lv,{event:"doubletap",taps:2},["tap"]],[PI]],Q6=1,P$=2;function k$(t,e){var r=t.element;if(r.style){var i;$i(t.options.cssProps,function(n,o){i=xu(r.style,o),e?(t.oldCssProps[i]=r.style[i],r.style[i]=n):r.style[i]=t.oldCssProps[i]||""}),e||(t.oldCssProps={})}}function eU(t,e){var r=document.createEvent("Event");r.initEvent(t,!0,!0),r.gesture=e,e.target.dispatchEvent(r)}var C$=function(){function t(r,i){var n=this;this.options=io({},kI,i||{}),this.options.inputTarget=this.options.inputTarget||r,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=r,this.input=X6(this),this.touchAction=new mI(this,this.options.touchAction),k$(this,!0),$i(this.options.recognizers,function(o){var s=n.add(new o[0](o[1]));o[2]&&s.recognizeWith(o[2]),o[3]&&s.requireFailure(o[3])},this)}var e=t.prototype;return e.set=function(i){return io(this.options,i),i.touchAction&&this.touchAction.update(),i.inputTarget&&(this.input.destroy(),this.input.target=i.inputTarget,this.input.init()),this},e.stop=function(i){this.session.stopped=i?P$:Q6},e.recognize=function(i){var n=this.session;if(!n.stopped){this.touchAction.preventDefaults(i);var o,s=this.recognizers,a=n.curRecognizer;(!a||a&&a.state&wi)&&(n.curRecognizer=null,a=null);for(var l=0;l<s.length;)o=s[l],n.stopped!==P$&&(!a||o===a||o.canRecognizeWith(a))?o.recognize(i):o.reset(),!a&&o.state&(Tr|hs|sn)&&(n.curRecognizer=o,a=o),l++}},e.get=function(i){if(i instanceof yl)return i;for(var n=this.recognizers,o=0;o<n.length;o++)if(n[o].options.event===i)return n[o];return null},e.add=function(i){if(Uo(i,"add",this))return this;var n=this.get(i.options.event);return n&&this.remove(n),this.recognizers.push(i),i.manager=this,this.touchAction.update(),i},e.remove=function(i){if(Uo(i,"remove",this))return this;var n=this.get(i);if(i){var o=this.recognizers,s=oo(o,n);s!==-1&&(o.splice(s,1),this.touchAction.update())}return this},e.on=function(i,n){if(i===void 0||n===void 0)return this;var o=this.handlers;return $i(La(i),function(s){o[s]=o[s]||[],o[s].push(n)}),this},e.off=function(i,n){if(i===void 0)return this;var o=this.handlers;return $i(La(i),function(s){n?o[s]&&o[s].splice(oo(o[s],n),1):delete o[s]}),this},e.emit=function(i,n){this.options.domEvents&&eU(i,n);var o=this.handlers[i]&&this.handlers[i].slice();if(!(!o||!o.length)){n.type=i,n.preventDefault=function(){n.srcEvent.preventDefault()};for(var s=0;s<o.length;)o[s](n),s++}},e.destroy=function(){this.element&&k$(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),tU={touchstart:Vt,touchmove:yo,touchend:ut,touchcancel:tr},rU="touchstart",iU="touchstart touchmove touchend touchcancel",nU=function(t){Or(e,t);function e(){var i,n=e.prototype;return n.evTarget=rU,n.evWin=iU,i=t.apply(this,arguments)||this,i.started=!1,i}var r=e.prototype;return r.handler=function(n){var o=tU[n.type];if(o===Vt&&(this.started=!0),!!this.started){var s=oU.call(this,n,o);o&(ut|tr)&&s[0].length-s[1].length===0&&(this.started=!1),this.callback(this.manager,o,{pointers:s[0],changedPointers:s[1],pointerType:pl,srcEvent:n})}},e}(Ds);function oU(t,e){var r=ja(t.touches),i=ja(t.changedTouches);return e&(ut|tr)&&(r=qg(r.concat(i),"identifier",!0)),[r,i]}function CI(t,e,r){var i="DEPRECATED METHOD: "+e+`
`+r+` AT 
`;return function(){var n=new Error("get-stack-trace"),o=n&&n.stack?n.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",s=window.console&&(window.console.warn||window.console.log);return s&&s.call(window.console,i,o),t.apply(this,arguments)}}var AI=CI(function(t,e,r){for(var i=Object.keys(e),n=0;n<i.length;)(!r||r&&t[i[n]]===void 0)&&(t[i[n]]=e[i[n]]),n++;return t},"extend","Use `assign`."),sU=CI(function(t,e){return AI(t,e,!0)},"merge","Use `assign`.");function aU(t,e,r){var i=e.prototype,n;n=t.prototype=Object.create(i),n.constructor=t,n._super=i,r&&io(n,r)}function A$(t,e){return function(){return t.apply(e,arguments)}}var lU=function(){var t=function(r,i){return i===void 0&&(i={}),new C$(r,zr({recognizers:x$.concat()},i))};return t.VERSION="2.0.17-rc",t.DIRECTION_ALL=vI,t.DIRECTION_DOWN=us,t.DIRECTION_LEFT=vl,t.DIRECTION_RIGHT=gl,t.DIRECTION_UP=ml,t.DIRECTION_HORIZONTAL=si,t.DIRECTION_VERTICAL=Kn,t.DIRECTION_NONE=_d,t.DIRECTION_DOWN=us,t.INPUT_START=Vt,t.INPUT_MOVE=yo,t.INPUT_END=ut,t.INPUT_CANCEL=tr,t.STATE_POSSIBLE=qc,t.STATE_BEGAN=Tr,t.STATE_CHANGED=hs,t.STATE_ENDED=sn,t.STATE_RECOGNIZED=wi,t.STATE_CANCELLED=za,t.STATE_FAILED=ri,t.Manager=C$,t.Input=Ds,t.TouchAction=mI,t.TouchInput=Kg,t.MouseInput=Gg,t.PointerEventInput=SI,t.TouchMouseInput=EI,t.SingleTouchInput=nU,t.Recognizer=yl,t.AttrRecognizer=fs,t.Tap=lv,t.Pan=Xg,t.Swipe=II,t.Pinch=OI,t.Rotate=xI,t.Press=PI,t.on=ma,t.off=ya,t.each=$i,t.merge=sU,t.extend=AI,t.bindFn=A$,t.assign=io,t.inherit=aU,t.bindFn=A$,t.prefixed=xu,t.toArray=ja,t.inArray=oo,t.uniqueArray=qg,t.splitStr=La,t.boolOrFn=Pu,t.hasParent=Yg,t.addEventListeners=ma,t.removeEventListeners=ya,t.defaults=io({},kI,{preset:x$}),t}(),cU=lU;function DI(t,e){var r=typeof Tu<"u"&&zg(t)||t["@@iterator"];if(!r){if(dr(t)||(r=dU(t))||e){r&&(t=r);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(c){throw c},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,s=!1,a;return{s:function(){r=r.call(t)},n:function(){var c=r.next();return o=c.done,c},e:function(c){s=!0,a=c},f:function(){try{!o&&r.return!=null&&r.return()}finally{if(s)throw a}}}}function dU(t,e){var r;if(t){if(typeof t=="string")return D$(t,e);var i=Ou(r=Object.prototype.toString.call(t)).call(r,8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return jg(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return D$(t,e)}}function D$(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=t[r];return i}var MI=Tu("DELETE");function uU(t){for(var e,r=arguments.length,i=new Array(r>1?r-1:0),n=1;n<r;n++)i[n-1]=arguments[n];return RI.apply(void 0,Iu(e=[{},t]).call(e,i))}function RI(){var t=Td.apply(void 0,arguments);return FI(t),t}function Td(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(e.length<2)return e[0];if(e.length>2){var i;return Td.apply(void 0,Iu(i=[RI(e[0],e[1])]).call(i,Zt(Ou(e).call(e,2))))}var n=e[0],o=e[1];if(n instanceof Date&&o instanceof Date)return n.setTime(o.getTime()),n;var s=DI(u4(o)),a;try{for(s.s();!(a=s.n()).done;){var l=a.value;Object.prototype.propertyIsEnumerable.call(o,l)&&(o[l]===MI?delete n[l]:n[l]!==null&&o[l]!==null&&typeof n[l]=="object"&&typeof o[l]=="object"&&!dr(n[l])&&!dr(o[l])?n[l]=Td(n[l],o[l]):n[l]=NI(o[l]))}}catch(c){s.e(c)}finally{s.f()}return n}function NI(t){return dr(t)?Ar(t).call(t,function(e){return NI(e)}):typeof t=="object"&&t!==null?t instanceof Date?new Date(t.getTime()):Td({},t):t}function FI(t){for(var e=0,r=Wg(t);e<r.length;e++){var i=r[e];t[i]===MI?delete t[i]:typeof t[i]=="object"&&t[i]!==null&&FI(t[i])}}function hU(){var t=function(){};return{on:t,off:t,destroy:t,emit:t,get(){return{set:t}}}}var fU=typeof window<"u"?window.Hammer||cU:function(){return hU()};function mi(t){var e=this,r;this._cleanupQueue=[],this.active=!1,this._dom={container:t,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(function(){e._dom.overlay.parentNode.removeChild(e._dom.overlay)});var i=fU(this._dom.overlay);i.on("tap",DT(r=this._onTapOverlay).call(r,this)),this._cleanupQueue.push(function(){i.destroy()});var n=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];ro(n).call(n,function(o){i.on(o,function(s){s.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=function(o){pU(o.target,t)||e.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(function(){document.body.removeEventListener("click",e._onClick)})),this._escListener=function(o){("key"in o?o.key==="Escape":o.keyCode===27)&&e.deactivate()}}_6(mi.prototype);mi.current=null;mi.prototype.destroy=function(){var t,e;this.deactivate();var r=DI(K4(t=tI(e=this._cleanupQueue).call(e,0)).call(t)),i;try{for(r.s();!(i=r.n()).done;){var n=i.value;n()}}catch(o){r.e(o)}finally{r.f()}};mi.prototype.activate=function(){mi.current&&mi.current.deactivate(),mi.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};mi.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};mi.prototype._onTapOverlay=function(t){this.activate(),t.srcEvent.stopPropagation()};function pU(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}var vU=du,gU=Is,mU=TypeError,BI=function(t){if(vU(t))return t;throw new mU(gU(t)+" is not a constructor")},yU=ne,bU=Yt,of=_s,$U=CT,M$=BI,wU=vr,R$=Pt,_U=go,LI=xe,Jg=bU("Reflect","construct"),SU=Object.prototype,EU=[].push,jI=LI(function(){function t(){}return!(Jg(function(){},[],t)instanceof t)}),zI=!LI(function(){Jg(function(){})}),N$=jI||zI;yU({target:"Reflect",stat:!0,forced:N$,sham:N$},{construct:function(e,r){M$(e),wU(r);var i=arguments.length<3?e:M$(arguments[2]);if(zI&&!jI)return Jg(e,r,i);if(e===i){switch(r.length){case 0:return new e;case 1:return new e(r[0]);case 2:return new e(r[0],r[1]);case 3:return new e(r[0],r[1],r[2]);case 4:return new e(r[0],r[1],r[2],r[3])}var n=[null];return of(EU,n,r),new(of($U,e,n))}var o=i.prototype,s=_U(R$(o)?o:SU),a=of(e,s,r);return R$(a)?a:s}});var TU=Ke,IU=TU.Reflect.construct,OU=IU,xU=OU,PU=xU,Kc=ae(PU),kU=Ke,CU=kU.Object.getOwnPropertySymbols,AU=CU,DU=AU,MU=DU,F$=ae(MU),HI={exports:{}},RU=ne,NU=xe,FU=li,WI=fo.f,VI=_t,BU=!VI||NU(function(){WI(1)});RU({target:"Object",stat:!0,forced:BU,sham:!VI},{getOwnPropertyDescriptor:function(e,r){return WI(FU(e),r)}});var LU=Ke,UI=LU.Object,jU=HI.exports=function(e,r){return UI.getOwnPropertyDescriptor(e,r)};UI.getOwnPropertyDescriptor.sham&&(jU.sham=!0);var zU=HI.exports,HU=zU,WU=HU,VU=WU,YI=ae(VU),UU=ne,YU=_t,qU=Hg,KU=li,GU=fo,XU=xs;UU({target:"Object",stat:!0,sham:!YU},{getOwnPropertyDescriptors:function(e){for(var r=KU(e),i=GU.f,n=qU(r),o={},s=0,a,l;n.length>s;)l=i(r,a=n[s++]),l!==void 0&&XU(o,a,l);return o}});var JU=Ke,ZU=JU.Object.getOwnPropertyDescriptors,QU=ZU,eY=QU,tY=eY,B$=ae(tY),qI={exports:{}},rY=ne,iY=_t,L$=hu.f;rY({target:"Object",stat:!0,forced:Object.defineProperties!==L$,sham:!iY},{defineProperties:L$});var nY=Ke,KI=nY.Object,oY=qI.exports=function(e,r){return KI.defineProperties(e,r)};KI.defineProperties.sham&&(oY.sham=!0);var sY=qI.exports,aY=sY,lY=aY,cY=lY,dY=ae(cY),uY=TE,hY=ae(uY);function GI(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var fY=iI,pY=fY,vY=pY,gY=vY,XI=gY,mY=ae(XI),yY=ne,bY=gT;yY({target:"Object",stat:!0},{setPrototypeOf:bY});var $Y=Ke,wY=$Y.Object.setPrototypeOf,_Y=wY,SY=_Y,EY=SY,TY=EY,IY=TY,OY=IY,JI=OY,cv=ae(JI),xY=AT,PY=xY,kY=PY,CY=kY,AY=CY,ZI=ae(AY);function dv(t,e){var r;return dv=cv?ZI(r=cv).call(r):function(n,o){return n.__proto__=o,n},dv(t,e)}function DY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=mY(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),au(t,"prototype",{writable:!1}),e&&dv(t,e)}function MY(t,e){if(e&&(ds(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GI(t)}var RY=zV,NY=RY,FY=NY,BY=FY,QI=BY,j$=ae(QI);function Id(t){var e;return Id=cv?ZI(e=j$).call(e):function(i){return i.__proto__||j$(i)},Id(t)}var eO={exports:{}},tO={exports:{}};(function(t){var e=Fg,r=OT;function i(n){"@babel/helpers - typeof";return t.exports=i=typeof e=="function"&&typeof r=="symbol"?function(o){return typeof o}:function(o){return o&&typeof e=="function"&&o.constructor===e&&o!==e.prototype?"symbol":typeof o},t.exports.__esModule=!0,t.exports.default=t.exports,i(n)}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports})(tO);var LY=tO.exports,jY=ZT,zY=jY,HY=zY,WY=HY,VY=WY,z$=vt,UY=Hg,YY=fo,qY=or,KY=function(t,e,r){for(var i=UY(e),n=qY.f,o=YY.f,s=0;s<i.length;s++){var a=i[s];!z$(t,a)&&!(r&&z$(r,a))&&n(t,a,o(e,a))}},GY=Pt,XY=Ni,JY=function(t,e){GY(e)&&"cause"in e&&XY(t,"cause",e.cause)},ZY=Ue,rO=Error,QY=ZY("".replace),e8=function(t){return String(new rO(t).stack)}("zxcasd"),iO=/\n\s*at [^:]*:[^\n]*/,t8=iO.test(e8),r8=function(t,e){if(t8&&typeof t=="string"&&!rO.prepareStackTrace)for(;e--;)t=QY(t,iO,"");return t},i8=xe,n8=po,o8=!i8(function(){var t=new Error("a");return"stack"in t?(Object.defineProperty(t,"stack",n8(1,7)),t.stack!==7):!0}),s8=Ni,a8=r8,l8=o8,H$=Error.captureStackTrace,c8=function(t,e,r,i){l8&&(H$?H$(t,e):s8(t,"stack",a8(r,i)))},d8=En,u8=St,h8=vr,f8=Is,p8=NT,v8=gr,W$=pt,g8=Lg,m8=Eu,V$=RT,y8=TypeError,Gc=function(t,e){this.stopped=t,this.result=e},U$=Gc.prototype,bo=function(t,e,r){var i=r&&r.that,n=!!(r&&r.AS_ENTRIES),o=!!(r&&r.IS_RECORD),s=!!(r&&r.IS_ITERATOR),a=!!(r&&r.INTERRUPTED),l=d8(e,i),c,d,u,h,f,p,g,$=function(b){return c&&V$(c,"normal",b),new Gc(!0,b)},y=function(b){return n?(h8(b),a?l(b[0],b[1],$):l(b[0],b[1])):a?l(b,$):l(b)};if(o)c=t.iterator;else if(s)c=t;else{if(d=m8(t),!d)throw new y8(f8(t)+" is not iterable");if(p8(d)){for(u=0,h=v8(t);h>u;u++)if(f=y(t[u]),f&&W$(U$,f))return f;return new Gc(!1)}c=g8(t,d)}for(p=o?t.next:c.next;!(g=u8(p,c)).done;){try{f=y(g.value)}catch(b){V$(c,"throw",b)}if(typeof f=="object"&&f&&W$(U$,f))return f}return new Gc(!1)},b8=vo,$8=function(t,e){return t===void 0?arguments.length<2?"":e:b8(t)},w8=ne,_8=pt,S8=wu,Od=gT,E8=KY,nO=go,sf=Ni,af=po,T8=JY,I8=c8,O8=bo,x8=$8,P8=Xe,k8=P8("toStringTag"),xd=Error,C8=[].push,ps=function(e,r){var i=_8(lf,this),n;Od?n=Od(new xd,i?S8(this):lf):(n=i?this:nO(lf),sf(n,k8,"Error")),r!==void 0&&sf(n,"message",x8(r)),I8(n,ps,n.stack,1),arguments.length>2&&T8(n,arguments[2]);var o=[];return O8(e,C8,{that:o}),sf(n,"errors",o),n};Od?Od(ps,xd):E8(ps,xd,{name:!0});var lf=ps.prototype=nO(xd.prototype,{constructor:af(1,ps),message:af(1,""),name:af(1,"AggregateError")});w8({global:!0},{AggregateError:ps});var A8=Yt,D8=Pg,M8=Xe,R8=_t,Y$=M8("species"),oO=function(t){var e=A8(t);R8&&e&&!e[Y$]&&D8(e,Y$,{configurable:!0,get:function(){return this}})},N8=pt,F8=TypeError,Zg=function(t,e){if(N8(e,t))return t;throw new F8("Incorrect invocation")},q$=vr,B8=BI,L8=Ss,j8=Xe,z8=j8("species"),sO=function(t,e){var r=q$(t).constructor,i;return r===void 0||L8(i=q$(r)[z8])?e:B8(i)},H8=Sn,aO=/(?:ipad|iphone|ipod).*applewebkit/i.test(H8),hr=qe,W8=_s,V8=En,K$=tt,U8=vt,lO=xe,G$=RE,Y8=ul,X$=Eg,q8=nI,K8=aO,G8=fl,uv=hr.setImmediate,J$=hr.clearImmediate,X8=hr.process,cf=hr.Dispatch,J8=hr.Function,Z$=hr.MessageChannel,Z8=hr.String,df=0,ba={},Q$="onreadystatechange",Ha,Mn,uf,hf;lO(function(){Ha=hr.location});var Qg=function(t){if(U8(ba,t)){var e=ba[t];delete ba[t],e()}},ff=function(t){return function(){Qg(t)}},ew=function(t){Qg(t.data)},tw=function(t){hr.postMessage(Z8(t),Ha.protocol+"//"+Ha.host)};(!uv||!J$)&&(uv=function(e){q8(arguments.length,1);var r=K$(e)?e:J8(e),i=Y8(arguments,1);return ba[++df]=function(){W8(r,void 0,i)},Mn(df),df},J$=function(e){delete ba[e]},G8?Mn=function(t){X8.nextTick(ff(t))}:cf&&cf.now?Mn=function(t){cf.now(ff(t))}:Z$&&!K8?(uf=new Z$,hf=uf.port2,uf.port1.onmessage=ew,Mn=V8(hf.postMessage,hf)):hr.addEventListener&&K$(hr.postMessage)&&!hr.importScripts&&Ha&&Ha.protocol!=="file:"&&!lO(tw)?(Mn=tw,hr.addEventListener("message",ew,!1)):Q$ in X$("script")?Mn=function(t){G$.appendChild(X$("script"))[Q$]=function(){G$.removeChild(this),Qg(t)}}:Mn=function(t){setTimeout(ff(t),0)});var cO={set:uv},dO=function(){this.head=null,this.tail=null};dO.prototype={add:function(t){var e={item:t,next:null},r=this.tail;r?r.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t){var e=this.head=t.next;return e===null&&(this.tail=null),t.item}}};var uO=dO,Q8=Sn,eq=/ipad|iphone|ipod/i.test(Q8)&&typeof Pebble<"u",tq=Sn,rq=/web0s(?!.*chrome)/i.test(tq),so=qe,rw=En,iq=fo.f,pf=cO.set,nq=uO,oq=aO,sq=eq,aq=rq,vf=fl,iw=so.MutationObserver||so.WebKitMutationObserver,nw=so.document,ow=so.process,vc=so.Promise,sw=iq(so,"queueMicrotask"),hv=sw&&sw.value,Ao,gf,mf,gc,aw;if(!hv){var mc=new nq,yc=function(){var t,e;for(vf&&(t=ow.domain)&&t.exit();e=mc.get();)try{e()}catch(r){throw mc.head&&Ao(),r}t&&t.enter()};!oq&&!vf&&!aq&&iw&&nw?(gf=!0,mf=nw.createTextNode(""),new iw(yc).observe(mf,{characterData:!0}),Ao=function(){mf.data=gf=!gf}):!sq&&vc&&vc.resolve?(gc=vc.resolve(void 0),gc.constructor=vc,aw=rw(gc.then,gc),Ao=function(){aw(yc)}):vf?Ao=function(){ow.nextTick(yc)}:(pf=rw(pf,so),Ao=function(){pf(yc)}),hv=function(t){mc.head||Ao(),mc.add(t)}}var lq=hv,cq=function(t,e){try{arguments.length===1?console.error(t):console.error(t,e)}catch{}},Ms=function(t){try{return{error:!1,value:t()}}catch(e){return{error:!0,value:e}}},dq=qe,Rs=dq.Promise,hO=typeof Deno=="object"&&Deno&&typeof Deno.version=="object",uq=hO,hq=fl,fq=!uq&&!hq&&typeof window=="object"&&typeof document=="object",pq=qe,$a=Rs,vq=tt,gq=_E,mq=xE,yq=Xe,bq=fq,$q=hO,yf=Es,lw=$a&&$a.prototype,wq=yq("species"),cw=!1,fO=vq(pq.PromiseRejectionEvent),_q=gq("Promise",function(){var t=mq($a),e=t!==String($a);if(!e&&yf===66||!(lw.catch&&lw.finally))return!0;if(!yf||yf<51||!/native code/.test(t)){var r=new $a(function(o){o(1)}),i=function(o){o(function(){},function(){})},n=r.constructor={};if(n[wq]=i,cw=r.then(function(){})instanceof i,!cw)return!0}return!e&&(bq||$q)&&!fO}),bl={CONSTRUCTOR:_q,REJECTION_EVENT:fO},ci={},dw=ir,Sq=TypeError,Eq=function(t){var e,r;this.promise=new t(function(i,n){if(e!==void 0||r!==void 0)throw new Sq("Bad Promise constructor");e=i,r=n}),this.resolve=dw(e),this.reject=dw(r)};ci.f=function(t){return new Eq(t)};var Tq=ne,Pd=fl,gn=qe,$l=St,Iq=Ps,Oq=mo,xq=oO,Pq=ir,fv=tt,kq=Pt,Cq=Zg,Aq=sO,pO=cO.set,em=lq,Dq=cq,Mq=Ms,Rq=uO,vO=ks,pv=Rs,gO=bl,mO=ci,ku="Promise",yO=gO.CONSTRUCTOR,Nq=gO.REJECTION_EVENT,bf=vO.getterFor(ku),Fq=vO.set,Bq=pv&&pv.prototype,Yo=pv,$f=Bq,bO=gn.TypeError,vv=gn.document,tm=gn.process,gv=mO.f,Lq=gv,jq=!!(vv&&vv.createEvent&&gn.dispatchEvent),$O="unhandledrejection",zq="rejectionhandled",uw=0,wO=1,Hq=2,rm=1,_O=2,bc,hw,Wq,SO=function(t){var e;return kq(t)&&fv(e=t.then)?e:!1},EO=function(t,e){var r=e.value,i=e.state===wO,n=i?t.ok:t.fail,o=t.resolve,s=t.reject,a=t.domain,l,c,d;try{n?(i||(e.rejection===_O&&Uq(e),e.rejection=rm),n===!0?l=r:(a&&a.enter(),l=n(r),a&&(a.exit(),d=!0)),l===t.promise?s(new bO("Promise-chain cycle")):(c=SO(l))?$l(c,l,o,s):o(l)):s(r)}catch(u){a&&!d&&a.exit(),s(u)}},TO=function(t,e){t.notified||(t.notified=!0,em(function(){for(var r=t.reactions,i;i=r.get();)EO(i,t);t.notified=!1,e&&!t.rejection&&Vq(t)}))},IO=function(t,e,r){var i,n;jq?(i=vv.createEvent("Event"),i.promise=e,i.reason=r,i.initEvent(t,!1,!0),gn.dispatchEvent(i)):i={promise:e,reason:r},!Nq&&(n=gn["on"+t])?n(i):t===$O&&Dq("Unhandled promise rejection",r)},Vq=function(t){$l(pO,gn,function(){var e=t.facade,r=t.value,i=fw(t),n;if(i&&(n=Mq(function(){Pd?tm.emit("unhandledRejection",r,e):IO($O,e,r)}),t.rejection=Pd||fw(t)?_O:rm,n.error))throw n.value})},fw=function(t){return t.rejection!==rm&&!t.parent},Uq=function(t){$l(pO,gn,function(){var e=t.facade;Pd?tm.emit("rejectionHandled",e):IO(zq,e,t.value)})},qo=function(t,e,r){return function(i){t(e,i,r)}},rs=function(t,e,r){t.done||(t.done=!0,r&&(t=r),t.value=e,t.state=Hq,TO(t,!0))},mv=function(t,e,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===e)throw new bO("Promise can't be resolved itself");var i=SO(e);i?em(function(){var n={done:!1};try{$l(i,e,qo(mv,n,t),qo(rs,n,t))}catch(o){rs(n,o,t)}}):(t.value=e,t.state=wO,TO(t,!1))}catch(n){rs({done:!1},n,t)}}};yO&&(Yo=function(e){Cq(this,$f),Pq(e),$l(bc,this);var r=bf(this);try{e(qo(mv,r),qo(rs,r))}catch(i){rs(r,i)}},$f=Yo.prototype,bc=function(e){Fq(this,{type:ku,done:!1,notified:!1,parent:!1,reactions:new Rq,rejection:!1,state:uw,value:void 0})},bc.prototype=Iq($f,"then",function(e,r){var i=bf(this),n=gv(Aq(this,Yo));return i.parent=!0,n.ok=fv(e)?e:!0,n.fail=fv(r)&&r,n.domain=Pd?tm.domain:void 0,i.state===uw?i.reactions.add(n):em(function(){EO(n,i)}),n.promise}),hw=function(){var t=new bc,e=bf(t);this.promise=t,this.resolve=qo(mv,e),this.reject=qo(rs,e)},mO.f=gv=function(t){return t===Yo||t===Wq?new hw(t):Lq(t)});Tq({global:!0,wrap:!0,forced:yO},{Promise:Yo});Oq(Yo,ku,!1,!0);xq(ku);var Yq=Rs,qq=LT,Kq=bl.CONSTRUCTOR,Cu=Kq||!qq(function(t){Yq.all(t).then(void 0,function(){})}),Gq=ne,Xq=St,Jq=ir,Zq=ci,Qq=Ms,eK=bo,tK=Cu;Gq({target:"Promise",stat:!0,forced:tK},{all:function(e){var r=this,i=Zq.f(r),n=i.resolve,o=i.reject,s=Qq(function(){var a=Jq(r.resolve),l=[],c=0,d=1;eK(e,function(u){var h=c++,f=!1;d++,Xq(a,r,u).then(function(p){f||(f=!0,l[h]=p,--d||n(l))},o)}),--d||n(l)});return s.error&&o(s.value),i.promise}});var rK=ne,iK=bl.CONSTRUCTOR,pw=Rs;pw&&pw.prototype;rK({target:"Promise",proto:!0,forced:iK,real:!0},{catch:function(t){return this.then(void 0,t)}});var nK=ne,oK=St,sK=ir,aK=ci,lK=Ms,cK=bo,dK=Cu;nK({target:"Promise",stat:!0,forced:dK},{race:function(e){var r=this,i=aK.f(r),n=i.reject,o=lK(function(){var s=sK(r.resolve);cK(e,function(a){oK(s,r,a).then(i.resolve,n)})});return o.error&&n(o.value),i.promise}});var uK=ne,hK=St,fK=ci,pK=bl.CONSTRUCTOR;uK({target:"Promise",stat:!0,forced:pK},{reject:function(e){var r=fK.f(this);return hK(r.reject,void 0,e),r.promise}});var vK=vr,gK=Pt,mK=ci,OO=function(t,e){if(vK(t),gK(e)&&e.constructor===t)return e;var r=mK.f(t),i=r.resolve;return i(e),r.promise},yK=ne,bK=Yt,$K=OR,wK=Rs,_K=bl.CONSTRUCTOR,SK=OO,EK=bK("Promise"),TK=!_K;yK({target:"Promise",stat:!0,forced:$K},{resolve:function(e){return SK(TK&&this===EK?wK:this,e)}});var IK=ne,OK=St,xK=ir,PK=ci,kK=Ms,CK=bo,AK=Cu;IK({target:"Promise",stat:!0,forced:AK},{allSettled:function(e){var r=this,i=PK.f(r),n=i.resolve,o=i.reject,s=kK(function(){var a=xK(r.resolve),l=[],c=0,d=1;CK(e,function(u){var h=c++,f=!1;d++,OK(a,r,u).then(function(p){f||(f=!0,l[h]={status:"fulfilled",value:p},--d||n(l))},function(p){f||(f=!0,l[h]={status:"rejected",reason:p},--d||n(l))})}),--d||n(l)});return s.error&&o(s.value),i.promise}});var DK=ne,MK=St,RK=ir,NK=Yt,FK=ci,BK=Ms,LK=bo,jK=Cu,vw="No one promise resolved";DK({target:"Promise",stat:!0,forced:jK},{any:function(e){var r=this,i=NK("AggregateError"),n=FK.f(r),o=n.resolve,s=n.reject,a=BK(function(){var l=RK(r.resolve),c=[],d=0,u=1,h=!1;LK(e,function(f){var p=d++,g=!1;u++,MK(l,r,f).then(function($){g||h||(h=!0,o($))},function($){g||h||(g=!0,c[p]=$,--u||s(new i(c,vw)))})}),--u||s(new i(c,vw))});return a.error&&s(a.value),n.promise}});var zK=ne,yv=Rs,HK=xe,WK=Yt,VK=tt,UK=sO,gw=OO,YK=yv&&yv.prototype,qK=!!yv&&HK(function(){YK.finally.call({then:function(){}},function(){})});zK({target:"Promise",proto:!0,real:!0,forced:qK},{finally:function(t){var e=UK(this,WK("Promise")),r=VK(t);return this.then(r?function(i){return gw(e,t()).then(function(){return i})}:t,r?function(i){return gw(e,t()).then(function(){throw i})}:t)}});var KK=Ke,GK=KK.Promise,XK=GK,JK=XK,ZK=ne,QK=ci;ZK({target:"Promise",stat:!0},{withResolvers:function(){var e=QK.f(this);return{promise:e.promise,resolve:e.resolve,reject:e.reject}}});var eG=JK,tG=eG,rG=ne,iG=ci,nG=Ms;rG({target:"Promise",stat:!0,forced:!0},{try:function(t){var e=iG.f(this),r=nG(t);return(r.error?e.reject:e.resolve)(r.value),e.promise}});var oG=tG,sG=oG,aG=sG,lG=QT,cG=lG,dG=cG,uG=dG,hG=uG;(function(t){var e=LY.default,r=IE,i=Fg,n=XI,o=QI,s=VY,a=YT,l=JI,c=aG,d=hG,u=KT;function h(){t.exports=h=function(){return p},t.exports.__esModule=!0,t.exports.default=t.exports;var f,p={},g=Object.prototype,$=g.hasOwnProperty,y=r||function(V,k,B){V[k]=B.value},b=typeof i=="function"?i:{},S=b.iterator||"@@iterator",_=b.asyncIterator||"@@asyncIterator",T=b.toStringTag||"@@toStringTag";function W(V,k,B){return r(V,k,{value:B,enumerable:!0,configurable:!0,writable:!0}),V[k]}try{W({},"")}catch{W=function(B,v,m){return B[v]=m}}function q(V,k,B,v){var m=k&&k.prototype instanceof Se?k:Se,w=n(m.prototype),O=new ji(v||[]);return y(w,"_invoke",{value:To(V,B,O)}),w}function z(V,k,B){try{return{type:"normal",arg:V.call(k,B)}}catch(v){return{type:"throw",arg:v}}}p.wrap=q;var C="suspendedStart",X="suspendedYield",ue="executing",j="completed",he={};function Se(){}function ye(){}function Q(){}var K={};W(K,S,function(){return this});var ce=o,Ae=ce&&ce(ce(Pn([])));Ae&&Ae!==g&&$.call(Ae,S)&&(K=Ae);var Ge=Q.prototype=Se.prototype=n(K);function Et(V){var k;s(k=["next","throw","return"]).call(k,function(B){W(V,B,function(v){return this._invoke(B,v)})})}function ot(V,k){function B(m,w,O,I){var x=z(V[m],V,w);if(x.type!=="throw"){var H=x.arg,F=H.value;return F&&e(F)=="object"&&$.call(F,"__await")?k.resolve(F.__await).then(function(R){B("next",R,O,I)},function(R){B("throw",R,O,I)}):k.resolve(F).then(function(R){H.value=R,O(H)},function(R){return B("throw",R,O,I)})}I(x.arg)}var v;y(this,"_invoke",{value:function(w,O){function I(){return new k(function(x,H){B(w,O,x,H)})}return v=v?v.then(I,I):I()}})}function To(V,k,B){var v=C;return function(m,w){if(v===ue)throw new Error("Generator is already running");if(v===j){if(m==="throw")throw w;return{value:f,done:!0}}for(B.method=m,B.arg=w;;){var O=B.delegate;if(O){var I=Jl(O,B);if(I){if(I===he)continue;return I}}if(B.method==="next")B.sent=B._sent=B.arg;else if(B.method==="throw"){if(v===C)throw v=j,B.arg;B.dispatchException(B.arg)}else B.method==="return"&&B.abrupt("return",B.arg);v=ue;var x=z(V,k,B);if(x.type==="normal"){if(v=B.done?j:X,x.arg===he)continue;return{value:x.arg,done:B.done}}x.type==="throw"&&(v=j,B.method="throw",B.arg=x.arg)}}}function Jl(V,k){var B=k.method,v=V.iterator[B];if(v===f)return k.delegate=null,B==="throw"&&V.iterator.return&&(k.method="return",k.arg=f,Jl(V,k),k.method==="throw")||B!=="return"&&(k.method="throw",k.arg=new TypeError("The iterator does not provide a '"+B+"' method")),he;var m=z(v,V.iterator,k.arg);if(m.type==="throw")return k.method="throw",k.arg=m.arg,k.delegate=null,he;var w=m.arg;return w?w.done?(k[V.resultName]=w.value,k.next=V.nextLoc,k.method!=="return"&&(k.method="next",k.arg=f),k.delegate=null,he):w:(k.method="throw",k.arg=new TypeError("iterator result is not an object"),k.delegate=null,he)}function rh(V){var k,B={tryLoc:V[0]};1 in V&&(B.catchLoc=V[1]),2 in V&&(B.finallyLoc=V[2],B.afterLoc=V[3]),a(k=this.tryEntries).call(k,B)}function hi(V){var k=V.completion||{};k.type="normal",delete k.arg,V.completion=k}function ji(V){this.tryEntries=[{tryLoc:"root"}],s(V).call(V,rh,this),this.reset(!0)}function Pn(V){if(V||V===""){var k=V[S];if(k)return k.call(V);if(typeof V.next=="function")return V;if(!isNaN(V.length)){var B=-1,v=function m(){for(;++B<V.length;)if($.call(V,B))return m.value=V[B],m.done=!1,m;return m.value=f,m.done=!0,m};return v.next=v}}throw new TypeError(e(V)+" is not iterable")}return ye.prototype=Q,y(Ge,"constructor",{value:Q,configurable:!0}),y(Q,"constructor",{value:ye,configurable:!0}),ye.displayName=W(Q,T,"GeneratorFunction"),p.isGeneratorFunction=function(V){var k=typeof V=="function"&&V.constructor;return!!k&&(k===ye||(k.displayName||k.name)==="GeneratorFunction")},p.mark=function(V){return l?l(V,Q):(V.__proto__=Q,W(V,T,"GeneratorFunction")),V.prototype=n(Ge),V},p.awrap=function(V){return{__await:V}},Et(ot.prototype),W(ot.prototype,_,function(){return this}),p.AsyncIterator=ot,p.async=function(V,k,B,v,m){m===void 0&&(m=c);var w=new ot(q(V,k,B,v),m);return p.isGeneratorFunction(k)?w:w.next().then(function(O){return O.done?O.value:w.next()})},Et(Ge),W(Ge,T,"Generator"),W(Ge,S,function(){return this}),W(Ge,"toString",function(){return"[object Generator]"}),p.keys=function(V){var k=Object(V),B=[];for(var v in k)a(B).call(B,v);return d(B).call(B),function m(){for(;B.length;){var w=B.pop();if(w in k)return m.value=w,m.done=!1,m}return m.done=!0,m}},p.values=Pn,ji.prototype={constructor:ji,reset:function(k){var B;if(this.prev=0,this.next=0,this.sent=this._sent=f,this.done=!1,this.delegate=null,this.method="next",this.arg=f,s(B=this.tryEntries).call(B,hi),!k)for(var v in this)v.charAt(0)==="t"&&$.call(this,v)&&!isNaN(+u(v).call(v,1))&&(this[v]=f)},stop:function(){this.done=!0;var k=this.tryEntries[0].completion;if(k.type==="throw")throw k.arg;return this.rval},dispatchException:function(k){if(this.done)throw k;var B=this;function v(H,F){return O.type="throw",O.arg=k,B.next=H,F&&(B.method="next",B.arg=f),!!F}for(var m=this.tryEntries.length-1;m>=0;--m){var w=this.tryEntries[m],O=w.completion;if(w.tryLoc==="root")return v("end");if(w.tryLoc<=this.prev){var I=$.call(w,"catchLoc"),x=$.call(w,"finallyLoc");if(I&&x){if(this.prev<w.catchLoc)return v(w.catchLoc,!0);if(this.prev<w.finallyLoc)return v(w.finallyLoc)}else if(I){if(this.prev<w.catchLoc)return v(w.catchLoc,!0)}else{if(!x)throw new Error("try statement without catch or finally");if(this.prev<w.finallyLoc)return v(w.finallyLoc)}}}},abrupt:function(k,B){for(var v=this.tryEntries.length-1;v>=0;--v){var m=this.tryEntries[v];if(m.tryLoc<=this.prev&&$.call(m,"finallyLoc")&&this.prev<m.finallyLoc){var w=m;break}}w&&(k==="break"||k==="continue")&&w.tryLoc<=B&&B<=w.finallyLoc&&(w=null);var O=w?w.completion:{};return O.type=k,O.arg=B,w?(this.method="next",this.next=w.finallyLoc,he):this.complete(O)},complete:function(k,B){if(k.type==="throw")throw k.arg;return k.type==="break"||k.type==="continue"?this.next=k.arg:k.type==="return"?(this.rval=this.arg=k.arg,this.method="return",this.next="end"):k.type==="normal"&&B&&(this.next=B),he},finish:function(k){for(var B=this.tryEntries.length-1;B>=0;--B){var v=this.tryEntries[B];if(v.finallyLoc===k)return this.complete(v.completion,v.afterLoc),hi(v),he}},catch:function(k){for(var B=this.tryEntries.length-1;B>=0;--B){var v=this.tryEntries[B];if(v.tryLoc===k){var m=v.completion;if(m.type==="throw"){var w=m.arg;hi(v)}return w}}throw new Error("illegal catch attempt")},delegateYield:function(k,B,v){return this.delegate={iterator:Pn(k),resultName:B,nextLoc:v},this.method==="next"&&(this.arg=f),he}},p}t.exports=h,t.exports.__esModule=!0,t.exports.default=t.exports})(eO);var fG=eO.exports,Xc=fG(),pG=Xc;try{regeneratorRuntime=Xc}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=Xc:Function("r","regeneratorRuntime = r")(Xc)}var Gt=ae(pG),xO={exports:{}},vG=xe,gG=vG(function(){if(typeof ArrayBuffer=="function"){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}}),mG=xe,yG=Pt,bG=_n,mw=gG,Jc=Object.isExtensible,$G=mG(function(){Jc(1)}),wG=$G||mw?function(e){return!yG(e)||mw&&bG(e)==="ArrayBuffer"?!1:Jc?Jc(e):!0}:Jc,_G=xe,SG=!_G(function(){return Object.isExtensible(Object.preventExtensions({}))}),EG=ne,TG=Ue,IG=ol,OG=Pt,im=vt,xG=or.f,yw=sl,PG=xg,nm=wG,kG=ou,CG=SG,PO=!1,Ci=kG("meta"),AG=0,om=function(t){xG(t,Ci,{value:{objectID:"O"+AG++,weakData:{}}})},DG=function(t,e){if(!OG(t))return typeof t=="symbol"?t:(typeof t=="string"?"S":"P")+t;if(!im(t,Ci)){if(!nm(t))return"F";if(!e)return"E";om(t)}return t[Ci].objectID},MG=function(t,e){if(!im(t,Ci)){if(!nm(t))return!0;if(!e)return!1;om(t)}return t[Ci].weakData},RG=function(t){return CG&&PO&&nm(t)&&!im(t,Ci)&&om(t),t},NG=function(){FG.enable=function(){},PO=!0;var t=yw.f,e=TG([].splice),r={};r[Ci]=1,t(r).length&&(yw.f=function(i){for(var n=t(i),o=0,s=n.length;o<s;o++)if(n[o]===Ci){e(n,o,1);break}return n},EG({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:PG.f}))},FG=xO.exports={enable:NG,fastKey:DG,getWeakData:MG,onFreeze:RG};IG[Ci]=!0;var kO=xO.exports,BG=ne,LG=qe,jG=kO,zG=xe,HG=Ni,WG=bo,VG=Zg,UG=tt,YG=Pt,qG=Ss,KG=mo,GG=or.f,XG=Cs.forEach,JG=_t,CO=ks,ZG=CO.set,QG=CO.getterFor,AO=function(t,e,r){var i=t.indexOf("Map")!==-1,n=t.indexOf("Weak")!==-1,o=i?"set":"add",s=LG[t],a=s&&s.prototype,l={},c;if(!JG||!UG(s)||!(n||a.forEach&&!zG(function(){new s().entries().next()})))c=r.getConstructor(e,t,i,o),jG.enable();else{c=e(function(h,f){ZG(VG(h,d),{type:t,collection:new s}),qG(f)||WG(f,h[o],{that:h,AS_ENTRIES:i})});var d=c.prototype,u=QG(t);XG(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(h){var f=h==="add"||h==="set";h in a&&!(n&&h==="clear")&&HG(d,h,function(p,g){var $=u(this).collection;if(!f&&n&&!YG(p))return h==="get"?void 0:!1;var y=$[h](p===0?0:p,g);return f?this:y})}),n||GG(d,"size",{configurable:!0,get:function(){return u(this).collection.size}})}return KG(c,t,!1,!0),l[t]=c,BG({global:!0,forced:!0},l),n||r.setStrong(c,t,i),c},e9=Ps,t9=function(t,e,r){for(var i in e)r&&r.unsafe&&t[i]?t[i]=e[i]:e9(t,i,e[i],r);return t},r9=go,i9=Pg,bw=t9,n9=En,o9=Zg,s9=Ss,a9=bo,l9=Mg,$c=Rg,c9=oO,Js=_t,$w=kO.fastKey,DO=ks,ww=DO.set,wf=DO.getterFor,MO={getConstructor:function(t,e,r,i){var n=t(function(c,d){o9(c,o),ww(c,{type:e,index:r9(null),first:void 0,last:void 0,size:0}),Js||(c.size=0),s9(d)||a9(d,c[i],{that:c,AS_ENTRIES:r})}),o=n.prototype,s=wf(e),a=function(c,d,u){var h=s(c),f=l(c,d),p,g;return f?f.value=u:(h.last=f={index:g=$w(d,!0),key:d,value:u,previous:p=h.last,next:void 0,removed:!1},h.first||(h.first=f),p&&(p.next=f),Js?h.size++:c.size++,g!=="F"&&(h.index[g]=f)),c},l=function(c,d){var u=s(c),h=$w(d),f;if(h!=="F")return u.index[h];for(f=u.first;f;f=f.next)if(f.key===d)return f};return bw(o,{clear:function(){for(var d=this,u=s(d),h=u.index,f=u.first;f;)f.removed=!0,f.previous&&(f.previous=f.previous.next=void 0),delete h[f.index],f=f.next;u.first=u.last=void 0,Js?u.size=0:d.size=0},delete:function(c){var d=this,u=s(d),h=l(d,c);if(h){var f=h.next,p=h.previous;delete u.index[h.index],h.removed=!0,p&&(p.next=f),f&&(f.previous=p),u.first===h&&(u.first=f),u.last===h&&(u.last=p),Js?u.size--:d.size--}return!!h},forEach:function(d){for(var u=s(this),h=n9(d,arguments.length>1?arguments[1]:void 0),f;f=f?f.next:u.first;)for(h(f.value,f.key,this);f&&f.removed;)f=f.previous},has:function(d){return!!l(this,d)}}),bw(o,r?{get:function(d){var u=l(this,d);return u&&u.value},set:function(d,u){return a(this,d===0?0:d,u)}}:{add:function(d){return a(this,d=d===0?0:d,d)}}),Js&&i9(o,"size",{configurable:!0,get:function(){return s(this).size}}),n},setStrong:function(t,e,r){var i=e+" Iterator",n=wf(e),o=wf(i);l9(t,e,function(s,a){ww(this,{type:i,target:s,state:n(s),kind:a,last:void 0})},function(){for(var s=o(this),a=s.kind,l=s.last;l&&l.removed;)l=l.previous;return!s.target||!(s.last=l=l?l.next:s.state.first)?(s.target=void 0,$c(void 0,!0)):$c(a==="keys"?l.key:a==="values"?l.value:[l.key,l.value],!1)},r?"entries":"values",!r,!0),c9(e)}},d9=AO,u9=MO;d9("Map",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},u9);var h9=Ke,f9=h9.Map,p9=f9,v9=p9,g9=v9,RO=ae(g9),m9=ne,y9=Cs.some,b9=Su,$9=b9("some");m9({target:"Array",proto:!0,forced:!$9},{some:function(e){return y9(this,e,arguments.length>1?arguments[1]:void 0)}});var w9=Rt,_9=w9("Array","some"),S9=pt,E9=_9,_f=Array.prototype,T9=function(t){var e=t.some;return t===_f||S9(_f,t)&&e===_f.some?E9:e},I9=T9,O9=I9,x9=O9,P9=ae(x9),k9=Rt,C9=k9("Array","keys"),A9=C9,D9=A9,M9=Fi,R9=vt,N9=pt,F9=D9,Sf=Array.prototype,B9={DOMTokenList:!0,NodeList:!0},L9=function(t){var e=t.keys;return t===Sf||N9(Sf,t)&&e===Sf.keys||R9(B9,M9(t))?F9:e},j9=L9,Do=ae(j9),_w=BE,z9=Math.floor,bv=function(t,e){var r=t.length,i=z9(r/2);return r<8?H9(t,e):W9(t,bv(_w(t,0,i),e),bv(_w(t,i),e),e)},H9=function(t,e){for(var r=t.length,i=1,n,o;i<r;){for(o=i,n=t[i];o&&e(t[o-1],n)>0;)t[o]=t[--o];o!==i++&&(t[o]=n)}return t},W9=function(t,e,r,i){for(var n=e.length,o=r.length,s=0,a=0;s<n||a<o;)t[s+a]=s<n&&a<o?i(e[s],r[a])<=0?e[s++]:r[a++]:s<n?e[s++]:r[a++];return t},V9=bv,U9=Sn,Sw=U9.match(/firefox\/(\d+)/i),Y9=!!Sw&&+Sw[1],q9=Sn,K9=/MSIE|Trident/.test(q9),G9=Sn,Ew=G9.match(/AppleWebKit\/(\d+)\./),X9=!!Ew&&+Ew[1],J9=ne,NO=Ue,Z9=ir,Q9=nr,Tw=gr,e7=eI,Iw=vo,sm=xe,t7=V9,r7=Su,Ow=Y9,i7=K9,xw=Es,Pw=X9,Zi=[],kw=NO(Zi.sort),n7=NO(Zi.push),o7=sm(function(){Zi.sort(void 0)}),s7=sm(function(){Zi.sort(null)}),a7=r7("sort"),FO=!sm(function(){if(xw)return xw<70;if(!(Ow&&Ow>3)){if(i7)return!0;if(Pw)return Pw<603;var t="",e,r,i,n;for(e=65;e<76;e++){switch(r=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:i=3;break;case 68:case 71:i=4;break;default:i=2}for(n=0;n<47;n++)Zi.push({k:r+n,v:i})}for(Zi.sort(function(o,s){return s.v-o.v}),n=0;n<Zi.length;n++)r=Zi[n].k.charAt(0),t.charAt(t.length-1)!==r&&(t+=r);return t!=="DGBEFHACIJK"}}),l7=o7||!s7||!a7||!FO,c7=function(t){return function(e,r){return r===void 0?-1:e===void 0?1:t!==void 0?+t(e,r)||0:Iw(e)>Iw(r)?1:-1}};J9({target:"Array",proto:!0,forced:l7},{sort:function(e){e!==void 0&&Z9(e);var r=Q9(this);if(FO)return e===void 0?kw(r):kw(r,e);var i=[],n=Tw(r),o,s;for(s=0;s<n;s++)s in r&&n7(i,r[s]);for(t7(i,c7(e)),o=Tw(i),s=0;s<o;)r[s]=i[s++];for(;s<n;)e7(r,s++);return r}});var d7=Rt,u7=d7("Array","sort"),h7=pt,f7=u7,Ef=Array.prototype,p7=function(t){var e=t.sort;return t===Ef||h7(Ef,t)&&e===Ef.sort?f7:e},v7=p7,g7=v7,m7=g7,$v=ae(m7),y7=Rt,b7=y7("Array","values"),$7=b7,w7=$7,_7=Fi,S7=vt,E7=pt,T7=w7,Tf=Array.prototype,I7={DOMTokenList:!0,NodeList:!0},O7=function(t){var e=t.values;return t===Tf||E7(Tf,t)&&e===Tf.values||S7(I7,_7(t))?T7:e},x7=O7,Cw=ae(x7),P7=IT,Ko=ae(P7),k7=Rt,C7=k7("Array","entries"),A7=C7,D7=A7,M7=Fi,R7=vt,N7=pt,F7=D7,If=Array.prototype,B7={DOMTokenList:!0,NodeList:!0},L7=function(t){var e=t.entries;return t===If||N7(If,t)&&e===If.entries||R7(B7,M7(t))?F7:e},j7=L7,z7=ae(j7);let wc;const H7=new Uint8Array(16);function W7(){if(!wc&&(wc=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!wc))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return wc(H7)}const Tt=[];for(let t=0;t<256;++t)Tt.push((t+256).toString(16).slice(1));function V7(t,e=0){return Tt[t[e+0]]+Tt[t[e+1]]+Tt[t[e+2]]+Tt[t[e+3]]+"-"+Tt[t[e+4]]+Tt[t[e+5]]+"-"+Tt[t[e+6]]+Tt[t[e+7]]+"-"+Tt[t[e+8]]+Tt[t[e+9]]+"-"+Tt[t[e+10]]+Tt[t[e+11]]+Tt[t[e+12]]+Tt[t[e+13]]+Tt[t[e+14]]+Tt[t[e+15]]}const U7=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var Aw={randomUUID:U7};function Y7(t,e,r){if(Aw.randomUUID&&!t)return Aw.randomUUID();t=t||{};const i=t.random||(t.rng||W7)();return i[6]=i[6]&15|64,i[8]=i[8]&63|128,V7(i)}function Dw(t){return typeof t=="string"||typeof t=="number"}var q7=function(){function t(e){ru(this,t),on(this,"_queue",[]),on(this,"_timeout",null),on(this,"_extended",null),this.delay=null,this.max=1/0,this.setOptions(e)}return _u(t,[{key:"setOptions",value:function(r){r&&typeof r.delay<"u"&&(this.delay=r.delay),r&&typeof r.max<"u"&&(this.max=r.max),this._flushIfNeeded()}},{key:"destroy",value:function(){if(this.flush(),this._extended){for(var r=this._extended.object,i=this._extended.methods,n=0;n<i.length;n++){var o=i[n];o.original?r[o.name]=o.original:delete r[o.name]}this._extended=null}}},{key:"replace",value:function(r,i){var n=this,o=r[i];if(!o)throw new Error("Method "+i+" undefined");r[i]=function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];n.queue({args:a,fn:o,context:this})}}},{key:"queue",value:function(r){typeof r=="function"?this._queue.push({fn:r}):this._queue.push(r),this._flushIfNeeded()}},{key:"_flushIfNeeded",value:function(){var r=this;this._queue.length>this.max&&this.flush(),this._timeout!=null&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&typeof this.delay=="number"&&(this._timeout=$6(function(){r.flush()},this.delay))}},{key:"flush",value:function(){var r,i;ro(r=tI(i=this._queue).call(i,0)).call(r,function(n){n.fn.apply(n.context||n.fn,n.args||[])})}}],[{key:"extend",value:function(r,i){var n=new t(i);if(r.flush!==void 0)throw new Error("Target object already has a property flush");r.flush=function(){n.flush()};var o=[{name:"flush",original:void 0}];if(i&&i.replace)for(var s=0;s<i.replace.length;s++){var a=i.replace[s];o.push({name:a,original:r[a]}),n.replace(r,a)}return n._extended={object:r,methods:o},n}}]),t}(),K7=function(){function t(){ru(this,t),on(this,"_subscribers",{"*":[],add:[],remove:[],update:[]}),on(this,"subscribe",t.prototype.on),on(this,"unsubscribe",t.prototype.off)}return _u(t,[{key:"_trigger",value:function(r,i,n){var o,s;if(r==="*")throw new Error("Cannot trigger event *");ro(o=Iu(s=[]).call(s,Zt(this._subscribers[r]),Zt(this._subscribers["*"]))).call(o,function(a){a(r,i,n??null)})}},{key:"on",value:function(r,i){typeof i=="function"&&this._subscribers[r].push(i)}},{key:"off",value:function(r,i){var n;this._subscribers[r]=Wo(n=this._subscribers[r]).call(n,function(o){return o!==i})}}]),t}(),G7=AO,X7=MO;G7("Set",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},X7);var J7=Ke,Z7=J7.Set,Q7=Z7,eX=Q7,tX=eX,Of=ae(tX),rX=Lg,iX=rX,nX=iX,oX=nX,sX=oX,aX=sX,lX=aX,cX=lX,dX=cX,uX=dX,xf=ae(uX);function Jr(t,e){var r=typeof Tu<"u"&&zg(t)||t["@@iterator"];if(!r){if(dr(t)||(r=hX(t))||e){r&&(t=r);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(c){throw c},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,s=!1,a;return{s:function(){r=r.call(t)},n:function(){var c=r.next();return o=c.done,c},e:function(c){s=!0,a=c},f:function(){try{!o&&r.return!=null&&r.return()}finally{if(s)throw a}}}}function hX(t,e){var r;if(t){if(typeof t=="string")return Mw(t,e);var i=Ou(r=Object.prototype.toString.call(t)).call(r,8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return jg(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Mw(t,e)}}function Mw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=t[r];return i}var Rw=function(t){function e(r){ru(this,e),this._pairs=r}return _u(e,[{key:t,value:Gt.mark(function r(){var i,n,o,s,a;return Gt.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:i=Jr(this._pairs),c.prev=1,i.s();case 3:if((n=i.n()).done){c.next=9;break}return o=Kt(n.value,2),s=o[0],a=o[1],c.next=7,[s,a];case 7:c.next=3;break;case 9:c.next=14;break;case 11:c.prev=11,c.t0=c.catch(1),i.e(c.t0);case 14:return c.prev=14,i.f(),c.finish(14);case 17:case"end":return c.stop()}},r,this,[[1,11,14,17]])})},{key:"entries",value:Gt.mark(function r(){var i,n,o,s,a;return Gt.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:i=Jr(this._pairs),c.prev=1,i.s();case 3:if((n=i.n()).done){c.next=9;break}return o=Kt(n.value,2),s=o[0],a=o[1],c.next=7,[s,a];case 7:c.next=3;break;case 9:c.next=14;break;case 11:c.prev=11,c.t0=c.catch(1),i.e(c.t0);case 14:return c.prev=14,i.f(),c.finish(14);case 17:case"end":return c.stop()}},r,this,[[1,11,14,17]])})},{key:"keys",value:Gt.mark(function r(){var i,n,o,s;return Gt.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:i=Jr(this._pairs),l.prev=1,i.s();case 3:if((n=i.n()).done){l.next=9;break}return o=Kt(n.value,1),s=o[0],l.next=7,s;case 7:l.next=3;break;case 9:l.next=14;break;case 11:l.prev=11,l.t0=l.catch(1),i.e(l.t0);case 14:return l.prev=14,i.f(),l.finish(14);case 17:case"end":return l.stop()}},r,this,[[1,11,14,17]])})},{key:"values",value:Gt.mark(function r(){var i,n,o,s;return Gt.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:i=Jr(this._pairs),l.prev=1,i.s();case 3:if((n=i.n()).done){l.next=9;break}return o=Kt(n.value,2),s=o[1],l.next=7,s;case 7:l.next=3;break;case 9:l.next=14;break;case 11:l.prev=11,l.t0=l.catch(1),i.e(l.t0);case 14:return l.prev=14,i.f(),l.finish(14);case 17:case"end":return l.stop()}},r,this,[[1,11,14,17]])})},{key:"toIdArray",value:function(){var i;return Ar(i=Zt(this._pairs)).call(i,function(n){return n[0]})}},{key:"toItemArray",value:function(){var i;return Ar(i=Zt(this._pairs)).call(i,function(n){return n[1]})}},{key:"toEntryArray",value:function(){return Zt(this._pairs)}},{key:"toObjectMap",value:function(){var i=XV(null),n=Jr(this._pairs),o;try{for(n.s();!(o=n.n()).done;){var s=Kt(o.value,2),a=s[0],l=s[1];i[a]=l}}catch(c){n.e(c)}finally{n.f()}return i}},{key:"toMap",value:function(){return new RO(this._pairs)}},{key:"toIdSet",value:function(){return new Of(this.toIdArray())}},{key:"toItemSet",value:function(){return new Of(this.toItemArray())}},{key:"cache",value:function(){return new e(Zt(this._pairs))}},{key:"distinct",value:function(i){var n=new Of,o=Jr(this._pairs),s;try{for(o.s();!(s=o.n()).done;){var a=Kt(s.value,2),l=a[0],c=a[1];n.add(i(c,l))}}catch(d){o.e(d)}finally{o.f()}return n}},{key:"filter",value:function(i){var n=this._pairs;return new e({[Ko](){return Gt.mark(function o(){var s,a,l,c,d;return Gt.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:s=Jr(n),h.prev=1,s.s();case 3:if((a=s.n()).done){h.next=10;break}if(l=Kt(a.value,2),c=l[0],d=l[1],!i(d,c)){h.next=8;break}return h.next=8,[c,d];case 8:h.next=3;break;case 10:h.next=15;break;case 12:h.prev=12,h.t0=h.catch(1),s.e(h.t0);case 15:return h.prev=15,s.f(),h.finish(15);case 18:case"end":return h.stop()}},o,null,[[1,12,15,18]])})()}})}},{key:"forEach",value:function(i){var n=Jr(this._pairs),o;try{for(n.s();!(o=n.n()).done;){var s=Kt(o.value,2),a=s[0],l=s[1];i(l,a)}}catch(c){n.e(c)}finally{n.f()}}},{key:"map",value:function(i){var n=this._pairs;return new e({[Ko](){return Gt.mark(function o(){var s,a,l,c,d;return Gt.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:s=Jr(n),h.prev=1,s.s();case 3:if((a=s.n()).done){h.next=9;break}return l=Kt(a.value,2),c=l[0],d=l[1],h.next=7,[c,i(d,c)];case 7:h.next=3;break;case 9:h.next=14;break;case 11:h.prev=11,h.t0=h.catch(1),s.e(h.t0);case 14:return h.prev=14,s.f(),h.finish(14);case 17:case"end":return h.stop()}},o,null,[[1,11,14,17]])})()}})}},{key:"max",value:function(i){var n=xf(this._pairs),o=n.next();if(o.done)return null;for(var s=o.value[1],a=i(o.value[1],o.value[0]);!(o=n.next()).done;){var l=Kt(o.value,2),c=l[0],d=l[1],u=i(d,c);u>a&&(a=u,s=d)}return s}},{key:"min",value:function(i){var n=xf(this._pairs),o=n.next();if(o.done)return null;for(var s=o.value[1],a=i(o.value[1],o.value[0]);!(o=n.next()).done;){var l=Kt(o.value,2),c=l[0],d=l[1],u=i(d,c);u<a&&(a=u,s=d)}return s}},{key:"reduce",value:function(i,n){var o=Jr(this._pairs),s;try{for(o.s();!(s=o.n()).done;){var a=Kt(s.value,2),l=a[0],c=a[1];n=i(n,c,l)}}catch(d){o.e(d)}finally{o.f()}return n}},{key:"sort",value:function(i){var n=this;return new e({[Ko]:function(){var o;return xf($v(o=Zt(n._pairs)).call(o,function(s,a){var l=Kt(s,2),c=l[0],d=l[1],u=Kt(a,2),h=u[0],f=u[1];return i(d,f,c,h)}))}})}}]),e}(Ko);function Nw(t,e){var r=Wg(t);if(F$){var i=F$(t);e&&(i=Wo(i).call(i,function(n){return YI(t,n).enumerable})),r.push.apply(r,i)}return r}function Fw(t){for(var e=1;e<arguments.length;e++){var r,i,n=arguments[e]!=null?arguments[e]:{};e%2?ro(r=Nw(Object(n),!0)).call(r,function(o){on(t,o,n[o])}):B$?dY(t,B$(n)):ro(i=Nw(Object(n))).call(i,function(o){hY(t,o,YI(n,o))})}return t}function Pf(t,e){var r=typeof Tu<"u"&&zg(t)||t["@@iterator"];if(!r){if(dr(t)||(r=fX(t))||e){r&&(t=r);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(c){throw c},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,s=!1,a;return{s:function(){r=r.call(t)},n:function(){var c=r.next();return o=c.done,c},e:function(c){s=!0,a=c},f:function(){try{!o&&r.return!=null&&r.return()}finally{if(s)throw a}}}}function fX(t,e){var r;if(t){if(typeof t=="string")return Bw(t,e);var i=Ou(r=Object.prototype.toString.call(t)).call(r,8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return jg(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Bw(t,e)}}function Bw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=t[r];return i}function pX(t){var e=vX();return function(){var i=Id(t),n;if(e){var o=Id(this).constructor;n=Kc(i,arguments,o)}else n=i.apply(this,arguments);return MY(this,n)}}function vX(){if(typeof Reflect>"u"||!Kc||Kc.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Kc(Boolean,[],function(){})),!0}catch{return!1}}function gX(t,e){return t[e]==null&&(t[e]=Y7()),t}var kd=function(t){DY(r,t);var e=pX(r);function r(i,n){var o;return ru(this,r),o=e.call(this),on(GI(o),"_queue",null),i&&!dr(i)&&(n=i,i=[]),o._options=n||{},o._data=new RO,o.length=0,o._idProp=o._options.fieldId||"id",i&&i.length&&o.add(i),o.setOptions(n),o}return _u(r,[{key:"idProp",get:function(){return this._idProp}},{key:"setOptions",value:function(n){n&&n.queue!==void 0&&(n.queue===!1?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=q7.extend(this,{replace:["add","update","remove"]})),n.queue&&typeof n.queue=="object"&&this._queue.setOptions(n.queue)))}},{key:"add",value:function(n,o){var s=this,a=[],l;if(dr(n)){var c=Ar(n).call(n,function(h){return h[s._idProp]});if(P9(c).call(c,function(h){return s._data.has(h)}))throw new Error("A duplicate id was found in the parameter array.");for(var d=0,u=n.length;d<u;d++)l=this._addItem(n[d]),a.push(l)}else if(n&&typeof n=="object")l=this._addItem(n),a.push(l);else throw new Error("Unknown dataType");return a.length&&this._trigger("add",{items:a},o),a}},{key:"update",value:function(n,o){var s=this,a=[],l=[],c=[],d=[],u=this._idProp,h=function(y){var b=y[u];if(b!=null&&s._data.has(b)){var S=y,_=AV({},s._data.get(b)),T=s._updateItem(S);l.push(T),d.push(S),c.push(_)}else{var W=s._addItem(y);a.push(W)}};if(dr(n))for(var f=0,p=n.length;f<p;f++)n[f]&&typeof n[f]=="object"?h(n[f]):console.warn("Ignoring input item, which is not an object at index "+f);else if(n&&typeof n=="object")h(n);else throw new Error("Unknown dataType");if(a.length&&this._trigger("add",{items:a},o),l.length){var g={items:l,oldData:c,data:d};this._trigger("update",g,o)}return Iu(a).call(a,l)}},{key:"updateOnly",value:function(n,o){var s,a=this;dr(n)||(n=[n]);var l=Ar(s=Ar(n).call(n,function(d){var u=a._data.get(d[a._idProp]);if(u==null)throw new Error("Updating non-existent items is not allowed.");return{oldData:u,update:d}})).call(s,function(d){var u=d.oldData,h=d.update,f=u[a._idProp],p=uU(u,h);return a._data.set(f,p),{id:f,oldData:u,updatedData:p}});if(l.length){var c={items:Ar(l).call(l,function(d){return d.id}),oldData:Ar(l).call(l,function(d){return d.oldData}),data:Ar(l).call(l,function(d){return d.updatedData})};return this._trigger("update",c,o),c.items}else return[]}},{key:"get",value:function(n,o){var s=void 0,a=void 0,l=void 0;Dw(n)?(s=n,l=o):dr(n)?(a=n,l=o):l=n;var c=l&&l.returnType==="Object"?"Object":"Array",d=l&&Wo(l),u=[],h=void 0,f=void 0,p=void 0;if(s!=null)h=this._data.get(s),h&&d&&!d(h)&&(h=void 0);else if(a!=null)for(var g=0,$=a.length;g<$;g++)h=this._data.get(a[g]),h!=null&&(!d||d(h))&&u.push(h);else{var y;f=Zt(Do(y=this._data).call(y));for(var b=0,S=f.length;b<S;b++)p=f[b],h=this._data.get(p),h!=null&&(!d||d(h))&&u.push(h)}if(l&&l.order&&s==null&&this._sort(u,l.order),l&&l.fields){var _=l.fields;if(s!=null&&h!=null)h=this._filterFields(h,_);else for(var T=0,W=u.length;T<W;T++)u[T]=this._filterFields(u[T],_)}if(c=="Object"){for(var q={},z=0,C=u.length;z<C;z++){var X=u[z],ue=X[this._idProp];q[ue]=X}return q}else if(s!=null){var j;return(j=h)!==null&&j!==void 0?j:null}else return u}},{key:"getIds",value:function(n){var o=this._data,s=n&&Wo(n),a=n&&n.order,l=Zt(Do(o).call(o)),c=[];if(s)if(a){for(var d=[],u=0,h=l.length;u<h;u++){var f=l[u],p=this._data.get(f);p!=null&&s(p)&&d.push(p)}this._sort(d,a);for(var g=0,$=d.length;g<$;g++)c.push(d[g][this._idProp])}else for(var y=0,b=l.length;y<b;y++){var S=l[y],_=this._data.get(S);_!=null&&s(_)&&c.push(_[this._idProp])}else if(a){for(var T=[],W=0,q=l.length;W<q;W++){var z=l[W];T.push(o.get(z))}this._sort(T,a);for(var C=0,X=T.length;C<X;C++)c.push(T[C][this._idProp])}else for(var ue=0,j=l.length;ue<j;ue++){var he=l[ue],Se=o.get(he);Se!=null&&c.push(Se[this._idProp])}return c}},{key:"getDataSet",value:function(){return this}},{key:"forEach",value:function(n,o){var s=o&&Wo(o),a=this._data,l=Zt(Do(a).call(a));if(o&&o.order)for(var c=this.get(o),d=0,u=c.length;d<u;d++){var h=c[d],f=h[this._idProp];n(h,f)}else for(var p=0,g=l.length;p<g;p++){var $=l[p],y=this._data.get($);y!=null&&(!s||s(y))&&n(y,$)}}},{key:"map",value:function(n,o){for(var s=o&&Wo(o),a=[],l=this._data,c=Zt(Do(l).call(l)),d=0,u=c.length;d<u;d++){var h=c[d],f=this._data.get(h);f!=null&&(!s||s(f))&&a.push(n(f,h))}return o&&o.order&&this._sort(a,o.order),a}},{key:"_filterFields",value:function(n,o){var s;return n&&K3(s=dr(o)?o:Wg(o)).call(s,function(a,l){return a[l]=n[l],a},{})}},{key:"_sort",value:function(n,o){if(typeof o=="string"){var s=o;$v(n).call(n,function(a,l){var c=a[s],d=l[s];return c>d?1:c<d?-1:0})}else if(typeof o=="function")$v(n).call(n,o);else throw new TypeError("Order must be a function or a string")}},{key:"remove",value:function(n,o){for(var s=[],a=[],l=dr(n)?n:[n],c=0,d=l.length;c<d;c++){var u=this._remove(l[c]);if(u){var h=u[this._idProp];h!=null&&(s.push(h),a.push(u))}}return s.length&&this._trigger("remove",{items:s,oldData:a},o),s}},{key:"_remove",value:function(n){var o;if(Dw(n)?o=n:n&&typeof n=="object"&&(o=n[this._idProp]),o!=null&&this._data.has(o)){var s=this._data.get(o)||null;return this._data.delete(o),--this.length,s}return null}},{key:"clear",value:function(n){for(var o,s=Zt(Do(o=this._data).call(o)),a=[],l=0,c=s.length;l<c;l++)a.push(this._data.get(s[l]));return this._data.clear(),this.length=0,this._trigger("remove",{items:s,oldData:a},n),s}},{key:"max",value:function(n){var o,s=null,a=null,l=Pf(Cw(o=this._data).call(o)),c;try{for(l.s();!(c=l.n()).done;){var d=c.value,u=d[n];typeof u=="number"&&(a==null||u>a)&&(s=d,a=u)}}catch(h){l.e(h)}finally{l.f()}return s||null}},{key:"min",value:function(n){var o,s=null,a=null,l=Pf(Cw(o=this._data).call(o)),c;try{for(l.s();!(c=l.n()).done;){var d=c.value,u=d[n];typeof u=="number"&&(a==null||u<a)&&(s=d,a=u)}}catch(h){l.e(h)}finally{l.f()}return s||null}},{key:"distinct",value:function(n){for(var o=this._data,s=Zt(Do(o).call(o)),a=[],l=0,c=0,d=s.length;c<d;c++){for(var u=s[c],h=o.get(u),f=h[n],p=!1,g=0;g<l;g++)if(a[g]==f){p=!0;break}!p&&f!==void 0&&(a[l]=f,l++)}return a}},{key:"_addItem",value:function(n){var o=gX(n,this._idProp),s=o[this._idProp];if(this._data.has(s))throw new Error("Cannot add item: item with id "+s+" already exists");return this._data.set(s,o),++this.length,s}},{key:"_updateItem",value:function(n){var o=n[this._idProp];if(o==null)throw new Error("Cannot update item: item has no id (item: "+r6(n)+")");var s=this._data.get(o);if(!s)throw new Error("Cannot update item: no item with id "+o+" found");return this._data.set(o,Fw(Fw({},s),n)),o}},{key:"stream",value:function(n){if(n){var o=this._data;return new Rw({[Ko](){return Gt.mark(function a(){var l,c,d,u;return Gt.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:l=Pf(n),f.prev=1,l.s();case 3:if((c=l.n()).done){f.next=11;break}if(d=c.value,u=o.get(d),u==null){f.next=9;break}return f.next=9,[d,u];case 9:f.next=3;break;case 11:f.next=16;break;case 13:f.prev=13,f.t0=f.catch(1),l.e(f.t0);case 16:return f.prev=16,l.f(),f.finish(16);case 19:case"end":return f.stop()}},a,null,[[1,13,16,19]])})()}})}else{var s;return new Rw({[Ko]:DT(s=z7(this._data)).call(s,this._data)})}}}]),r}(K7);function mX(t,e){return typeof e=="object"&&e!==null&&t===e.idProp&&typeof e.add=="function"&&typeof e.clear=="function"&&typeof e.distinct=="function"&&typeof ro(e)=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof Ar(e)=="function"&&typeof e.max=="function"&&typeof e.min=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.remove=="function"&&typeof e.setOptions=="function"&&typeof e.stream=="function"&&typeof e.update=="function"&&typeof e.updateOnly=="function"}function BO(t,e){return typeof e=="object"&&e!==null&&t===e.idProp&&typeof ro(e)=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof Ar(e)=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.stream=="function"&&mX(t,e.getDataSet())}/**
 * vis-network
 * https://visjs.github.io/vis-network/
 *
 * A dynamic, browser-based visualization library.
 *
 * @version 9.1.13
 * @date    2025-06-28T12:43:17.849Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */var kf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var _c=function(t){return t&&t.Math===Math&&t},it=_c(typeof globalThis=="object"&&globalThis)||_c(typeof window=="object"&&window)||_c(typeof self=="object"&&self)||_c(typeof kf=="object"&&kf)||function(){return this}()||kf||Function("return this")(),Te=function(t){try{return!!t()}catch{return!0}},yX=Te,wl=!yX(function(){var t=(function(){}).bind();return typeof t!="function"||t.hasOwnProperty("prototype")}),bX=wl,LO=Function.prototype,Lw=LO.apply,jw=LO.call,Au=typeof Reflect=="object"&&Reflect.apply||(bX?jw.bind(Lw):function(){return jw.apply(Lw,arguments)}),jO=wl,zO=Function.prototype,wv=zO.call,$X=jO&&zO.bind.bind(wv,wv),Ie=jO?$X:function(t){return function(){return wv.apply(t,arguments)}},HO=Ie,wX=HO({}.toString),_X=HO("".slice),Bi=function(t){return _X(wX(t),8,-1)},SX=Bi,EX=Ie,am=function(t){if(SX(t)==="Function")return EX(t)},_v=typeof document=="object"&&document.all,TX=typeof _v>"u"&&_v!==void 0,WO={all:_v,IS_HTMLDDA:TX},VO=WO,IX=VO.all,kt=VO.IS_HTMLDDA?function(t){return typeof t=="function"||t===IX}:function(t){return typeof t=="function"},_l={},OX=Te,mt=!OX(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),xX=wl,Sc=Function.prototype.call,Wr=xX?Sc.bind(Sc):function(){return Sc.apply(Sc,arguments)},Sl={},UO={}.propertyIsEnumerable,YO=Object.getOwnPropertyDescriptor,PX=YO&&!UO.call({1:2},1);Sl.f=PX?function(e){var r=YO(this,e);return!!r&&r.enumerable}:UO;var El=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}},kX=Ie,CX=Te,AX=Bi,Cf=Object,DX=kX("".split),Du=CX(function(){return!Cf("z").propertyIsEnumerable(0)})?function(t){return AX(t)==="String"?DX(t,""):Cf(t)}:Cf,Ns=function(t){return t==null},MX=Ns,RX=TypeError,Tl=function(t){if(MX(t))throw new RX("Can't call method on "+t);return t},NX=Du,FX=Tl,Vr=function(t){return NX(FX(t))},zw=kt,qO=WO,BX=qO.all,Nt=qO.IS_HTMLDDA?function(t){return typeof t=="object"?t!==null:zw(t)||t===BX}:function(t){return typeof t=="object"?t!==null:zw(t)},Ce={},Af=Ce,Df=it,LX=kt,Hw=function(t){return LX(t)?t:void 0},Ur=function(t,e){return arguments.length<2?Hw(Af[t])||Hw(Df[t]):Af[t]&&Af[t][e]||Df[t]&&Df[t][e]},jX=Ie,gt=jX({}.isPrototypeOf),Il=typeof navigator<"u"&&String(navigator.userAgent)||"",KO=it,Mf=Il,Ww=KO.process,Vw=KO.Deno,Uw=Ww&&Ww.versions||Vw&&Vw.version,Yw=Uw&&Uw.v8,Dr,Cd;Yw&&(Dr=Yw.split("."),Cd=Dr[0]>0&&Dr[0]<4?1:+(Dr[0]+Dr[1]));!Cd&&Mf&&(Dr=Mf.match(/Edge\/(\d+)/),(!Dr||Dr[1]>=74)&&(Dr=Mf.match(/Chrome\/(\d+)/),Dr&&(Cd=+Dr[1])));var Ol=Cd,qw=Ol,zX=Te,HX=it,WX=HX.String,Fs=!!Object.getOwnPropertySymbols&&!zX(function(){var t=Symbol("symbol detection");return!WX(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&qw&&qw<41}),VX=Fs,GO=VX&&!Symbol.sham&&typeof Symbol.iterator=="symbol",UX=Ur,YX=kt,qX=gt,KX=GO,GX=Object,xl=KX?function(t){return typeof t=="symbol"}:function(t){var e=UX("Symbol");return YX(e)&&qX(e.prototype,GX(t))},XX=String,Pl=function(t){try{return XX(t)}catch{return"Object"}},JX=kt,ZX=Pl,QX=TypeError,Bs=function(t){if(JX(t))return t;throw new QX(ZX(t)+" is not a function")},eJ=Bs,tJ=Ns,lm=function(t,e){var r=t[e];return tJ(r)?void 0:eJ(r)},Rf=Wr,Nf=kt,Ff=Nt,rJ=TypeError,iJ=function(t,e){var r,i;if(e==="string"&&Nf(r=t.toString)&&!Ff(i=Rf(r,t))||Nf(r=t.valueOf)&&!Ff(i=Rf(r,t))||e!=="string"&&Nf(r=t.toString)&&!Ff(i=Rf(r,t)))return i;throw new rJ("Can't convert object to primitive value")},XO={exports:{}},Kw=it,nJ=Object.defineProperty,oJ=function(t,e){try{nJ(Kw,t,{value:e,configurable:!0,writable:!0})}catch{Kw[t]=e}return e},sJ=it,aJ=oJ,Gw="__core-js_shared__",lJ=sJ[Gw]||aJ(Gw,{}),cm=lJ,Xw=cm;(XO.exports=function(t,e){return Xw[t]||(Xw[t]=e!==void 0?e:{})})("versions",[]).push({version:"3.33.0",mode:"pure",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"});var Ls=XO.exports,cJ=Tl,dJ=Object,xr=function(t){return dJ(cJ(t))},uJ=Ie,hJ=xr,fJ=uJ({}.hasOwnProperty),Ct=Object.hasOwn||function(e,r){return fJ(hJ(e),r)},pJ=Ie,vJ=0,gJ=Math.random(),mJ=pJ(1 .toString),Mu=function(t){return"Symbol("+(t===void 0?"":t)+")_"+mJ(++vJ+gJ,36)},yJ=it,bJ=Ls,Jw=Ct,$J=Mu,wJ=Fs,_J=GO,Go=yJ.Symbol,Bf=bJ("wks"),SJ=_J?Go.for||Go:Go&&Go.withoutSetter||$J,dt=function(t){return Jw(Bf,t)||(Bf[t]=wJ&&Jw(Go,t)?Go[t]:SJ("Symbol."+t)),Bf[t]},EJ=Wr,Zw=Nt,Qw=xl,TJ=lm,IJ=iJ,OJ=dt,xJ=TypeError,PJ=OJ("toPrimitive"),kJ=function(t,e){if(!Zw(t)||Qw(t))return t;var r=TJ(t,PJ),i;if(r){if(e===void 0&&(e="default"),i=EJ(r,t,e),!Zw(i)||Qw(i))return i;throw new xJ("Can't convert object to primitive value")}return e===void 0&&(e="number"),IJ(t,e)},CJ=kJ,AJ=xl,Ru=function(t){var e=CJ(t,"string");return AJ(e)?e:e+""},DJ=it,e1=Nt,Sv=DJ.document,MJ=e1(Sv)&&e1(Sv.createElement),JO=function(t){return MJ?Sv.createElement(t):{}},RJ=mt,NJ=Te,FJ=JO,ZO=!RJ&&!NJ(function(){return Object.defineProperty(FJ("div"),"a",{get:function(){return 7}}).a!==7}),BJ=mt,LJ=Wr,jJ=Sl,zJ=El,HJ=Vr,WJ=Ru,VJ=Ct,UJ=ZO,t1=Object.getOwnPropertyDescriptor;_l.f=BJ?t1:function(e,r){if(e=HJ(e),r=WJ(r),UJ)try{return t1(e,r)}catch{}if(VJ(e,r))return zJ(!LJ(jJ.f,e,r),e[r])};var YJ=Te,qJ=kt,KJ=/#|\.prototype\./,kl=function(t,e){var r=XJ[GJ(t)];return r===ZJ?!0:r===JJ?!1:qJ(e)?YJ(e):!!e},GJ=kl.normalize=function(t){return String(t).replace(KJ,".").toLowerCase()},XJ=kl.data={},JJ=kl.NATIVE="N",ZJ=kl.POLYFILL="P",QJ=kl,r1=am,eZ=Bs,tZ=wl,rZ=r1(r1.bind),Nu=function(t,e){return eZ(t),e===void 0?t:tZ?rZ(t,e):function(){return t.apply(e,arguments)}},mr={},iZ=mt,nZ=Te,QO=iZ&&nZ(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),oZ=Nt,sZ=String,aZ=TypeError,Li=function(t){if(oZ(t))return t;throw new aZ(sZ(t)+" is not an object")},lZ=mt,cZ=ZO,dZ=QO,Ec=Li,i1=Ru,uZ=TypeError,Lf=Object.defineProperty,hZ=Object.getOwnPropertyDescriptor,jf="enumerable",zf="configurable",Hf="writable";mr.f=lZ?dZ?function(e,r,i){if(Ec(e),r=i1(r),Ec(i),typeof e=="function"&&r==="prototype"&&"value"in i&&Hf in i&&!i[Hf]){var n=hZ(e,r);n&&n[Hf]&&(e[r]=i.value,i={configurable:zf in i?i[zf]:n[zf],enumerable:jf in i?i[jf]:n[jf],writable:!1})}return Lf(e,r,i)}:Lf:function(e,r,i){if(Ec(e),r=i1(r),Ec(i),cZ)try{return Lf(e,r,i)}catch{}if("get"in i||"set"in i)throw new uZ("Accessors not supported");return"value"in i&&(e[r]=i.value),e};var fZ=mt,pZ=mr,vZ=El,js=fZ?function(t,e,r){return pZ.f(t,e,vZ(1,r))}:function(t,e,r){return t[e]=r,t},Tc=it,gZ=Au,mZ=am,yZ=kt,bZ=_l.f,$Z=QJ,Mo=Ce,wZ=Nu,Ro=js,n1=Ct,_Z=function(t){var e=function(r,i,n){if(this instanceof e){switch(arguments.length){case 0:return new t;case 1:return new t(r);case 2:return new t(r,i)}return new t(r,i,n)}return gZ(t,this,arguments)};return e.prototype=t.prototype,e},de=function(t,e){var r=t.target,i=t.global,n=t.stat,o=t.proto,s=i?Tc:n?Tc[r]:(Tc[r]||{}).prototype,a=i?Mo:Mo[r]||Ro(Mo,r,{})[r],l=a.prototype,c,d,u,h,f,p,g,$,y;for(h in e)c=$Z(i?h:r+(n?".":"#")+h,t.forced),d=!c&&s&&n1(s,h),p=a[h],d&&(t.dontCallGetSet?(y=bZ(s,h),g=y&&y.value):g=s[h]),f=d&&g?g:e[h],!(d&&typeof p==typeof f)&&(t.bind&&d?$=wZ(f,Tc):t.wrap&&d?$=_Z(f):o&&yZ(f)?$=mZ(f):$=f,(t.sham||f&&f.sham||p&&p.sham)&&Ro($,"sham",!0),Ro(a,h,$),o&&(u=r+"Prototype",n1(Mo,u)||Ro(Mo,u,{}),Ro(Mo[u],h,f),t.real&&l&&(c||!l[h])&&Ro(l,h,f)))},SZ=Math.ceil,EZ=Math.floor,TZ=Math.trunc||function(e){var r=+e;return(r>0?EZ:SZ)(r)},IZ=TZ,Fu=function(t){var e=+t;return e!==e||e===0?0:IZ(e)},OZ=Fu,xZ=Math.max,PZ=Math.min,Cl=function(t,e){var r=OZ(t);return r<0?xZ(r+e,0):PZ(r,e)},kZ=Fu,CZ=Math.min,AZ=function(t){return t>0?CZ(kZ(t),9007199254740991):0},DZ=AZ,di=function(t){return DZ(t.length)},MZ=Vr,RZ=Cl,NZ=di,o1=function(t){return function(e,r,i){var n=MZ(e),o=NZ(n),s=RZ(i,o),a;if(t&&r!==r){for(;o>s;)if(a=n[s++],a!==a)return!0}else for(;o>s;s++)if((t||s in n)&&n[s]===r)return t||s||0;return!t&&-1}},dm={includes:o1(!0),indexOf:o1(!1)},Al={},FZ=Ie,Wf=Ct,BZ=Vr,LZ=dm.indexOf,jZ=Al,s1=FZ([].push),ex=function(t,e){var r=BZ(t),i=0,n=[],o;for(o in r)!Wf(jZ,o)&&Wf(r,o)&&s1(n,o);for(;e.length>i;)Wf(r,o=e[i++])&&(~LZ(n,o)||s1(n,o));return n},um=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],zZ=ex,HZ=um,Dl=Object.keys||function(e){return zZ(e,HZ)},Ml={};Ml.f=Object.getOwnPropertySymbols;var a1=mt,WZ=Ie,VZ=Wr,UZ=Te,Vf=Dl,YZ=Ml,qZ=Sl,KZ=xr,GZ=Du,No=Object.assign,l1=Object.defineProperty,XZ=WZ([].concat),JZ=!No||UZ(function(){if(a1&&No({b:1},No(l1({},"a",{enumerable:!0,get:function(){l1(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var t={},e={},r=Symbol("assign detection"),i="abcdefghijklmnopqrst";return t[r]=7,i.split("").forEach(function(n){e[n]=n}),No({},t)[r]!==7||Vf(No({},e)).join("")!==i})?function(e,r){for(var i=KZ(e),n=arguments.length,o=1,s=YZ.f,a=qZ.f;n>o;)for(var l=GZ(arguments[o++]),c=s?XZ(Vf(l),s(l)):Vf(l),d=c.length,u=0,h;d>u;)h=c[u++],(!a1||VZ(a,l,h))&&(i[h]=l[h]);return i}:No,ZZ=de,c1=JZ;ZZ({target:"Object",stat:!0,forced:Object.assign!==c1},{assign:c1});var QZ=Ce,eQ=QZ.Object.assign,tQ=eQ,rQ=tQ,iQ=rQ,ht=fe(iQ),nQ=Ie,Bu=nQ([].slice),tx=Ie,oQ=Bs,sQ=Nt,aQ=Ct,d1=Bu,lQ=wl,rx=Function,cQ=tx([].concat),dQ=tx([].join),Uf={},uQ=function(t,e,r){if(!aQ(Uf,e)){for(var i=[],n=0;n<e;n++)i[n]="a["+n+"]";Uf[e]=rx("C,a","return new C("+dQ(i,",")+")")}return Uf[e](t,r)},hQ=lQ?rx.bind:function(e){var r=oQ(this),i=r.prototype,n=d1(arguments,1),o=function(){var a=cQ(n,d1(arguments));return this instanceof o?uQ(r,a.length,a):r.apply(e,a)};return sQ(i)&&(o.prototype=i),o},fQ=de,u1=hQ;fQ({target:"Function",proto:!0,forced:Function.bind!==u1},{bind:u1});var pQ=Ce,At=function(t){return pQ[t+"Prototype"]},vQ=At,gQ=vQ("Function").bind,mQ=gt,yQ=gQ,Yf=Function.prototype,bQ=function(t){var e=t.bind;return t===Yf||mQ(Yf,t)&&e===Yf.bind?yQ:e},$Q=bQ,wQ=$Q,_Q=wQ,M=fe(_Q);function hm(t,e,r,i){t.beginPath(),t.arc(e,r,i,0,2*Math.PI,!1),t.closePath()}function SQ(t,e,r,i){t.beginPath(),t.rect(e-i,r-i,i*2,i*2),t.closePath()}function EQ(t,e,r,i){t.beginPath(),i*=1.15,r+=.275*i;const n=i*2,o=n/2,s=Math.sqrt(3)/6*n,a=Math.sqrt(n*n-o*o);t.moveTo(e,r-(a-s)),t.lineTo(e+o,r+s),t.lineTo(e-o,r+s),t.lineTo(e,r-(a-s)),t.closePath()}function TQ(t,e,r,i){t.beginPath(),i*=1.15,r-=.275*i;const n=i*2,o=n/2,s=Math.sqrt(3)/6*n,a=Math.sqrt(n*n-o*o);t.moveTo(e,r+(a-s)),t.lineTo(e+o,r-s),t.lineTo(e-o,r-s),t.lineTo(e,r+(a-s)),t.closePath()}function IQ(t,e,r,i){t.beginPath(),i*=.82,r+=.1*i;for(let n=0;n<10;n++){const o=n%2===0?i*1.3:i*.5;t.lineTo(e+o*Math.sin(n*2*Math.PI/10),r-o*Math.cos(n*2*Math.PI/10))}t.closePath()}function OQ(t,e,r,i){t.beginPath(),t.lineTo(e,r+i),t.lineTo(e+i,r),t.lineTo(e,r-i),t.lineTo(e-i,r),t.closePath()}function ix(t,e,r,i,n,o){const s=Math.PI/180;i-2*o<0&&(o=i/2),n-2*o<0&&(o=n/2),t.beginPath(),t.moveTo(e+o,r),t.lineTo(e+i-o,r),t.arc(e+i-o,r+o,o,s*270,s*360,!1),t.lineTo(e+i,r+n-o),t.arc(e+i-o,r+n-o,o,0,s*90,!1),t.lineTo(e+o,r+n),t.arc(e+o,r+n-o,o,s*90,s*180,!1),t.lineTo(e,r+o),t.arc(e+o,r+o,o,s*180,s*270,!1),t.closePath()}function Ev(t,e,r,i,n){const o=.5522848,s=i/2*o,a=n/2*o,l=e+i,c=r+n,d=e+i/2,u=r+n/2;t.beginPath(),t.moveTo(e,u),t.bezierCurveTo(e,u-a,d-s,r,d,r),t.bezierCurveTo(d+s,r,l,u-a,l,u),t.bezierCurveTo(l,u+a,d+s,c,d,c),t.bezierCurveTo(d-s,c,e,u+a,e,u),t.closePath()}function nx(t,e,r,i,n){const o=.3333333333333333,s=i,a=n*o,l=.5522848,c=s/2*l,d=a/2*l,u=e+s,h=r+a,f=e+s/2,p=r+a/2,g=r+(n-a/2),$=r+n;t.beginPath(),t.moveTo(u,p),t.bezierCurveTo(u,p+d,f+c,h,f,h),t.bezierCurveTo(f-c,h,e,p+d,e,p),t.bezierCurveTo(e,p-d,f-c,r,f,r),t.bezierCurveTo(f+c,r,u,p-d,u,p),t.lineTo(u,g),t.bezierCurveTo(u,g+d,f+c,$,f,$),t.bezierCurveTo(f-c,$,e,g+d,e,g),t.lineTo(e,p)}function ox(t,e,r,i,n,o){t.beginPath(),t.moveTo(e,r);const s=o.length,a=i-e,l=n-r,c=l/a;let d=Math.sqrt(a*a+l*l),u=0,h=!0,f=0,p=+o[0];for(;d>=.1;)p=+o[u++%s],p>d&&(p=d),f=Math.sqrt(p*p/(1+c*c)),f=a<0?-f:f,e+=f,r+=c*f,h===!0?t.lineTo(e,r):t.moveTo(e,r),d-=p,h=!h}function xQ(t,e,r,i){t.beginPath();const n=6,o=Math.PI*2/n;t.moveTo(e+i,r);for(let s=1;s<n;s++)t.lineTo(e+i*Math.cos(o*s),r+i*Math.sin(o*s));t.closePath()}const h1={circle:hm,dashedLine:ox,database:nx,diamond:OQ,ellipse:Ev,ellipse_vis:Ev,hexagon:xQ,roundRect:ix,square:SQ,star:IQ,triangle:EQ,triangleDown:TQ};function PQ(t){return Object.prototype.hasOwnProperty.call(h1,t)?h1[t]:function(e){for(var r=arguments.length,i=new Array(r>1?r-1:0),n=1;n<r;n++)i[n-1]=arguments[n];CanvasRenderingContext2D.prototype[t].call(e,i)}}var sx={exports:{}};(function(t){t.exports=e;function e(i){if(i)return r(i)}function r(i){for(var n in e.prototype)i[n]=e.prototype[n];return i}e.prototype.on=e.prototype.addEventListener=function(i,n){return this._callbacks=this._callbacks||{},(this._callbacks["$"+i]=this._callbacks["$"+i]||[]).push(n),this},e.prototype.once=function(i,n){function o(){this.off(i,o),n.apply(this,arguments)}return o.fn=n,this.on(i,o),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(i,n){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var o=this._callbacks["$"+i];if(!o)return this;if(arguments.length==1)return delete this._callbacks["$"+i],this;for(var s,a=0;a<o.length;a++)if(s=o[a],s===n||s.fn===n){o.splice(a,1);break}return o.length===0&&delete this._callbacks["$"+i],this},e.prototype.emit=function(i){this._callbacks=this._callbacks||{};for(var n=new Array(arguments.length-1),o=this._callbacks["$"+i],s=1;s<arguments.length;s++)n[s-1]=arguments[s];if(o){o=o.slice(0);for(var s=0,a=o.length;s<a;++s)o[s].apply(this,n)}return this},e.prototype.listeners=function(i){return this._callbacks=this._callbacks||{},this._callbacks["$"+i]||[]},e.prototype.hasListeners=function(i){return!!this.listeners(i).length}})(sx);var kQ=sx.exports,ax=fe(kQ),CQ=Bi,$o=Array.isArray||function(e){return CQ(e)==="Array"},AQ=TypeError,DQ=9007199254740991,lx=function(t){if(t>DQ)throw AQ("Maximum allowed index exceeded");return t},MQ=Ru,RQ=mr,NQ=El,Rl=function(t,e,r){var i=MQ(e);i in t?RQ.f(t,i,NQ(0,r)):t[i]=r},FQ=dt,BQ=FQ("toStringTag"),cx={};cx[BQ]="z";var fm=String(cx)==="[object z]",LQ=fm,jQ=kt,Zc=Bi,zQ=dt,HQ=zQ("toStringTag"),WQ=Object,VQ=Zc(function(){return arguments}())==="Arguments",UQ=function(t,e){try{return t[e]}catch{}},wo=LQ?Zc:function(t){var e,r,i;return t===void 0?"Undefined":t===null?"Null":typeof(r=UQ(e=WQ(t),HQ))=="string"?r:VQ?Zc(e):(i=Zc(e))==="Object"&&jQ(e.callee)?"Arguments":i},YQ=Ie,qQ=kt,Tv=cm,KQ=YQ(Function.toString);qQ(Tv.inspectSource)||(Tv.inspectSource=function(t){return KQ(t)});var GQ=Tv.inspectSource,XQ=Ie,JQ=Te,dx=kt,ZQ=wo,QQ=Ur,eee=GQ,ux=function(){},tee=[],hx=QQ("Reflect","construct"),pm=/^\s*(?:class|function)\b/,ree=XQ(pm.exec),iee=!pm.test(ux),Zs=function(e){if(!dx(e))return!1;try{return hx(ux,tee,e),!0}catch{return!1}},fx=function(e){if(!dx(e))return!1;switch(ZQ(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return iee||!!ree(pm,eee(e))}catch{return!0}};fx.sham=!0;var px=!hx||JQ(function(){var t;return Zs(Zs.call)||!Zs(Object)||!Zs(function(){t=!0})||t})?fx:Zs,f1=$o,nee=px,oee=Nt,see=dt,aee=see("species"),p1=Array,lee=function(t){var e;return f1(t)&&(e=t.constructor,nee(e)&&(e===p1||f1(e.prototype))?e=void 0:oee(e)&&(e=e[aee],e===null&&(e=void 0))),e===void 0?p1:e},cee=lee,vm=function(t,e){return new(cee(t))(e===0?0:e)},dee=Te,uee=dt,hee=Ol,fee=uee("species"),Nl=function(t){return hee>=51||!dee(function(){var e=[],r=e.constructor={};return r[fee]=function(){return{foo:1}},e[t](Boolean).foo!==1})},pee=de,vee=Te,gee=$o,mee=Nt,yee=xr,bee=di,v1=lx,g1=Rl,$ee=vm,wee=Nl,_ee=dt,See=Ol,vx=_ee("isConcatSpreadable"),Eee=See>=51||!vee(function(){var t=[];return t[vx]=!1,t.concat()[0]!==t}),Tee=function(t){if(!mee(t))return!1;var e=t[vx];return e!==void 0?!!e:gee(t)},Iee=!Eee||!wee("concat");pee({target:"Array",proto:!0,forced:Iee},{concat:function(e){var r=yee(this),i=$ee(r,0),n=0,o,s,a,l,c;for(o=-1,a=arguments.length;o<a;o++)if(c=o===-1?r:arguments[o],Tee(c))for(l=bee(c),v1(n+l),s=0;s<l;s++,n++)s in c&&g1(i,n,c[s]);else v1(n+1),g1(i,n++,c);return i.length=n,i}});var Oee=wo,xee=String,ui=function(t){if(Oee(t)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return xee(t)},Lu={},Pee=mt,kee=QO,Cee=mr,Aee=Li,Dee=Vr,Mee=Dl;Lu.f=Pee&&!kee?Object.defineProperties:function(e,r){Aee(e);for(var i=Dee(r),n=Mee(r),o=n.length,s=0,a;o>s;)Cee.f(e,a=n[s++],i[a]);return e};var Ree=Ur,Nee=Ree("document","documentElement"),Fee=Ls,Bee=Mu,m1=Fee("keys"),ju=function(t){return m1[t]||(m1[t]=Bee(t))},Lee=Li,jee=Lu,y1=um,zee=Al,Hee=Nee,Wee=JO,Vee=ju,b1=">",$1="<",Iv="prototype",Ov="script",gx=Vee("IE_PROTO"),qf=function(){},mx=function(t){return $1+Ov+b1+t+$1+"/"+Ov+b1},w1=function(t){t.write(mx("")),t.close();var e=t.parentWindow.Object;return t=null,e},Uee=function(){var t=Wee("iframe"),e="java"+Ov+":",r;return t.style.display="none",Hee.appendChild(t),t.src=String(e),r=t.contentWindow.document,r.open(),r.write(mx("document.F=Object")),r.close(),r.F},Ic,Qc=function(){try{Ic=new ActiveXObject("htmlfile")}catch{}Qc=typeof document<"u"?document.domain&&Ic?w1(Ic):Uee():w1(Ic);for(var t=y1.length;t--;)delete Qc[Iv][y1[t]];return Qc()};zee[gx]=!0;var Fl=Object.create||function(e,r){var i;return e!==null?(qf[Iv]=Lee(e),i=new qf,qf[Iv]=null,i[gx]=e):i=Qc(),r===void 0?i:jee.f(i,r)},Bl={},Yee=ex,qee=um,Kee=qee.concat("length","prototype");Bl.f=Object.getOwnPropertyNames||function(e){return Yee(e,Kee)};var zu={},_1=Cl,Gee=di,Xee=Rl,Jee=Array,Zee=Math.max,yx=function(t,e,r){for(var i=Gee(t),n=_1(e,i),o=_1(r===void 0?i:r,i),s=Jee(Zee(o-n,0)),a=0;n<o;n++,a++)Xee(s,a,t[n]);return s.length=a,s},Qee=Bi,ete=Vr,bx=Bl.f,tte=yx,$x=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],rte=function(t){try{return bx(t)}catch{return tte($x)}};zu.f=function(e){return $x&&Qee(e)==="Window"?rte(e):bx(ete(e))};var ite=js,Ll=function(t,e,r,i){return i&&i.enumerable?t[e]=r:ite(t,e,r),t},nte=mr,gm=function(t,e,r){return nte.f(t,e,r)},jl={},ote=dt;jl.f=ote;var S1=Ce,ste=Ct,ate=jl,lte=mr.f,nt=function(t){var e=S1.Symbol||(S1.Symbol={});ste(e,t)||lte(e,t,{value:ate.f(t)})},cte=Wr,dte=Ur,ute=dt,hte=Ll,wx=function(){var t=dte("Symbol"),e=t&&t.prototype,r=e&&e.valueOf,i=ute("toPrimitive");e&&!e[i]&&hte(e,i,function(n){return cte(r,this)},{})},fte=fm,pte=wo,vte=fte?{}.toString:function(){return"[object "+pte(this)+"]"},gte=fm,mte=mr.f,yte=js,bte=Ct,$te=vte,wte=dt,E1=wte("toStringTag"),zs=function(t,e,r,i){if(t){var n=r?t:t.prototype;bte(n,E1)||mte(n,E1,{configurable:!0,value:e}),i&&!gte&&yte(n,"toString",$te)}},_te=it,Ste=kt,T1=_te.WeakMap,_x=Ste(T1)&&/native code/.test(String(T1)),Ete=_x,Sx=it,Tte=Nt,Ite=js,Kf=Ct,Gf=cm,Ote=ju,xte=Al,I1="Object already initialized",xv=Sx.TypeError,Pte=Sx.WeakMap,Ad,Wa,Dd,kte=function(t){return Dd(t)?Wa(t):Ad(t,{})},Cte=function(t){return function(e){var r;if(!Tte(e)||(r=Wa(e)).type!==t)throw new xv("Incompatible receiver, "+t+" required");return r}};if(Ete||Gf.state){var Zr=Gf.state||(Gf.state=new Pte);Zr.get=Zr.get,Zr.has=Zr.has,Zr.set=Zr.set,Ad=function(t,e){if(Zr.has(t))throw new xv(I1);return e.facade=t,Zr.set(t,e),e},Wa=function(t){return Zr.get(t)||{}},Dd=function(t){return Zr.has(t)}}else{var Fo=Ote("state");xte[Fo]=!0,Ad=function(t,e){if(Kf(t,Fo))throw new xv(I1);return e.facade=t,Ite(t,Fo,e),e},Wa=function(t){return Kf(t,Fo)?t[Fo]:{}},Dd=function(t){return Kf(t,Fo)}}var _o={set:Ad,get:Wa,has:Dd,enforce:kte,getterFor:Cte},Ate=Nu,Dte=Ie,Mte=Du,Rte=xr,Nte=di,Fte=vm,O1=Dte([].push),Rn=function(t){var e=t===1,r=t===2,i=t===3,n=t===4,o=t===6,s=t===7,a=t===5||o;return function(l,c,d,u){for(var h=Rte(l),f=Mte(h),p=Ate(c,d),g=Nte(f),$=0,y=u||Fte,b=e?y(l,g):r||s?y(l,0):void 0,S,_;g>$;$++)if((a||$ in f)&&(S=f[$],_=p(S,$,h),t))if(e)b[$]=_;else if(_)switch(t){case 3:return!0;case 5:return S;case 6:return $;case 2:O1(b,S)}else switch(t){case 4:return!1;case 7:O1(b,S)}return o?-1:i||n?n:b}},In={forEach:Rn(0),map:Rn(1),filter:Rn(2),some:Rn(3),every:Rn(4),find:Rn(5),findIndex:Rn(6)},Hu=de,Wu=it,mm=Wr,Bte=Ie,vs=mt,gs=Fs,Lte=Te,$t=Ct,jte=gt,Pv=Li,Vu=Vr,ym=Ru,zte=ui,kv=El,Va=Fl,Ex=Dl,Hte=Bl,Tx=zu,Wte=Ml,Ix=_l,Ox=mr,Vte=Lu,xx=Sl,x1=Ll,Ute=gm,bm=Ls,Yte=ju,Px=Al,P1=Mu,qte=dt,Kte=jl,Gte=nt,Xte=wx,Jte=zs,kx=_o,Uu=In.forEach,Qt=Yte("hidden"),Yu="Symbol",Ua="prototype",Zte=kx.set,k1=kx.getterFor(Yu),Fr=Object[Ua],Gn=Wu.Symbol,oa=Gn&&Gn[Ua],Qte=Wu.RangeError,ere=Wu.TypeError,Xf=Wu.QObject,Cx=Ix.f,Xn=Ox.f,Ax=Tx.f,tre=xx.f,Dx=Bte([].push),Ai=bm("symbols"),zl=bm("op-symbols"),rre=bm("wks"),Cv=!Xf||!Xf[Ua]||!Xf[Ua].findChild,Mx=function(t,e,r){var i=Cx(Fr,e);i&&delete Fr[e],Xn(t,e,r),i&&t!==Fr&&Xn(Fr,e,i)},Av=vs&&Lte(function(){return Va(Xn({},"a",{get:function(){return Xn(this,"a",{value:7}).a}})).a!==7})?Mx:Xn,Jf=function(t,e){var r=Ai[t]=Va(oa);return Zte(r,{type:Yu,tag:t,description:e}),vs||(r.description=e),r},qu=function(e,r,i){e===Fr&&qu(zl,r,i),Pv(e);var n=ym(r);return Pv(i),$t(Ai,n)?(i.enumerable?($t(e,Qt)&&e[Qt][n]&&(e[Qt][n]=!1),i=Va(i,{enumerable:kv(0,!1)})):($t(e,Qt)||Xn(e,Qt,kv(1,{})),e[Qt][n]=!0),Av(e,n,i)):Xn(e,n,i)},$m=function(e,r){Pv(e);var i=Vu(r),n=Ex(i).concat(Bx(i));return Uu(n,function(o){(!vs||mm(Rx,i,o))&&qu(e,o,i[o])}),e},ire=function(e,r){return r===void 0?Va(e):$m(Va(e),r)},Rx=function(e){var r=ym(e),i=mm(tre,this,r);return this===Fr&&$t(Ai,r)&&!$t(zl,r)?!1:i||!$t(this,r)||!$t(Ai,r)||$t(this,Qt)&&this[Qt][r]?i:!0},Nx=function(e,r){var i=Vu(e),n=ym(r);if(!(i===Fr&&$t(Ai,n)&&!$t(zl,n))){var o=Cx(i,n);return o&&$t(Ai,n)&&!($t(i,Qt)&&i[Qt][n])&&(o.enumerable=!0),o}},Fx=function(e){var r=Ax(Vu(e)),i=[];return Uu(r,function(n){!$t(Ai,n)&&!$t(Px,n)&&Dx(i,n)}),i},Bx=function(t){var e=t===Fr,r=Ax(e?zl:Vu(t)),i=[];return Uu(r,function(n){$t(Ai,n)&&(!e||$t(Fr,n))&&Dx(i,Ai[n])}),i};gs||(Gn=function(){if(jte(oa,this))throw new ere("Symbol is not a constructor");var e=!arguments.length||arguments[0]===void 0?void 0:zte(arguments[0]),r=P1(e),i=function(n){this===Fr&&mm(i,zl,n),$t(this,Qt)&&$t(this[Qt],r)&&(this[Qt][r]=!1);var o=kv(1,n);try{Av(this,r,o)}catch(s){if(!(s instanceof Qte))throw s;Mx(this,r,o)}};return vs&&Cv&&Av(Fr,r,{configurable:!0,set:i}),Jf(r,e)},oa=Gn[Ua],x1(oa,"toString",function(){return k1(this).tag}),x1(Gn,"withoutSetter",function(t){return Jf(P1(t),t)}),xx.f=Rx,Ox.f=qu,Vte.f=$m,Ix.f=Nx,Hte.f=Tx.f=Fx,Wte.f=Bx,Kte.f=function(t){return Jf(qte(t),t)},vs&&Ute(oa,"description",{configurable:!0,get:function(){return k1(this).description}}));Hu({global:!0,wrap:!0,forced:!gs,sham:!gs},{Symbol:Gn});Uu(Ex(rre),function(t){Gte(t)});Hu({target:Yu,stat:!0,forced:!gs},{useSetter:function(){Cv=!0},useSimple:function(){Cv=!1}});Hu({target:"Object",stat:!0,forced:!gs,sham:!vs},{create:ire,defineProperty:qu,defineProperties:$m,getOwnPropertyDescriptor:Nx});Hu({target:"Object",stat:!0,forced:!gs},{getOwnPropertyNames:Fx});Xte();Jte(Gn,Yu);Px[Qt]=!0;var nre=Fs,Lx=nre&&!!Symbol.for&&!!Symbol.keyFor,ore=de,sre=Ur,are=Ct,lre=ui,jx=Ls,cre=Lx,Zf=jx("string-to-symbol-registry"),dre=jx("symbol-to-string-registry");ore({target:"Symbol",stat:!0,forced:!cre},{for:function(t){var e=lre(t);if(are(Zf,e))return Zf[e];var r=sre("Symbol")(e);return Zf[e]=r,dre[r]=e,r}});var ure=de,hre=Ct,fre=xl,pre=Pl,vre=Ls,gre=Lx,C1=vre("symbol-to-string-registry");ure({target:"Symbol",stat:!0,forced:!gre},{keyFor:function(e){if(!fre(e))throw new TypeError(pre(e)+" is not a symbol");if(hre(C1,e))return C1[e]}});var mre=Ie,A1=$o,yre=kt,D1=Bi,bre=ui,M1=mre([].push),$re=function(t){if(yre(t))return t;if(A1(t)){for(var e=t.length,r=[],i=0;i<e;i++){var n=t[i];typeof n=="string"?M1(r,n):(typeof n=="number"||D1(n)==="Number"||D1(n)==="String")&&M1(r,bre(n))}var o=r.length,s=!0;return function(a,l){if(s)return s=!1,l;if(A1(this))return l;for(var c=0;c<o;c++)if(r[c]===a)return l}}},wre=de,zx=Ur,Hx=Au,_re=Wr,Hl=Ie,Wx=Te,R1=kt,N1=xl,Vx=Bu,Sre=$re,Ere=Fs,Tre=String,an=zx("JSON","stringify"),Oc=Hl(/./.exec),F1=Hl("".charAt),Ire=Hl("".charCodeAt),Ore=Hl("".replace),xre=Hl(1 .toString),Pre=/[\uD800-\uDFFF]/g,B1=/^[\uD800-\uDBFF]$/,L1=/^[\uDC00-\uDFFF]$/,j1=!Ere||Wx(function(){var t=zx("Symbol")("stringify detection");return an([t])!=="[null]"||an({a:t})!=="{}"||an(Object(t))!=="{}"}),z1=Wx(function(){return an("\uDF06\uD834")!=='"\\udf06\\ud834"'||an("\uDEAD")!=='"\\udead"'}),kre=function(t,e){var r=Vx(arguments),i=Sre(e);if(!(!R1(i)&&(t===void 0||N1(t))))return r[1]=function(n,o){if(R1(i)&&(o=_re(i,this,Tre(n),o)),!N1(o))return o},Hx(an,null,r)},Cre=function(t,e,r){var i=F1(r,e-1),n=F1(r,e+1);return Oc(B1,t)&&!Oc(L1,n)||Oc(L1,t)&&!Oc(B1,i)?"\\u"+xre(Ire(t,0),16):t};an&&wre({target:"JSON",stat:!0,forced:j1||z1},{stringify:function(e,r,i){var n=Vx(arguments),o=Hx(j1?kre:an,null,n);return z1&&typeof o=="string"?Ore(o,Pre,Cre):o}});var Are=de,Dre=Fs,Mre=Te,Ux=Ml,Rre=xr,Nre=!Dre||Mre(function(){Ux.f(1)});Are({target:"Object",stat:!0,forced:Nre},{getOwnPropertySymbols:function(e){var r=Ux.f;return r?r(Rre(e)):[]}});var Fre=nt;Fre("asyncIterator");var Bre=nt;Bre("hasInstance");var Lre=nt;Lre("isConcatSpreadable");var jre=nt;jre("iterator");var zre=nt;zre("match");var Hre=nt;Hre("matchAll");var Wre=nt;Wre("replace");var Vre=nt;Vre("search");var Ure=nt;Ure("species");var Yre=nt;Yre("split");var qre=nt,Kre=wx;qre("toPrimitive");Kre();var Gre=Ur,Xre=nt,Jre=zs;Xre("toStringTag");Jre(Gre("Symbol"),"Symbol");var Zre=nt;Zre("unscopables");var Qre=it,eie=zs;eie(Qre.JSON,"JSON",!0);var tie=Ce,rie=tie.Symbol,Hs={},Dv=mt,iie=Ct,Yx=Function.prototype,nie=Dv&&Object.getOwnPropertyDescriptor,qx=iie(Yx,"name"),oie=qx&&(function(){}).name==="something";qx&&(!Dv||Dv&&nie(Yx,"name").configurable);var sie={PROPER:oie},aie=Te,Kx=!aie(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}),lie=Ct,cie=kt,die=xr,uie=ju,hie=Kx,H1=uie("IE_PROTO"),Mv=Object,fie=Mv.prototype,Ku=hie?Mv.getPrototypeOf:function(t){var e=die(t);if(lie(e,H1))return e[H1];var r=e.constructor;return cie(r)&&e instanceof r?r.prototype:e instanceof Mv?fie:null},pie=Te,vie=kt,gie=Nt,mie=Fl,W1=Ku,yie=Ll,bie=dt,Rv=bie("iterator"),Gx=!1,_i,Qf,ep;[].keys&&(ep=[].keys(),"next"in ep?(Qf=W1(W1(ep)),Qf!==Object.prototype&&(_i=Qf)):Gx=!0);var $ie=!gie(_i)||pie(function(){var t={};return _i[Rv].call(t)!==t});$ie?_i={}:_i=mie(_i);vie(_i[Rv])||yie(_i,Rv,function(){return this});var Xx={IteratorPrototype:_i,BUGGY_SAFARI_ITERATORS:Gx},wie=Xx.IteratorPrototype,_ie=Fl,Sie=El,Eie=zs,Tie=Hs,Iie=function(){return this},Oie=function(t,e,r,i){var n=e+" Iterator";return t.prototype=_ie(wie,{next:Sie(+!i,r)}),Eie(t,n,!1,!0),Tie[n]=Iie,t},xie=de,Pie=Wr,kie=sie,Cie=Oie,Aie=Ku,Die=zs,V1=Ll,Mie=dt,U1=Hs,Rie=Xx,Nie=kie.PROPER,xc=Rie.BUGGY_SAFARI_ITERATORS,tp=Mie("iterator"),Y1="keys",Pc="values",q1="entries",Fie=function(){return this},wm=function(t,e,r,i,n,o,s){Cie(r,e,i);var a=function(y){if(y===n&&h)return h;if(!xc&&y&&y in d)return d[y];switch(y){case Y1:return function(){return new r(this,y)};case Pc:return function(){return new r(this,y)};case q1:return function(){return new r(this,y)}}return function(){return new r(this)}},l=e+" Iterator",c=!1,d=t.prototype,u=d[tp]||d["@@iterator"]||n&&d[n],h=!xc&&u||a(n),f=e==="Array"&&d.entries||u,p,g,$;if(f&&(p=Aie(f.call(new t)),p!==Object.prototype&&p.next&&(Die(p,l,!0,!0),U1[l]=Fie)),Nie&&n===Pc&&u&&u.name!==Pc&&(c=!0,h=function(){return Pie(u,this)}),n)if(g={values:a(Pc),keys:o?h:a(Y1),entries:a(q1)},s)for($ in g)(xc||c||!($ in d))&&V1(d,$,g[$]);else xie({target:e,proto:!0,forced:xc||c},g);return s&&d[tp]!==h&&V1(d,tp,h,{}),U1[e]=h,g},_m=function(t,e){return{value:t,done:e}},Bie=Vr,K1=Hs,Jx=_o;mr.f;var Lie=wm,kc=_m,Zx="Array Iterator",jie=Jx.set,zie=Jx.getterFor(Zx);Lie(Array,"Array",function(t,e){jie(this,{type:Zx,target:Bie(t),index:0,kind:e})},function(){var t=zie(this),e=t.target,r=t.kind,i=t.index++;if(!e||i>=e.length)return t.target=void 0,kc(void 0,!0);switch(r){case"keys":return kc(i,!1);case"values":return kc(e[i],!1)}return kc([i,e[i]],!1)},"values");K1.Arguments=K1.Array;var Hie={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Wie=Hie,Vie=it,Uie=wo,Yie=js,G1=Hs,qie=dt,X1=qie("toStringTag");for(var rp in Wie){var J1=Vie[rp],ip=J1&&J1.prototype;ip&&Uie(ip)!==X1&&Yie(ip,X1,rp),G1[rp]=G1.Array}var Kie=rie,Qx=Kie,Gie=Qx,Xie=fe(Gie),Jie=de,Z1=$o,Zie=px,Qie=Nt,Q1=Cl,ene=di,tne=Vr,rne=Rl,ine=dt,nne=Nl,one=Bu,sne=nne("slice"),ane=ine("species"),np=Array,lne=Math.max;Jie({target:"Array",proto:!0,forced:!sne},{slice:function(e,r){var i=tne(this),n=ene(i),o=Q1(e,n),s=Q1(r===void 0?n:r,n),a,l,c;if(Z1(i)&&(a=i.constructor,Zie(a)&&(a===np||Z1(a.prototype))?a=void 0:Qie(a)&&(a=a[ane],a===null&&(a=void 0)),a===np||a===void 0))return one(i,o,s);for(l=new(a===void 0?np:a)(lne(s-o,0)),c=0;o<s;o++,c++)o in i&&rne(l,c,i[o]);return l.length=c,l}});var cne=At,dne=cne("Array").slice,une=gt,hne=dne,op=Array.prototype,fne=function(t){var e=t.slice;return t===op||une(op,t)&&e===op.slice?hne:e},pne=fne,vne=pne,gne=vne,ti=fe(gne),mne=Ur,yne=Ie,bne=Bl,$ne=Ml,wne=Li,_ne=yne([].concat),Sne=mne("Reflect","ownKeys")||function(e){var r=bne.f(wne(e)),i=$ne.f;return i?_ne(r,i(e)):r},Ene=de,Tne=$o;Ene({target:"Array",stat:!0},{isArray:Tne});var Ine=Ce,One=Ine.Array.isArray,xne=One,Pne=xne,kne=Pne,Qe=fe(kne),Cne=de,Ane=In.map,Dne=Nl,Mne=Dne("map");Cne({target:"Array",proto:!0,forced:!Mne},{map:function(e){return Ane(this,e,arguments.length>1?arguments[1]:void 0)}});var Rne=At,Nne=Rne("Array").map,Fne=gt,Bne=Nne,sp=Array.prototype,Lne=function(t){var e=t.map;return t===sp||Fne(sp,t)&&e===sp.map?Bne:e},jne=Lne,zne=jne,Hne=zne,ms=fe(Hne),Wne=de,Vne=xr,eP=Dl,Une=Te,Yne=Une(function(){eP(1)});Wne({target:"Object",stat:!0,forced:Yne},{keys:function(e){return eP(Vne(e))}});var qne=Ce,Kne=qne.Object.keys,Gne=Kne,Xne=Gne,Jne=Xne,Ze=fe(Jne),Zne=de,Qne=Ie,tP=Date,eoe=Qne(tP.prototype.getTime);Zne({target:"Date",stat:!0},{now:function(){return eoe(new tP)}});var toe=Ce,roe=toe.Date.now,ioe=roe,noe=ioe,ooe=noe,Md=fe(ooe),soe=Te,Ws=function(t,e){var r=[][t];return!!r&&soe(function(){r.call(null,e||function(){return 1},1)})},aoe=In.forEach,loe=Ws,coe=loe("forEach"),doe=coe?[].forEach:function(e){return aoe(this,e,arguments.length>1?arguments[1]:void 0)},uoe=de,e0=doe;uoe({target:"Array",proto:!0,forced:[].forEach!==e0},{forEach:e0});var hoe=At,foe=hoe("Array").forEach,poe=foe,voe=poe,goe=wo,moe=Ct,yoe=gt,boe=voe,ap=Array.prototype,$oe={DOMTokenList:!0,NodeList:!0},woe=function(t){var e=t.forEach;return t===ap||yoe(ap,t)&&e===ap.forEach||moe($oe,goe(t))?boe:e},_oe=woe,Re=fe(_oe),Soe=de,Eoe=Ie,Toe=$o,Ioe=Eoe([].reverse),t0=[1,2];Soe({target:"Array",proto:!0,forced:String(t0)===String(t0.reverse())},{reverse:function(){return Toe(this)&&(this.length=this.length),Ioe(this)}});var Ooe=At,xoe=Ooe("Array").reverse,Poe=gt,koe=xoe,lp=Array.prototype,Coe=function(t){var e=t.reverse;return t===lp||Poe(lp,t)&&e===lp.reverse?koe:e},Aoe=Coe,Doe=Aoe,Moe=Doe,Jn=fe(Moe),Roe=mt,Noe=$o,Foe=TypeError,Boe=Object.getOwnPropertyDescriptor,Loe=Roe&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}(),joe=Loe?function(t,e){if(Noe(t)&&!Boe(t,"length").writable)throw new Foe("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e},r0=Pl,zoe=TypeError,rP=function(t,e){if(!delete t[e])throw new zoe("Cannot delete property "+r0(e)+" of "+r0(t))},Hoe=de,Woe=xr,Voe=Cl,Uoe=Fu,Yoe=di,qoe=joe,Koe=lx,Goe=vm,Xoe=Rl,cp=rP,Joe=Nl,Zoe=Joe("splice"),Qoe=Math.max,ese=Math.min;Hoe({target:"Array",proto:!0,forced:!Zoe},{splice:function(e,r){var i=Woe(this),n=Yoe(i),o=Voe(e,n),s=arguments.length,a,l,c,d,u,h;for(s===0?a=l=0:s===1?(a=0,l=n-o):(a=s-2,l=ese(Qoe(Uoe(r),0),n-o)),Koe(n+a-l),c=Goe(i,l),d=0;d<l;d++)u=o+d,u in i&&Xoe(c,d,i[u]);if(c.length=l,a<l){for(d=o;d<n-l;d++)u=d+l,h=d+a,u in i?i[h]=i[u]:cp(i,h);for(d=n;d>n-l+a;d--)cp(i,d-1)}else if(a>l)for(d=n-l;d>o;d--)u=d+l-1,h=d+a-1,u in i?i[h]=i[u]:cp(i,h);for(d=0;d<a;d++)i[d+o]=arguments[d+2];return qoe(i,n-l+a),c}});var tse=At,rse=tse("Array").splice,ise=gt,nse=rse,dp=Array.prototype,ose=function(t){var e=t.splice;return t===dp||ise(dp,t)&&e===dp.splice?nse:e},sse=ose,ase=sse,lse=ase,Si=fe(lse),cse=de,dse=dm.includes,use=Te,hse=use(function(){return!Array(1).includes()});cse({target:"Array",proto:!0,forced:hse},{includes:function(e){return dse(this,e,arguments.length>1?arguments[1]:void 0)}});var fse=At,pse=fse("Array").includes,vse=Nt,gse=Bi,mse=dt,yse=mse("match"),bse=function(t){var e;return vse(t)&&((e=t[yse])!==void 0?!!e:gse(t)==="RegExp")},$se=bse,wse=TypeError,_se=function(t){if($se(t))throw new wse("The method doesn't accept regular expressions");return t},Sse=dt,Ese=Sse("match"),Tse=function(t){var e=/./;try{"/./"[t](e)}catch{try{return e[Ese]=!1,"/./"[t](e)}catch{}}return!1},Ise=de,Ose=Ie,xse=_se,Pse=Tl,i0=ui,kse=Tse,Cse=Ose("".indexOf);Ise({target:"String",proto:!0,forced:!kse("includes")},{includes:function(e){return!!~Cse(i0(Pse(this)),i0(xse(e)),arguments.length>1?arguments[1]:void 0)}});var Ase=At,Dse=Ase("String").includes,n0=gt,Mse=pse,Rse=Dse,up=Array.prototype,hp=String.prototype,Nse=function(t){var e=t.includes;return t===up||n0(up,t)&&e===up.includes?Mse:typeof t=="string"||t===hp||n0(hp,t)&&e===hp.includes?Rse:e},Fse=Nse,Bse=Fse,Lse=Bse,ln=fe(Lse),jse=de,zse=Te,Hse=xr,iP=Ku,Wse=Kx,Vse=zse(function(){iP(1)});jse({target:"Object",stat:!0,forced:Vse,sham:!Wse},{getPrototypeOf:function(e){return iP(Hse(e))}});var Use=Ce,Yse=Use.Object.getPrototypeOf,qse=Yse,Kse=qse,Gse=Kse,o0=fe(Gse),Xse=At,Jse=Xse("Array").concat,Zse=gt,Qse=Jse,fp=Array.prototype,eae=function(t){var e=t.concat;return t===fp||Zse(fp,t)&&e===fp.concat?Qse:e},tae=eae,rae=tae,iae=rae,nae=fe(iae),oae=de,sae=In.filter,aae=Nl,lae=aae("filter");oae({target:"Array",proto:!0,forced:!lae},{filter:function(e){return sae(this,e,arguments.length>1?arguments[1]:void 0)}});var cae=At,dae=cae("Array").filter,uae=gt,hae=dae,pp=Array.prototype,fae=function(t){var e=t.filter;return t===pp||uae(pp,t)&&e===pp.filter?hae:e},pae=fae,vae=pae,gae=vae,er=fe(gae),nP=mt,mae=Te,oP=Ie,yae=Ku,bae=Dl,$ae=Vr,wae=Sl.f,sP=oP(wae),_ae=oP([].push),Sae=nP&&mae(function(){var t=Object.create(null);return t[2]=2,!sP(t,2)}),Eae=function(t){return function(e){for(var r=$ae(e),i=bae(r),n=Sae&&yae(r)===null,o=i.length,s=0,a=[],l;o>s;)l=i[s++],(!nP||(n?l in r:sP(r,l)))&&_ae(a,t?[l,r[l]]:r[l]);return a}},Tae={values:Eae(!1)},Iae=de,Oae=Tae.values;Iae({target:"Object",stat:!0},{values:function(e){return Oae(e)}});var xae=Ce,Pae=xae.Object.values,kae=Pae,Cae=kae,Aae=Cae,Dae=fe(Aae),Sm=`	
\v\f\r \u2028\u2029\uFEFF`,Mae=Ie,Rae=Tl,Nae=ui,Nv=Sm,s0=Mae("".replace),Fae=RegExp("^["+Nv+"]+"),Bae=RegExp("(^|[^"+Nv+"])["+Nv+"]+$"),Lae=function(t){return function(e){var r=Nae(Rae(e));return t&1&&(r=s0(r,Fae,"")),t&2&&(r=s0(r,Bae,"$1")),r}},aP={trim:Lae(3)},lP=it,jae=Te,zae=Ie,Hae=ui,Wae=aP.trim,a0=Sm,wa=lP.parseInt,l0=lP.Symbol,c0=l0&&l0.iterator,cP=/^[+-]?0x/i,Vae=zae(cP.exec),Uae=wa(a0+"08")!==8||wa(a0+"0x16")!==22||c0&&!jae(function(){wa(Object(c0))}),Yae=Uae?function(e,r){var i=Wae(Hae(e));return wa(i,r>>>0||(Vae(cP,i)?16:10))}:wa,qae=de,d0=Yae;qae({global:!0,forced:parseInt!==d0},{parseInt:d0});var Kae=Ce,Gae=Kae.parseInt,Xae=Gae,Jae=Xae,Zae=Jae,Mr=fe(Zae),Qae=de,ele=am,tle=dm.indexOf,rle=Ws,Fv=ele([].indexOf),dP=!!Fv&&1/Fv([1],1,-0)<0,ile=dP||!rle("indexOf");Qae({target:"Array",proto:!0,forced:ile},{indexOf:function(e){var r=arguments.length>1?arguments[1]:void 0;return dP?Fv(this,e,r)||0:tle(this,e,r)}});var nle=At,ole=nle("Array").indexOf,sle=gt,ale=ole,vp=Array.prototype,lle=function(t){var e=t.indexOf;return t===vp||sle(vp,t)&&e===vp.indexOf?ale:e},cle=lle,dle=cle,ule=dle,ke=fe(ule),hle=de,fle=mt,ple=Fl;hle({target:"Object",stat:!0,sham:!fle},{create:ple});var vle=Ce,gle=vle.Object,mle=function(e,r){return gle.create(e,r)},yle=mle,ble=yle,$le=ble,Zn=fe($le),Bv=Ce,wle=Au;Bv.JSON||(Bv.JSON={stringify:JSON.stringify});var _le=function(e,r,i){return wle(Bv.JSON.stringify,null,arguments)},Sle=_le,Ele=Sle,Tle=Ele,Wl=fe(Tle),Ile=typeof Bun=="function"&&Bun&&typeof Bun.version=="string",Ole=TypeError,xle=function(t,e){if(t<e)throw new Ole("Not enough arguments");return t},uP=it,Ple=Au,kle=kt,Cle=Ile,Ale=Il,Dle=Bu,Mle=xle,Rle=uP.Function,Nle=/MSIE .\./.test(Ale)||Cle&&function(){var t=uP.Bun.version.split(".");return t.length<3||t[0]==="0"&&(t[1]<3||t[1]==="3"&&t[2]==="0")}(),hP=function(t,e){var r=e?2:1;return Nle?function(i,n){var o=Mle(arguments.length,1)>r,s=kle(i)?i:Rle(i),a=o?Dle(arguments,r):[],l=o?function(){Ple(s,this,a)}:s;return e?t(l,n):t(l)}:t},Fle=de,fP=it,Ble=hP,u0=Ble(fP.setInterval,!0);Fle({global:!0,bind:!0,forced:fP.setInterval!==u0},{setInterval:u0});var Lle=de,pP=it,jle=hP,h0=jle(pP.setTimeout,!0);Lle({global:!0,bind:!0,forced:pP.setTimeout!==h0},{setTimeout:h0});var zle=Ce,Hle=zle.setTimeout,Wle=Hle,Ei=fe(Wle),Vle=xr,f0=Cl,Ule=di,Yle=function(e){for(var r=Vle(this),i=Ule(r),n=arguments.length,o=f0(n>1?arguments[1]:void 0,i),s=n>2?arguments[2]:void 0,a=s===void 0?i:f0(s,i);a>o;)r[o++]=e;return r},qle=de,Kle=Yle;qle({target:"Array",proto:!0},{fill:Kle});var Gle=At,Xle=Gle("Array").fill,Jle=gt,Zle=Xle,gp=Array.prototype,Qle=function(t){var e=t.fill;return t===gp||Jle(gp,t)&&e===gp.fill?Zle:e},ece=Qle,tce=ece,rce=tce,Vl=fe(rce);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function Hr(){return Hr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Hr.apply(this,arguments)}function Pr(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function Cc(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Lv;typeof Object.assign!="function"?Lv=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(e),i=1;i<arguments.length;i++){var n=arguments[i];if(n!=null)for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])}return r}:Lv=Object.assign;var ao=Lv,p0=["","webkit","Moz","MS","ms","o"],ice=typeof document>"u"?{style:{}}:document.createElement("div"),nce="function",Xo=Math.round,lo=Math.abs,Em=Date.now;function Gu(t,e){for(var r,i,n=e[0].toUpperCase()+e.slice(1),o=0;o<p0.length;){if(r=p0[o],i=r?r+n:e,i in t)return i;o++}}var Ti;typeof window>"u"?Ti={}:Ti=window;var vP=Gu(ice.style,"touchAction"),gP=vP!==void 0;function oce(){if(!gP)return!1;var t={},e=Ti.CSS&&Ti.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(r){return t[r]=e?Ti.CSS.supports("touch-action",r):!0}),t}var mP="compute",yP="auto",jv="manipulation",Qn="none",Ya="pan-x",qa="pan-y",Ac=oce(),sce=/mobile|tablet|ip(ad|hone|od)|android/i,bP="ontouchstart"in Ti,ace=Gu(Ti,"PointerEvent")!==void 0,lce=bP&&sce.test(navigator.userAgent),Ul="touch",cce="pen",Tm="mouse",dce="kinect",uce=25,Ut=1,So=2,ft=4,rr=8,Rd=1,Yl=2,ql=4,Kl=8,ys=16,ai=Yl|ql,eo=Kl|ys,$P=ai|eo,wP=["x","y"],Nd=["clientX","clientY"];function Ii(t,e,r){var i;if(t)if(t.forEach)t.forEach(e,r);else if(t.length!==void 0)for(i=0;i<t.length;)e.call(r,t[i],i,t),i++;else for(i in t)t.hasOwnProperty(i)&&e.call(r,t[i],i,t)}function Xu(t,e){return typeof t===nce?t.apply(e&&e[0]||void 0,e):t}function jn(t,e){return t.indexOf(e)>-1}function hce(t){if(jn(t,Qn))return Qn;var e=jn(t,Ya),r=jn(t,qa);return e&&r?Qn:e||r?e?Ya:qa:jn(t,jv)?jv:yP}var _P=function(){function t(r,i){this.manager=r,this.set(i)}var e=t.prototype;return e.set=function(i){i===mP&&(i=this.compute()),gP&&this.manager.element.style&&Ac[i]&&(this.manager.element.style[vP]=i),this.actions=i.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var i=[];return Ii(this.manager.recognizers,function(n){Xu(n.options.enable,[n])&&(i=i.concat(n.getTouchAction()))}),hce(i.join(" "))},e.preventDefaults=function(i){var n=i.srcEvent,o=i.offsetDirection;if(this.manager.session.prevented){n.preventDefault();return}var s=this.actions,a=jn(s,Qn)&&!Ac[Qn],l=jn(s,qa)&&!Ac[qa],c=jn(s,Ya)&&!Ac[Ya];if(a){var d=i.pointers.length===1,u=i.distance<2,h=i.deltaTime<250;if(d&&u&&h)return}if(!(c&&l)&&(a||l&&o&ai||c&&o&eo))return this.preventSrc(n)},e.preventSrc=function(i){this.manager.session.prevented=!0,i.preventDefault()},t}();function Im(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function SP(t){var e=t.length;if(e===1)return{x:Xo(t[0].clientX),y:Xo(t[0].clientY)};for(var r=0,i=0,n=0;n<e;)r+=t[n].clientX,i+=t[n].clientY,n++;return{x:Xo(r/e),y:Xo(i/e)}}function v0(t){for(var e=[],r=0;r<t.pointers.length;)e[r]={clientX:Xo(t.pointers[r].clientX),clientY:Xo(t.pointers[r].clientY)},r++;return{timeStamp:Em(),pointers:e,center:SP(e),deltaX:t.deltaX,deltaY:t.deltaY}}function Fd(t,e,r){r||(r=wP);var i=e[r[0]]-t[r[0]],n=e[r[1]]-t[r[1]];return Math.sqrt(i*i+n*n)}function zv(t,e,r){r||(r=wP);var i=e[r[0]]-t[r[0]],n=e[r[1]]-t[r[1]];return Math.atan2(n,i)*180/Math.PI}function EP(t,e){return t===e?Rd:lo(t)>=lo(e)?t<0?Yl:ql:e<0?Kl:ys}function fce(t,e){var r=e.center,i=t.offsetDelta||{},n=t.prevDelta||{},o=t.prevInput||{};(e.eventType===Ut||o.eventType===ft)&&(n=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=t.offsetDelta={x:r.x,y:r.y}),e.deltaX=n.x+(r.x-i.x),e.deltaY=n.y+(r.y-i.y)}function TP(t,e,r){return{x:e/t||0,y:r/t||0}}function pce(t,e){return Fd(e[0],e[1],Nd)/Fd(t[0],t[1],Nd)}function vce(t,e){return zv(e[1],e[0],Nd)+zv(t[1],t[0],Nd)}function gce(t,e){var r=t.lastInterval||e,i=e.timeStamp-r.timeStamp,n,o,s,a;if(e.eventType!==rr&&(i>uce||r.velocity===void 0)){var l=e.deltaX-r.deltaX,c=e.deltaY-r.deltaY,d=TP(i,l,c);o=d.x,s=d.y,n=lo(d.x)>lo(d.y)?d.x:d.y,a=EP(l,c),t.lastInterval=e}else n=r.velocity,o=r.velocityX,s=r.velocityY,a=r.direction;e.velocity=n,e.velocityX=o,e.velocityY=s,e.direction=a}function mce(t,e){var r=t.session,i=e.pointers,n=i.length;r.firstInput||(r.firstInput=v0(e)),n>1&&!r.firstMultiple?r.firstMultiple=v0(e):n===1&&(r.firstMultiple=!1);var o=r.firstInput,s=r.firstMultiple,a=s?s.center:o.center,l=e.center=SP(i);e.timeStamp=Em(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=zv(a,l),e.distance=Fd(a,l),fce(r,e),e.offsetDirection=EP(e.deltaX,e.deltaY);var c=TP(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=lo(c.x)>lo(c.y)?c.x:c.y,e.scale=s?pce(s.pointers,i):1,e.rotation=s?vce(s.pointers,i):0,e.maxPointers=r.prevInput?e.pointers.length>r.prevInput.maxPointers?e.pointers.length:r.prevInput.maxPointers:e.pointers.length,gce(r,e);var d=t.element,u=e.srcEvent,h;u.composedPath?h=u.composedPath()[0]:u.path?h=u.path[0]:h=u.target,Im(h,d)&&(d=h),e.target=d}function yce(t,e,r){var i=r.pointers.length,n=r.changedPointers.length,o=e&Ut&&i-n===0,s=e&(ft|rr)&&i-n===0;r.isFirst=!!o,r.isFinal=!!s,o&&(t.session={}),r.eventType=e,mce(t,r),t.emit("hammer.input",r),t.recognize(r),t.session.prevInput=r}function Ka(t){return t.trim().split(/\s+/g)}function _a(t,e,r){Ii(Ka(e),function(i){t.addEventListener(i,r,!1)})}function Sa(t,e,r){Ii(Ka(e),function(i){t.removeEventListener(i,r,!1)})}function g0(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var Vs=function(){function t(r,i){var n=this;this.manager=r,this.callback=i,this.element=r.element,this.target=r.options.inputTarget,this.domHandler=function(o){Xu(r.options.enable,[r])&&n.handler(o)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&_a(this.element,this.evEl,this.domHandler),this.evTarget&&_a(this.target,this.evTarget,this.domHandler),this.evWin&&_a(g0(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&Sa(this.element,this.evEl,this.domHandler),this.evTarget&&Sa(this.target,this.evTarget,this.domHandler),this.evWin&&Sa(g0(this.element),this.evWin,this.domHandler)},t}();function co(t,e,r){if(t.indexOf&&!r)return t.indexOf(e);for(var i=0;i<t.length;){if(r&&t[i][r]==e||!r&&t[i]===e)return i;i++}return-1}var bce={pointerdown:Ut,pointermove:So,pointerup:ft,pointercancel:rr,pointerout:rr},$ce={2:Ul,3:cce,4:Tm,5:dce},IP="pointerdown",OP="pointermove pointerup pointercancel";Ti.MSPointerEvent&&!Ti.PointerEvent&&(IP="MSPointerDown",OP="MSPointerMove MSPointerUp MSPointerCancel");var xP=function(t){Pr(e,t);function e(){var i,n=e.prototype;return n.evEl=IP,n.evWin=OP,i=t.apply(this,arguments)||this,i.store=i.manager.session.pointerEvents=[],i}var r=e.prototype;return r.handler=function(n){var o=this.store,s=!1,a=n.type.toLowerCase().replace("ms",""),l=bce[a],c=$ce[n.pointerType]||n.pointerType,d=c===Ul,u=co(o,n.pointerId,"pointerId");l&Ut&&(n.button===0||d)?u<0&&(o.push(n),u=o.length-1):l&(ft|rr)&&(s=!0),!(u<0)&&(o[u]=n,this.callback(this.manager,l,{pointers:o,changedPointers:[n],pointerType:c,srcEvent:n}),s&&o.splice(u,1))},e}(Vs);function Ga(t){return Array.prototype.slice.call(t,0)}function Om(t,e,r){for(var i=[],n=[],o=0;o<t.length;){var s=e?t[o][e]:t[o];co(n,s)<0&&i.push(t[o]),n[o]=s,o++}return r&&(e?i=i.sort(function(a,l){return a[e]>l[e]}):i=i.sort()),i}var wce={touchstart:Ut,touchmove:So,touchend:ft,touchcancel:rr},_ce="touchstart touchmove touchend touchcancel",xm=function(t){Pr(e,t);function e(){var i;return e.prototype.evTarget=_ce,i=t.apply(this,arguments)||this,i.targetIds={},i}var r=e.prototype;return r.handler=function(n){var o=wce[n.type],s=Sce.call(this,n,o);s&&this.callback(this.manager,o,{pointers:s[0],changedPointers:s[1],pointerType:Ul,srcEvent:n})},e}(Vs);function Sce(t,e){var r=Ga(t.touches),i=this.targetIds;if(e&(Ut|So)&&r.length===1)return i[r[0].identifier]=!0,[r,r];var n,o,s=Ga(t.changedTouches),a=[],l=this.target;if(o=r.filter(function(c){return Im(c.target,l)}),e===Ut)for(n=0;n<o.length;)i[o[n].identifier]=!0,n++;for(n=0;n<s.length;)i[s[n].identifier]&&a.push(s[n]),e&(ft|rr)&&delete i[s[n].identifier],n++;if(a.length)return[Om(o.concat(a),"identifier",!0),a]}var Ece={mousedown:Ut,mousemove:So,mouseup:ft},Tce="mousedown",Ice="mousemove mouseup",Pm=function(t){Pr(e,t);function e(){var i,n=e.prototype;return n.evEl=Tce,n.evWin=Ice,i=t.apply(this,arguments)||this,i.pressed=!1,i}var r=e.prototype;return r.handler=function(n){var o=Ece[n.type];o&Ut&&n.button===0&&(this.pressed=!0),o&So&&n.which!==1&&(o=ft),this.pressed&&(o&ft&&(this.pressed=!1),this.callback(this.manager,o,{pointers:[n],changedPointers:[n],pointerType:Tm,srcEvent:n}))},e}(Vs),Oce=2500,m0=25;function y0(t){var e=t.changedPointers,r=e[0];if(r.identifier===this.primaryTouch){var i={x:r.clientX,y:r.clientY},n=this.lastTouches;this.lastTouches.push(i);var o=function(){var a=n.indexOf(i);a>-1&&n.splice(a,1)};setTimeout(o,Oce)}}function xce(t,e){t&Ut?(this.primaryTouch=e.changedPointers[0].identifier,y0.call(this,e)):t&(ft|rr)&&y0.call(this,e)}function Pce(t){for(var e=t.srcEvent.clientX,r=t.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var n=this.lastTouches[i],o=Math.abs(e-n.x),s=Math.abs(r-n.y);if(o<=m0&&s<=m0)return!0}return!1}var PP=function(){var t=function(e){Pr(r,e);function r(n,o){var s;return s=e.call(this,n,o)||this,s.handler=function(a,l,c){var d=c.pointerType===Ul,u=c.pointerType===Tm;if(!(u&&c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents)){if(d)xce.call(Cc(Cc(s)),l,c);else if(u&&Pce.call(Cc(Cc(s)),c))return;s.callback(a,l,c)}},s.touch=new xm(s.manager,s.handler),s.mouse=new Pm(s.manager,s.handler),s.primaryTouch=null,s.lastTouches=[],s}var i=r.prototype;return i.destroy=function(){this.touch.destroy(),this.mouse.destroy()},r}(Vs);return t}();function kce(t){var e,r=t.options.inputClass;return r?e=r:ace?e=xP:lce?e=xm:bP?e=PP:e=Pm,new e(t,yce)}function Jo(t,e,r){return Array.isArray(t)?(Ii(t,r[e],r),!0):!1}var ed=1,Ir=2,bs=4,cn=8,Oi=cn,Xa=16,ii=32,Cce=1;function Ace(){return Cce++}function Dc(t,e){var r=e.manager;return r?r.get(t):t}function b0(t){return t&Xa?"cancel":t&cn?"end":t&bs?"move":t&Ir?"start":""}var Gl=function(){function t(r){r===void 0&&(r={}),this.options=Hr({enable:!0},r),this.id=Ace(),this.manager=null,this.state=ed,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(i){return ao(this.options,i),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(i){if(Jo(i,"recognizeWith",this))return this;var n=this.simultaneous;return i=Dc(i,this),n[i.id]||(n[i.id]=i,i.recognizeWith(this)),this},e.dropRecognizeWith=function(i){return Jo(i,"dropRecognizeWith",this)?this:(i=Dc(i,this),delete this.simultaneous[i.id],this)},e.requireFailure=function(i){if(Jo(i,"requireFailure",this))return this;var n=this.requireFail;return i=Dc(i,this),co(n,i)===-1&&(n.push(i),i.requireFailure(this)),this},e.dropRequireFailure=function(i){if(Jo(i,"dropRequireFailure",this))return this;i=Dc(i,this);var n=co(this.requireFail,i);return n>-1&&this.requireFail.splice(n,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(i){return!!this.simultaneous[i.id]},e.emit=function(i){var n=this,o=this.state;function s(a){n.manager.emit(a,i)}o<cn&&s(n.options.event+b0(o)),s(n.options.event),i.additionalEvent&&s(i.additionalEvent),o>=cn&&s(n.options.event+b0(o))},e.tryEmit=function(i){if(this.canEmit())return this.emit(i);this.state=ii},e.canEmit=function(){for(var i=0;i<this.requireFail.length;){if(!(this.requireFail[i].state&(ii|ed)))return!1;i++}return!0},e.recognize=function(i){var n=ao({},i);if(!Xu(this.options.enable,[this,n])){this.reset(),this.state=ii;return}this.state&(Oi|Xa|ii)&&(this.state=ed),this.state=this.process(n),this.state&(Ir|bs|cn|Xa)&&this.tryEmit(n)},e.process=function(i){},e.getTouchAction=function(){},e.reset=function(){},t}(),Hv=function(t){Pr(e,t);function e(i){var n;return i===void 0&&(i={}),n=t.call(this,Hr({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},i))||this,n.pTime=!1,n.pCenter=!1,n._timer=null,n._input=null,n.count=0,n}var r=e.prototype;return r.getTouchAction=function(){return[jv]},r.process=function(n){var o=this,s=this.options,a=n.pointers.length===s.pointers,l=n.distance<s.threshold,c=n.deltaTime<s.time;if(this.reset(),n.eventType&Ut&&this.count===0)return this.failTimeout();if(l&&c&&a){if(n.eventType!==ft)return this.failTimeout();var d=this.pTime?n.timeStamp-this.pTime<s.interval:!0,u=!this.pCenter||Fd(this.pCenter,n.center)<s.posThreshold;this.pTime=n.timeStamp,this.pCenter=n.center,!u||!d?this.count=1:this.count+=1,this._input=n;var h=this.count%s.taps;if(h===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){o.state=Oi,o.tryEmit()},s.interval),Ir):Oi}return ii},r.failTimeout=function(){var n=this;return this._timer=setTimeout(function(){n.state=ii},this.options.interval),ii},r.reset=function(){clearTimeout(this._timer)},r.emit=function(){this.state===Oi&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(Gl),$s=function(t){Pr(e,t);function e(i){return i===void 0&&(i={}),t.call(this,Hr({pointers:1},i))||this}var r=e.prototype;return r.attrTest=function(n){var o=this.options.pointers;return o===0||n.pointers.length===o},r.process=function(n){var o=this.state,s=n.eventType,a=o&(Ir|bs),l=this.attrTest(n);return a&&(s&rr||!l)?o|Xa:a||l?s&ft?o|cn:o&Ir?o|bs:Ir:ii},e}(Gl);function kP(t){return t===ys?"down":t===Kl?"up":t===Yl?"left":t===ql?"right":""}var km=function(t){Pr(e,t);function e(i){var n;return i===void 0&&(i={}),n=t.call(this,Hr({event:"pan",threshold:10,pointers:1,direction:$P},i))||this,n.pX=null,n.pY=null,n}var r=e.prototype;return r.getTouchAction=function(){var n=this.options.direction,o=[];return n&ai&&o.push(qa),n&eo&&o.push(Ya),o},r.directionTest=function(n){var o=this.options,s=!0,a=n.distance,l=n.direction,c=n.deltaX,d=n.deltaY;return l&o.direction||(o.direction&ai?(l=c===0?Rd:c<0?Yl:ql,s=c!==this.pX,a=Math.abs(n.deltaX)):(l=d===0?Rd:d<0?Kl:ys,s=d!==this.pY,a=Math.abs(n.deltaY))),n.direction=l,s&&a>o.threshold&&l&o.direction},r.attrTest=function(n){return $s.prototype.attrTest.call(this,n)&&(this.state&Ir||!(this.state&Ir)&&this.directionTest(n))},r.emit=function(n){this.pX=n.deltaX,this.pY=n.deltaY;var o=kP(n.direction);o&&(n.additionalEvent=this.options.event+o),t.prototype.emit.call(this,n)},e}($s),CP=function(t){Pr(e,t);function e(i){return i===void 0&&(i={}),t.call(this,Hr({event:"swipe",threshold:10,velocity:.3,direction:ai|eo,pointers:1},i))||this}var r=e.prototype;return r.getTouchAction=function(){return km.prototype.getTouchAction.call(this)},r.attrTest=function(n){var o=this.options.direction,s;return o&(ai|eo)?s=n.overallVelocity:o&ai?s=n.overallVelocityX:o&eo&&(s=n.overallVelocityY),t.prototype.attrTest.call(this,n)&&o&n.offsetDirection&&n.distance>this.options.threshold&&n.maxPointers===this.options.pointers&&lo(s)>this.options.velocity&&n.eventType&ft},r.emit=function(n){var o=kP(n.offsetDirection);o&&this.manager.emit(this.options.event+o,n),this.manager.emit(this.options.event,n)},e}($s),AP=function(t){Pr(e,t);function e(i){return i===void 0&&(i={}),t.call(this,Hr({event:"pinch",threshold:0,pointers:2},i))||this}var r=e.prototype;return r.getTouchAction=function(){return[Qn]},r.attrTest=function(n){return t.prototype.attrTest.call(this,n)&&(Math.abs(n.scale-1)>this.options.threshold||this.state&Ir)},r.emit=function(n){if(n.scale!==1){var o=n.scale<1?"in":"out";n.additionalEvent=this.options.event+o}t.prototype.emit.call(this,n)},e}($s),DP=function(t){Pr(e,t);function e(i){return i===void 0&&(i={}),t.call(this,Hr({event:"rotate",threshold:0,pointers:2},i))||this}var r=e.prototype;return r.getTouchAction=function(){return[Qn]},r.attrTest=function(n){return t.prototype.attrTest.call(this,n)&&(Math.abs(n.rotation)>this.options.threshold||this.state&Ir)},e}($s),MP=function(t){Pr(e,t);function e(i){var n;return i===void 0&&(i={}),n=t.call(this,Hr({event:"press",pointers:1,time:251,threshold:9},i))||this,n._timer=null,n._input=null,n}var r=e.prototype;return r.getTouchAction=function(){return[yP]},r.process=function(n){var o=this,s=this.options,a=n.pointers.length===s.pointers,l=n.distance<s.threshold,c=n.deltaTime>s.time;if(this._input=n,!l||!a||n.eventType&(ft|rr)&&!c)this.reset();else if(n.eventType&Ut)this.reset(),this._timer=setTimeout(function(){o.state=Oi,o.tryEmit()},s.time);else if(n.eventType&ft)return Oi;return ii},r.reset=function(){clearTimeout(this._timer)},r.emit=function(n){this.state===Oi&&(n&&n.eventType&ft?this.manager.emit(this.options.event+"up",n):(this._input.timeStamp=Em(),this.manager.emit(this.options.event,this._input)))},e}(Gl),RP={domEvents:!1,touchAction:mP,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},$0=[[DP,{enable:!1}],[AP,{enable:!1},["rotate"]],[CP,{direction:ai}],[km,{direction:ai},["swipe"]],[Hv],[Hv,{event:"doubletap",taps:2},["tap"]],[MP]],Dce=1,w0=2;function _0(t,e){var r=t.element;if(r.style){var i;Ii(t.options.cssProps,function(n,o){i=Gu(r.style,o),e?(t.oldCssProps[i]=r.style[i],r.style[i]=n):r.style[i]=t.oldCssProps[i]||""}),e||(t.oldCssProps={})}}function Mce(t,e){var r=document.createEvent("Event");r.initEvent(t,!0,!0),r.gesture=e,e.target.dispatchEvent(r)}var S0=function(){function t(r,i){var n=this;this.options=ao({},RP,i||{}),this.options.inputTarget=this.options.inputTarget||r,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=r,this.input=kce(this),this.touchAction=new _P(this,this.options.touchAction),_0(this,!0),Ii(this.options.recognizers,function(o){var s=n.add(new o[0](o[1]));o[2]&&s.recognizeWith(o[2]),o[3]&&s.requireFailure(o[3])},this)}var e=t.prototype;return e.set=function(i){return ao(this.options,i),i.touchAction&&this.touchAction.update(),i.inputTarget&&(this.input.destroy(),this.input.target=i.inputTarget,this.input.init()),this},e.stop=function(i){this.session.stopped=i?w0:Dce},e.recognize=function(i){var n=this.session;if(!n.stopped){this.touchAction.preventDefaults(i);var o,s=this.recognizers,a=n.curRecognizer;(!a||a&&a.state&Oi)&&(n.curRecognizer=null,a=null);for(var l=0;l<s.length;)o=s[l],n.stopped!==w0&&(!a||o===a||o.canRecognizeWith(a))?o.recognize(i):o.reset(),!a&&o.state&(Ir|bs|cn)&&(n.curRecognizer=o,a=o),l++}},e.get=function(i){if(i instanceof Gl)return i;for(var n=this.recognizers,o=0;o<n.length;o++)if(n[o].options.event===i)return n[o];return null},e.add=function(i){if(Jo(i,"add",this))return this;var n=this.get(i.options.event);return n&&this.remove(n),this.recognizers.push(i),i.manager=this,this.touchAction.update(),i},e.remove=function(i){if(Jo(i,"remove",this))return this;var n=this.get(i);if(i){var o=this.recognizers,s=co(o,n);s!==-1&&(o.splice(s,1),this.touchAction.update())}return this},e.on=function(i,n){if(i===void 0||n===void 0)return this;var o=this.handlers;return Ii(Ka(i),function(s){o[s]=o[s]||[],o[s].push(n)}),this},e.off=function(i,n){if(i===void 0)return this;var o=this.handlers;return Ii(Ka(i),function(s){n?o[s]&&o[s].splice(co(o[s],n),1):delete o[s]}),this},e.emit=function(i,n){this.options.domEvents&&Mce(i,n);var o=this.handlers[i]&&this.handlers[i].slice();if(!(!o||!o.length)){n.type=i,n.preventDefault=function(){n.srcEvent.preventDefault()};for(var s=0;s<o.length;)o[s](n),s++}},e.destroy=function(){this.element&&_0(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),Rce={touchstart:Ut,touchmove:So,touchend:ft,touchcancel:rr},Nce="touchstart",Fce="touchstart touchmove touchend touchcancel",Bce=function(t){Pr(e,t);function e(){var i,n=e.prototype;return n.evTarget=Nce,n.evWin=Fce,i=t.apply(this,arguments)||this,i.started=!1,i}var r=e.prototype;return r.handler=function(n){var o=Rce[n.type];if(o===Ut&&(this.started=!0),!!this.started){var s=Lce.call(this,n,o);o&(ft|rr)&&s[0].length-s[1].length===0&&(this.started=!1),this.callback(this.manager,o,{pointers:s[0],changedPointers:s[1],pointerType:Ul,srcEvent:n})}},e}(Vs);function Lce(t,e){var r=Ga(t.touches),i=Ga(t.changedTouches);return e&(ft|rr)&&(r=Om(r.concat(i),"identifier",!0)),[r,i]}function NP(t,e,r){var i="DEPRECATED METHOD: "+e+`
`+r+` AT 
`;return function(){var n=new Error("get-stack-trace"),o=n&&n.stack?n.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",s=window.console&&(window.console.warn||window.console.log);return s&&s.call(window.console,i,o),t.apply(this,arguments)}}var FP=NP(function(t,e,r){for(var i=Object.keys(e),n=0;n<i.length;)(!r||r&&t[i[n]]===void 0)&&(t[i[n]]=e[i[n]]),n++;return t},"extend","Use `assign`."),jce=NP(function(t,e){return FP(t,e,!0)},"merge","Use `assign`.");function zce(t,e,r){var i=e.prototype,n;n=t.prototype=Object.create(i),n.constructor=t,n._super=i,r&&ao(n,r)}function E0(t,e){return function(){return t.apply(e,arguments)}}var BP=function(){var t=function(r,i){return i===void 0&&(i={}),new S0(r,Hr({recognizers:$0.concat()},i))};return t.VERSION="2.0.17-rc",t.DIRECTION_ALL=$P,t.DIRECTION_DOWN=ys,t.DIRECTION_LEFT=Yl,t.DIRECTION_RIGHT=ql,t.DIRECTION_UP=Kl,t.DIRECTION_HORIZONTAL=ai,t.DIRECTION_VERTICAL=eo,t.DIRECTION_NONE=Rd,t.DIRECTION_DOWN=ys,t.INPUT_START=Ut,t.INPUT_MOVE=So,t.INPUT_END=ft,t.INPUT_CANCEL=rr,t.STATE_POSSIBLE=ed,t.STATE_BEGAN=Ir,t.STATE_CHANGED=bs,t.STATE_ENDED=cn,t.STATE_RECOGNIZED=Oi,t.STATE_CANCELLED=Xa,t.STATE_FAILED=ii,t.Manager=S0,t.Input=Vs,t.TouchAction=_P,t.TouchInput=xm,t.MouseInput=Pm,t.PointerEventInput=xP,t.TouchMouseInput=PP,t.SingleTouchInput=Bce,t.Recognizer=Gl,t.AttrRecognizer=$s,t.Tap=Hv,t.Pan=km,t.Swipe=CP,t.Pinch=AP,t.Rotate=DP,t.Press=MP,t.on=_a,t.off=Sa,t.each=Ii,t.merge=jce,t.extend=FP,t.bindFn=E0,t.assign=ao,t.inherit=zce,t.bindFn=E0,t.prefixed=Gu,t.toArray=Ga,t.inArray=co,t.uniqueArray=Om,t.splitStr=Ka,t.boolOrFn=Xu,t.hasParent=Im,t.addEventListeners=_a,t.removeEventListeners=Sa,t.defaults=ao({},RP,{preset:$0}),t}();BP.defaults;var Hce=BP;Xie("DELETE");function Ju(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return Wce(e.length?e:[Md()])}function Wce(t){let[e,r,i]=Vce(t),n=1;const o=()=>{const s=2091639*e+n*23283064365386963e-26;return e=r,r=i,i=s-(n=s|0)};return o.uint32=()=>o()*4294967296,o.fract53=()=>o()+(o()*2097152|0)*11102230246251565e-32,o.algorithm="Alea",o.seed=t,o.version="0.9",o}function Vce(){const t=Uce();let e=t(" "),r=t(" "),i=t(" ");for(let n=0;n<arguments.length;n++)e-=t(n<0||arguments.length<=n?void 0:arguments[n]),e<0&&(e+=1),r-=t(n<0||arguments.length<=n?void 0:arguments[n]),r<0&&(r+=1),i-=t(n<0||arguments.length<=n?void 0:arguments[n]),i<0&&(i+=1);return[e,r,i]}function Uce(){let t=4022871197;return function(e){const r=e.toString();for(let i=0;i<r.length;i++){t+=r.charCodeAt(i);let n=.02519603282416938*t;t=n>>>0,n-=t,n*=t,t=n>>>0,n-=t,t+=n*4294967296}return(t>>>0)*23283064365386963e-26}}function Yce(){const t=()=>{};return{on:t,off:t,destroy:t,emit:t,get(){return{set:t}}}}const Cm=typeof window<"u"?window.Hammer||Hce:function(){return Yce()};function ni(t){var e;this._cleanupQueue=[],this.active=!1,this._dom={container:t,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});const r=Cm(this._dom.overlay);r.on("tap",M(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(()=>{r.destroy()});const i=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];Re(i).call(i,n=>{r.on(n,o=>{o.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=n=>{qce(n.target,t)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=n=>{("key"in n?n.key==="Escape":n.keyCode===27)&&this.deactivate()}}ax(ni.prototype);ni.current=null;ni.prototype.destroy=function(){this.deactivate();for(const r of Jn(t=Si(e=this._cleanupQueue).call(e,0)).call(t)){var t,e;r()}};ni.prototype.activate=function(){ni.current&&ni.current.deactivate(),ni.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};ni.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};ni.prototype._onTapOverlay=function(t){this.activate(),t.srcEvent.stopPropagation()};function qce(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}const Kce=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Gce=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Xce=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,Jce=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function Ki(t){if(t)for(;t.hasChildNodes()===!0;){const e=t.firstChild;e&&(Ki(e),t.removeChild(e))}}function is(t){return t instanceof String||typeof t=="string"}function T0(t){return typeof t=="object"&&t!==null}function uo(t,e,r,i){let n=!1;i===!0&&(n=e[r]===null&&t[r]!==void 0),n?delete t[r]:t[r]=e[r]}function LP(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;for(const i in t)if(e[i]!==void 0)if(e[i]===null||typeof e[i]!="object")uo(t,e,i,r);else{const n=t[i],o=e[i];T0(n)&&T0(o)&&LP(n,o,r)}}function Us(t,e,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(Qe(r))throw new TypeError("Arrays are not supported by deepExtend");for(let n=0;n<t.length;n++){const o=t[n];if(Object.prototype.hasOwnProperty.call(r,o))if(r[o]&&r[o].constructor===Object)e[o]===void 0&&(e[o]={}),e[o].constructor===Object?Le(e[o],r[o],!1,i):uo(e,r,o,i);else{if(Qe(r[o]))throw new TypeError("Arrays are not supported by deepExtend");uo(e,r,o,i)}}return e}function Bd(t,e,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(Qe(r))throw new TypeError("Arrays are not supported by deepExtend");for(const n in r)if(Object.prototype.hasOwnProperty.call(r,n)&&!ln(t).call(t,n))if(r[n]&&r[n].constructor===Object)e[n]===void 0&&(e[n]={}),e[n].constructor===Object?Le(e[n],r[n]):uo(e,r,n,i);else if(Qe(r[n])){e[n]=[];for(let o=0;o<r[n].length;o++)e[n].push(r[n][o])}else uo(e,r,n,i);return e}function Le(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;for(const o in e)if(Object.prototype.hasOwnProperty.call(e,o)||r===!0)if(typeof e[o]=="object"&&e[o]!==null&&o0(e[o])===Object.prototype)t[o]===void 0?t[o]=Le({},e[o],r):typeof t[o]=="object"&&t[o]!==null&&o0(t[o])===Object.prototype?Le(t[o],e[o],r):uo(t,e,o,i);else if(Qe(e[o])){var n;t[o]=ti(n=e[o]).call(n)}else uo(t,e,o,i);return t}function Ld(t,e){return[...t,e]}function Zce(t){return ti(t).call(t)}function Qce(t){return t.getBoundingClientRect().left}function ede(t){return t.getBoundingClientRect().top}function me(t,e){if(Qe(t)){const r=t.length;for(let i=0;i<r;i++)e(t[i],i,t)}else for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(t[r],r,t)}function Am(t){let e;switch(t.length){case 3:case 4:return e=Gce.exec(t),e?{r:Mr(e[1]+e[1],16),g:Mr(e[2]+e[2],16),b:Mr(e[3]+e[3],16)}:null;case 6:case 7:return e=Kce.exec(t),e?{r:Mr(e[1],16),g:Mr(e[2],16),b:Mr(e[3],16)}:null;default:return null}}function wr(t,e){if(ln(t).call(t,"rgba"))return t;if(ln(t).call(t,"rgb")){const r=t.substr(ke(t).call(t,"(")+1).replace(")","").split(",");return"rgba("+r[0]+","+r[1]+","+r[2]+","+e+")"}else{const r=Am(t);return r==null?t:"rgba("+r.r+","+r.g+","+r.b+","+e+")"}}function jP(t,e,r){var i;return"#"+ti(i=((1<<24)+(t<<16)+(e<<8)+r).toString(16)).call(i,1)}function Wv(t,e){if(is(t)){let i=t;if(HP(i)){var r;const n=ms(r=i.substr(4).substr(0,i.length-5).split(",")).call(r,function(o){return Mr(o)});i=jP(n[0],n[1],n[2])}if(zP(i)===!0){const n=tde(i),o={h:n.h,s:n.s*.8,v:Math.min(1,n.v*1.02)},s={h:n.h,s:Math.min(1,n.s*1.25),v:n.v*.8},a=Vv(s.h,s.s,s.v),l=Vv(o.h,o.s,o.v);return{background:i,border:a,highlight:{background:l,border:a},hover:{background:l,border:a}}}else return{background:i,border:i,highlight:{background:i,border:i},hover:{background:i,border:i}}}else return{background:t.background||void 0,border:t.border||void 0,highlight:is(t.highlight)?{border:t.highlight,background:t.highlight}:{background:t.highlight&&t.highlight.background||void 0,border:t.highlight&&t.highlight.border||void 0},hover:is(t.hover)?{border:t.hover,background:t.hover}:{border:t.hover&&t.hover.border||void 0,background:t.hover&&t.hover.background||void 0}}}function sa(t,e,r){t=t/255,e=e/255,r=r/255;const i=Math.min(t,Math.min(e,r)),n=Math.max(t,Math.max(e,r));if(i===n)return{h:0,s:0,v:i};const o=t===i?e-r:r===i?t-e:r-t,a=60*((t===i?3:r===i?1:5)-o/(n-i))/360,l=(n-i)/n;return{h:a,s:l,v:n}}function td(t,e,r){let i,n,o;const s=Math.floor(t*6),a=t*6-s,l=r*(1-e),c=r*(1-a*e),d=r*(1-(1-a)*e);switch(s%6){case 0:i=r,n=d,o=l;break;case 1:i=c,n=r,o=l;break;case 2:i=l,n=r,o=d;break;case 3:i=l,n=c,o=r;break;case 4:i=d,n=l,o=r;break;case 5:i=r,n=l,o=c;break}return{r:Math.floor(i*255),g:Math.floor(n*255),b:Math.floor(o*255)}}function Vv(t,e,r){const i=td(t,e,r);return jP(i.r,i.g,i.b)}function tde(t){const e=Am(t);if(!e)throw new TypeError("'".concat(t,"' is not a valid color."));return sa(e.r,e.g,e.b)}function zP(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)}function HP(t){return Xce.test(t)}function rde(t){return Jce.test(t)}function dn(t){if(t===null||typeof t!="object")return null;if(t instanceof Element)return t;const e=Zn(t);for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&typeof t[r]=="object"&&(e[r]=dn(t[r]));return e}function $r(t,e,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const n=function(f){return f!=null},o=function(f){return f!==null&&typeof f=="object"},s=function(f){for(const p in f)if(Object.prototype.hasOwnProperty.call(f,p))return!1;return!0};if(!o(t))throw new Error("Parameter mergeTarget must be an object");if(!o(e))throw new Error("Parameter options must be an object");if(!n(r))throw new Error("Parameter option must have a value");if(!o(i))throw new Error("Parameter globalOptions must be an object");const a=function(f,p,g){o(f[g])||(f[g]={});const $=p[g],y=f[g];for(const b in $)Object.prototype.hasOwnProperty.call($,b)&&(y[b]=$[b])},l=e[r],d=o(i)&&!s(i)?i[r]:void 0,u=d?d.enabled:void 0;if(l===void 0)return;if(typeof l=="boolean"){o(t[r])||(t[r]={}),t[r].enabled=l;return}if(l===null&&!o(t[r]))if(n(d))t[r]=Zn(d);else return;if(!o(l))return;let h=!0;l.enabled!==void 0?h=l.enabled:u!==void 0&&(h=d.enabled),a(t,e,r),t[r].enabled=h}const ide={linear(t){return t},easeInQuad(t){return t*t},easeOutQuad(t){return t*(2-t)},easeInOutQuad(t){return t<.5?2*t*t:-1+(4-2*t)*t},easeInCubic(t){return t*t*t},easeOutCubic(t){return--t*t*t+1},easeInOutCubic(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart(t){return t*t*t*t},easeOutQuart(t){return 1- --t*t*t*t},easeInOutQuart(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint(t){return t*t*t*t*t},easeOutQuint(t){return 1+--t*t*t*t*t},easeInOutQuint(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}};function Gi(t,e){let r;Qe(e)||(e=[e]);for(const i of t)if(i){r=i[e[0]];for(let n=1;n<e.length;n++)r&&(r=r[e[n]]);if(typeof r<"u")break}return r}const nde={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"};let ode=class{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:289/2,y:289/2},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=()=>{},this.closeCallback=()=>{},this._create()}insertTo(e){this.hammer!==void 0&&(this.hammer.destroy(),this.hammer=void 0),this.container=e,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}setUpdateCallback(e){if(typeof e=="function")this.updateCallback=e;else throw new Error("Function attempted to set as colorPicker update callback is not a function.")}setCloseCallback(e){if(typeof e=="function")this.closeCallback=e;else throw new Error("Function attempted to set as colorPicker closing callback is not a function.")}_isColorString(e){if(typeof e=="string")return nde[e]}setColor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e==="none")return;let i;const n=this._isColorString(e);if(n!==void 0&&(e=n),is(e)===!0){if(HP(e)===!0){const o=e.substr(4).substr(0,e.length-5).split(",");i={r:o[0],g:o[1],b:o[2],a:1}}else if(rde(e)===!0){const o=e.substr(5).substr(0,e.length-6).split(",");i={r:o[0],g:o[1],b:o[2],a:o[3]}}else if(zP(e)===!0){const o=Am(e);i={r:o.r,g:o.g,b:o.b,a:1}}}else if(e instanceof Object&&e.r!==void 0&&e.g!==void 0&&e.b!==void 0){const o=e.a!==void 0?e.a:"1.0";i={r:e.r,g:e.g,b:e.b,a:o}}if(i===void 0)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+Wl(e));this._setColor(i,r)}show(){this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}_hide(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)===!0&&(this.previousColor=ht({},this.color)),this.applied===!0&&this.updateCallback(this.initialColor),this.frame.style.display="none",Ei(()=>{this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0)},0)}_save(){this.updateCallback(this.color),this.applied=!1,this._hide()}_apply(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}_loadLast(){this.previousColor!==void 0?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}_setColor(e){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)===!0&&(this.initialColor=ht({},e)),this.color=e;const i=sa(e.r,e.g,e.b),n=2*Math.PI,o=this.r*i.s,s=this.centerCoordinates.x+o*Math.sin(n*i.h),a=this.centerCoordinates.y+o*Math.cos(n*i.h);this.colorPickerSelector.style.left=s-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=a-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(e)}_setOpacity(e){this.color.a=e/100,this._updatePicker(this.color)}_setBrightness(e){const r=sa(this.color.r,this.color.g,this.color.b);r.v=e/100;const i=td(r.h,r.s,r.v);i.a=this.color.a,this.color=i,this._updatePicker()}_updatePicker(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.color;const r=sa(e.r,e.g,e.b),i=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1)),i.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const n=this.colorPickerCanvas.clientWidth,o=this.colorPickerCanvas.clientHeight;i.clearRect(0,0,n,o),i.putImageData(this.hueCircle,0,0),i.fillStyle="rgba(0,0,0,"+(1-r.v)+")",i.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),Vl(i).call(i),this.brightnessRange.value=100*r.v,this.opacityRange.value=100*e.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}_setSize(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}_create(){var e,r,i,n;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){const s=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(s.webkitBackingStorePixelRatio||s.mozBackingStorePixelRatio||s.msBackingStorePixelRatio||s.oBackingStorePixelRatio||s.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{const s=document.createElement("DIV");s.style.color="red",s.style.fontWeight="bold",s.style.padding="10px",s.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(s)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch{}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch{}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);const o=this;this.opacityRange.onchange=function(){o._setOpacity(this.value)},this.opacityRange.oninput=function(){o._setOpacity(this.value)},this.brightnessRange.onchange=function(){o._setBrightness(this.value)},this.brightnessRange.oninput=function(){o._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=M(e=this._hide).call(e,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=M(r=this._apply).call(r,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=M(i=this._save).call(i,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=M(n=this._loadLast).call(n,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}_bindHammer(){this.drag={},this.pinch={},this.hammer=new Cm(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",e=>{e.isFirst&&this._moveSelector(e)}),this.hammer.on("tap",e=>{this._moveSelector(e)}),this.hammer.on("panstart",e=>{this._moveSelector(e)}),this.hammer.on("panmove",e=>{this._moveSelector(e)}),this.hammer.on("panend",e=>{this._moveSelector(e)})}_generateHueCircle(){if(this.generated===!1){const e=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const r=this.colorPickerCanvas.clientWidth,i=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,r,i);let n,o,s,a;this.centerCoordinates={x:r*.5,y:i*.5},this.r=.49*r;const l=2*Math.PI/360,c=1/360,d=1/this.r;let u;for(s=0;s<360;s++)for(a=0;a<this.r;a++)n=this.centerCoordinates.x+a*Math.sin(l*s),o=this.centerCoordinates.y+a*Math.cos(l*s),u=td(s*c,a*d,1),e.fillStyle="rgb("+u.r+","+u.g+","+u.b+")",e.fillRect(n-.5,o-.5,2,2);e.strokeStyle="rgba(0,0,0,1)",e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),e.stroke(),this.hueCircle=e.getImageData(0,0,r,i)}this.generated=!0}_moveSelector(e){const r=this.colorPickerDiv.getBoundingClientRect(),i=e.center.x-r.left,n=e.center.y-r.top,o=.5*this.colorPickerDiv.clientHeight,s=.5*this.colorPickerDiv.clientWidth,a=i-s,l=n-o,c=Math.atan2(a,l),d=.98*Math.min(Math.sqrt(a*a+l*l),s),u=Math.cos(c)*d+o,h=Math.sin(c)*d+s;this.colorPickerSelector.style.top=u-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=h-.5*this.colorPickerSelector.clientWidth+"px";let f=c/(2*Math.PI);f=f<0?f+1:f;const p=d/this.r,g=sa(this.color.r,this.color.g,this.color.b);g.h=f,g.s=p;const $=td(g.h,g.s,g.v);$.a=this.color.a,this.color=$,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}};function Uv(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(e.length<1)throw new TypeError("Invalid arguments.");if(e.length===1)return document.createTextNode(e[0]);{const i=document.createElement(e[0]);return i.appendChild(Uv(...ti(e).call(e,1))),i}}let sde=class{constructor(e,r,i){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:()=>!1;this.parent=e,this.changedOptions=[],this.container=r,this.allowCreation=!1,this.hideOption=o,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},ht(this.options,this.defaultOptions),this.configureOptions=i,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new ode(n),this.wrapper=void 0}setOptions(e){if(e!==void 0){this.popupHistory={},this._removePopup();let r=!0;if(typeof e=="string")this.options.filter=e;else if(Qe(e))this.options.filter=e.join();else if(typeof e=="object"){if(e==null)throw new TypeError("options cannot be null");e.container!==void 0&&(this.options.container=e.container),er(e)!==void 0&&(this.options.filter=er(e)),e.showButton!==void 0&&(this.options.showButton=e.showButton),e.enabled!==void 0&&(r=e.enabled)}else typeof e=="boolean"?(this.options.filter=!0,r=e):typeof e=="function"&&(this.options.filter=e,r=!0);er(this.options)===!1&&(r=!1),this.options.enabled=r}this._clean()}setModuleOptions(e){this.moduleOptions=e,this.options.enabled===!0&&(this._clean(),this.options.container!==void 0&&(this.container=this.options.container),this._create())}_create(){this._clean(),this.changedOptions=[];const e=er(this.options);let r=0,i=!1;for(const n in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,n)&&(this.allowCreation=!1,i=!1,typeof e=="function"?(i=e(n,[]),i=i||this._handleObject(this.configureOptions[n],[n],!0)):(e===!0||ke(e).call(e,n)!==-1)&&(i=!0),i!==!1&&(this.allowCreation=!0,r>0&&this._makeItem([]),this._makeHeader(n),this._handleObject(this.configureOptions[n],[n])),r++);this._makeButton(),this._push()}_push(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(let e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e]);this._showPopupIfNeeded()}_clean(){for(let e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);this.wrapper!==void 0&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}_getValue(e){let r=this.moduleOptions;for(let i=0;i<e.length;i++)if(r[e[i]]!==void 0)r=r[e[i]];else{r=void 0;break}return r}_makeItem(e){if(this.allowCreation===!0){const o=document.createElement("div");o.className="vis-configuration vis-config-item vis-config-s"+e.length;for(var r=arguments.length,i=new Array(r>1?r-1:0),n=1;n<r;n++)i[n-1]=arguments[n];return Re(i).call(i,s=>{o.appendChild(s)}),this.domElements.push(o),this.domElements.length}return 0}_makeHeader(e){const r=document.createElement("div");r.className="vis-configuration vis-config-header",r.innerText=e,this._makeItem([],r)}_makeLabel(e,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const n=document.createElement("div");if(n.className="vis-configuration vis-config-label vis-config-s"+r.length,i===!0){for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(Uv("i","b",e))}else n.innerText=e+":";return n}_makeDropdown(e,r,i){const n=document.createElement("select");n.className="vis-configuration vis-config-select";let o=0;r!==void 0&&ke(e).call(e,r)!==-1&&(o=ke(e).call(e,r));for(let l=0;l<e.length;l++){const c=document.createElement("option");c.value=e[l],l===o&&(c.selected="selected"),c.innerText=e[l],n.appendChild(c)}const s=this;n.onchange=function(){s._update(this.value,i)};const a=this._makeLabel(i[i.length-1],i);this._makeItem(i,a,n)}_makeRange(e,r,i){const n=e[0],o=e[1],s=e[2],a=e[3],l=document.createElement("input");l.className="vis-configuration vis-config-range";try{l.type="range",l.min=o,l.max=s}catch{}l.step=a;let c="",d=0;r!==void 0?(r<0&&r*1.2<o?(l.min=Math.ceil(r*1.2),d=l.min,c="range increased"):r/1.2<o&&(l.min=Math.ceil(r/1.2),d=l.min,c="range increased"),r*1.2>s&&s!==1&&(l.max=Math.ceil(r*1.2),d=l.max,c="range increased"),l.value=r):l.value=n;const u=document.createElement("input");u.className="vis-configuration vis-config-rangeinput",u.value=l.value;const h=this;l.onchange=function(){u.value=this.value,h._update(Number(this.value),i)},l.oninput=function(){u.value=this.value};const f=this._makeLabel(i[i.length-1],i),p=this._makeItem(i,f,l,u);c!==""&&this.popupHistory[p]!==d&&(this.popupHistory[p]=d,this._setupPopup(c,p))}_makeButton(){if(this.options.showButton===!0){const e=document.createElement("div");e.className="vis-configuration vis-config-button",e.innerText="generate options",e.onclick=()=>{this._printOptions()},e.onmouseover=()=>{e.className="vis-configuration vis-config-button hover"},e.onmouseout=()=>{e.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(e)}}_setupPopup(e,r){if(this.initialized===!0&&this.allowCreation===!0&&this.popupCounter<this.popupLimit){const i=document.createElement("div");i.id="vis-configuration-popup",i.className="vis-configuration-popup",i.innerText=e,i.onclick=()=>{this._removePopup()},this.popupCounter+=1,this.popupDiv={html:i,index:r}}}_removePopup(){this.popupDiv.html!==void 0&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}_showPopupIfNeeded(){if(this.popupDiv.html!==void 0){const r=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=r.left+"px",this.popupDiv.html.style.top=r.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=Ei(()=>{this.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=Ei(()=>{this._removePopup()},1800)}}_makeCheckbox(e,r,i){const n=document.createElement("input");n.type="checkbox",n.className="vis-configuration vis-config-checkbox",n.checked=e,r!==void 0&&(n.checked=r,r!==e&&(typeof e=="object"?r!==e.enabled&&this.changedOptions.push({path:i,value:r}):this.changedOptions.push({path:i,value:r})));const o=this;n.onchange=function(){o._update(this.checked,i)};const s=this._makeLabel(i[i.length-1],i);this._makeItem(i,s,n)}_makeTextInput(e,r,i){const n=document.createElement("input");n.type="text",n.className="vis-configuration vis-config-text",n.value=r,r!==e&&this.changedOptions.push({path:i,value:r});const o=this;n.onchange=function(){o._update(this.value,i)};const s=this._makeLabel(i[i.length-1],i);this._makeItem(i,s,n)}_makeColorField(e,r,i){const n=e[1],o=document.createElement("div");r=r===void 0?n:r,r!=="none"?(o.className="vis-configuration vis-config-colorBlock",o.style.backgroundColor=r):o.className="vis-configuration vis-config-colorBlock none",r=r===void 0?n:r,o.onclick=()=>{this._showColorPicker(r,o,i)};const s=this._makeLabel(i[i.length-1],i);this._makeItem(i,s,o)}_showColorPicker(e,r,i){r.onclick=function(){},this.colorPicker.insertTo(r),this.colorPicker.show(),this.colorPicker.setColor(e),this.colorPicker.setUpdateCallback(n=>{const o="rgba("+n.r+","+n.g+","+n.b+","+n.a+")";r.style.backgroundColor=o,this._update(o,i)}),this.colorPicker.setCloseCallback(()=>{r.onclick=()=>{this._showColorPicker(e,r,i)}})}_handleObject(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=!1;const o=er(this.options);let s=!1;for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a)){n=!0;const l=e[a],c=Ld(r,a);if(typeof o=="function"&&(n=o(a,r),n===!1&&!Qe(l)&&typeof l!="string"&&typeof l!="boolean"&&l instanceof Object&&(this.allowCreation=!1,n=this._handleObject(l,c,!0),this.allowCreation=i===!1)),n!==!1){s=!0;const d=this._getValue(c);if(Qe(l))this._handleArray(l,d,c);else if(typeof l=="string")this._makeTextInput(l,d,c);else if(typeof l=="boolean")this._makeCheckbox(l,d,c);else if(l instanceof Object){if(!this.hideOption(r,a,this.moduleOptions))if(l.enabled!==void 0){const u=Ld(c,"enabled"),h=this._getValue(u);if(h===!0){const f=this._makeLabel(a,c,!0);this._makeItem(c,f),s=this._handleObject(l,c)||s}else this._makeCheckbox(l,h,c)}else{const u=this._makeLabel(a,c,!0);this._makeItem(c,u),s=this._handleObject(l,c)||s}}else console.error("dont know how to handle",l,a,c)}}return s}_handleArray(e,r,i){typeof e[0]=="string"&&e[0]==="color"?(this._makeColorField(e,r,i),e[1]!==r&&this.changedOptions.push({path:i,value:r})):typeof e[0]=="string"?(this._makeDropdown(e,r,i),e[0]!==r&&this.changedOptions.push({path:i,value:r})):typeof e[0]=="number"&&(this._makeRange(e,r,i),e[0]!==r&&this.changedOptions.push({path:i,value:Number(r)}))}_update(e,r){const i=this._constructOptions(e,r);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",i),this.initialized=!0,this.parent.setOptions(i)}_constructOptions(e,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=i;e=e==="true"?!0:e,e=e==="false"?!1:e;for(let o=0;o<r.length;o++)r[o]!=="global"&&(n[r[o]]===void 0&&(n[r[o]]={}),o!==r.length-1?n=n[r[o]]:n[r[o]]=e);return i}_printOptions(){const e=this.getOptions();for(;this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(Uv("pre","const options = "+Wl(e,null,2)))}getOptions(){const e={};for(let r=0;r<this.changedOptions.length;r++)this._constructOptions(this.changedOptions[r].value,this.changedOptions[r].path,e);return e}},ade=class{constructor(e,r){this.container=e,this.overflowMethod=r||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}setPosition(e,r){this.x=Mr(e),this.y=Mr(r)}setText(e){if(e instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(e)}else this.frame.innerText=e}show(e){if(e===void 0&&(e=!0),e===!0){const r=this.frame.clientHeight,i=this.frame.clientWidth,n=this.frame.parentNode.clientHeight,o=this.frame.parentNode.clientWidth;let s=0,a=0;if(this.overflowMethod=="flip"){let l=!1,c=!0;this.y-r<this.padding&&(c=!1),this.x+i>o-this.padding&&(l=!0),l?s=this.x-i:s=this.x,c?a=this.y-r:a=this.y}else a=this.y-r,a+r+this.padding>n&&(a=n-r-this.padding),a<this.padding&&(a=this.padding),s=this.x,s+i+this.padding>o&&(s=o-i-this.padding),s<this.padding&&(s=this.padding);this.frame.style.left=s+"px",this.frame.style.top=a+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}hide(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}destroy(){this.frame.parentNode.removeChild(this.frame)}},Qs=!1,I0;const Yv="background: #FFeeee; color: #dd0000";let lde=class Je{static validate(e,r,i){Qs=!1,I0=r;let n=r;return i!==void 0&&(n=r[i]),Je.parse(e,n,[]),Qs}static parse(e,r,i){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&Je.check(n,e,r,i)}static check(e,r,i,n){if(i[e]===void 0&&i.__any__===void 0){Je.getSuggestion(e,i,n);return}let o=e,s=!0;i[e]===void 0&&i.__any__!==void 0&&(o="__any__",s=Je.getType(r[e])==="object");let a=i[o];s&&a.__type__!==void 0&&(a=a.__type__),Je.checkFields(e,r,i,o,a,n)}static checkFields(e,r,i,n,o,s){const a=function(d){console.error("%c"+d+Je.printLocation(s,e),Yv)},l=Je.getType(r[e]),c=o[l];c!==void 0?Je.getType(c)==="array"&&ke(c).call(c,r[e])===-1?(a('Invalid option detected in "'+e+'". Allowed values are:'+Je.print(c)+' not "'+r[e]+'". '),Qs=!0):l==="object"&&n!=="__any__"&&(s=Ld(s,e),Je.parse(r[e],i[n],s)):o.any===void 0&&(a('Invalid type received for "'+e+'". Expected: '+Je.print(Ze(o))+". Received ["+l+'] "'+r[e]+'"'),Qs=!0)}static getType(e){const r=typeof e;return r==="object"?e===null?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":Qe(e)?"array":e instanceof Date?"date":e.nodeType!==void 0?"dom":e._isAMomentObject===!0?"moment":"object":r==="number"?"number":r==="boolean"?"boolean":r==="string"?"string":r===void 0?"undefined":r}static getSuggestion(e,r,i){const n=Je.findInOptions(e,r,i,!1),o=Je.findInOptions(e,I0,[],!0),s=8,a=4;let l;n.indexMatch!==void 0?l=" in "+Je.printLocation(n.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+n.indexMatch+`"?

`:o.distance<=a&&n.distance>o.distance?l=" in "+Je.printLocation(n.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+Je.printLocation(o.path,o.closestMatch,""):n.distance<=s?l='. Did you mean "'+n.closestMatch+'"?'+Je.printLocation(n.path,e):l=". Did you mean one of these: "+Je.print(Ze(r))+Je.printLocation(i,e),console.error('%cUnknown option detected: "'+e+'"'+l,Yv),Qs=!0}static findInOptions(e,r,i){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,o=1e9,s="",a=[];const l=e.toLowerCase();let c;for(const u in r){let h;if(r[u].__type__!==void 0&&n===!0){const f=Je.findInOptions(e,r[u],Ld(i,u));o>f.distance&&(s=f.closestMatch,a=f.path,o=f.distance,c=f.indexMatch)}else{var d;ke(d=u.toLowerCase()).call(d,l)!==-1&&(c=u),h=Je.levenshteinDistance(e,u),o>h&&(s=u,a=Zce(i),o=h)}}return{closestMatch:s,path:a,distance:o,indexMatch:c}}static printLocation(e,r){let n=`

`+(arguments.length>2&&arguments[2]!==void 0?arguments[2]:`Problem value found at: 
`)+`options = {
`;for(let o=0;o<e.length;o++){for(let s=0;s<o+1;s++)n+="  ";n+=e[o]+`: {
`}for(let o=0;o<e.length+1;o++)n+="  ";n+=r+`
`;for(let o=0;o<e.length+1;o++){for(let s=0;s<e.length-o;s++)n+="  ";n+=`}
`}return n+`

`}static print(e){return Wl(e).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}static levenshteinDistance(e,r){if(e.length===0)return r.length;if(r.length===0)return e.length;const i=[];let n;for(n=0;n<=r.length;n++)i[n]=[n];let o;for(o=0;o<=e.length;o++)i[0][o]=o;for(n=1;n<=r.length;n++)for(o=1;o<=e.length;o++)r.charAt(n-1)==e.charAt(o-1)?i[n][o]=i[n-1][o-1]:i[n][o]=Math.min(i[n-1][o-1]+1,Math.min(i[n][o-1]+1,i[n-1][o]+1));return i[r.length][e.length]}};const cde=ni,dde=sde,ns=Cm,ude=ade,WP=Yv,hde=lde;function fde(t){return Qi=t,mde()}var VP={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},Dm=Zn(VP);Dm.color="color.color";Dm.style="dashes";var Bt={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},O0={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},Qi="",ws=0,ge="",oe="",Xt=Bt.NULL;function pde(){ws=0,ge=Qi.charAt(0)}function yt(){ws++,ge=Qi.charAt(ws)}function Bo(){return Qi.charAt(ws+1)}function x0(t){var e=t.charCodeAt(0);return e<47?e===35||e===46:e<59?e>47:e<91?e>64:e<96?e===95:e<123?e>96:!1}function mn(t,e){if(t||(t={}),e)for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}function vde(t,e,r){for(var i=e.split("."),n=t;i.length;){var o=i.shift();i.length?(n[o]||(n[o]={}),n=n[o]):n[o]=r}}function UP(t,e){for(var r,i,n=null,o=[t],s=t;s.parent;)o.push(s.parent),s=s.parent;if(s.nodes){for(r=0,i=s.nodes.length;r<i;r++)if(e.id===s.nodes[r].id){n=s.nodes[r];break}}for(n||(n={id:e.id},t.node&&(n.attr=mn(n.attr,t.node))),r=o.length-1;r>=0;r--){var a,l=o[r];l.nodes||(l.nodes=[]),ke(a=l.nodes).call(a,n)===-1&&l.nodes.push(n)}e.attr&&(n.attr=mn(n.attr,e.attr))}function gde(t,e){if(t.edges||(t.edges=[]),t.edges.push(e),t.edge){var r=mn({},t.edge);e.attr=mn(r,e.attr)}}function YP(t,e,r,i,n){var o={from:e,to:r,type:i};return t.edge&&(o.attr=mn({},t.edge)),o.attr=mn(o.attr||{},n),n!=null&&n.hasOwnProperty("arrows")&&n.arrows!=null&&(o.arrows={to:{enabled:!0,type:n.arrows.type}},n.arrows=null),o}function ze(){for(Xt=Bt.NULL,oe="";ge===" "||ge==="	"||ge===`
`||ge==="\r";)yt();do{var t=!1;if(ge==="#"){for(var e=ws-1;Qi.charAt(e)===" "||Qi.charAt(e)==="	";)e--;if(Qi.charAt(e)===`
`||Qi.charAt(e)===""){for(;ge!=""&&ge!=`
`;)yt();t=!0}}if(ge==="/"&&Bo()==="/"){for(;ge!=""&&ge!=`
`;)yt();t=!0}if(ge==="/"&&Bo()==="*"){for(;ge!="";)if(ge==="*"&&Bo()==="/"){yt(),yt();break}else yt();t=!0}for(;ge===" "||ge==="	"||ge===`
`||ge==="\r";)yt()}while(t);if(ge===""){Xt=Bt.DELIMITER;return}var r=ge+Bo();if(O0[r]){Xt=Bt.DELIMITER,oe=r,yt(),yt();return}if(O0[ge]){Xt=Bt.DELIMITER,oe=ge,yt();return}if(x0(ge)||ge==="-"){for(oe+=ge,yt();x0(ge);)oe+=ge,yt();oe==="false"?oe=!1:oe==="true"?oe=!0:isNaN(Number(oe))||(oe=Number(oe)),Xt=Bt.IDENTIFIER;return}if(ge==='"'){for(yt();ge!=""&&(ge!='"'||ge==='"'&&Bo()==='"');)ge==='"'?(oe+=ge,yt()):ge==="\\"&&Bo()==="n"?(oe+=`
`,yt()):oe+=ge,yt();if(ge!='"')throw Lt('End of string " expected');yt(),Xt=Bt.IDENTIFIER;return}for(Xt=Bt.UNKNOWN;ge!="";)oe+=ge,yt();throw new SyntaxError('Syntax error in part "'+XP(oe,30)+'"')}function mde(){var t={};if(pde(),ze(),oe==="strict"&&(t.strict=!0,ze()),(oe==="graph"||oe==="digraph")&&(t.type=oe,ze()),Xt===Bt.IDENTIFIER&&(t.id=oe,ze()),oe!="{")throw Lt("Angle bracket { expected");if(ze(),qP(t),oe!="}")throw Lt("Angle bracket } expected");if(ze(),oe!=="")throw Lt("End of file expected");return ze(),delete t.node,delete t.edge,delete t.graph,t}function qP(t){for(;oe!==""&&oe!="}";)yde(t),oe===";"&&ze()}function yde(t){var e=KP(t);if(e){GP(t,e);return}var r=bde(t);if(!r){if(Xt!=Bt.IDENTIFIER)throw Lt("Identifier expected");var i=oe;if(ze(),oe==="="){if(ze(),Xt!=Bt.IDENTIFIER)throw Lt("Identifier expected");t[i]=oe,ze()}else $de(t,i)}}function KP(t){var e=null;if(oe==="subgraph"&&(e={},e.type="subgraph",ze(),Xt===Bt.IDENTIFIER&&(e.id=oe,ze())),oe==="{"){if(ze(),e||(e={}),e.parent=t,e.node=t.node,e.edge=t.edge,e.graph=t.graph,qP(e),oe!="}")throw Lt("Angle bracket } expected");ze(),delete e.node,delete e.edge,delete e.graph,delete e.parent,t.subgraphs||(t.subgraphs=[]),t.subgraphs.push(e)}return e}function bde(t){return oe==="node"?(ze(),t.node=Ea(),"node"):oe==="edge"?(ze(),t.edge=Ea(),"edge"):oe==="graph"?(ze(),t.graph=Ea(),"graph"):null}function $de(t,e){var r={id:e},i=Ea();i&&(r.attr=i),UP(t,r),GP(t,e)}function GP(t,e){for(;oe==="->"||oe==="--";){var r,i=oe;ze();var n=KP(t);if(n)r=n;else{if(Xt!=Bt.IDENTIFIER)throw Lt("Identifier or subgraph expected");r=oe,UP(t,{id:r}),ze()}var o=Ea(),s=YP(t,e,r,i,o);gde(t,s),e=r}}function Ea(){for(var t,e=null,r={dashed:!0,solid:!1,dotted:[1,5]},i={dot:"circle",box:"box",crow:"crow",curve:"curve",icurve:"inv_curve",normal:"triangle",inv:"inv_triangle",diamond:"diamond",tee:"bar",vee:"vee"},n=new Array,o=new Array;oe==="[";){for(ze(),e={};oe!==""&&oe!="]";){if(Xt!=Bt.IDENTIFIER)throw Lt("Attribute name expected");var s=oe;if(ze(),oe!="=")throw Lt("Equal sign = expected");if(ze(),Xt!=Bt.IDENTIFIER)throw Lt("Attribute value expected");var a=oe;s==="style"&&(a=r[a]);var l;s==="arrowhead"&&(l=i[a],s="arrows",a={to:{enabled:!0,type:l}}),s==="arrowtail"&&(l=i[a],s="arrows",a={from:{enabled:!0,type:l}}),n.push({attr:e,name:s,value:a}),o.push(s),ze(),oe==","&&ze()}if(oe!="]")throw Lt("Bracket ] expected");ze()}if(ln(o).call(o,"dir")){var c={};for(c.arrows={},t=0;t<n.length;t++)if(n[t].name==="arrows")if(n[t].value.to!=null)c.arrows.to=t;else if(n[t].value.from!=null)c.arrows.from=t;else throw Lt("Invalid value of arrows");else n[t].name==="dir"&&(c.dir=t);var d=n[c.dir].value;if(!ln(o).call(o,"arrows"))if(d==="both")n.push({attr:n[c.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),c.arrows.to=n.length-1,n.push({attr:n[c.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),c.arrows.from=n.length-1;else if(d==="forward")n.push({attr:n[c.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),c.arrows.to=n.length-1;else if(d==="back")n.push({attr:n[c.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),c.arrows.from=n.length-1;else if(d==="none")n.push({attr:n[c.dir].attr,name:"arrows",value:""}),c.arrows.to=n.length-1;else throw Lt('Invalid dir type "'+d+'"');var u,h;if(d==="both")c.arrows.to&&c.arrows.from?(h=n[c.arrows.to].value.to.type,u=n[c.arrows.from].value.from.type,n[c.arrows.to]={attr:n[c.arrows.to].attr,name:n[c.arrows.to].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:u}}},Si(n).call(n,c.arrows.from,1)):c.arrows.to?(h=n[c.arrows.to].value.to.type,u="arrow",n[c.arrows.to]={attr:n[c.arrows.to].attr,name:n[c.arrows.to].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:u}}}):c.arrows.from&&(h="arrow",u=n[c.arrows.from].value.from.type,n[c.arrows.from]={attr:n[c.arrows.from].attr,name:n[c.arrows.from].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:u}}});else if(d==="back")c.arrows.to&&c.arrows.from?(h="",u=n[c.arrows.from].value.from.type,n[c.arrows.from]={attr:n[c.arrows.from].attr,name:n[c.arrows.from].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:u}}}):c.arrows.to?(h="",u="arrow",c.arrows.from=c.arrows.to,n[c.arrows.from]={attr:n[c.arrows.from].attr,name:n[c.arrows.from].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:u}}}):c.arrows.from&&(h="",u=n[c.arrows.from].value.from.type,n[c.arrows.to]={attr:n[c.arrows.from].attr,name:n[c.arrows.from].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:u}}}),n[c.arrows.from]={attr:n[c.arrows.from].attr,name:n[c.arrows.from].name,value:{from:{enabled:!0,type:n[c.arrows.from].value.from.type}}};else if(d==="none"){var f;c.arrows.to?f=c.arrows.to:f=c.arrows.from,n[f]={attr:n[f].attr,name:n[f].name,value:""}}else if(d==="forward")c.arrows.to&&c.arrows.from?(h=n[c.arrows.to].value.to.type,u="",n[c.arrows.to]={attr:n[c.arrows.to].attr,name:n[c.arrows.to].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:u}}}):c.arrows.to?(h=n[c.arrows.to].value.to.type,u="",n[c.arrows.to]={attr:n[c.arrows.to].attr,name:n[c.arrows.to].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:u}}}):c.arrows.from&&(h="arrow",u="",c.arrows.to=c.arrows.from,n[c.arrows.to]={attr:n[c.arrows.to].attr,name:n[c.arrows.to].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:u}}}),n[c.arrows.to]={attr:n[c.arrows.to].attr,name:n[c.arrows.to].name,value:{to:{enabled:!0,type:n[c.arrows.to].value.to.type}}};else throw Lt('Invalid dir type "'+d+'"');Si(n).call(n,c.dir,1)}var p;if(ln(o).call(o,"penwidth")){var g=[];for(p=n.length,t=0;t<p;t++)n[t].name!=="width"&&(n[t].name==="penwidth"&&(n[t].name="width"),g.push(n[t]));n=g}for(p=n.length,t=0;t<p;t++)vde(n[t].attr,n[t].name,n[t].value);return e}function Lt(t){return new SyntaxError(t+', got "'+XP(oe,30)+'" (char '+ws+")")}function XP(t,e){return t.length<=e?t:t.substr(0,27)+"..."}function wde(t,e,r){Qe(t)?Re(t).call(t,function(i){Qe(e)?Re(e).call(e,function(n){r(i,n)}):r(i,e)}):Qe(e)?Re(e).call(e,function(i){r(t,i)}):r(t,e)}function mp(t,e,r){for(var i=e.split("."),n=i.pop(),o=t,s=0;s<i.length;s++){var a=i[s];a in o||(o[a]={}),o=o[a]}return o[n]=r,t}function P0(t,e){var r={};for(var i in t)if(t.hasOwnProperty(i)){var n=e[i];Qe(n)?Re(n).call(n,function(o){mp(r,o,t[i])}):typeof n=="string"?mp(r,n,t[i]):mp(r,i,t[i])}return r}function _de(t){var e=fde(t),r={nodes:[],edges:[],options:{}};if(e.nodes){var i;Re(i=e.nodes).call(i,function(s){var a={id:s.id,label:String(s.label||s.id)};mn(a,P0(s.attr,VP)),a.image&&(a.shape="image"),r.nodes.push(a)})}if(e.edges){var n,o=function(s){var a={from:s.from,to:s.to};return mn(a,P0(s.attr,Dm)),a.arrows==null&&s.type==="->"&&(a.arrows="to"),a};Re(n=e.edges).call(n,function(s){var a,l;if(s.from instanceof Object?a=s.from.nodes:a={id:s.from},s.to instanceof Object?l=s.to.nodes:l={id:s.to},s.from instanceof Object&&s.from.edges){var c;Re(c=s.from.edges).call(c,function(u){var h=o(u);r.edges.push(h)})}if(wde(a,l,function(u,h){var f=YP(r,u.id,h.id,s.type,s.attr),p=o(f);r.edges.push(p)}),s.to instanceof Object&&s.to.edges){var d;Re(d=s.to.edges).call(d,function(u){var h=o(u);r.edges.push(h)})}})}return e.attr&&(r.options=e.attr),r}function Sde(t,e){var r;const i={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};e!=null&&(e.fixed!=null&&(i.nodes.fixed=e.fixed),e.parseColor!=null&&(i.nodes.parseColor=e.parseColor),e.inheritColor!=null&&(i.edges.inheritColor=e.inheritColor));const n=t.edges,o=ms(n).call(n,a=>{const l={from:a.source,id:a.id,to:a.target};return a.attributes!=null&&(l.attributes=a.attributes),a.label!=null&&(l.label=a.label),a.attributes!=null&&a.attributes.title!=null&&(l.title=a.attributes.title),a.type==="Directed"&&(l.arrows="to"),a.color&&i.edges.inheritColor===!1&&(l.color=a.color),l});return{nodes:ms(r=t.nodes).call(r,a=>{const l={id:a.id,fixed:i.nodes.fixed&&a.x!=null&&a.y!=null};return a.attributes!=null&&(l.attributes=a.attributes),a.label!=null&&(l.label=a.label),a.size!=null&&(l.size=a.size),a.attributes!=null&&a.attributes.title!=null&&(l.title=a.attributes.title),a.title!=null&&(l.title=a.title),a.x!=null&&(l.x=a.x),a.y!=null&&(l.y=a.y),a.color!=null&&(i.nodes.parseColor===!0?l.color=a.color:l.color={background:a.color,border:a.color,highlight:{background:a.color,border:a.color},hover:{background:a.color,border:a.color}}),l}),edges:o}}const Ede={addDescription:"Click in an empty space to place a new node.",addEdge:"Add Edge",addNode:"Add Node",back:"Back",close:"Close",createEdgeError:"Cannot link edges to a cluster.",del:"Delete selected",deleteClusterError:"Clusters cannot be deleted.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",edit:"Edit",editClusterError:"Clusters cannot be edited.",editEdge:"Edit Edge",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",editNode:"Edit Node"},Tde={addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",addEdge:"Kante hinzufgen",addNode:"Knoten hinzufgen",back:"Zurck",close:"Schlieen",createEdgeError:"Es ist nicht mglich, Kanten mit Clustern zu verbinden.",del:"Lsche Auswahl",deleteClusterError:"Cluster knnen nicht gelscht werden.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",edit:"Editieren",editClusterError:"Cluster knnen nicht editiert werden.",editEdge:"Kante editieren",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",editNode:"Knoten editieren"},Ide={addDescription:"Haga clic en un lugar vaco para colocar un nuevo nodo.",addEdge:"Aadir arista",addNode:"Aadir nodo",back:"Atrs",close:"Cerrar",createEdgeError:"No se puede conectar una arista a un grupo.",del:"Eliminar seleccin",deleteClusterError:"No es posible eliminar grupos.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",edit:"Editar",editClusterError:"No es posible editar grupos.",editEdge:"Editar arista",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",editNode:"Editar nodo"},Ode={addDescription:"Clicca per aggiungere un nuovo nodo",addEdge:"Aggiungi un vertice",addNode:"Aggiungi un nodo",back:"Indietro",close:"Chiudere",createEdgeError:"Non si possono collegare vertici ad un cluster",del:"Cancella la selezione",deleteClusterError:"I cluster non possono essere cancellati",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",edit:"Modifica",editClusterError:"I clusters non possono essere modificati.",editEdge:"Modifica il vertice",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",editNode:"Modifica il nodo"},xde={addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",addEdge:"Link toevoegen",addNode:"Node toevoegen",back:"Terug",close:"Sluiten",createEdgeError:"Kan geen link maken naar een cluster.",del:"Selectie verwijderen",deleteClusterError:"Clusters kunnen niet worden verwijderd.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",edit:"Wijzigen",editClusterError:"Clusters kunnen niet worden aangepast.",editEdge:"Link wijzigen",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",editNode:"Node wijzigen"},Pde={addDescription:"Clique em um espao em branco para adicionar um novo n",addEdge:"Adicionar aresta",addNode:"Adicionar n",back:"Voltar",close:"Fechar",createEdgeError:"No foi possvel linkar arestas a um cluster.",del:"Remover selecionado",deleteClusterError:"Clusters no puderam ser removidos.",edgeDescription:"Clique em um n e arraste a aresta at outro n para conect-los",edit:"Editar",editClusterError:"Clusters no puderam ser editados.",editEdge:"Editar aresta",editEdgeDescription:"Clique nos pontos de controle e os arraste para um n para conect-los",editNode:"Editar n"},kde={addDescription:"   ,    .",addEdge:" ",addNode:" ",back:"",close:"",createEdgeError:"    .",del:" ",deleteClusterError:"    ",edgeDescription:"        ,   .",edit:"",editClusterError:"   .",editEdge:" ",editEdgeDescription:"        ,    .",editNode:" "},Cde={addDescription:"",addEdge:"",addNode:"",back:"",close:"",createEdgeError:"",del:"",deleteClusterError:"",edgeDescription:"",edit:"",editClusterError:"",editEdge:"",editEdgeDescription:"",editNode:""},Ade={addDescription:"K   ,    .",addEdge:" ",addNode:" ",back:"",close:"",createEdgeError:"  '   .",del:" ",deleteClusterError:"    .",edgeDescription:"        ,   '.",edit:"",editClusterError:"   .",editEdge:" ",editEdgeDescription:"        ,    .",editNode:" "},Dde={addDescription:"Cliquez dans un endroit vide pour placer un nud.",addEdge:"Ajouter un lien",addNode:"Ajouter un nud",back:"Retour",close:"Fermer",createEdgeError:"Impossible de crer un lien vers un cluster.",del:"Effacer la slection",deleteClusterError:"Les clusters ne peuvent pas tre effacs.",edgeDescription:"Cliquez sur un nud et glissez le lien vers un autre nud pour les connecter.",edit:"diter",editClusterError:"Les clusters ne peuvent pas tre dits.",editEdge:"diter le lien",editEdgeDescription:"Cliquez sur les points de contrle et glissez-les pour connecter un nud.",editNode:"diter le nud"},Mde={addDescription:"Kluknutm do przdnho prostoru mete pidat nov vrchol.",addEdge:"Pidat hranu",addNode:"Pidat vrchol",back:"Zpt",close:"Zavt",createEdgeError:"Nelze pipojit hranu ke shluku.",del:"Smazat vbr",deleteClusterError:"Nelze mazat shluky.",edgeDescription:"Petaenm z jednoho vrcholu do druhho mete spojit tyto vrcholy novou hranou.",edit:"Upravit",editClusterError:"Nelze upravovat shluky.",editEdge:"Upravit hranu",editEdgeDescription:"Petaenm kontrolnho vrcholu hrany ji mete pipojit k jinmu vrcholu.",editNode:"Upravit vrchol"};var Rde=Object.freeze({__proto__:null,cn:Cde,cs:Mde,de:Tde,en:Ede,es:Ide,fr:Dde,it:Ode,nl:xde,pt:Pde,ru:kde,uk:Ade});function Nde(t,e){try{const[i,n]=e.split(/[-_ /]/,2),o=i!=null?i.toLowerCase():null,s=n!=null?n.toUpperCase():null;if(o&&s){const a=o+"-"+s;if(Object.prototype.hasOwnProperty.call(t,a))return a;var r;console.warn(nae(r="Unknown variant ".concat(s," of language ")).call(r,o,"."))}if(o){const a=o;if(Object.prototype.hasOwnProperty.call(t,a))return a;console.warn("Unknown language ".concat(o))}return console.warn("Unknown locale ".concat(e,", falling back to English.")),"en"}catch(i){return console.error(i),console.warn("Unexpected error while normalizing locale ".concat(e,", falling back to English.")),"en"}}class Fde{constructor(){this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}init(){if(this.initialized())return;this.src=this.image.src;const e=this.image.width,r=this.image.height;this.width=e,this.height=r;const i=Math.floor(r/2),n=Math.floor(r/4),o=Math.floor(r/8),s=Math.floor(r/16),a=Math.floor(e/2),l=Math.floor(e/4),c=Math.floor(e/8),d=Math.floor(e/16);this.canvas.width=3*l,this.canvas.height=i,this.coordinates=[[0,0,a,i],[a,0,l,n],[a,n,c,o],[5*c,n,d,s]],this._fillMipMap()}initialized(){return this.coordinates!==void 0}_fillMipMap(){const e=this.canvas.getContext("2d"),r=this.coordinates[0];e.drawImage(this.image,r[0],r[1],r[2],r[3]);for(let i=1;i<this.NUM_ITERATIONS;i++){const n=this.coordinates[i-1],o=this.coordinates[i];e.drawImage(this.canvas,n[0],n[1],n[2],n[3],o[0],o[1],o[2],o[3])}}drawImageAtPosition(e,r,i,n,o,s){if(this.initialized())if(r>2){r*=.5;let a=0;for(;r>2&&a<this.NUM_ITERATIONS;)r*=.5,a+=1;a>=this.NUM_ITERATIONS&&(a=this.NUM_ITERATIONS-1);const l=this.coordinates[a];e.drawImage(this.canvas,l[0],l[1],l[2],l[3],i,n,o,s)}else e.drawImage(this.image,i,n,o,s)}}class Bde{constructor(e){this.images={},this.imageBroken={},this.callback=e}_tryloadBrokenUrl(e,r,i){if(!(e===void 0||i===void 0)){if(r===void 0){console.warn("No broken url image defined");return}i.image.onerror=()=>{console.error("Could not load brokenImage:",r)},i.image.src=r}}_redrawWithImage(e){this.callback&&this.callback(e)}load(e,r){const i=this.images[e];if(i)return i;const n=new Fde;return this.images[e]=n,n.image.onload=()=>{this._fixImageCoordinates(n.image),n.init(),this._redrawWithImage(n)},n.image.onerror=()=>{console.error("Could not load image:",e),this._tryloadBrokenUrl(e,r,n)},n.image.src=e,n}_fixImageCoordinates(e){e.width===0&&(document.body.appendChild(e),e.width=e.offsetWidth,e.height=e.offsetHeight,document.body.removeChild(e))}}var JP={exports:{}},Lde=Te,jde=Lde(function(){if(typeof ArrayBuffer=="function"){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}}),zde=Te,Hde=Nt,Wde=Bi,k0=jde,rd=Object.isExtensible,Vde=zde(function(){rd(1)}),Ude=Vde||k0?function(e){return!Hde(e)||k0&&Wde(e)==="ArrayBuffer"?!1:rd?rd(e):!0}:rd,Yde=Te,ZP=!Yde(function(){return Object.isExtensible(Object.preventExtensions({}))}),qde=de,Kde=Ie,Gde=Al,Xde=Nt,Mm=Ct,Jde=mr.f,C0=Bl,Zde=zu,Rm=Ude,Qde=Mu,eue=ZP,QP=!1,Di=Qde("meta"),tue=0,Nm=function(t){Jde(t,Di,{value:{objectID:"O"+tue++,weakData:{}}})},rue=function(t,e){if(!Xde(t))return typeof t=="symbol"?t:(typeof t=="string"?"S":"P")+t;if(!Mm(t,Di)){if(!Rm(t))return"F";if(!e)return"E";Nm(t)}return t[Di].objectID},iue=function(t,e){if(!Mm(t,Di)){if(!Rm(t))return!0;if(!e)return!1;Nm(t)}return t[Di].weakData},nue=function(t){return eue&&QP&&Rm(t)&&!Mm(t,Di)&&Nm(t),t},oue=function(){sue.enable=function(){},QP=!0;var t=C0.f,e=Kde([].splice),r={};r[Di]=1,t(r).length&&(C0.f=function(i){for(var n=t(i),o=0,s=n.length;o<s;o++)if(n[o]===Di){e(n,o,1);break}return n},qde({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:Zde.f}))},sue=JP.exports={enable:oue,fastKey:rue,getWeakData:iue,onFreeze:nue};Gde[Di]=!0;var Zu=JP.exports,aue=dt,lue=Hs,cue=aue("iterator"),due=Array.prototype,uue=function(t){return t!==void 0&&(lue.Array===t||due[cue]===t)},hue=wo,A0=lm,fue=Ns,pue=Hs,vue=dt,gue=vue("iterator"),ek=function(t){if(!fue(t))return A0(t,gue)||A0(t,"@@iterator")||pue[hue(t)]},mue=Wr,yue=Bs,bue=Li,$ue=Pl,wue=ek,_ue=TypeError,Sue=function(t,e){var r=arguments.length<2?wue(t):e;if(yue(r))return bue(mue(r,t));throw new _ue($ue(t)+" is not iterable")},Eue=Wr,D0=Li,Tue=lm,Iue=function(t,e,r){var i,n;D0(t);try{if(i=Tue(t,"return"),!i){if(e==="throw")throw r;return r}i=Eue(i,t)}catch(o){n=!0,i=o}if(e==="throw")throw r;if(n)throw i;return D0(i),r},Oue=Nu,xue=Wr,Pue=Li,kue=Pl,Cue=uue,Aue=di,M0=gt,Due=Sue,Mue=ek,R0=Iue,Rue=TypeError,id=function(t,e){this.stopped=t,this.result=e},N0=id.prototype,Fm=function(t,e,r){var i=r&&r.that,n=!!(r&&r.AS_ENTRIES),o=!!(r&&r.IS_RECORD),s=!!(r&&r.IS_ITERATOR),a=!!(r&&r.INTERRUPTED),l=Oue(e,i),c,d,u,h,f,p,g,$=function(b){return c&&R0(c,"normal",b),new id(!0,b)},y=function(b){return n?(Pue(b),a?l(b[0],b[1],$):l(b[0],b[1])):a?l(b,$):l(b)};if(o)c=t.iterator;else if(s)c=t;else{if(d=Mue(t),!d)throw new Rue(kue(t)+" is not iterable");if(Cue(d)){for(u=0,h=Aue(t);h>u;u++)if(f=y(t[u]),f&&M0(N0,f))return f;return new id(!1)}c=Due(t,d)}for(p=o?t.next:c.next;!(g=xue(p,c)).done;){try{f=y(g.value)}catch(b){R0(c,"throw",b)}if(typeof f=="object"&&f&&M0(N0,f))return f}return new id(!1)},Nue=gt,Fue=TypeError,Bm=function(t,e){if(Nue(e,t))return t;throw new Fue("Incorrect invocation")},Bue=de,Lue=it,jue=Zu,zue=Te,Hue=js,Wue=Fm,Vue=Bm,Uue=kt,Yue=Nt,que=Ns,Kue=zs,Gue=mr.f,Xue=In.forEach,Jue=mt,tk=_o,Zue=tk.set,Que=tk.getterFor,Lm=function(t,e,r){var i=t.indexOf("Map")!==-1,n=t.indexOf("Weak")!==-1,o=i?"set":"add",s=Lue[t],a=s&&s.prototype,l={},c;if(!Jue||!Uue(s)||!(n||a.forEach&&!zue(function(){new s().entries().next()})))c=r.getConstructor(e,t,i,o),jue.enable();else{c=e(function(h,f){Zue(Vue(h,d),{type:t,collection:new s}),que(f)||Wue(f,h[o],{that:h,AS_ENTRIES:i})});var d=c.prototype,u=Que(t);Xue(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(h){var f=h==="add"||h==="set";h in a&&!(n&&h==="clear")&&Hue(d,h,function(p,g){var $=u(this).collection;if(!f&&n&&!Yue(p))return h==="get"?void 0:!1;var y=$[h](p===0?0:p,g);return f?this:y})}),n||Gue(d,"size",{configurable:!0,get:function(){return u(this).collection.size}})}return Kue(c,t,!1,!0),l[t]=c,Bue({global:!0,forced:!0},l),n||r.setStrong(c,t,i),c},ehe=Ll,jm=function(t,e,r){for(var i in e)r&&r.unsafe&&t[i]?t[i]=e[i]:ehe(t,i,e[i],r);return t},the=Ur,rhe=gm,ihe=dt,nhe=mt,F0=ihe("species"),ohe=function(t){var e=the(t);nhe&&e&&!e[F0]&&rhe(e,F0,{configurable:!0,get:function(){return this}})},she=Fl,ahe=gm,B0=jm,lhe=Nu,che=Bm,dhe=Ns,uhe=Fm,hhe=wm,Mc=_m,fhe=ohe,ea=mt,L0=Zu.fastKey,rk=_o,j0=rk.set,yp=rk.getterFor,ik={getConstructor:function(t,e,r,i){var n=t(function(c,d){che(c,o),j0(c,{type:e,index:she(null),first:void 0,last:void 0,size:0}),ea||(c.size=0),dhe(d)||uhe(d,c[i],{that:c,AS_ENTRIES:r})}),o=n.prototype,s=yp(e),a=function(c,d,u){var h=s(c),f=l(c,d),p,g;return f?f.value=u:(h.last=f={index:g=L0(d,!0),key:d,value:u,previous:p=h.last,next:void 0,removed:!1},h.first||(h.first=f),p&&(p.next=f),ea?h.size++:c.size++,g!=="F"&&(h.index[g]=f)),c},l=function(c,d){var u=s(c),h=L0(d),f;if(h!=="F")return u.index[h];for(f=u.first;f;f=f.next)if(f.key===d)return f};return B0(o,{clear:function(){for(var d=this,u=s(d),h=u.index,f=u.first;f;)f.removed=!0,f.previous&&(f.previous=f.previous.next=void 0),delete h[f.index],f=f.next;u.first=u.last=void 0,ea?u.size=0:d.size=0},delete:function(c){var d=this,u=s(d),h=l(d,c);if(h){var f=h.next,p=h.previous;delete u.index[h.index],h.removed=!0,p&&(p.next=f),f&&(f.previous=p),u.first===h&&(u.first=f),u.last===h&&(u.last=p),ea?u.size--:d.size--}return!!h},forEach:function(d){for(var u=s(this),h=lhe(d,arguments.length>1?arguments[1]:void 0),f;f=f?f.next:u.first;)for(h(f.value,f.key,this);f&&f.removed;)f=f.previous},has:function(d){return!!l(this,d)}}),B0(o,r?{get:function(d){var u=l(this,d);return u&&u.value},set:function(d,u){return a(this,d===0?0:d,u)}}:{add:function(d){return a(this,d=d===0?0:d,d)}}),ea&&ahe(o,"size",{configurable:!0,get:function(){return s(this).size}}),n},setStrong:function(t,e,r){var i=e+" Iterator",n=yp(e),o=yp(i);hhe(t,e,function(s,a){j0(this,{type:i,target:s,state:n(s),kind:a,last:void 0})},function(){for(var s=o(this),a=s.kind,l=s.last;l&&l.removed;)l=l.previous;return!s.target||!(s.last=l=l?l.next:s.state.first)?(s.target=void 0,Mc(void 0,!0)):Mc(a==="keys"?l.key:a==="values"?l.value:[l.key,l.value],!1)},r?"entries":"values",!r,!0),fhe(e)}},phe=Lm,vhe=ik;phe("Map",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},vhe);var zm=Ie,ghe=Fu,mhe=ui,yhe=Tl,bhe=zm("".charAt),z0=zm("".charCodeAt),$he=zm("".slice),whe=function(t){return function(e,r){var i=mhe(yhe(e)),n=ghe(r),o=i.length,s,a;return n<0||n>=o?t?"":void 0:(s=z0(i,n),s<55296||s>56319||n+1===o||(a=z0(i,n+1))<56320||a>57343?t?bhe(i,n):s:t?$he(i,n,n+2):(s-55296<<10)+(a-56320)+65536)}},_he={charAt:whe(!0)},She=_he.charAt,Ehe=ui,nk=_o,The=wm,H0=_m,ok="String Iterator",Ihe=nk.set,Ohe=nk.getterFor(ok);The(String,"String",function(t){Ihe(this,{type:ok,string:Ehe(t),index:0})},function(){var e=Ohe(this),r=e.string,i=e.index,n;return i>=r.length?H0(void 0,!0):(n=She(r,i),e.index+=n.length,H0(n,!1))});var xhe=Ce,Phe=xhe.Map,khe=Phe,Che=khe,Ahe=Che,Hm=fe(Ahe);class Dhe{constructor(){this.clear(),this._defaultIndex=0,this._groupIndex=0,this._defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},ht(this.options,this.defaultOptions)}setOptions(e){const r=["useDefaultGroups"];if(e!==void 0){for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&ke(r).call(r,i)===-1){const n=e[i];this.add(i,n)}}}clear(){this._groups=new Hm,this._groupNames=[]}get(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,i=this._groups.get(e);if(i===void 0&&r)if(this.options.useDefaultGroups===!1&&this._groupNames.length>0){const n=this._groupIndex%this._groupNames.length;++this._groupIndex,i={},i.color=this._groups.get(this._groupNames[n]),this._groups.set(e,i)}else{const n=this._defaultIndex%this._defaultGroups.length;this._defaultIndex++,i={},i.color=this._defaultGroups[n],this._groups.set(e,i)}return i}add(e,r){return this._groups.has(e)||this._groupNames.push(e),this._groups.set(e,r),r}}var Mhe=de;Mhe({target:"Number",stat:!0},{isNaN:function(e){return e!==e}});var Rhe=Ce,Nhe=Rhe.Number.isNaN,Fhe=Nhe,Bhe=Fhe,Lhe=Bhe,qv=fe(Lhe),jhe=it,zhe=jhe.isFinite,Hhe=Number.isFinite||function(e){return typeof e=="number"&&zhe(e)},Whe=de,Vhe=Hhe;Whe({target:"Number",stat:!0},{isFinite:Vhe});var Uhe=Ce,Yhe=Uhe.Number.isFinite,qhe=Yhe,Khe=qhe,Ghe=Khe,zn=fe(Ghe),Xhe=de,Jhe=In.some,Zhe=Ws,Qhe=Zhe("some");Xhe({target:"Array",proto:!0,forced:!Qhe},{some:function(e){return Jhe(this,e,arguments.length>1?arguments[1]:void 0)}});var efe=At,tfe=efe("Array").some,rfe=gt,ife=tfe,bp=Array.prototype,nfe=function(t){var e=t.some;return t===bp||rfe(bp,t)&&e===bp.some?ife:e},ofe=nfe,sfe=ofe,afe=sfe,lfe=fe(afe),sk={exports:{}},cfe=de,dfe=mt,W0=mr.f;cfe({target:"Object",stat:!0,forced:Object.defineProperty!==W0,sham:!dfe},{defineProperty:W0});var ufe=Ce,ak=ufe.Object,hfe=sk.exports=function(e,r,i){return ak.defineProperty(e,r,i)};ak.defineProperty.sham&&(hfe.sham=!0);var ffe=sk.exports,pfe=ffe,lk=pfe,vfe=lk,gfe=vfe,mfe=gfe,yfe=mfe,bfe=yfe,$fe=fe(bfe),wfe=dt,_fe=mr.f,V0=wfe("metadata"),U0=Function.prototype;U0[V0]===void 0&&_fe(U0,V0,{value:null});var Sfe=nt;Sfe("asyncDispose");var Efe=nt;Efe("dispose");var Tfe=nt;Tfe("metadata");var Ife=Qx,Ofe=Ife,xfe=Ur,Pfe=Ie,Wm=xfe("Symbol"),kfe=Wm.keyFor,Cfe=Pfe(Wm.prototype.valueOf),ck=Wm.isRegisteredSymbol||function(e){try{return kfe(Cfe(e))!==void 0}catch{return!1}},Afe=de,Dfe=ck;Afe({target:"Symbol",stat:!0},{isRegisteredSymbol:Dfe});var Mfe=Ls,dk=Ur,Rfe=Ie,Nfe=xl,Ffe=dt,jd=dk("Symbol"),Y0=jd.isWellKnownSymbol,uk=dk("Object","getOwnPropertyNames"),Bfe=Rfe(jd.prototype.valueOf),q0=Mfe("wks");for(var $p=0,K0=uk(jd),Lfe=K0.length;$p<Lfe;$p++)try{var G0=K0[$p];Nfe(jd[G0])&&Ffe(G0)}catch{}var hk=function(e){if(Y0&&Y0(e))return!0;try{for(var r=Bfe(e),i=0,n=uk(q0),o=n.length;i<o;i++)if(q0[n[i]]==r)return!0}catch{}return!1},jfe=de,zfe=hk;jfe({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:zfe});var Hfe=nt;Hfe("matcher");var Wfe=nt;Wfe("observable");var Vfe=de,Ufe=ck;Vfe({target:"Symbol",stat:!0},{isRegistered:Ufe});var Yfe=de,qfe=hk;Yfe({target:"Symbol",stat:!0,forced:!0},{isWellKnown:qfe});var Kfe=nt;Kfe("metadataKey");var Gfe=nt;Gfe("patternMatch");var Xfe=nt;Xfe("replaceAll");var Jfe=Ofe,Zfe=Jfe,Qfe=Zfe,Rc=fe(Qfe),epe=jl,tpe=epe.f("iterator"),rpe=tpe,ipe=rpe,npe=ipe,ope=npe,spe=ope,ape=spe,lpe=ape,cpe=fe(lpe);function Ja(t){"@babel/helpers - typeof";return Ja=typeof Rc=="function"&&typeof cpe=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Rc=="function"&&e.constructor===Rc&&e!==Rc.prototype?"symbol":typeof e},Ja(t)}var dpe=jl,upe=dpe.f("toPrimitive"),hpe=upe,fpe=hpe,ppe=fpe,vpe=ppe,gpe=vpe,mpe=gpe,ype=mpe,bpe=fe(ype);function $pe(t,e){if(Ja(t)!=="object"||t===null)return t;var r=t[bpe];if(r!==void 0){var i=r.call(t,e);if(Ja(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wpe(t){var e=$pe(t,"string");return Ja(e)==="symbol"?e:String(e)}function Qu(t,e,r){return e=wpe(e),e in t?$fe(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var fk=it,_pe=Te,Spe=Ie,Epe=ui,Tpe=aP.trim,Ipe=Sm,Ope=Spe("".charAt),zd=fk.parseFloat,X0=fk.Symbol,J0=X0&&X0.iterator,xpe=1/zd(Ipe+"-0")!==-1/0||J0&&!_pe(function(){zd(Object(J0))}),Ppe=xpe?function(e){var r=Tpe(Epe(e)),i=zd(r);return i===0&&Ope(r,0)==="-"?-0:i}:zd,kpe=de,Z0=Ppe;kpe({global:!0,forced:parseFloat!==Z0},{parseFloat:Z0});var Cpe=Ce,Ape=Cpe.parseFloat,Dpe=Ape,Mpe=Dpe,Rpe=Mpe,pk=fe(Rpe),Npe=de,Fpe=Te,Bpe=zu.f,Lpe=Fpe(function(){return!Object.getOwnPropertyNames(1)});Npe({target:"Object",stat:!0,forced:Lpe},{getOwnPropertyNames:Bpe});var jpe=Ce,zpe=jpe.Object,Hpe=function(e){return zpe.getOwnPropertyNames(e)},Wpe=Hpe,Vpe=Wpe,Upe=Vpe,Ype=fe(Upe),qpe=Ce,Kpe=qpe.Object.getOwnPropertySymbols,Gpe=Kpe,Xpe=Gpe,Jpe=Xpe,yn=fe(Jpe),vk={exports:{}},Zpe=de,Qpe=Te,eve=Vr,gk=_l.f,mk=mt,tve=!mk||Qpe(function(){gk(1)});Zpe({target:"Object",stat:!0,forced:tve,sham:!mk},{getOwnPropertyDescriptor:function(e,r){return gk(eve(e),r)}});var rve=Ce,yk=rve.Object,ive=vk.exports=function(e,r){return yk.getOwnPropertyDescriptor(e,r)};yk.getOwnPropertyDescriptor.sham&&(ive.sham=!0);var nve=vk.exports,ove=nve,sve=ove,ave=sve,On=fe(ave),lve=de,cve=mt,dve=Sne,uve=Vr,hve=_l,fve=Rl;lve({target:"Object",stat:!0,sham:!cve},{getOwnPropertyDescriptors:function(e){for(var r=uve(e),i=hve.f,n=dve(r),o={},s=0,a,l;n.length>s;)l=i(r,a=n[s++]),l!==void 0&&fve(o,a,l);return o}});var pve=Ce,vve=pve.Object.getOwnPropertyDescriptors,gve=vve,mve=gve,yve=mve,bn=fe(yve),bk={exports:{}},bve=de,$ve=mt,Q0=Lu.f;bve({target:"Object",stat:!0,forced:Object.defineProperties!==Q0,sham:!$ve},{defineProperties:Q0});var wve=Ce,$k=wve.Object,_ve=bk.exports=function(e,r){return $k.defineProperties(e,r)};$k.defineProperties.sham&&(_ve.sham=!0);var Sve=bk.exports,Eve=Sve,Tve=Eve,Ive=Tve,eh=fe(Ive),Ove=lk,th=fe(Ove);function Vm(t,e){const r=["node","edge","label"];let i=!0;const n=Gi(e,"chosen");if(typeof n=="boolean")i=n;else if(typeof n=="object"){if(ke(r).call(r,t)===-1)throw new Error("choosify: subOption '"+t+"' should be one of '"+r.join("', '")+"'");const o=Gi(e,["chosen",t]);(typeof o=="boolean"||typeof o=="function")&&(i=o)}return i}function Kv(t,e,r){if(t.width<=0||t.height<=0)return!1;if(r!==void 0){const o={x:e.x-r.x,y:e.y-r.y};if(r.angle!==0){const s=-r.angle;e={x:Math.cos(s)*o.x-Math.sin(s)*o.y,y:Math.sin(s)*o.x+Math.cos(s)*o.y}}else e=o}const i=t.x+t.width,n=t.y+t.width;return t.left<e.x&&i>e.x&&t.top<e.y&&n>e.y}function Hd(t){return typeof t=="string"&&t!==""}function wk(t,e,r,i){let n=i.x,o=i.y;if(typeof i.distanceToBorder=="function"){const s=i.distanceToBorder(t,e),a=Math.sin(e)*s,l=Math.cos(e)*s;l===s?(n+=s,o=i.y):a===s?(n=i.x,o-=s):(n+=l,o-=a)}else i.shape.width>i.shape.height?(n=i.x+i.shape.width*.5,o=i.y-r):(n=i.x+r,o=i.y-i.shape.height*.5);return{x:n,y:o}}var xve=At,Pve=xve("Array").values,kve=Pve,Cve=kve,Ave=wo,Dve=Ct,Mve=gt,Rve=Cve,wp=Array.prototype,Nve={DOMTokenList:!0,NodeList:!0},Fve=function(t){var e=t.values;return t===wp||Mve(wp,t)&&e===wp.values||Dve(Nve,Ave(t))?Rve:e},Bve=Fve,_k=fe(Bve);class Lve{constructor(e){this.measureText=e,this.current=0,this.width=0,this.height=0,this.lines=[]}_add(e,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"normal";this.lines[e]===void 0&&(this.lines[e]={width:0,height:0,blocks:[]});let n=r;(r===void 0||r==="")&&(n=" ");const o=this.measureText(n,i),s=ht({},_k(o));s.text=r,s.width=o.width,s.mod=i,(r===void 0||r==="")&&(s.width=0),this.lines[e].blocks.push(s),this.lines[e].width+=s.width}curWidth(){const e=this.lines[this.current];return e===void 0?0:e.width}append(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,r)}newLine(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,r),this.current++}determineLineHeights(){for(let e=0;e<this.lines.length;e++){const r=this.lines[e];let i=0;if(r.blocks!==void 0)for(let n=0;n<r.blocks.length;n++){const o=r.blocks[n];i<o.height&&(i=o.height)}r.height=i}}determineLabelSize(){let e=0,r=0;for(let i=0;i<this.lines.length;i++){const n=this.lines[i];n.width>e&&(e=n.width),r+=n.height}this.width=e,this.height=r}removeEmptyBlocks(){const e=[];for(let r=0;r<this.lines.length;r++){const i=this.lines[r];if(i.blocks.length===0||r===this.lines.length-1&&i.width===0)continue;const n={};ht(n,i),n.blocks=[];let o;const s=[];for(let a=0;a<i.blocks.length;a++){const l=i.blocks[a];l.width!==0?s.push(l):o===void 0&&(o=l)}s.length===0&&o!==void 0&&s.push(o),n.blocks=s,e.push(n)}return e}finalize(){this.determineLineHeights(),this.determineLabelSize();const e=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:e}}}const jve={"<b>":/<b>/,"<i>":/<i>/,"<code>":/<code>/,"</b>":/<\/b>/,"</i>":/<\/i>/,"</code>":/<\/code>/,"*":/\*/,_:/_/,"`":/`/,afterBold:/[^*]/,afterItal:/[^_]/,afterMono:/[^`]/};class e_{constructor(e){this.text=e,this.bold=!1,this.ital=!1,this.mono=!1,this.spacing=!1,this.position=0,this.buffer="",this.modStack=[],this.blocks=[]}mod(){return this.modStack.length===0?"normal":this.modStack[0]}modName(){if(this.modStack.length===0)return"normal";if(this.modStack[0]==="mono")return"mono";if(this.bold&&this.ital)return"boldital";if(this.bold)return"bold";if(this.ital)return"ital"}emitBlock(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(this.blocks.push({text:this.buffer,mod:this.modName()}),this.buffer="")}add(e){e===" "&&(this.spacing=!0),this.spacing&&(this.buffer+=" ",this.spacing=!1),e!=" "&&(this.buffer+=e)}parseWS(e){return/[ \t]/.test(e)?(this.mono?this.add(e):this.spacing=!0,!0):!1}setTag(e){this.emitBlock(),this[e]=!0,this.modStack.unshift(e)}unsetTag(e){this.emitBlock(),this[e]=!1,this.modStack.shift()}parseStartTag(e,r){return!this.mono&&!this[e]&&this.match(r)?(this.setTag(e),!0):!1}match(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const[i,n]=this.prepareRegExp(e),o=i.test(this.text.substr(this.position,n));return o&&r&&(this.position+=n-1),o}parseEndTag(e,r,i){let n=this.mod()===e;return e==="mono"?n=n&&this.mono:n=n&&!this.mono,n&&this.match(r)?(i!==void 0?(this.position===this.text.length-1||this.match(i,!1))&&this.unsetTag(e):this.unsetTag(e),!0):!1}replace(e,r){return this.match(e)?(this.add(r),this.position+=length-1,!0):!1}prepareRegExp(e){let r,i;if(e instanceof RegExp)i=e,r=1;else{const n=jve[e];n!==void 0?i=n:i=new RegExp(e),r=e.length}return[i,r]}}class zve{constructor(e,r,i,n){this.ctx=e,this.parent=r,this.selected=i,this.hover=n;const o=(s,a)=>{if(s===void 0)return 0;const l=this.parent.getFormattingValues(e,i,n,a);let c=0;return s!==""&&(c=this.ctx.measureText(s).width),{width:c,values:l}};this.lines=new Lve(o)}process(e){if(!Hd(e))return this.lines.finalize();const r=this.parent.fontOptions;e=e.replace(/\r\n/g,`
`),e=e.replace(/\r/g,`
`);const i=String(e).split(`
`),n=i.length;if(r.multi)for(let o=0;o<n;o++){const s=this.splitBlocks(i[o],r.multi);if(s!==void 0){if(s.length===0){this.lines.newLine("");continue}if(r.maxWdt>0)for(let a=0;a<s.length;a++){const l=s[a].mod,c=s[a].text;this.splitStringIntoLines(c,l,!0)}else for(let a=0;a<s.length;a++){const l=s[a].mod,c=s[a].text;this.lines.append(c,l)}this.lines.newLine()}}else if(r.maxWdt>0)for(let o=0;o<n;o++)this.splitStringIntoLines(i[o]);else for(let o=0;o<n;o++)this.lines.newLine(i[o]);return this.lines.finalize()}decodeMarkupSystem(e){let r="none";return e==="markdown"||e==="md"?r="markdown":(e===!0||e==="html")&&(r="html"),r}splitHtmlBlocks(e){const r=new e_(e),i=n=>/&/.test(n)?(r.replace(r.text,"&lt;","<")||r.replace(r.text,"&amp;","&")||r.add("&"),!0):!1;for(;r.position<r.text.length;){const n=r.text.charAt(r.position);r.parseWS(n)||/</.test(n)&&(r.parseStartTag("bold","<b>")||r.parseStartTag("ital","<i>")||r.parseStartTag("mono","<code>")||r.parseEndTag("bold","</b>")||r.parseEndTag("ital","</i>")||r.parseEndTag("mono","</code>"))||i(n)||r.add(n),r.position++}return r.emitBlock(),r.blocks}splitMarkdownBlocks(e){const r=new e_(e);let i=!0;const n=o=>/\\/.test(o)?(r.position<this.text.length+1&&(r.position++,o=this.text.charAt(r.position),/ \t/.test(o)?r.spacing=!0:(r.add(o),i=!1)),!0):!1;for(;r.position<r.text.length;){const o=r.text.charAt(r.position);r.parseWS(o)||n(o)||(i||r.spacing)&&(r.parseStartTag("bold","*")||r.parseStartTag("ital","_")||r.parseStartTag("mono","`"))||r.parseEndTag("bold","*","afterBold")||r.parseEndTag("ital","_","afterItal")||r.parseEndTag("mono","`","afterMono")||(r.add(o),i=!1),r.position++}return r.emitBlock(),r.blocks}splitBlocks(e,r){const i=this.decodeMarkupSystem(r);if(i==="none")return[{text:e,mod:"normal"}];if(i==="markdown")return this.splitMarkdownBlocks(e);if(i==="html")return this.splitHtmlBlocks(e)}overMaxWidth(e){const r=this.ctx.measureText(e).width;return this.lines.curWidth()+r>this.parent.fontOptions.maxWdt}getLongestFit(e){let r="",i=0;for(;i<e.length;){const o=r+(r===""?"":" ")+e[i];if(this.overMaxWidth(o))break;r=o,i++}return i}getLongestFitWord(e){let r=0;for(;r<e.length&&!this.overMaxWidth(ti(e).call(e,0,r));)r++;return r}splitStringIntoLines(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal",i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.parent.getFormattingValues(this.ctx,this.selected,this.hover,r),e=e.replace(/^( +)/g,"$1\r"),e=e.replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r");let n=e.split("\r");for(;n.length>0;){let o=this.getLongestFit(n);if(o===0){const s=n[0],a=this.getLongestFitWord(s);this.lines.newLine(ti(s).call(s,0,a),r),n[0]=ti(s).call(s,a)}else{let s=o;n[o-1]===" "?o--:n[s]===" "&&s++;const a=ti(n).call(n,0,o).join("");o==n.length&&i?this.lines.append(a,r):this.lines.newLine(a,r),n=ti(n).call(n,s)}}}}const ta=["bold","ital","boldital","mono"];class os{constructor(e,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.body=e,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(r),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=i}setOptions(e){if(this.elementOptions=e,this.initFontOptions(e.font),Hd(e.label)?this.labelDirty=!0:e.label=void 0,e.font!==void 0&&e.font!==null){if(typeof e.font=="string")this.baseSize=this.fontOptions.size;else if(typeof e.font=="object"){const r=e.font.size;r!==void 0&&(this.baseSize=r)}}}initFontOptions(e){if(me(ta,r=>{this.fontOptions[r]={}}),os.parseFontString(this.fontOptions,e)){this.fontOptions.vadjust=0;return}me(e,(r,i)=>{r!=null&&typeof r!="object"&&(this.fontOptions[i]=r)})}static parseFontString(e,r){if(!r||typeof r!="string")return!1;const i=r.split(" ");return e.size=+i[0].replace("px",""),e.face=i[1],e.color=i[2],!0}constrain(e){const r={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},i=Gi(e,"widthConstraint");if(typeof i=="number")r.maxWdt=Number(i),r.minWdt=Number(i);else if(typeof i=="object"){const o=Gi(e,["widthConstraint","maximum"]);typeof o=="number"&&(r.maxWdt=Number(o));const s=Gi(e,["widthConstraint","minimum"]);typeof s=="number"&&(r.minWdt=Number(s))}const n=Gi(e,"heightConstraint");if(typeof n=="number")r.minHgt=Number(n);else if(typeof n=="object"){const o=Gi(e,["heightConstraint","minimum"]);typeof o=="number"&&(r.minHgt=Number(o));const s=Gi(e,["heightConstraint","valign"]);typeof s=="string"&&(s==="top"||s==="bottom")&&(r.valign=s)}return r}update(e,r){this.setOptions(e,!0),this.propagateFonts(r),Le(this.fontOptions,this.constrain(r)),this.fontOptions.chooser=Vm("label",r)}adjustSizes(e){const r=e?e.right+e.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=r,this.fontOptions.minWdt-=r);const i=e?e.top+e.bottom:0;this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=i)}addFontOptionsToPile(e,r){for(let i=0;i<r.length;++i)this.addFontToPile(e,r[i])}addFontToPile(e,r){if(r===void 0||r.font===void 0||r.font===null)return;const i=r.font;e.push(i)}getBasicOptions(e){const r={};for(let i=0;i<e.length;++i){let n=e[i];const o={};os.parseFontString(o,n)&&(n=o),me(n,(s,a)=>{s!==void 0&&(Object.prototype.hasOwnProperty.call(r,a)||(ke(ta).call(ta,a)!==-1?r[a]={}:r[a]=s))})}return r}getFontOption(e,r,i){let n;for(let o=0;o<e.length;++o){const s=e[o];if(Object.prototype.hasOwnProperty.call(s,r)){if(n=s[r],n==null)continue;const a={};if(os.parseFontString(a,n)&&(n=a),Object.prototype.hasOwnProperty.call(n,i))return n[i]}}if(Object.prototype.hasOwnProperty.call(this.fontOptions,i))return this.fontOptions[i];throw new Error("Did not find value for multi-font for property: '"+i+"'")}getFontOptions(e,r){const i={},n=["color","size","face","mod","vadjust"];for(let o=0;o<n.length;++o){const s=n[o];i[s]=this.getFontOption(e,r,s)}return i}propagateFonts(e){const r=[];this.addFontOptionsToPile(r,e),this.fontOptions=this.getBasicOptions(r);for(let i=0;i<ta.length;++i){const n=ta[i],o=this.fontOptions[n],s=this.getFontOptions(r,n);me(s,(a,l)=>{o[l]=a}),o.size=Number(o.size),o.vadjust=Number(o.vadjust)}}draw(e,r,i,n,o){let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";if(this.elementOptions.label===void 0)return;let a=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&a<this.elementOptions.scaling.label.drawThreshold-1||(a>=this.elementOptions.scaling.label.maxVisible&&(a=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(e,n,o,r,i,s),this._drawBackground(e),this._drawText(e,r,this.size.yLine,s,a))}_drawBackground(e){if(this.fontOptions.background!==void 0&&this.fontOptions.background!=="none"){e.fillStyle=this.fontOptions.background;const r=this.getSize();e.fillRect(r.left,r.top,r.width,r.height)}}_drawText(e,r,i){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"middle",o=arguments.length>4?arguments[4]:void 0;[r,i]=this._setAlignment(e,r,i,n),e.textAlign="left",r=r-this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&(this.fontOptions.valign==="top"&&(i-=(this.size.height-this.size.labelHeight)/2),this.fontOptions.valign==="bottom"&&(i+=(this.size.height-this.size.labelHeight)/2));for(let s=0;s<this.lineCount;s++){const a=this.lines[s];if(a&&a.blocks){let l=0;this.isEdgeLabel||this.fontOptions.align==="center"?l+=(this.size.width-a.width)/2:this.fontOptions.align==="right"&&(l+=this.size.width-a.width);for(let c=0;c<a.blocks.length;c++){const d=a.blocks[c];e.font=d.font;const[u,h]=this._getColor(d.color,o,d.strokeColor);d.strokeWidth>0&&(e.lineWidth=d.strokeWidth,e.strokeStyle=h,e.lineJoin="round"),e.fillStyle=u,d.strokeWidth>0&&e.strokeText(d.text,r+l,i+d.vadjust),e.fillText(d.text,r+l,i+d.vadjust),l+=d.width}i+=a.height}}}_setAlignment(e,r,i,n){if(this.isEdgeLabel&&this.fontOptions.align!=="horizontal"&&this.pointToSelf===!1){r=0,i=0;const o=2;this.fontOptions.align==="top"?(e.textBaseline="alphabetic",i-=2*o):this.fontOptions.align==="bottom"?(e.textBaseline="hanging",i+=2*o):e.textBaseline="middle"}else e.textBaseline=n;return[r,i]}_getColor(e,r,i){let n=e||"#000000",o=i||"#ffffff";if(r<=this.elementOptions.scaling.label.drawThreshold){const s=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-r)));n=wr(n,s),o=wr(o,s)}return[n,o]}getTextSize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return this._processLabel(e,r,i),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}getSize(){let r=this.size.left,i=this.size.top-.5*2;if(this.isEdgeLabel){const o=-this.size.width*.5;switch(this.fontOptions.align){case"middle":r=o,i=-this.size.height*.5;break;case"top":r=o,i=-(this.size.height+2);break;case"bottom":r=o,i=2;break}}return{left:r,top:i,width:this.size.width,height:this.size.height}}calculateLabelSize(e,r,i){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";this._processLabel(e,r,i),this.size.left=n-this.size.width*.5,this.size.top=o-this.size.height*.5,this.size.yLine=o+(1-this.lineCount)*.5*this.fontOptions.size,s==="hanging"&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}getFormattingValues(e,r,i,n){const o=function(l,c,d){return c==="normal"?d==="mod"?"":l[d]:l[c][d]!==void 0?l[c][d]:l[d]},s={color:o(this.fontOptions,n,"color"),size:o(this.fontOptions,n,"size"),face:o(this.fontOptions,n,"face"),mod:o(this.fontOptions,n,"mod"),vadjust:o(this.fontOptions,n,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(r||i)&&(n==="normal"&&this.fontOptions.chooser===!0&&this.elementOptions.labelHighlightBold?s.mod="bold":typeof this.fontOptions.chooser=="function"&&this.fontOptions.chooser(s,this.elementOptions.id,r,i));let a="";return s.mod!==void 0&&s.mod!==""&&(a+=s.mod+" "),a+=s.size+"px "+s.face,e.font=a.replace(/"/g,""),s.font=e.font,s.height=s.size,s}differentState(e,r){return e!==this.selectedState||r!==this.hoverState}_processLabelText(e,r,i,n){return new zve(e,this,r,i).process(n)}_processLabel(e,r,i){if(this.labelDirty===!1&&!this.differentState(r,i))return;const n=this._processLabelText(e,r,i,this.elementOptions.label);this.fontOptions.minWdt>0&&n.width<this.fontOptions.minWdt&&(n.width=this.fontOptions.minWdt),this.size.labelHeight=n.height,this.fontOptions.minHgt>0&&n.height<this.fontOptions.minHgt&&(n.height=this.fontOptions.minHgt),this.lines=n.lines,this.lineCount=n.lines.length,this.size.width=n.width,this.size.height=n.height,this.selectedState=r,this.hoverState=i,this.labelDirty=!1}visible(){return!(this.size.width===0||this.size.height===0||this.elementOptions.label===void 0||this.fontOptions.size*this.body.view.scale<this.elementOptions.scaling.label.drawThreshold-1)}}class Eo{constructor(e,r,i){this.body=r,this.labelModule=i,this.setOptions(e),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}setOptions(e){this.options=e}_setMargins(e){this.margin={},this.options.margin&&(typeof this.options.margin=="object"?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),e.adjustSizes(this.margin)}_distanceToBorder(e,r){const i=this.options.borderWidth;return e&&this.resize(e),Math.min(Math.abs(this.width/2/Math.cos(r)),Math.abs(this.height/2/Math.sin(r)))+i}enableShadow(e,r){r.shadow&&(e.shadowColor=r.shadowColor,e.shadowBlur=r.shadowSize,e.shadowOffsetX=r.shadowX,e.shadowOffsetY=r.shadowY)}disableShadow(e,r){r.shadow&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}enableBorderDashes(e,r){if(r.borderDashes!==!1)if(e.setLineDash!==void 0){let i=r.borderDashes;i===!0&&(i=[5,15]),e.setLineDash(i)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,r.borderDashes=!1}disableBorderDashes(e,r){r.borderDashes!==!1&&(e.setLineDash!==void 0?e.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,r.borderDashes=!1))}needsRefresh(e,r){return this.refreshNeeded===!0?(this.refreshNeeded=!1,!0):this.width===void 0||this.labelModule.differentState(e,r)}initContextForDraw(e,r){const i=r.borderWidth/this.body.view.scale;e.lineWidth=Math.min(this.width,i),e.strokeStyle=r.borderColor,e.fillStyle=r.color}performStroke(e,r){const i=r.borderWidth/this.body.view.scale;e.save(),i>0&&(this.enableBorderDashes(e,r),e.stroke(),this.disableBorderDashes(e,r)),e.restore()}performFill(e,r){e.save(),e.fillStyle=r.color,this.enableShadow(e,r),Vl(e).call(e),this.disableShadow(e,r),e.restore(),this.performStroke(e,r)}_addBoundingBoxMargin(e){this.boundingBox.left-=e,this.boundingBox.top-=e,this.boundingBox.bottom+=e,this.boundingBox.right+=e}_updateBoundingBox(e,r,i,n,o){i!==void 0&&this.resize(i,n,o),this.left=e-this.width/2,this.top=r-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}updateBoundingBox(e,r,i,n,o){this._updateBoundingBox(e,r,i,n,o)}getDimensionsFromLabel(e,r,i){this.textSize=this.labelModule.getTextSize(e,r,i);let n=this.textSize.width,o=this.textSize.height;const s=14;return n===0&&(n=s,o=s),{width:n,height:o}}}let Hve=class extends Eo{constructor(e,r,i){super(e,r,i),this._setMargins(i)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(r,i)){const n=this.getDimensionsFromLabel(e,r,i);this.width=n.width+this.margin.right+this.margin.left,this.height=n.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}draw(e,r,i,n,o,s){this.resize(e,n,o),this.left=r-this.width/2,this.top=i-this.height/2,this.initContextForDraw(e,s),ix(e,this.left,this.top,this.width,this.height,s.borderRadius),this.performFill(e,s),this.updateBoundingBox(r,i,e,n,o),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,n,o)}updateBoundingBox(e,r,i,n,o){this._updateBoundingBox(e,r,i,n,o);const s=this.options.shapeProperties.borderRadius;this._addBoundingBoxMargin(s)}distanceToBorder(e,r){e&&this.resize(e);const i=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(r)),Math.abs(this.height/2/Math.sin(r)))+i}};class Um extends Eo{constructor(e,r,i){super(e,r,i),this.labelOffset=0,this.selected=!1}setOptions(e,r,i){this.options=e,r===void 0&&i===void 0||this.setImages(r,i)}setImages(e,r){r&&this.selected?(this.imageObj=r,this.imageObjAlt=e):(this.imageObj=e,this.imageObjAlt=r)}switchImages(e){const r=e&&!this.selected||!e&&this.selected;if(this.selected=e,this.imageObjAlt!==void 0&&r){const i=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=i}}_getImagePadding(){const e={top:0,right:0,bottom:0,left:0};if(this.options.imagePadding){const r=this.options.imagePadding;typeof r=="object"?(e.top=r.top,e.right=r.right,e.bottom=r.bottom,e.left=r.left):(e.top=r,e.right=r,e.bottom=r,e.left=r)}return e}_resizeImage(){let e,r;if(this.options.shapeProperties.useImageSize===!1){let i=1,n=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?i=this.imageObj.width/this.imageObj.height:n=this.imageObj.height/this.imageObj.width),e=this.options.size*2*i,r=this.options.size*2*n}else{const i=this._getImagePadding();e=this.imageObj.width+i.left+i.right,r=this.imageObj.height+i.top+i.bottom}this.width=e,this.height=r,this.radius=.5*this.width}_drawRawCircle(e,r,i,n){this.initContextForDraw(e,n),hm(e,r,i,n.size),this.performFill(e,n)}_drawImageAtPosition(e,r){if(this.imageObj.width!=0){e.globalAlpha=r.opacity!==void 0?r.opacity:1,this.enableShadow(e,r);let i=1;this.options.shapeProperties.interpolation===!0&&(i=this.imageObj.width/this.width/this.body.view.scale);const n=this._getImagePadding(),o=this.left+n.left,s=this.top+n.top,a=this.width-n.left-n.right,l=this.height-n.top-n.bottom;this.imageObj.drawImageAtPosition(e,i,o,s,a,l),this.disableShadow(e,r)}}_drawImageLabel(e,r,i,n,o){let s=0;if(this.height!==void 0){s=this.height*.5;const l=this.labelModule.getTextSize(e,n,o);l.lineCount>=1&&(s+=l.height/2)}const a=i+s;this.options.label&&(this.labelOffset=s),this.labelModule.draw(e,r,a,n,o,"hanging")}}let Wve=class extends Um{constructor(e,r,i){super(e,r,i),this._setMargins(i)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(r,i)){const n=this.getDimensionsFromLabel(e,r,i),o=Math.max(n.width+this.margin.right+this.margin.left,n.height+this.margin.top+this.margin.bottom);this.options.size=o/2,this.width=o,this.height=o,this.radius=this.width/2}}draw(e,r,i,n,o,s){this.resize(e,n,o),this.left=r-this.width/2,this.top=i-this.height/2,this._drawRawCircle(e,r,i,s),this.updateBoundingBox(r,i),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,i,n,o)}updateBoundingBox(e,r){this.boundingBox.top=r-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=r+this.options.size}distanceToBorder(e){return e&&this.resize(e),this.width*.5}};class Vve extends Um{constructor(e,r,i,n,o){super(e,r,i),this.setImages(n,o)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0){const o=this.options.size*2;this.width=o,this.height=o,this.radius=.5*this.width;return}this.needsRefresh(r,i)&&this._resizeImage()}draw(e,r,i,n,o,s){this.switchImages(n),this.resize();let a=r,l=i;this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=r,this.top=i,a+=this.width/2,l+=this.height/2):(this.left=r-this.width/2,this.top=i-this.height/2),this._drawRawCircle(e,a,l,s),e.save(),e.clip(),this._drawImageAtPosition(e,s),e.restore(),this._drawImageLabel(e,a,l,n,o),this.updateBoundingBox(r,i)}updateBoundingBox(e,r){this.options.shapeProperties.coordinateOrigin==="top-left"?(this.boundingBox.top=r,this.boundingBox.left=e,this.boundingBox.right=e+this.options.size*2,this.boundingBox.bottom=r+this.options.size*2):(this.boundingBox.top=r-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=r+this.options.size),this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}distanceToBorder(e){return e&&this.resize(e),this.width*.5}}class xn extends Eo{constructor(e,r,i){super(e,r,i)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{size:this.options.size};if(this.needsRefresh(r,i)){var o,s;this.labelModule.getTextSize(e,r,i);const a=2*n.size;this.width=(o=this.customSizeWidth)!==null&&o!==void 0?o:a,this.height=(s=this.customSizeHeight)!==null&&s!==void 0?s:a,this.radius=.5*this.width}}_drawShape(e,r,i,n,o,s,a,l){return this.resize(e,s,a,l),this.left=n-this.width/2,this.top=o-this.height/2,this.initContextForDraw(e,l),PQ(r)(e,n,o,l.size),this.performFill(e,l),this.options.icon!==void 0&&this.options.icon.code!==void 0&&(e.font=(s?"bold ":"")+this.height/2+"px "+(this.options.icon.face||"FontAwesome"),e.fillStyle=this.options.icon.color||"black",e.textAlign="center",e.textBaseline="middle",e.fillText(this.options.icon.code,n,o)),{drawExternalLabel:()=>{if(this.options.label!==void 0){this.labelModule.calculateLabelSize(e,s,a,n,o,"hanging");const c=o+.5*this.height+.5*this.labelModule.size.height;this.labelModule.draw(e,n,c,s,a,"hanging")}this.updateBoundingBox(n,o)}}}updateBoundingBox(e,r){this.boundingBox.top=r-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=r+this.options.size,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}function t_(t,e){var r=Ze(t);if(yn){var i=yn(t);e&&(i=er(i).call(i,function(n){return On(t,n).enumerable})),r.push.apply(r,i)}return r}function Uve(t){for(var e=1;e<arguments.length;e++){var r,i,n=arguments[e]!=null?arguments[e]:{};e%2?Re(r=t_(Object(n),!0)).call(r,function(o){Qu(t,o,n[o])}):bn?eh(t,bn(n)):Re(i=t_(Object(n))).call(i,function(o){th(t,o,On(n,o))})}return t}class Yve extends xn{constructor(e,r,i,n){super(e,r,i,n),this.ctxRenderer=n}draw(e,r,i,n,o,s){this.resize(e,n,o,s),this.left=r-this.width/2,this.top=i-this.height/2,e.save();const a=this.ctxRenderer({ctx:e,id:this.options.id,x:r,y:i,state:{selected:n,hover:o},style:Uve({},s),label:this.options.label});if(a.drawNode!=null&&a.drawNode(),e.restore(),a.drawExternalLabel){const l=a.drawExternalLabel;a.drawExternalLabel=()=>{e.save(),l(),e.restore()}}return a.nodeDimensions&&(this.customSizeWidth=a.nodeDimensions.width,this.customSizeHeight=a.nodeDimensions.height),a}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class qve extends Eo{constructor(e,r,i){super(e,r,i),this._setMargins(i)}resize(e,r,i){if(this.needsRefresh(r,i)){const o=this.getDimensionsFromLabel(e,r,i).width+this.margin.right+this.margin.left;this.width=o,this.height=o,this.radius=this.width/2}}draw(e,r,i,n,o,s){this.resize(e,n,o),this.left=r-this.width/2,this.top=i-this.height/2,this.initContextForDraw(e,s),nx(e,r-this.width/2,i-this.height/2,this.width,this.height),this.performFill(e,s),this.updateBoundingBox(r,i,e,n,o),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,n,o)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}let Kve=class extends xn{constructor(e,r,i){super(e,r,i)}draw(e,r,i,n,o,s){return this._drawShape(e,"diamond",4,r,i,n,o,s)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}};class Gve extends xn{constructor(e,r,i){super(e,r,i)}draw(e,r,i,n,o,s){return this._drawShape(e,"circle",2,r,i,n,o,s)}distanceToBorder(e){return e&&this.resize(e),this.options.size}}class r_ extends Eo{constructor(e,r,i){super(e,r,i)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(r,i)){const n=this.getDimensionsFromLabel(e,r,i);this.height=n.height*2,this.width=n.width+n.height,this.radius=.5*this.width}}draw(e,r,i,n,o,s){this.resize(e,n,o),this.left=r-this.width*.5,this.top=i-this.height*.5,this.initContextForDraw(e,s),Ev(e,this.left,this.top,this.width,this.height),this.performFill(e,s),this.updateBoundingBox(r,i,e,n,o),this.labelModule.draw(e,r,i,n,o)}distanceToBorder(e,r){e&&this.resize(e);const i=this.width*.5,n=this.height*.5,o=Math.sin(r)*i,s=Math.cos(r)*n;return i*n/Math.sqrt(o*o+s*s)}}class Xve extends Eo{constructor(e,r,i){super(e,r,i),this._setMargins(i)}resize(e,r,i){this.needsRefresh(r,i)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}draw(e,r,i,n,o,s){return this.resize(e,n,o),this.options.icon.size=this.options.icon.size||50,this.left=r-this.width/2,this.top=i-this.height/2,this._icon(e,r,i,n,o,s),{drawExternalLabel:()=>{this.options.label!==void 0&&this.labelModule.draw(e,this.left+this.iconSize.width/2+this.margin.left,i+this.height/2+5,n),this.updateBoundingBox(r,i)}}}updateBoundingBox(e,r){this.boundingBox.top=r-this.options.icon.size*.5,this.boundingBox.left=e-this.options.icon.size*.5,this.boundingBox.right=e+this.options.icon.size*.5,this.boundingBox.bottom=r+this.options.icon.size*.5,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+5))}_icon(e,r,i,n,o,s){const a=Number(this.options.icon.size);this.options.icon.code!==void 0?(e.font=[this.options.icon.weight!=null?this.options.icon.weight:n?"bold":"",(this.options.icon.weight!=null&&n?5:0)+a+"px",this.options.icon.face].join(" "),e.fillStyle=this.options.icon.color||"black",e.textAlign="center",e.textBaseline="middle",this.enableShadow(e,s),e.fillText(this.options.icon.code,r,i),this.disableShadow(e,s)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}let Jve=class extends Um{constructor(e,r,i,n,o){super(e,r,i),this.setImages(n,o)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0){const o=this.options.size*2;this.width=o,this.height=o;return}this.needsRefresh(r,i)&&this._resizeImage()}draw(e,r,i,n,o,s){e.save(),this.switchImages(n),this.resize();let a=r,l=i;if(this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=r,this.top=i,a+=this.width/2,l+=this.height/2):(this.left=r-this.width/2,this.top=i-this.height/2),this.options.shapeProperties.useBorderWithImage===!0){const c=this.options.borderWidth,d=this.options.borderWidthSelected||2*this.options.borderWidth,u=(n?d:c)/this.body.view.scale;e.lineWidth=Math.min(this.width,u),e.beginPath();let h=n?this.options.color.highlight.border:o?this.options.color.hover.border:this.options.color.border,f=n?this.options.color.highlight.background:o?this.options.color.hover.background:this.options.color.background;s.opacity!==void 0&&(h=wr(h,s.opacity),f=wr(f,s.opacity)),e.strokeStyle=h,e.fillStyle=f,e.rect(this.left-.5*e.lineWidth,this.top-.5*e.lineWidth,this.width+e.lineWidth,this.height+e.lineWidth),Vl(e).call(e),this.performStroke(e,s),e.closePath()}this._drawImageAtPosition(e,s),this._drawImageLabel(e,a,l,n,o),this.updateBoundingBox(r,i),e.restore()}updateBoundingBox(e,r){this.resize(),this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=e,this.top=r):(this.left=e-this.width/2,this.top=r-this.height/2),this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}distanceToBorder(e,r){return this._distanceToBorder(e,r)}};class Zve extends xn{constructor(e,r,i){super(e,r,i)}draw(e,r,i,n,o,s){return this._drawShape(e,"square",2,r,i,n,o,s)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class Qve extends xn{constructor(e,r,i){super(e,r,i)}draw(e,r,i,n,o,s){return this._drawShape(e,"hexagon",4,r,i,n,o,s)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class ege extends xn{constructor(e,r,i){super(e,r,i)}draw(e,r,i,n,o,s){return this._drawShape(e,"star",4,r,i,n,o,s)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class tge extends Eo{constructor(e,r,i){super(e,r,i),this._setMargins(i)}resize(e,r,i){this.needsRefresh(r,i)&&(this.textSize=this.labelModule.getTextSize(e,r,i),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}draw(e,r,i,n,o,s){this.resize(e,n,o),this.left=r-this.width/2,this.top=i-this.height/2,this.enableShadow(e,s),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,n,o),this.disableShadow(e,s),this.updateBoundingBox(r,i,e,n,o)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}let rge=class extends xn{constructor(e,r,i){super(e,r,i)}draw(e,r,i,n,o,s){return this._drawShape(e,"triangle",3,r,i,n,o,s)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}};class ige extends xn{constructor(e,r,i){super(e,r,i)}draw(e,r,i,n,o,s){return this._drawShape(e,"triangleDown",3,r,i,n,o,s)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}function i_(t,e){var r=Ze(t);if(yn){var i=yn(t);e&&(i=er(i).call(i,function(n){return On(t,n).enumerable})),r.push.apply(r,i)}return r}function n_(t){for(var e=1;e<arguments.length;e++){var r,i,n=arguments[e]!=null?arguments[e]:{};e%2?Re(r=i_(Object(n),!0)).call(r,function(o){Qu(t,o,n[o])}):bn?eh(t,bn(n)):Re(i=i_(Object(n))).call(i,function(o){th(t,o,On(n,o))})}return t}class Ye{constructor(e,r,i,n,o,s){this.options=dn(o),this.globalOptions=o,this.defaultOptions=s,this.body=r,this.edges=[],this.id=void 0,this.imagelist=i,this.grouplist=n,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new os(this.body,this.options,!1),this.setOptions(e)}attachEdge(e){var r;ke(r=this.edges).call(r,e)===-1&&this.edges.push(e)}detachEdge(e){var r;const i=ke(r=this.edges).call(r,e);if(i!=-1){var n;Si(n=this.edges).call(n,i,1)}}setOptions(e){const r=this.options.shape;if(!e)return;if(typeof e.color<"u"&&(this._localColor=e.color),e.id!==void 0&&(this.id=e.id),this.id===void 0)throw new Error("Node must have an id");Ye.checkMass(e,this.id),e.x!==void 0&&(e.x===null?(this.x=void 0,this.predefinedPosition=!1):(this.x=Mr(e.x),this.predefinedPosition=!0)),e.y!==void 0&&(e.y===null?(this.y=void 0,this.predefinedPosition=!1):(this.y=Mr(e.y),this.predefinedPosition=!0)),e.size!==void 0&&(this.baseSize=e.size),e.value!==void 0&&(e.value=pk(e.value)),Ye.parseOptions(this.options,e,!0,this.globalOptions,this.grouplist);const i=[e,this.options,this.defaultOptions];return this.chooser=Vm("node",i),this._load_images(),this.updateLabelModule(e),e.opacity!==void 0&&Ye.checkOpacity(e.opacity)&&(this.options.opacity=e.opacity),this.updateShape(r),e.hidden!==void 0||e.physics!==void 0}_load_images(){if((this.options.shape==="circularImage"||this.options.shape==="image")&&this.options.image===void 0)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(this.options.image!==void 0){if(this.imagelist===void 0)throw new Error("Internal Error: No images provided");if(typeof this.options.image=="string")this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(this.options.image.unselected===void 0)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),this.options.image.selected!==void 0?this.imageObjAlt=this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):this.imageObjAlt=void 0}}}static checkOpacity(e){return 0<=e&&e<=1}static checkCoordinateOrigin(e){return e===void 0||e==="center"||e==="top-left"}static updateGroupOptions(e,r,i){var n;if(i===void 0)return;const o=e.group;if(r!==void 0&&r.group!==void 0&&o!==r.group)throw new Error("updateGroupOptions: group values in options don't match.");if(!(typeof o=="number"||typeof o=="string"&&o!=""))return;const a=i.get(o);a.opacity!==void 0&&r.opacity===void 0&&(Ye.checkOpacity(a.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+a.opacity),a.opacity=void 0));const l=er(n=Ype(r)).call(n,c=>r[c]!=null);l.push("font"),Bd(l,e,a),e.color=Wv(e.color)}static parseOptions(e,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},o=arguments.length>4?arguments[4]:void 0;if(Bd(["color","fixed","shadow"],e,r,i),Ye.checkMass(r),e.opacity!==void 0&&(Ye.checkOpacity(e.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity),e.opacity=void 0)),r.opacity!==void 0&&(Ye.checkOpacity(r.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+r.opacity),r.opacity=void 0)),r.shapeProperties&&!Ye.checkCoordinateOrigin(r.shapeProperties.coordinateOrigin)&&console.error("Invalid option for node coordinateOrigin, found: "+r.shapeProperties.coordinateOrigin),$r(e,r,"shadow",n),r.color!==void 0&&r.color!==null){const a=Wv(r.color);LP(e.color,a)}else i===!0&&r.color===null&&(e.color=dn(n.color));r.fixed!==void 0&&r.fixed!==null&&(typeof r.fixed=="boolean"?(e.fixed.x=r.fixed,e.fixed.y=r.fixed):(r.fixed.x!==void 0&&typeof r.fixed.x=="boolean"&&(e.fixed.x=r.fixed.x),r.fixed.y!==void 0&&typeof r.fixed.y=="boolean"&&(e.fixed.y=r.fixed.y))),i===!0&&r.font===null&&(e.font=dn(n.font)),Ye.updateGroupOptions(e,r,o),r.scaling!==void 0&&$r(e.scaling,r.scaling,"label",n.scaling)}getFormattingValues(){const e={color:this.options.color.background,opacity:this.options.opacity,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};if(this.selected||this.hover?this.chooser===!0?this.selected?(this.options.borderWidthSelected!=null?e.borderWidth=this.options.borderWidthSelected:e.borderWidth*=2,e.color=this.options.color.highlight.background,e.borderColor=this.options.color.highlight.border,e.shadow=this.options.shadow.enabled):this.hover&&(e.color=this.options.color.hover.background,e.borderColor=this.options.color.hover.border,e.shadow=this.options.shadow.enabled):typeof this.chooser=="function"&&(this.chooser(e,this.options.id,this.selected,this.hover),e.shadow===!1&&(e.shadowColor!==this.options.shadow.color||e.shadowSize!==this.options.shadow.size||e.shadowX!==this.options.shadow.x||e.shadowY!==this.options.shadow.y)&&(e.shadow=!0)):e.shadow=this.options.shadow.enabled,this.options.opacity!==void 0){const r=this.options.opacity;e.borderColor=wr(e.borderColor,r),e.color=wr(e.color,r),e.shadowColor=wr(e.shadowColor,r)}return e}updateLabelModule(e){(this.options.label===void 0||this.options.label===null)&&(this.options.label=""),Ye.updateGroupOptions(this.options,n_(n_({},e),{},{color:e&&e.color||this._localColor||void 0}),this.grouplist);const r=this.grouplist.get(this.options.group,!1),i=[e,this.options,r,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,i),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}updateShape(e){if(e===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new Hve(this.options,this.body,this.labelModule);break;case"circle":this.shape=new Wve(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new Vve(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"custom":this.shape=new Yve(this.options,this.body,this.labelModule,this.options.ctxRenderer);break;case"database":this.shape=new qve(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new Kve(this.options,this.body,this.labelModule);break;case"dot":this.shape=new Gve(this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new r_(this.options,this.body,this.labelModule);break;case"icon":this.shape=new Xve(this.options,this.body,this.labelModule);break;case"image":this.shape=new Jve(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new Zve(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new Qve(this.options,this.body,this.labelModule);break;case"star":this.shape=new ege(this.options,this.body,this.labelModule);break;case"text":this.shape=new tge(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new rge(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new ige(this.options,this.body,this.labelModule);break;default:this.shape=new r_(this.options,this.body,this.labelModule);break}this.needsRefresh()}select(){this.selected=!0,this.needsRefresh()}unselect(){this.selected=!1,this.needsRefresh()}needsRefresh(){this.shape.refreshNeeded=!0}getTitle(){return this.options.title}distanceToBorder(e,r){return this.shape.distanceToBorder(e,r)}isFixed(){return this.options.fixed.x&&this.options.fixed.y}isSelected(){return this.selected}getValue(){return this.options.value}getLabelSize(){return this.labelModule.size()}setValueRange(e,r,i){if(this.options.value!==void 0){const n=this.options.scaling.customScalingFunction(e,r,i,this.options.value),o=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){const s=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+n*s}this.options.size=this.options.scaling.min+n*o}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}draw(e){const r=this.getFormattingValues();return this.shape.draw(e,this.x,this.y,this.selected,this.hover,r)||{}}updateBoundingBox(e){this.shape.updateBoundingBox(this.x,this.y,e)}resize(e){const r=this.getFormattingValues();this.shape.resize(e,this.selected,this.hover,r)}getItemsOnPoint(e){const r=[];return this.labelModule.visible()&&Kv(this.labelModule.getSize(),e)&&r.push({nodeId:this.id,labelId:0}),Kv(this.shape.boundingBox,e)&&r.push({nodeId:this.id}),r}isOverlappingWith(e){return this.shape.left<e.right&&this.shape.left+this.shape.width>e.left&&this.shape.top<e.bottom&&this.shape.top+this.shape.height>e.top}isBoundingBoxOverlappingWith(e){return this.shape.boundingBox.left<e.right&&this.shape.boundingBox.right>e.left&&this.shape.boundingBox.top<e.bottom&&this.shape.boundingBox.bottom>e.top}static checkMass(e,r){if(e.mass!==void 0&&e.mass<=0){let i="";r!==void 0&&(i=" in node id: "+r),console.error("%cNegative or zero mass disallowed"+i+", setting mass to 1.",WP),e.mass=1}}}class nge{constructor(e,r,i,n){var o;if(this.body=e,this.images=r,this.groups=i,this.layoutEngine=n,this.body.functions.createNode=M(o=this.create).call(o,this),this.nodesListeners={add:(s,a)=>{this.add(a.items)},update:(s,a)=>{this.update(a.items,a.data,a.oldData)},remove:(s,a)=>{this.remove(a.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:void 0,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},opacity:void 0,fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,imagePadding:{top:0,right:0,bottom:0,left:0},label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(s,a,l,c){if(a===s)return .5;{const d=1/(a-s);return Math.max(0,(c-s)*d)}}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1,coordinateOrigin:"center"},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=dn(this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e,r;this.body.emitter.on("refreshNodes",M(e=this.refresh).call(e,this)),this.body.emitter.on("refresh",M(r=this.refresh).call(r,this)),this.body.emitter.on("destroy",()=>{me(this.nodesListeners,(i,n)=>{this.body.data.nodes&&this.body.data.nodes.off(n,i)}),delete this.body.functions.createNode,delete this.nodesListeners.add,delete this.nodesListeners.update,delete this.nodesListeners.remove,delete this.nodesListeners})}setOptions(e){if(e!==void 0){if(Ye.parseOptions(this.options,e),e.opacity!==void 0&&(qv(e.opacity)||!zn(e.opacity)||e.opacity<0||e.opacity>1?console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity):this.options.opacity=e.opacity),e.shape!==void 0)for(const r in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,r)&&this.body.nodes[r].updateShape();if(typeof e.font<"u"||typeof e.widthConstraint<"u"||typeof e.heightConstraint<"u")for(const r of Ze(this.body.nodes))this.body.nodes[r].updateLabelModule(),this.body.nodes[r].needsRefresh();if(e.size!==void 0)for(const r in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,r)&&this.body.nodes[r].needsRefresh();(e.hidden!==void 0||e.physics!==void 0)&&this.body.emitter.emit("_dataChanged")}}setData(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const i=this.body.data.nodes;if(BO("id",e))this.body.data.nodes=e;else if(Qe(e))this.body.data.nodes=new kd,this.body.data.nodes.add(e);else if(!e)this.body.data.nodes=new kd;else throw new TypeError("Array or DataSet expected");if(i&&me(this.nodesListeners,function(n,o){i.off(o,n)}),this.body.nodes={},this.body.data.nodes){const n=this;me(this.nodesListeners,function(s,a){n.body.data.nodes.on(a,s)});const o=this.body.data.nodes.getIds();this.add(o,!0)}r===!1&&this.body.emitter.emit("_dataChanged")}add(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i;const n=[];for(let o=0;o<e.length;o++){i=e[o];const s=this.body.data.nodes.get(i),a=this.create(s);n.push(a),this.body.nodes[i]=a}this.layoutEngine.positionInitially(n),r===!1&&this.body.emitter.emit("_dataChanged")}update(e,r,i){const n=this.body.nodes;let o=!1;for(let s=0;s<e.length;s++){const a=e[s];let l=n[a];const c=r[s];l!==void 0?l.setOptions(c)&&(o=!0):(o=!0,l=this.create(c),n[a]=l)}!o&&i!==void 0&&(o=lfe(r).call(r,function(s,a){const l=i[a];return l&&l.level!==s.level})),o===!0?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}remove(e){const r=this.body.nodes;for(let i=0;i<e.length;i++){const n=e[i];delete r[n]}this.body.emitter.emit("_dataChanged")}create(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ye;return new r(e,this.body,this.images,this.groups,this.options,this.defaultOptions)}refresh(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;me(this.body.nodes,(r,i)=>{const n=this.body.data.nodes.get(i);n!==void 0&&(e===!0&&r.setOptions({x:null,y:null}),r.setOptions({fixed:!1}),r.setOptions(n))})}getPositions(e){const r={};if(e!==void 0){if(Qe(e)===!0){for(let i=0;i<e.length;i++)if(this.body.nodes[e[i]]!==void 0){const n=this.body.nodes[e[i]];r[e[i]]={x:Math.round(n.x),y:Math.round(n.y)}}}else if(this.body.nodes[e]!==void 0){const i=this.body.nodes[e];r[e]={x:Math.round(i.x),y:Math.round(i.y)}}}else for(let i=0;i<this.body.nodeIndices.length;i++){const n=this.body.nodes[this.body.nodeIndices[i]];r[this.body.nodeIndices[i]]={x:Math.round(n.x),y:Math.round(n.y)}}return r}getPosition(e){if(e==null)throw new TypeError("No id was specified for getPosition method.");if(this.body.nodes[e]==null)throw new ReferenceError("NodeId provided for getPosition does not exist. Provided: ".concat(e));return{x:Math.round(this.body.nodes[e].x),y:Math.round(this.body.nodes[e].y)}}storePositions(){const e=[],r=this.body.data.nodes.getDataSet();for(const i of r.get()){const n=i.id,o=this.body.nodes[n],s=Math.round(o.x),a=Math.round(o.y);(i.x!==s||i.y!==a)&&e.push({id:n,x:s,y:a})}r.update(e)}getBoundingBox(e){if(this.body.nodes[e]!==void 0)return this.body.nodes[e].shape.boundingBox}getConnectedNodes(e,r){const i=[];if(this.body.nodes[e]!==void 0){const n=this.body.nodes[e],o={};for(let s=0;s<n.edges.length;s++){const a=n.edges[s];r!=="to"&&a.toId==n.id?o[a.fromId]===void 0&&(i.push(a.fromId),o[a.fromId]=!0):r!=="from"&&a.fromId==n.id&&o[a.toId]===void 0&&(i.push(a.toId),o[a.toId]=!0)}}return i}getConnectedEdges(e){const r=[];if(this.body.nodes[e]!==void 0){const i=this.body.nodes[e];for(let n=0;n<i.edges.length;n++)r.push(i.edges[n].id)}else console.error("NodeId provided for getConnectedEdges does not exist. Provided: ",e);return r}moveNode(e,r,i){this.body.nodes[e]!==void 0?(this.body.nodes[e].x=Number(r),this.body.nodes[e].y=Number(i),Ei(()=>{this.body.emitter.emit("startSimulation")},0)):console.error("Node id supplied to moveNode does not exist. Provided: ",e)}}var oge=de,o_=Math.hypot,sge=Math.abs,age=Math.sqrt,lge=!!o_&&o_(1/0,NaN)!==1/0;oge({target:"Math",stat:!0,forced:lge},{hypot:function(e,r){for(var i=0,n=0,o=arguments.length,s=0,a,l;n<o;)a=sge(arguments[n++]),s<a?(l=s/a,i=i*l*l+1,s=a):a>0?(l=a/s,i+=l*l):i+=a;return s===1/0?1/0:s*age(i)}});var cge=Ce,dge=cge.Math.hypot,uge=dge,hge=uge,fge=hge,pge=fe(fge);class lt{static transform(e,r){Qe(e)||(e=[e]);const i=r.point.x,n=r.point.y,o=r.angle,s=r.length;for(let a=0;a<e.length;++a){const l=e[a],c=l.x*Math.cos(o)-l.y*Math.sin(o),d=l.x*Math.sin(o)+l.y*Math.cos(o);l.x=i+s*c,l.y=n+s*d}}static drawPath(e,r){e.beginPath(),e.moveTo(r[0].x,r[0].y);for(let i=1;i<r.length;++i)e.lineTo(r[i].x,r[i].y);e.closePath()}}let vge=class extends lt{static draw(e,r){if(r.image){e.save(),e.translate(r.point.x,r.point.y),e.rotate(Math.PI/2+r.angle);const i=r.imageWidth!=null?r.imageWidth:r.image.width,n=r.imageHeight!=null?r.imageHeight:r.image.height;r.image.drawImageAtPosition(e,1,-i/2,0,i,n),e.restore()}return!1}};class gge extends lt{static draw(e,r){const i=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];return lt.transform(i,r),lt.drawPath(e,i),!0}}class mge{static draw(e,r){const i=[{x:-1,y:0},{x:0,y:.3},{x:-.4,y:0},{x:0,y:-.3}];return lt.transform(i,r),lt.drawPath(e,i),!0}}class yge{static draw(e,r){const i={x:-.4,y:0};lt.transform(i,r),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";const n=Math.PI,o=r.angle-n/2,s=r.angle+n/2;return e.beginPath(),e.arc(i.x,i.y,r.length*.4,o,s,!1),e.stroke(),!0}}class bge{static draw(e,r){const i={x:-.3,y:0};lt.transform(i,r),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";const n=Math.PI,o=r.angle+n/2,s=r.angle+3*n/2;return e.beginPath(),e.arc(i.x,i.y,r.length*.4,o,s,!1),e.stroke(),!0}}class $ge{static draw(e,r){const i=[{x:.02,y:0},{x:-1,y:.3},{x:-1,y:-.3}];return lt.transform(i,r),lt.drawPath(e,i),!0}}class wge{static draw(e,r){const i=[{x:0,y:.3},{x:0,y:-.3},{x:-1,y:0}];return lt.transform(i,r),lt.drawPath(e,i),!0}}class _ge{static draw(e,r){const i={x:-.4,y:0};return lt.transform(i,r),hm(e,i.x,i.y,r.length*.4),!0}}class Sge{static draw(e,r){const i=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];return lt.transform(i,r),lt.drawPath(e,i),!0}}class Ege{static draw(e,r){const i=[{x:0,y:.3},{x:0,y:-.3},{x:-.6,y:-.3},{x:-.6,y:.3}];return lt.transform(i,r),lt.drawPath(e,i),!0}}class Tge{static draw(e,r){const i=[{x:0,y:0},{x:-.5,y:-.3},{x:-1,y:0},{x:-.5,y:.3}];return lt.transform(i,r),lt.drawPath(e,i),!0}}class Ige{static draw(e,r){const i=[{x:-1,y:.3},{x:-.5,y:0},{x:-1,y:-.3},{x:0,y:0}];return lt.transform(i,r),lt.drawPath(e,i),!0}}class Sk{static draw(e,r){let i;switch(r.type&&(i=r.type.toLowerCase()),i){case"image":return vge.draw(e,r);case"circle":return _ge.draw(e,r);case"box":return Ege.draw(e,r);case"crow":return mge.draw(e,r);case"curve":return yge.draw(e,r);case"diamond":return Tge.draw(e,r);case"inv_curve":return bge.draw(e,r);case"triangle":return $ge.draw(e,r);case"inv_triangle":return wge.draw(e,r);case"bar":return Sge.draw(e,r);case"vee":return Ige.draw(e,r);case"arrow":default:return gge.draw(e,r)}}}function s_(t,e){var r=Ze(t);if(yn){var i=yn(t);e&&(i=er(i).call(i,function(n){return On(t,n).enumerable})),r.push.apply(r,i)}return r}function a_(t){for(var e=1;e<arguments.length;e++){var r,i,n=arguments[e]!=null?arguments[e]:{};e%2?Re(r=s_(Object(n),!0)).call(r,function(o){Qu(t,o,n[o])}):bn?eh(t,bn(n)):Re(i=s_(Object(n))).call(i,function(o){th(t,o,On(n,o))})}return t}class Ek{constructor(e,r,i){this._body=r,this._labelModule=i,this.color={},this.colorDirty=!0,this.hoverWidth=1.5,this.selectionWidth=2,this.setOptions(e),this.fromPoint=this.from,this.toPoint=this.to}connect(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to]}cleanup(){return!1}setOptions(e){this.options=e,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.id=this.options.id}drawLine(e,r,i,n){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.getViaNode();e.strokeStyle=this.getColor(e,r),e.lineWidth=r.width,r.dashes!==!1?this._drawDashedLine(e,r,o):this._drawLine(e,r,o)}_drawLine(e,r,i,n,o){if(this.from!=this.to)this._line(e,r,i,n,o);else{const[s,a,l]=this._getCircleData(e);this._circle(e,r,s,a,l)}}_drawDashedLine(e,r,i,n,o){e.lineCap="round";const s=Qe(r.dashes)?r.dashes:[5,5];if(e.setLineDash!==void 0){if(e.save(),e.setLineDash(s),e.lineDashOffset=0,this.from!=this.to)this._line(e,r,i);else{const[a,l,c]=this._getCircleData(e);this._circle(e,r,a,l,c)}e.setLineDash([0]),e.lineDashOffset=0,e.restore()}else{if(this.from!=this.to)ox(e,this.from.x,this.from.y,this.to.x,this.to.y,s);else{const[a,l,c]=this._getCircleData(e);this._circle(e,r,a,l,c)}this.enableShadow(e,r),e.stroke(),this.disableShadow(e,r)}}findBorderPosition(e,r,i){return this.from!=this.to?this._findBorderPosition(e,r,i):this._findBorderPositionCircle(e,r,i)}findBorderPositions(e){if(this.from!=this.to)return{from:this._findBorderPosition(this.from,e),to:this._findBorderPosition(this.to,e)};{var r;const[i,n]=ti(r=this._getCircleData(e)).call(r,0,2);return{from:this._findBorderPositionCircle(this.from,e,{x:i,y:n,low:.25,high:.6,direction:-1}),to:this._findBorderPositionCircle(this.from,e,{x:i,y:n,low:.6,high:.8,direction:1})}}}_getCircleData(e){const r=this.options.selfReference.size;e!==void 0&&this.from.shape.width===void 0&&this.from.shape.resize(e);const i=wk(e,this.options.selfReference.angle,r,this.from);return[i.x,i.y,r]}_pointOnCircle(e,r,i,n){const o=n*2*Math.PI;return{x:e+i*Math.cos(o),y:r-i*Math.sin(o)}}_findBorderPositionCircle(e,r,i){const n=i.x,o=i.y;let s=i.low,a=i.high;const l=i.direction,c=10,d=this.options.selfReference.size,u=.05;let h,f=(s+a)*.5,p=0;this.options.arrowStrikethrough===!0&&(l===-1?p=this.options.endPointOffset.from:l===1&&(p=this.options.endPointOffset.to));let g=0;do{f=(s+a)*.5,h=this._pointOnCircle(n,o,d,f);const $=Math.atan2(e.y-h.y,e.x-h.x),y=e.distanceToBorder(r,$)+p,b=Math.sqrt(Math.pow(h.x-e.x,2)+Math.pow(h.y-e.y,2)),S=y-b;if(Math.abs(S)<u)break;S>0?l>0?s=f:a=f:l>0?a=f:s=f,++g}while(s<=a&&g<c);return a_(a_({},h),{},{t:f})}getLineWidth(e,r){return e===!0?Math.max(this.selectionWidth,.3/this._body.view.scale):r===!0?Math.max(this.hoverWidth,.3/this._body.view.scale):Math.max(this.options.width,.3/this._body.view.scale)}getColor(e,r){if(r.inheritsColor!==!1){if(r.inheritsColor==="both"&&this.from.id!==this.to.id){const i=e.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y);let n=this.from.options.color.highlight.border,o=this.to.options.color.highlight.border;return this.from.selected===!1&&this.to.selected===!1?(n=wr(this.from.options.color.border,r.opacity),o=wr(this.to.options.color.border,r.opacity)):this.from.selected===!0&&this.to.selected===!1?o=this.to.options.color.border:this.from.selected===!1&&this.to.selected===!0&&(n=this.from.options.color.border),i.addColorStop(0,n),i.addColorStop(1,o),i}return r.inheritsColor==="to"?wr(this.to.options.color.border,r.opacity):wr(this.from.options.color.border,r.opacity)}else return wr(r.color,r.opacity)}_circle(e,r,i,n,o){this.enableShadow(e,r);let s=0,a=Math.PI*2;if(!this.options.selfReference.renderBehindTheNode){const l=this.options.selfReference.angle,c=this.options.selfReference.angle+Math.PI,d=this._findBorderPositionCircle(this.from,e,{x:i,y:n,low:l,high:c,direction:-1}),u=this._findBorderPositionCircle(this.from,e,{x:i,y:n,low:l,high:c,direction:1});s=Math.atan2(d.y-n,d.x-i),a=Math.atan2(u.y-n,u.x-i)}e.beginPath(),e.arc(i,n,o,s,a,!1),e.stroke(),this.disableShadow(e,r)}getDistanceToEdge(e,r,i,n,o,s){if(this.from!=this.to)return this._getDistanceToEdge(e,r,i,n,o,s);{const[a,l,c]=this._getCircleData(void 0),d=a-o,u=l-s;return Math.abs(Math.sqrt(d*d+u*u)-c)}}_getDistanceToLine(e,r,i,n,o,s){const a=i-e,l=n-r,c=a*a+l*l;let d=((o-e)*a+(s-r)*l)/c;d>1?d=1:d<0&&(d=0);const u=e+d*a,h=r+d*l,f=u-o,p=h-s;return Math.sqrt(f*f+p*p)}getArrowData(e,r,i,n,o,s){let a,l,c,d,u,h,f;const p=s.width;r==="from"?(c=this.from,d=this.to,u=s.fromArrowScale<0,h=Math.abs(s.fromArrowScale),f=s.fromArrowType):r==="to"?(c=this.to,d=this.from,u=s.toArrowScale<0,h=Math.abs(s.toArrowScale),f=s.toArrowType):(c=this.to,d=this.from,u=s.middleArrowScale<0,h=Math.abs(s.middleArrowScale),f=s.middleArrowType);const g=15*h+3*p;if(c!=d){const S=pge(c.x-d.x,c.y-d.y),_=g/S;if(r!=="middle")if(this.options.smooth.enabled===!0){const T=this._findBorderPosition(c,e,{via:i}),W=this.getPoint(T.t+_*(r==="from"?1:-1),i);a=Math.atan2(T.y-W.y,T.x-W.x),l=T}else a=Math.atan2(c.y-d.y,c.x-d.x),l=this._findBorderPosition(c,e);else{const T=(u?-_:_)/2,W=this.getPoint(.5+T,i),q=this.getPoint(.5-T,i);a=Math.atan2(W.y-q.y,W.x-q.x),l=this.getPoint(.5,i)}}else{const[S,_,T]=this._getCircleData(e);if(r==="from"){const W=this.options.selfReference.angle,q=this.options.selfReference.angle+Math.PI,z=this._findBorderPositionCircle(this.from,e,{x:S,y:_,low:W,high:q,direction:-1});a=z.t*-2*Math.PI+1.5*Math.PI+.1*Math.PI,l=z}else if(r==="to"){const W=this.options.selfReference.angle,q=this.options.selfReference.angle+Math.PI,z=this._findBorderPositionCircle(this.from,e,{x:S,y:_,low:W,high:q,direction:1});a=z.t*-2*Math.PI+1.5*Math.PI-1.1*Math.PI,l=z}else{const W=this.options.selfReference.angle/(2*Math.PI);l=this._pointOnCircle(S,_,T,W),a=W*-2*Math.PI+1.5*Math.PI+.1*Math.PI}}const $=l.x-g*.9*Math.cos(a),y=l.y-g*.9*Math.sin(a);return{point:l,core:{x:$,y},angle:a,length:g,type:f}}drawArrowHead(e,r,i,n,o){e.strokeStyle=this.getColor(e,r),e.fillStyle=e.strokeStyle,e.lineWidth=r.width,Sk.draw(e,o)&&(this.enableShadow(e,r),Vl(e).call(e),this.disableShadow(e,r))}enableShadow(e,r){r.shadow===!0&&(e.shadowColor=r.shadowColor,e.shadowBlur=r.shadowSize,e.shadowOffsetX=r.shadowX,e.shadowOffsetY=r.shadowY)}disableShadow(e,r){r.shadow===!0&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}drawBackground(e,r){if(r.background!==!1){const i={strokeStyle:e.strokeStyle,lineWidth:e.lineWidth,dashes:e.dashes};e.strokeStyle=r.backgroundColor,e.lineWidth=r.backgroundSize,this.setStrokeDashed(e,r.backgroundDashes),e.stroke(),e.strokeStyle=i.strokeStyle,e.lineWidth=i.lineWidth,e.dashes=i.dashes,this.setStrokeDashed(e,r.dashes)}}setStrokeDashed(e,r){if(r!==!1)if(e.setLineDash!==void 0){const i=Qe(r)?r:[5,5];e.setLineDash(i)}else console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.");else e.setLineDash!==void 0?e.setLineDash([]):console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.")}}function l_(t,e){var r=Ze(t);if(yn){var i=yn(t);e&&(i=er(i).call(i,function(n){return On(t,n).enumerable})),r.push.apply(r,i)}return r}function c_(t){for(var e=1;e<arguments.length;e++){var r,i,n=arguments[e]!=null?arguments[e]:{};e%2?Re(r=l_(Object(n),!0)).call(r,function(o){Qu(t,o,n[o])}):bn?eh(t,bn(n)):Re(i=l_(Object(n))).call(i,function(o){th(t,o,On(n,o))})}return t}class Ym extends Ek{constructor(e,r,i){super(e,r,i)}_findBorderPositionBezier(e,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this._getViaCoordinates();const n=10,o=.2;let s=!1,a=1,l=0,c=this.to,d,u,h=this.options.endPointOffset?this.options.endPointOffset.to:0;e.id===this.from.id&&(c=this.from,s=!0,h=this.options.endPointOffset?this.options.endPointOffset.from:0),this.options.arrowStrikethrough===!1&&(h=0);let f=0;do{u=(l+a)*.5,d=this.getPoint(u,i);const p=Math.atan2(c.y-d.y,c.x-d.x),g=c.distanceToBorder(r,p)+h,$=Math.sqrt(Math.pow(d.x-c.x,2)+Math.pow(d.y-c.y,2)),y=g-$;if(Math.abs(y)<o)break;y<0?s===!1?l=u:a=u:s===!1?a=u:l=u,++f}while(l<=a&&f<n);return c_(c_({},d),{},{t:u})}_getDistanceToBezierEdge(e,r,i,n,o,s,a){let l=1e9,c,d,u,h,f,p=e,g=r;for(d=1;d<10;d++)u=.1*d,h=Math.pow(1-u,2)*e+2*u*(1-u)*a.x+Math.pow(u,2)*i,f=Math.pow(1-u,2)*r+2*u*(1-u)*a.y+Math.pow(u,2)*n,d>0&&(c=this._getDistanceToLine(p,g,h,f,o,s),l=c<l?c:l),p=h,g=f;return l}_bezierCurve(e,r,i,n){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),i!=null&&i.x!=null?n!=null&&n.x!=null?e.bezierCurveTo(i.x,i.y,n.x,n.y,this.toPoint.x,this.toPoint.y):e.quadraticCurveTo(i.x,i.y,this.toPoint.x,this.toPoint.y):e.lineTo(this.toPoint.x,this.toPoint.y),this.drawBackground(e,r),this.enableShadow(e,r),e.stroke(),this.disableShadow(e,r)}getViaNode(){return this._getViaCoordinates()}}class d_ extends Ym{constructor(e,r,i){super(e,r,i),this.via=this.via,this._boundFunction=()=>{this.positionBezierNode()},this._body.emitter.on("_repositionBezierNodes",this._boundFunction)}setOptions(e){super.setOptions(e);let r=!1;this.options.physics!==e.physics&&(r=!0),this.options=e,this.id=this.options.id,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.setupSupportNode(),this.connect(),r===!0&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}connect(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.from===void 0||this.to===void 0||this.options.physics===!1?this.via.setOptions({physics:!1}):this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}cleanup(){return this._body.emitter.off("_repositionBezierNodes",this._boundFunction),this.via!==void 0?(delete this._body.nodes[this.via.id],this.via=void 0,!0):!1}setupSupportNode(){if(this.via===void 0){const e="edgeId:"+this.id,r=this._body.functions.createNode({id:e,shape:"circle",physics:!0,hidden:!0});this._body.nodes[e]=r,this.via=r,this.via.parentEdgeId=this.id,this.positionBezierNode()}}positionBezierNode(){this.via!==void 0&&this.from!==void 0&&this.to!==void 0?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):this.via!==void 0&&(this.via.x=0,this.via.y=0)}_line(e,r,i){this._bezierCurve(e,r,i)}_getViaCoordinates(){return this.via}getViaNode(){return this.via}getPoint(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.via;if(this.from===this.to){const[i,n,o]=this._getCircleData(),s=2*Math.PI*(1-e);return{x:i+o*Math.sin(s),y:n+o-o*(1-Math.cos(s))}}else return{x:Math.pow(1-e,2)*this.fromPoint.x+2*e*(1-e)*r.x+Math.pow(e,2)*this.toPoint.x,y:Math.pow(1-e,2)*this.fromPoint.y+2*e*(1-e)*r.y+Math.pow(e,2)*this.toPoint.y}}_findBorderPosition(e,r){return this._findBorderPositionBezier(e,r,this.via)}_getDistanceToEdge(e,r,i,n,o,s){return this._getDistanceToBezierEdge(e,r,i,n,o,s,this.via)}}class u_ extends Ym{constructor(e,r,i){super(e,r,i)}_line(e,r,i){this._bezierCurve(e,r,i)}getViaNode(){return this._getViaCoordinates()}_getViaCoordinates(){const e=this.options.smooth.roundness,r=this.options.smooth.type;let i=Math.abs(this.from.x-this.to.x),n=Math.abs(this.from.y-this.to.y);if(r==="discrete"||r==="diagonalCross"){let o,s;i<=n?o=s=e*n:o=s=e*i,this.from.x>this.to.x&&(o=-o),this.from.y>=this.to.y&&(s=-s);let a=this.from.x+o,l=this.from.y+s;return r==="discrete"&&(i<=n?a=i<e*n?this.from.x:a:l=n<e*i?this.from.y:l),{x:a,y:l}}else if(r==="straightCross"){let o=(1-e)*i,s=(1-e)*n;return i<=n?(o=0,this.from.y<this.to.y&&(s=-s)):(this.from.x<this.to.x&&(o=-o),s=0),{x:this.to.x+o,y:this.to.y+s}}else if(r==="horizontal"){let o=(1-e)*i;return this.from.x<this.to.x&&(o=-o),{x:this.to.x+o,y:this.from.y}}else if(r==="vertical"){let o=(1-e)*n;return this.from.y<this.to.y&&(o=-o),{x:this.from.x,y:this.to.y+o}}else if(r==="curvedCW"){i=this.to.x-this.from.x,n=this.from.y-this.to.y;const o=Math.sqrt(i*i+n*n),s=Math.PI,l=(Math.atan2(n,i)+(e*.5+.5)*s)%(2*s);return{x:this.from.x+(e*.5+.5)*o*Math.sin(l),y:this.from.y+(e*.5+.5)*o*Math.cos(l)}}else if(r==="curvedCCW"){i=this.to.x-this.from.x,n=this.from.y-this.to.y;const o=Math.sqrt(i*i+n*n),s=Math.PI,l=(Math.atan2(n,i)+(-e*.5+.5)*s)%(2*s);return{x:this.from.x+(e*.5+.5)*o*Math.sin(l),y:this.from.y+(e*.5+.5)*o*Math.cos(l)}}else{let o,s;i<=n?o=s=e*n:o=s=e*i,this.from.x>this.to.x&&(o=-o),this.from.y>=this.to.y&&(s=-s);let a=this.from.x+o,l=this.from.y+s;return i<=n?this.from.x<=this.to.x?a=this.to.x<a?this.to.x:a:a=this.to.x>a?this.to.x:a:this.from.y>=this.to.y?l=this.to.y>l?this.to.y:l:l=this.to.y<l?this.to.y:l,{x:a,y:l}}}_findBorderPosition(e,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._findBorderPositionBezier(e,r,i.via)}_getDistanceToEdge(e,r,i,n,o,s){let a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(e,r,i,n,o,s,a)}getPoint(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates();const i=e,n=Math.pow(1-i,2)*this.fromPoint.x+2*i*(1-i)*r.x+Math.pow(i,2)*this.toPoint.x,o=Math.pow(1-i,2)*this.fromPoint.y+2*i*(1-i)*r.y+Math.pow(i,2)*this.toPoint.y;return{x:n,y:o}}}class Oge extends Ym{constructor(e,r,i){super(e,r,i)}_getDistanceToBezierEdge2(e,r,i,n,o,s,a,l){let c=1e9,d=e,u=r;const h=[0,0,0,0];for(let f=1;f<10;f++){const p=.1*f;h[0]=Math.pow(1-p,3),h[1]=3*p*Math.pow(1-p,2),h[2]=3*Math.pow(p,2)*(1-p),h[3]=Math.pow(p,3);const g=h[0]*e+h[1]*a.x+h[2]*l.x+h[3]*i,$=h[0]*r+h[1]*a.y+h[2]*l.y+h[3]*n;if(f>0){const y=this._getDistanceToLine(d,u,g,$,o,s);c=y<c?y:c}d=g,u=$}return c}}class h_ extends Oge{constructor(e,r,i){super(e,r,i)}_line(e,r,i){const n=i[0],o=i[1];this._bezierCurve(e,r,n,o)}_getViaCoordinates(){const e=this.from.x-this.to.x,r=this.from.y-this.to.y;let i,n,o,s;const a=this.options.smooth.roundness;return(Math.abs(e)>Math.abs(r)||this.options.smooth.forceDirection===!0||this.options.smooth.forceDirection==="horizontal")&&this.options.smooth.forceDirection!=="vertical"?(n=this.from.y,s=this.to.y,i=this.from.x-a*e,o=this.to.x+a*e):(n=this.from.y-a*r,s=this.to.y+a*r,i=this.from.x,o=this.to.x),[{x:i,y:n},{x:o,y:s}]}getViaNode(){return this._getViaCoordinates()}_findBorderPosition(e,r){return this._findBorderPositionBezier(e,r)}_getDistanceToEdge(e,r,i,n,o,s){let[a,l]=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge2(e,r,i,n,o,s,a,l)}getPoint(e){let[r,i]=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates();const n=e,o=[Math.pow(1-n,3),3*n*Math.pow(1-n,2),3*Math.pow(n,2)*(1-n),Math.pow(n,3)],s=o[0]*this.fromPoint.x+o[1]*r.x+o[2]*i.x+o[3]*this.toPoint.x,a=o[0]*this.fromPoint.y+o[1]*r.y+o[2]*i.y+o[3]*this.toPoint.y;return{x:s,y:a}}}class f_ extends Ek{constructor(e,r,i){super(e,r,i)}_line(e,r){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),e.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(e,r),e.stroke(),this.disableShadow(e,r)}getViaNode(){}getPoint(e){return{x:(1-e)*this.fromPoint.x+e*this.toPoint.x,y:(1-e)*this.fromPoint.y+e*this.toPoint.y}}_findBorderPosition(e,r){let i=this.to,n=this.from;e.id===this.from.id&&(i=this.from,n=this.to);const o=Math.atan2(i.y-n.y,i.x-n.x),s=i.x-n.x,a=i.y-n.y,l=Math.sqrt(s*s+a*a),c=e.distanceToBorder(r,o),d=(l-c)/l;return{x:(1-d)*n.x+d*i.x,y:(1-d)*n.y+d*i.y,t:0}}_getDistanceToEdge(e,r,i,n,o,s){return this._getDistanceToLine(e,r,i,n,o,s)}}class un{constructor(e,r,i,n,o){if(r===void 0)throw new Error("No body provided");this.options=dn(n),this.globalOptions=n,this.defaultOptions=o,this.body=r,this.imagelist=i,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new os(this.body,this.options,!0),this.setOptions(e)}setOptions(e){if(!e)return;let r=typeof e.physics<"u"&&this.options.physics!==e.physics||typeof e.hidden<"u"&&(this.options.hidden||!1)!==(e.hidden||!1)||typeof e.from<"u"&&this.options.from!==e.from||typeof e.to<"u"&&this.options.to!==e.to;un.parseOptions(this.options,e,!0,this.globalOptions),e.id!==void 0&&(this.id=e.id),e.from!==void 0&&(this.fromId=e.from),e.to!==void 0&&(this.toId=e.to),e.title!==void 0&&(this.title=e.title),e.value!==void 0&&(e.value=pk(e.value));const i=[e,this.options,this.defaultOptions];return this.chooser=Vm("edge",i),this.updateLabelModule(e),r=this.updateEdgeType()||r,this._setInteractionWidths(),this.connect(),r}static parseOptions(e,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(Us(["endPointOffset","arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","selfReference","to","title","value","width","font","chosen","widthConstraint"],e,r,i),r.endPointOffset!==void 0&&r.endPointOffset.from!==void 0&&(zn(r.endPointOffset.from)?e.endPointOffset.from=r.endPointOffset.from:(e.endPointOffset.from=n.endPointOffset.from!==void 0?n.endPointOffset.from:0,console.error("endPointOffset.from is not a valid number"))),r.endPointOffset!==void 0&&r.endPointOffset.to!==void 0&&(zn(r.endPointOffset.to)?e.endPointOffset.to=r.endPointOffset.to:(e.endPointOffset.to=n.endPointOffset.to!==void 0?n.endPointOffset.to:0,console.error("endPointOffset.to is not a valid number"))),Hd(r.label)?e.label=r.label:Hd(e.label)||(e.label=void 0),$r(e,r,"smooth",n),$r(e,r,"shadow",n),$r(e,r,"background",n),r.dashes!==void 0&&r.dashes!==null?e.dashes=r.dashes:i===!0&&r.dashes===null&&(e.dashes=Zn(n.dashes)),r.scaling!==void 0&&r.scaling!==null?(r.scaling.min!==void 0&&(e.scaling.min=r.scaling.min),r.scaling.max!==void 0&&(e.scaling.max=r.scaling.max),$r(e.scaling,r.scaling,"label",n.scaling)):i===!0&&r.scaling===null&&(e.scaling=Zn(n.scaling)),r.arrows!==void 0&&r.arrows!==null)if(typeof r.arrows=="string"){const a=r.arrows.toLowerCase();e.arrows.to.enabled=ke(a).call(a,"to")!=-1,e.arrows.middle.enabled=ke(a).call(a,"middle")!=-1,e.arrows.from.enabled=ke(a).call(a,"from")!=-1}else if(typeof r.arrows=="object")$r(e.arrows,r.arrows,"to",n.arrows),$r(e.arrows,r.arrows,"middle",n.arrows),$r(e.arrows,r.arrows,"from",n.arrows);else throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+Wl(r.arrows));else i===!0&&r.arrows===null&&(e.arrows=Zn(n.arrows));if(r.color!==void 0&&r.color!==null){const a=is(r.color)?{color:r.color,highlight:r.color,hover:r.color,inherit:!1,opacity:1}:r.color,l=e.color;if(o)Le(l,n.color,!1,i);else for(const c in l)Object.prototype.hasOwnProperty.call(l,c)&&delete l[c];if(is(l))l.color=l,l.highlight=l,l.hover=l,l.inherit=!1,a.opacity===void 0&&(l.opacity=1);else{let c=!1;a.color!==void 0&&(l.color=a.color,c=!0),a.highlight!==void 0&&(l.highlight=a.highlight,c=!0),a.hover!==void 0&&(l.hover=a.hover,c=!0),a.inherit!==void 0&&(l.inherit=a.inherit),a.opacity!==void 0&&(l.opacity=Math.min(1,Math.max(0,a.opacity))),c===!0?l.inherit=!1:l.inherit===void 0&&(l.inherit="from")}}else i===!0&&r.color===null&&(e.color=dn(n.color));i===!0&&r.font===null&&(e.font=dn(n.font)),Object.prototype.hasOwnProperty.call(r,"selfReferenceSize")&&(console.warn("The selfReferenceSize property has been deprecated. Please use selfReference property instead. The selfReference can be set like thise selfReference:{size:30, angle:Math.PI / 4}"),e.selfReference.size=r.selfReferenceSize)}getFormattingValues(){const e=this.options.arrows.to===!0||this.options.arrows.to.enabled===!0,r=this.options.arrows.from===!0||this.options.arrows.from.enabled===!0,i=this.options.arrows.middle===!0||this.options.arrows.middle.enabled===!0,n=this.options.color.inherit,o={toArrow:e,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,toArrowSrc:this.options.arrows.to.src,toArrowImageWidth:this.options.arrows.to.imageWidth,toArrowImageHeight:this.options.arrows.to.imageHeight,middleArrow:i,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,middleArrowSrc:this.options.arrows.middle.src,middleArrowImageWidth:this.options.arrows.middle.imageWidth,middleArrowImageHeight:this.options.arrows.middle.imageHeight,fromArrow:r,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,fromArrowSrc:this.options.arrows.from.src,fromArrowImageWidth:this.options.arrows.from.imageWidth,fromArrowImageHeight:this.options.arrows.from.imageHeight,arrowStrikethrough:this.options.arrowStrikethrough,color:n?void 0:this.options.color.color,inheritsColor:n,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width,background:this.options.background.enabled,backgroundColor:this.options.background.color,backgroundSize:this.options.background.size,backgroundDashes:this.options.background.dashes};if(this.selected||this.hover)if(this.chooser===!0){if(this.selected){const s=this.options.selectionWidth;typeof s=="function"?o.width=s(o.width):typeof s=="number"&&(o.width+=s),o.width=Math.max(o.width,.3/this.body.view.scale),o.color=this.options.color.highlight,o.shadow=this.options.shadow.enabled}else if(this.hover){const s=this.options.hoverWidth;typeof s=="function"?o.width=s(o.width):typeof s=="number"&&(o.width+=s),o.width=Math.max(o.width,.3/this.body.view.scale),o.color=this.options.color.hover,o.shadow=this.options.shadow.enabled}}else typeof this.chooser=="function"&&(this.chooser(o,this.options.id,this.selected,this.hover),o.color!==void 0&&(o.inheritsColor=!1),o.shadow===!1&&(o.shadowColor!==this.options.shadow.color||o.shadowSize!==this.options.shadow.size||o.shadowX!==this.options.shadow.x||o.shadowY!==this.options.shadow.y)&&(o.shadow=!0));else o.shadow=this.options.shadow.enabled,o.width=Math.max(o.width,.3/this.body.view.scale);return o}updateLabelModule(e){const r=[e,this.options,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,r),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}updateEdgeType(){const e=this.options.smooth;let r=!1,i=!0;return this.edgeType!==void 0&&((this.edgeType instanceof d_&&e.enabled===!0&&e.type==="dynamic"||this.edgeType instanceof h_&&e.enabled===!0&&e.type==="cubicBezier"||this.edgeType instanceof u_&&e.enabled===!0&&e.type!=="dynamic"&&e.type!=="cubicBezier"||this.edgeType instanceof f_&&e.type.enabled===!1)&&(i=!1),i===!0&&(r=this.cleanup())),i===!0?e.enabled===!0?e.type==="dynamic"?(r=!0,this.edgeType=new d_(this.options,this.body,this.labelModule)):e.type==="cubicBezier"?this.edgeType=new h_(this.options,this.body,this.labelModule):this.edgeType=new u_(this.options,this.body,this.labelModule):this.edgeType=new f_(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),r}connect(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=this.from!==void 0&&this.to!==void 0,this.connected===!0?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}disconnect(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}getTitle(){return this.title}isSelected(){return this.selected}getValue(){return this.options.value}setValueRange(e,r,i){if(this.options.value!==void 0){const n=this.options.scaling.customScalingFunction(e,r,i,this.options.value),o=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){const s=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+n*s}this.options.width=this.options.scaling.min+n*o}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}_setInteractionWidths(){typeof this.options.hoverWidth=="function"?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width,typeof this.options.selectionWidth=="function"?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}draw(e){const r=this.getFormattingValues();if(r.hidden)return;const i=this.edgeType.getViaNode();this.edgeType.drawLine(e,r,this.selected,this.hover,i),this.drawLabel(e,i)}drawArrows(e){const r=this.getFormattingValues();if(r.hidden)return;const i=this.edgeType.getViaNode(),n={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,r.fromArrow&&(n.from=this.edgeType.getArrowData(e,"from",i,this.selected,this.hover,r),r.arrowStrikethrough===!1&&(this.edgeType.fromPoint=n.from.core),r.fromArrowSrc&&(n.from.image=this.imagelist.load(r.fromArrowSrc)),r.fromArrowImageWidth&&(n.from.imageWidth=r.fromArrowImageWidth),r.fromArrowImageHeight&&(n.from.imageHeight=r.fromArrowImageHeight)),r.toArrow&&(n.to=this.edgeType.getArrowData(e,"to",i,this.selected,this.hover,r),r.arrowStrikethrough===!1&&(this.edgeType.toPoint=n.to.core),r.toArrowSrc&&(n.to.image=this.imagelist.load(r.toArrowSrc)),r.toArrowImageWidth&&(n.to.imageWidth=r.toArrowImageWidth),r.toArrowImageHeight&&(n.to.imageHeight=r.toArrowImageHeight)),r.middleArrow&&(n.middle=this.edgeType.getArrowData(e,"middle",i,this.selected,this.hover,r),r.middleArrowSrc&&(n.middle.image=this.imagelist.load(r.middleArrowSrc)),r.middleArrowImageWidth&&(n.middle.imageWidth=r.middleArrowImageWidth),r.middleArrowImageHeight&&(n.middle.imageHeight=r.middleArrowImageHeight)),r.fromArrow&&this.edgeType.drawArrowHead(e,r,this.selected,this.hover,n.from),r.middleArrow&&this.edgeType.drawArrowHead(e,r,this.selected,this.hover,n.middle),r.toArrow&&this.edgeType.drawArrowHead(e,r,this.selected,this.hover,n.to)}drawLabel(e,r){if(this.options.label!==void 0){const i=this.from,n=this.to;this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(e,this.selected,this.hover);let o;if(i.id!=n.id){this.labelModule.pointToSelf=!1,o=this.edgeType.getPoint(.5,r),e.save();const s=this._getRotation(e);s.angle!=0&&(e.translate(s.x,s.y),e.rotate(s.angle)),this.labelModule.draw(e,o.x,o.y,this.selected,this.hover),e.restore()}else{this.labelModule.pointToSelf=!0;const s=wk(e,this.options.selfReference.angle,this.options.selfReference.size,i);o=this._pointOnCircle(s.x,s.y,this.options.selfReference.size,this.options.selfReference.angle),this.labelModule.draw(e,o.x,o.y,this.selected,this.hover)}}}getItemsOnPoint(e){const r=[];if(this.labelModule.visible()){const n=this._getRotation();Kv(this.labelModule.getSize(),e,n)&&r.push({edgeId:this.id,labelId:0})}const i={left:e.x,top:e.y};return this.isOverlappingWith(i)&&r.push({edgeId:this.id}),r}isOverlappingWith(e){if(this.connected){const i=this.from.x,n=this.from.y,o=this.to.x,s=this.to.y,a=e.left,l=e.top;return this.edgeType.getDistanceToEdge(i,n,o,s,a,l)<10}else return!1}_getRotation(e){const r=this.edgeType.getViaNode(),i=this.edgeType.getPoint(.5,r);e!==void 0&&this.labelModule.calculateLabelSize(e,this.selected,this.hover,i.x,i.y);const n={x:i.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible()||this.options.font.align==="horizontal")return n;const o=this.from.y-this.to.y,s=this.from.x-this.to.x;let a=Math.atan2(o,s);return(a<-1&&s<0||a>0&&s<0)&&(a+=Math.PI),n.angle=a,n}_pointOnCircle(e,r,i,n){return{x:e+i*Math.cos(n),y:r-i*Math.sin(n)}}select(){this.selected=!0}unselect(){this.selected=!1}cleanup(){return this.edgeType.cleanup()}remove(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}endPointsValid(){return this.body.nodes[this.fromId]!==void 0&&this.body.nodes[this.toId]!==void 0}}class xge{constructor(e,r,i){var n;this.body=e,this.images=r,this.groups=i,this.body.functions.createEdge=M(n=this.create).call(n,this),this.edgesListeners={add:(o,s)=>{this.add(s.items)},update:(o,s)=>{this.update(s.items)},remove:(o,s)=>{this.remove(s.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},endPointOffset:{from:0,to:0},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(o,s,a,l){if(s===o)return .5;{const c=1/(s-o);return Math.max(0,(l-o)*c)}}},selectionWidth:1.5,selfReference:{size:20,angle:Math.PI/4,renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},background:{enabled:!1,color:"rgba(111,111,111,1)",size:10,dashes:!1},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},Le(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e=this,r,i;this.body.emitter.on("_forceDisableDynamicCurves",function(n){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;n==="dynamic"&&(n="continuous");let s=!1;for(const a in e.body.edges)if(Object.prototype.hasOwnProperty.call(e.body.edges,a)){const l=e.body.edges[a],c=e.body.data.edges.get(a);if(c!=null){const d=c.smooth;d!==void 0&&d.enabled===!0&&d.type==="dynamic"&&(n===void 0?l.setOptions({smooth:!1}):l.setOptions({smooth:{type:n}}),s=!0)}}o===!0&&s===!0&&e.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",()=>{this.reconnectEdges()}),this.body.emitter.on("refreshEdges",M(r=this.refresh).call(r,this)),this.body.emitter.on("refresh",M(i=this.refresh).call(i,this)),this.body.emitter.on("destroy",()=>{me(this.edgesListeners,(n,o)=>{this.body.data.edges&&this.body.data.edges.off(o,n)}),delete this.body.functions.createEdge,delete this.edgesListeners.add,delete this.edgesListeners.update,delete this.edgesListeners.remove,delete this.edgesListeners})}setOptions(e){if(e!==void 0){un.parseOptions(this.options,e,!0,this.defaultOptions,!0);let r=!1;if(e.smooth!==void 0)for(const i in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,i)&&(r=this.body.edges[i].updateEdgeType()||r);if(e.font!==void 0)for(const i in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,i)&&this.body.edges[i].updateLabelModule();(e.hidden!==void 0||e.physics!==void 0||r===!0)&&this.body.emitter.emit("_dataChanged")}}setData(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const i=this.body.data.edges;if(BO("id",e))this.body.data.edges=e;else if(Qe(e))this.body.data.edges=new kd,this.body.data.edges.add(e);else if(!e)this.body.data.edges=new kd;else throw new TypeError("Array or DataSet expected");if(i&&me(this.edgesListeners,(n,o)=>{i.off(o,n)}),this.body.edges={},this.body.data.edges){me(this.edgesListeners,(o,s)=>{this.body.data.edges.on(s,o)});const n=this.body.data.edges.getIds();this.add(n,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),r===!1&&this.body.emitter.emit("_dataChanged")}add(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const i=this.body.edges,n=this.body.data.edges;for(let o=0;o<e.length;o++){const s=e[o],a=i[s];a&&a.disconnect();const l=n.get(s,{showInternalIds:!0});i[s]=this.create(l)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),r===!1&&this.body.emitter.emit("_dataChanged")}update(e){const r=this.body.edges,i=this.body.data.edges;let n=!1;for(let o=0;o<e.length;o++){const s=e[o],a=i.get(s),l=r[s];l!==void 0?(l.disconnect(),n=l.setOptions(a)||n,l.connect()):(this.body.edges[s]=this.create(a),n=!0)}n===!0?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}remove(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.length===0)return;const i=this.body.edges;me(e,n=>{const o=i[n];o!==void 0&&o.remove()}),r&&this.body.emitter.emit("_dataChanged")}refresh(){me(this.body.edges,(e,r)=>{const i=this.body.data.edges.get(r);i!==void 0&&e.setOptions(i)})}create(e){return new un(e,this.body,this.images,this.options,this.defaultOptions)}reconnectEdges(){let e;const r=this.body.nodes,i=this.body.edges;for(e in r)Object.prototype.hasOwnProperty.call(r,e)&&(r[e].edges=[]);for(e in i)if(Object.prototype.hasOwnProperty.call(i,e)){const n=i[e];n.from=null,n.to=null,n.connect()}}getConnectedNodes(e){const r=[];if(this.body.edges[e]!==void 0){const i=this.body.edges[e];i.fromId!==void 0&&r.push(i.fromId),i.toId!==void 0&&r.push(i.toId)}return r}_updateState(){this._addMissingEdges(),this._removeInvalidEdges()}_removeInvalidEdges(){const e=[];me(this.body.edges,(r,i)=>{const n=this.body.nodes[r.toId],o=this.body.nodes[r.fromId];n!==void 0&&n.isCluster===!0||o!==void 0&&o.isCluster===!0||(n===void 0||o===void 0)&&e.push(i)}),this.remove(e,!1)}_addMissingEdges(){const e=this.body.data.edges;if(e==null)return;const r=this.body.edges,i=[];Re(e).call(e,(n,o)=>{r[o]===void 0&&i.push(o)}),this.add(i,!0)}}class Tk{constructor(e,r,i){this.body=e,this.physicsBody=r,this.barnesHutTree,this.setOptions(i),this._rng=Ju("BARNES HUT SOLVER")}setOptions(e){this.options=e,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}solve(){if(this.options.gravitationalConstant!==0&&this.physicsBody.physicsNodeIndices.length>0){let e;const r=this.body.nodes,i=this.physicsBody.physicsNodeIndices,n=i.length,o=this._formBarnesHutTree(r,i);this.barnesHutTree=o;for(let s=0;s<n;s++)e=r[i[s]],e.options.mass>0&&this._getForceContributions(o.root,e)}}_getForceContributions(e,r){this._getForceContribution(e.children.NW,r),this._getForceContribution(e.children.NE,r),this._getForceContribution(e.children.SW,r),this._getForceContribution(e.children.SE,r)}_getForceContribution(e,r){if(e.childrenCount>0){const i=e.centerOfMass.x-r.x,n=e.centerOfMass.y-r.y,o=Math.sqrt(i*i+n*n);o*e.calcSize>this.thetaInversed?this._calculateForces(o,i,n,r,e):e.childrenCount===4?this._getForceContributions(e,r):e.children.data.id!=r.id&&this._calculateForces(o,i,n,r,e)}}_calculateForces(e,r,i,n,o){e===0&&(e=.1,r=e),this.overlapAvoidanceFactor<1&&n.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*n.shape.radius,e-n.shape.radius));const s=this.options.gravitationalConstant*o.mass*n.options.mass/Math.pow(e,3),a=r*s,l=i*s;this.physicsBody.forces[n.id].x+=a,this.physicsBody.forces[n.id].y+=l}_formBarnesHutTree(e,r){let i;const n=r.length;let o=e[r[0]].x,s=e[r[0]].y,a=e[r[0]].x,l=e[r[0]].y;for(let $=1;$<n;$++){const y=e[r[$]],b=y.x,S=y.y;y.options.mass>0&&(b<o&&(o=b),b>a&&(a=b),S<s&&(s=S),S>l&&(l=S))}const c=Math.abs(a-o)-Math.abs(l-s);c>0?(s-=.5*c,l+=.5*c):(o+=.5*c,a-=.5*c);const u=Math.max(1e-5,Math.abs(a-o)),h=.5*u,f=.5*(o+a),p=.5*(s+l),g={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:f-h,maxX:f+h,minY:p-h,maxY:p+h},size:u,calcSize:1/u,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(g.root);for(let $=0;$<n;$++)i=e[r[$]],i.options.mass>0&&this._placeInTree(g.root,i);return g}_updateBranchMass(e,r){const i=e.centerOfMass,n=e.mass+r.options.mass,o=1/n;i.x=i.x*e.mass+r.x*r.options.mass,i.x*=o,i.y=i.y*e.mass+r.y*r.options.mass,i.y*=o,e.mass=n;const s=Math.max(Math.max(r.height,r.radius),r.width);e.maxWidth=e.maxWidth<s?s:e.maxWidth}_placeInTree(e,r,i){(i!=!0||i===void 0)&&this._updateBranchMass(e,r);const n=e.children.NW.range;let o;n.maxX>r.x?n.maxY>r.y?o="NW":o="SW":n.maxY>r.y?o="NE":o="SE",this._placeInRegion(e,r,o)}_placeInRegion(e,r,i){const n=e.children[i];switch(n.childrenCount){case 0:n.children.data=r,n.childrenCount=1,this._updateBranchMass(n,r);break;case 1:n.children.data.x===r.x&&n.children.data.y===r.y?(r.x+=this._rng(),r.y+=this._rng()):(this._splitBranch(n),this._placeInTree(n,r));break;case 4:this._placeInTree(n,r);break}}_splitBranch(e){let r=null;e.childrenCount===1&&(r=e.children.data,e.mass=0,e.centerOfMass.x=0,e.centerOfMass.y=0),e.childrenCount=4,e.children.data=null,this._insertRegion(e,"NW"),this._insertRegion(e,"NE"),this._insertRegion(e,"SW"),this._insertRegion(e,"SE"),r!=null&&this._placeInTree(e,r)}_insertRegion(e,r){let i,n,o,s;const a=.5*e.size;switch(r){case"NW":i=e.range.minX,n=e.range.minX+a,o=e.range.minY,s=e.range.minY+a;break;case"NE":i=e.range.minX+a,n=e.range.maxX,o=e.range.minY,s=e.range.minY+a;break;case"SW":i=e.range.minX,n=e.range.minX+a,o=e.range.minY+a,s=e.range.maxY;break;case"SE":i=e.range.minX+a,n=e.range.maxX,o=e.range.minY+a,s=e.range.maxY;break}e.children[r]={centerOfMass:{x:0,y:0},mass:0,range:{minX:i,maxX:n,minY:o,maxY:s},size:.5*e.size,calcSize:2*e.calcSize,children:{data:null},maxWidth:0,level:e.level+1,childrenCount:0}}_debug(e,r){this.barnesHutTree!==void 0&&(e.lineWidth=1,this._drawBranch(this.barnesHutTree.root,e,r))}_drawBranch(e,r,i){i===void 0&&(i="#FF0000"),e.childrenCount===4&&(this._drawBranch(e.children.NW,r),this._drawBranch(e.children.NE,r),this._drawBranch(e.children.SE,r),this._drawBranch(e.children.SW,r)),r.strokeStyle=i,r.beginPath(),r.moveTo(e.range.minX,e.range.minY),r.lineTo(e.range.maxX,e.range.minY),r.stroke(),r.beginPath(),r.moveTo(e.range.maxX,e.range.minY),r.lineTo(e.range.maxX,e.range.maxY),r.stroke(),r.beginPath(),r.moveTo(e.range.maxX,e.range.maxY),r.lineTo(e.range.minX,e.range.maxY),r.stroke(),r.beginPath(),r.moveTo(e.range.minX,e.range.maxY),r.lineTo(e.range.minX,e.range.minY),r.stroke()}}class Pge{constructor(e,r,i){this._rng=Ju("REPULSION SOLVER"),this.body=e,this.physicsBody=r,this.setOptions(i)}setOptions(e){this.options=e}solve(){let e,r,i,n,o,s,a,l;const c=this.body.nodes,d=this.physicsBody.physicsNodeIndices,u=this.physicsBody.forces,h=this.options.nodeDistance,f=-2/3/h,p=4/3;for(let g=0;g<d.length-1;g++){a=c[d[g]];for(let $=g+1;$<d.length;$++)l=c[d[$]],e=l.x-a.x,r=l.y-a.y,i=Math.sqrt(e*e+r*r),i===0&&(i=.1*this._rng(),e=i),i<2*h&&(i<.5*h?s=1:s=f*i+p,s=s/i,n=e*s,o=r*s,u[a.id].x-=n,u[a.id].y-=o,u[l.id].x+=n,u[l.id].y+=o)}}}class kge{constructor(e,r,i){this.body=e,this.physicsBody=r,this.setOptions(i)}setOptions(e){this.options=e,this.overlapAvoidanceFactor=Math.max(0,Math.min(1,this.options.avoidOverlap||0))}solve(){const e=this.body.nodes,r=this.physicsBody.physicsNodeIndices,i=this.physicsBody.forces,n=this.options.nodeDistance;for(let o=0;o<r.length-1;o++){const s=e[r[o]];for(let a=o+1;a<r.length;a++){const l=e[r[a]];if(s.level===l.level){const c=n+this.overlapAvoidanceFactor*((s.shape.radius||0)/2+(l.shape.radius||0)/2),d=l.x-s.x,u=l.y-s.y,h=Math.sqrt(d*d+u*u),f=.05;let p;h<c?p=-Math.pow(f*h,2)+Math.pow(f*c,2):p=0,h!==0&&(p=p/h);const g=d*p,$=u*p;i[s.id].x-=g,i[s.id].y-=$,i[l.id].x+=g,i[l.id].y+=$}}}}}class _p{constructor(e,r,i){this.body=e,this.physicsBody=r,this.setOptions(i)}setOptions(e){this.options=e}solve(){let e,r;const i=this.physicsBody.physicsEdgeIndices,n=this.body.edges;let o,s,a;for(let l=0;l<i.length;l++)r=n[i[l]],r.connected===!0&&r.toId!==r.fromId&&this.body.nodes[r.toId]!==void 0&&this.body.nodes[r.fromId]!==void 0&&(r.edgeType.via!==void 0?(e=r.options.length===void 0?this.options.springLength:r.options.length,o=r.to,s=r.edgeType.via,a=r.from,this._calculateSpringForce(o,s,.5*e),this._calculateSpringForce(s,a,.5*e)):(e=r.options.length===void 0?this.options.springLength*1.5:r.options.length,this._calculateSpringForce(r.from,r.to,e)))}_calculateSpringForce(e,r,i){const n=e.x-r.x,o=e.y-r.y,s=Math.max(Math.sqrt(n*n+o*o),.01),a=this.options.springConstant*(i-s)/s,l=n*a,c=o*a;this.physicsBody.forces[e.id]!==void 0&&(this.physicsBody.forces[e.id].x+=l,this.physicsBody.forces[e.id].y+=c),this.physicsBody.forces[r.id]!==void 0&&(this.physicsBody.forces[r.id].x-=l,this.physicsBody.forces[r.id].y-=c)}}class Cge{constructor(e,r,i){this.body=e,this.physicsBody=r,this.setOptions(i)}setOptions(e){this.options=e}solve(){let e,r,i,n,o,s,a,l;const c=this.body.edges,d=.5,u=this.physicsBody.physicsEdgeIndices,h=this.physicsBody.physicsNodeIndices,f=this.physicsBody.forces;for(let _=0;_<h.length;_++){const T=h[_];f[T].springFx=0,f[T].springFy=0}for(let _=0;_<u.length;_++)r=c[u[_]],r.connected===!0&&(e=r.options.length===void 0?this.options.springLength:r.options.length,i=r.from.x-r.to.x,n=r.from.y-r.to.y,l=Math.sqrt(i*i+n*n),l=l===0?.01:l,a=this.options.springConstant*(e-l)/l,o=i*a,s=n*a,r.to.level!=r.from.level?(f[r.toId]!==void 0&&(f[r.toId].springFx-=o,f[r.toId].springFy-=s),f[r.fromId]!==void 0&&(f[r.fromId].springFx+=o,f[r.fromId].springFy+=s)):(f[r.toId]!==void 0&&(f[r.toId].x-=d*o,f[r.toId].y-=d*s),f[r.fromId]!==void 0&&(f[r.fromId].x+=d*o,f[r.fromId].y+=d*s)));a=1;let p,g;for(let _=0;_<h.length;_++){const T=h[_];p=Math.min(a,Math.max(-a,f[T].springFx)),g=Math.min(a,Math.max(-a,f[T].springFy)),f[T].x+=p,f[T].y+=g}let $=0,y=0;for(let _=0;_<h.length;_++){const T=h[_];$+=f[T].x,y+=f[T].y}const b=$/h.length,S=y/h.length;for(let _=0;_<h.length;_++){const T=h[_];f[T].x-=b,f[T].y-=S}}}class nd{constructor(e,r,i){this.body=e,this.physicsBody=r,this.setOptions(i)}setOptions(e){this.options=e}solve(){let e,r,i,n;const o=this.body.nodes,s=this.physicsBody.physicsNodeIndices,a=this.physicsBody.forces;for(let l=0;l<s.length;l++){const c=s[l];n=o[c],e=-n.x,r=-n.y,i=Math.sqrt(e*e+r*r),this._calculateForces(i,e,r,a,n)}}_calculateForces(e,r,i,n,o){const s=e===0?0:this.options.centralGravity/e;n[o.id].x=r*s,n[o.id].y=i*s}}class Age extends Tk{constructor(e,r,i){super(e,r,i),this._rng=Ju("FORCE ATLAS 2 BASED REPULSION SOLVER")}_calculateForces(e,r,i,n,o){e===0&&(e=.1*this._rng(),r=e),this.overlapAvoidanceFactor<1&&n.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*n.shape.radius,e-n.shape.radius));const s=n.edges.length+1,a=this.options.gravitationalConstant*o.mass*n.options.mass*s/Math.pow(e,2),l=r*a,c=i*a;this.physicsBody.forces[n.id].x+=l,this.physicsBody.forces[n.id].y+=c}}class Dge extends nd{constructor(e,r,i){super(e,r,i)}_calculateForces(e,r,i,n,o){if(e>0){const s=o.edges.length+1,a=this.options.centralGravity*s*o.options.mass;n[o.id].x=r*a,n[o.id].y=i*a}}}class Mge{constructor(e){this.body=e,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0,wind:{x:0,y:0}},ht(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("initPhysics",()=>{this.initPhysics()}),this.body.emitter.on("_layoutFailed",()=>{this.layoutFailed=!0}),this.body.emitter.on("resetPhysics",()=>{this.stopSimulation(),this.ready=!1}),this.body.emitter.on("disablePhysics",()=>{this.physicsEnabled=!1,this.stopSimulation()}),this.body.emitter.on("restorePhysics",()=>{this.setOptions(this.options),this.ready===!0&&this.startSimulation()}),this.body.emitter.on("startSimulation",()=>{this.ready===!0&&this.startSimulation()}),this.body.emitter.on("stopSimulation",()=>{this.stopSimulation()}),this.body.emitter.on("destroy",()=>{this.stopSimulation(!1),this.body.emitter.off()}),this.body.emitter.on("_dataChanged",()=>{this.updatePhysicsData()})}setOptions(e){if(e!==void 0)if(e===!1)this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation();else if(e===!0)this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation();else{this.physicsEnabled=!0,Bd(["stabilization"],this.options,e),$r(this.options,e,"stabilization"),e.enabled===void 0&&(this.options.enabled=!0),this.options.enabled===!1&&(this.physicsEnabled=!1,this.stopSimulation());const r=this.options.wind;r&&((typeof r.x!="number"||qv(r.x))&&(r.x=0),(typeof r.y!="number"||qv(r.y))&&(r.y=0)),this.timestep=this.options.timestep}this.init()}init(){let e;this.options.solver==="forceAtlas2Based"?(e=this.options.forceAtlas2Based,this.nodesSolver=new Age(this.body,this.physicsBody,e),this.edgesSolver=new _p(this.body,this.physicsBody,e),this.gravitySolver=new Dge(this.body,this.physicsBody,e)):this.options.solver==="repulsion"?(e=this.options.repulsion,this.nodesSolver=new Pge(this.body,this.physicsBody,e),this.edgesSolver=new _p(this.body,this.physicsBody,e),this.gravitySolver=new nd(this.body,this.physicsBody,e)):this.options.solver==="hierarchicalRepulsion"?(e=this.options.hierarchicalRepulsion,this.nodesSolver=new kge(this.body,this.physicsBody,e),this.edgesSolver=new Cge(this.body,this.physicsBody,e),this.gravitySolver=new nd(this.body,this.physicsBody,e)):(e=this.options.barnesHut,this.nodesSolver=new Tk(this.body,this.physicsBody,e),this.edgesSolver=new _p(this.body,this.physicsBody,e),this.gravitySolver=new nd(this.body,this.physicsBody,e)),this.modelOptions=e}initPhysics(){this.physicsEnabled===!0&&this.options.enabled===!0?this.options.stabilization.enabled===!0?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}startSimulation(){if(this.physicsEnabled===!0&&this.options.enabled===!0){if(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),this.viewFunction===void 0){var e;this.viewFunction=M(e=this.simulationStep).call(e,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}else this.body.emitter.emit("_redraw")}stopSimulation(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.stabilized=!0,e===!0&&this._emitStabilized(),this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,e===!0&&this.body.emitter.emit("_stopRendering"))}simulationStep(){const e=Md();this.physicsTick(),(Md()-e<.4*this.simulationInterval||this.runDoubleSpeed===!0)&&this.stabilized===!1&&(this.physicsTick(),this.runDoubleSpeed=!0),this.stabilized===!0&&this.stopSimulation()}_emitStabilized(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||this.startedStabilization===!0)&&Ei(()=>{this.body.emitter.emit("stabilized",{iterations:e}),this.startedStabilization=!1,this.stabilizationIterations=0},0)}physicsStep(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}adjustTimeStep(){this._evaluateStepQuality()===!0?this.timestep=1.2*this.timestep:this.timestep/1.2<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/1.2))}physicsTick(){this._startStabilizing(),this.stabilized!==!0&&(this.adaptiveTimestep===!0&&this.adaptiveTimestepEnabled===!0?(this.adaptiveCounter%this.adaptiveInterval===0?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1):(this.timestep=this.options.timestep,this.physicsStep()),this.stabilized===!0&&this.revert(),this.stabilizationIterations++)}updatePhysicsData(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];const e=this.body.nodes,r=this.body.edges;for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&e[i].options.physics===!0&&this.physicsBody.physicsNodeIndices.push(e[i].id);for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&r[i].options.physics===!0&&this.physicsBody.physicsEdgeIndices.push(r[i].id);for(let i=0;i<this.physicsBody.physicsNodeIndices.length;i++){const n=this.physicsBody.physicsNodeIndices[i];this.physicsBody.forces[n]={x:0,y:0},this.physicsBody.velocities[n]===void 0&&(this.physicsBody.velocities[n]={x:0,y:0})}for(const i in this.physicsBody.velocities)e[i]===void 0&&delete this.physicsBody.velocities[i]}revert(){const e=Ze(this.previousStates),r=this.body.nodes,i=this.physicsBody.velocities;this.referenceState={};for(let n=0;n<e.length;n++){const o=e[n];r[o]!==void 0?r[o].options.physics===!0&&(this.referenceState[o]={positions:{x:r[o].x,y:r[o].y}},i[o].x=this.previousStates[o].vx,i[o].y=this.previousStates[o].vy,r[o].x=this.previousStates[o].x,r[o].y=this.previousStates[o].y):delete this.previousStates[o]}}_evaluateStepQuality(){let e,r,i;const n=this.body.nodes,o=this.referenceState,s=.3;for(const a in this.referenceState)if(Object.prototype.hasOwnProperty.call(this.referenceState,a)&&n[a]!==void 0&&(e=n[a].x-o[a].positions.x,r=n[a].y-o[a].positions.y,i=Math.sqrt(Math.pow(e,2)+Math.pow(r,2)),i>s))return!1;return!0}moveNodes(){const e=this.physicsBody.physicsNodeIndices;let r=0,i=0;const n=5;for(let o=0;o<e.length;o++){const s=e[o],a=this._performStep(s);r=Math.max(r,a),i+=a}this.adaptiveTimestepEnabled=i/e.length<n,this.stabilized=r<this.options.minVelocity}calculateComponentVelocity(e,r,i){const n=this.modelOptions.damping*e,o=(r-n)/i;e+=o*this.timestep;const s=this.options.maxVelocity||1e9;return Math.abs(e)>s&&(e=e>0?s:-s),e}_performStep(e){const r=this.body.nodes[e],i=this.physicsBody.forces[e];this.options.wind&&(i.x+=this.options.wind.x,i.y+=this.options.wind.y);const n=this.physicsBody.velocities[e];return this.previousStates[e]={x:r.x,y:r.y,vx:n.x,vy:n.y},r.options.fixed.x===!1?(n.x=this.calculateComponentVelocity(n.x,i.x,r.options.mass),r.x+=n.x*this.timestep):(i.x=0,n.x=0),r.options.fixed.y===!1?(n.y=this.calculateComponentVelocity(n.y,i.y,r.options.mass),r.y+=n.y*this.timestep):(i.y=0,n.y=0),Math.sqrt(Math.pow(n.x,2)+Math.pow(n.y,2))}_freezeNodes(){const e=this.body.nodes;for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&e[r].x&&e[r].y){const i=e[r].options.fixed;this.freezeCache[r]={x:i.x,y:i.y},i.x=!0,i.y=!0}}_restoreFrozenNodes(){const e=this.body.nodes;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&this.freezeCache[r]!==void 0&&(e[r].options.fixed.x=this.freezeCache[r].x,e[r].options.fixed.y=this.freezeCache[r].y);this.freezeCache={}}stabilize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.stabilization.iterations;if(typeof e!="number"&&(e=this.options.stabilization.iterations,console.error("The stabilize method needs a numeric amount of iterations. Switching to default: ",e)),this.physicsBody.physicsNodeIndices.length===0){this.ready=!0;return}this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=e,this.options.stabilization.onlyDynamicEdges===!0&&this._freezeNodes(),this.stabilizationIterations=0,Ei(()=>this._stabilizationBatch(),0)}_startStabilizing(){return this.startedStabilization===!0?!1:(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}_stabilizationBatch(){const e=()=>this.stabilized===!1&&this.stabilizationIterations<this.targetIterations,r=()=>{this.body.emitter.emit("stabilizationProgress",{iterations:this.stabilizationIterations,total:this.targetIterations})};this._startStabilizing()&&r();let i=0;for(;e()&&i<this.options.stabilization.updateInterval;)this.physicsTick(),i++;if(r(),e()){var n;Ei(M(n=this._stabilizationBatch).call(n,this),0)}else this._finalizeStabilization()}_finalizeStabilization(){this.body.emitter.emit("_allowRedraw"),this.options.stabilization.fit===!0&&this.body.emitter.emit("fit"),this.options.stabilization.onlyDynamicEdges===!0&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),this.stabilized===!0?this._emitStabilized():this.startSimulation(),this.ready=!0}_drawForces(e){for(let r=0;r<this.physicsBody.physicsNodeIndices.length;r++){const i=this.physicsBody.physicsNodeIndices[r],n=this.body.nodes[i],o=this.physicsBody.forces[i],s=20,a=.03,l=Math.sqrt(Math.pow(o.x,2)+Math.pow(o.x,2)),c=Math.min(Math.max(5,l),15),d=3*c,u=Vv((180-Math.min(1,Math.max(0,a*l))*180)/360,1,1),h={x:n.x+s*o.x,y:n.y+s*o.y};e.lineWidth=c,e.strokeStyle=u,e.beginPath(),e.moveTo(n.x,n.y),e.lineTo(h.x,h.y),e.stroke();const f=Math.atan2(o.y,o.x);e.fillStyle=u,Sk.draw(e,{type:"arrow",point:h,angle:f,length:d}),Vl(e).call(e)}}}let Nc;const Rge=new Uint8Array(16);function Nge(){if(!Nc&&(Nc=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Nc))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Nc(Rge)}const It=[];for(let t=0;t<256;++t)It.push((t+256).toString(16).slice(1));function Fge(t,e=0){return It[t[e+0]]+It[t[e+1]]+It[t[e+2]]+It[t[e+3]]+"-"+It[t[e+4]]+It[t[e+5]]+"-"+It[t[e+6]]+It[t[e+7]]+"-"+It[t[e+8]]+It[t[e+9]]+"-"+It[t[e+10]]+It[t[e+11]]+It[t[e+12]]+It[t[e+13]]+It[t[e+14]]+It[t[e+15]]}const Bge=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var p_={randomUUID:Bge};function Ta(t,e,r){if(p_.randomUUID&&!t)return p_.randomUUID();t=t||{};const i=t.random||(t.rng||Nge)();return i[6]=i[6]&15|64,i[8]=i[8]&63|128,Fge(i)}class zt{constructor(){}static getRange(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=1e9,n=-1e9,o=1e9,s=-1e9,a;if(r.length>0)for(let l=0;l<r.length;l++)a=e[r[l]],o>a.shape.boundingBox.left&&(o=a.shape.boundingBox.left),s<a.shape.boundingBox.right&&(s=a.shape.boundingBox.right),i>a.shape.boundingBox.top&&(i=a.shape.boundingBox.top),n<a.shape.boundingBox.bottom&&(n=a.shape.boundingBox.bottom);return o===1e9&&s===-1e9&&i===1e9&&n===-1e9&&(i=0,n=0,o=0,s=0),{minX:o,maxX:s,minY:i,maxY:n}}static getRangeCore(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=1e9,n=-1e9,o=1e9,s=-1e9,a;if(r.length>0)for(let l=0;l<r.length;l++)a=e[r[l]],o>a.x&&(o=a.x),s<a.x&&(s=a.x),i>a.y&&(i=a.y),n<a.y&&(n=a.y);return o===1e9&&s===-1e9&&i===1e9&&n===-1e9&&(i=0,n=0,o=0,s=0),{minX:o,maxX:s,minY:i,maxY:n}}static findCenter(e){return{x:.5*(e.maxX+e.minX),y:.5*(e.maxY+e.minY)}}static cloneOptions(e,r){const i={};return r===void 0||r==="node"?(Le(i,e.options,!0),i.x=e.x,i.y=e.y,i.amountOfConnections=e.edges.length):Le(i,e.options,!0),i}}class Lge extends Ye{constructor(e,r,i,n,o,s){super(e,r,i,n,o,s),this.isCluster=!0,this.containedNodes={},this.containedEdges={}}_openChildCluster(e){const r=this.body.nodes[e];if(this.containedNodes[e]===void 0)throw new Error("node with id: "+e+" not in current cluster");if(!r.isCluster)throw new Error("node with id: "+e+" is not a cluster");delete this.containedNodes[e],me(r.edges,i=>{delete this.containedEdges[i.id]}),me(r.containedNodes,(i,n)=>{this.containedNodes[n]=i}),r.containedNodes={},me(r.containedEdges,(i,n)=>{this.containedEdges[n]=i}),r.containedEdges={},me(r.edges,i=>{me(this.edges,n=>{var o,s;const a=ke(o=n.clusteringEdgeReplacingIds).call(o,i.id);a!==-1&&(me(i.clusteringEdgeReplacingIds,l=>{n.clusteringEdgeReplacingIds.push(l),this.body.edges[l].edgeReplacedById=n.id}),Si(s=n.clusteringEdgeReplacingIds).call(s,a,1))})}),r.edges=[]}}class jge{constructor(e){this.body=e,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},ht(this.options,this.defaultOptions),this.body.emitter.on("_resetData",()=>{this.clusteredNodes={},this.clusteredEdges={}})}clusterByHubsize(e,r){e===void 0?e=this._getHubSize():typeof e=="object"&&(r=this._checkOptions(e),e=this._getHubSize());const i=[];for(let n=0;n<this.body.nodeIndices.length;n++){const o=this.body.nodes[this.body.nodeIndices[n]];o.edges.length>=e&&i.push(o.id)}for(let n=0;n<i.length;n++)this.clusterByConnection(i[n],r,!0);this.body.emitter.emit("_dataChanged")}cluster(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.joinCondition===void 0)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");e=this._checkOptions(e);const i={},n={};me(this.body.nodes,(o,s)=>{o.options&&e.joinCondition(o.options)===!0&&(i[s]=o,me(o.edges,a=>{this.clusteredEdges[a.id]===void 0&&(n[a.id]=a)}))}),this._cluster(i,n,e,r)}clusterByEdgeCount(e,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;r=this._checkOptions(r);const n=[],o={};let s,a,l;for(let c=0;c<this.body.nodeIndices.length;c++){const d={},u={},h=this.body.nodeIndices[c],f=this.body.nodes[h];if(o[h]===void 0){l=0,a=[];for(let p=0;p<f.edges.length;p++)s=f.edges[p],this.clusteredEdges[s.id]===void 0&&(s.toId!==s.fromId&&l++,a.push(s));if(l===e){const p=function($){if(r.joinCondition===void 0||r.joinCondition===null)return!0;const y=zt.cloneOptions($);return r.joinCondition(y)};let g=!0;for(let $=0;$<a.length;$++){s=a[$];const y=this._getConnectedId(s,h);if(p(f))u[s.id]=s,d[h]=f,d[y]=this.body.nodes[y],o[h]=!0;else{g=!1;break}}if(Ze(d).length>0&&Ze(u).length>0&&g===!0){const y=function(){for(let b=0;b<n.length;++b)for(const S in d)if(n[b].nodes[S]!==void 0)return n[b]}();if(y!==void 0){for(const b in d)y.nodes[b]===void 0&&(y.nodes[b]=d[b]);for(const b in u)y.edges[b]===void 0&&(y.edges[b]=u[b])}else n.push({nodes:d,edges:u})}}}}for(let c=0;c<n.length;c++)this._cluster(n[c].nodes,n[c].edges,r,!1);i===!0&&this.body.emitter.emit("_dataChanged")}clusterOutliers(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(1,e,r)}clusterBridges(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(2,e,r)}clusterByConnection(e,r){var i;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0)throw new Error("No nodeId supplied to clusterByConnection!");if(this.body.nodes[e]===void 0)throw new Error("The nodeId given to clusterByConnection does not exist!");const o=this.body.nodes[e];r=this._checkOptions(r,o),r.clusterNodeProperties.x===void 0&&(r.clusterNodeProperties.x=o.x),r.clusterNodeProperties.y===void 0&&(r.clusterNodeProperties.y=o.y),r.clusterNodeProperties.fixed===void 0&&(r.clusterNodeProperties.fixed={},r.clusterNodeProperties.fixed.x=o.options.fixed.x,r.clusterNodeProperties.fixed.y=o.options.fixed.y);const s={},a={},l=o.id,c=zt.cloneOptions(o);s[l]=o;for(let u=0;u<o.edges.length;u++){const h=o.edges[u];if(this.clusteredEdges[h.id]===void 0){const f=this._getConnectedId(h,l);if(this.clusteredNodes[f]===void 0)if(f!==l)if(r.joinCondition===void 0)a[h.id]=h,s[f]=this.body.nodes[f];else{const p=zt.cloneOptions(this.body.nodes[f]);r.joinCondition(c,p)===!0&&(a[h.id]=h,s[f]=this.body.nodes[f])}else a[h.id]=h}}const d=ms(i=Ze(s)).call(i,function(u){return s[u].id});for(const u in s){if(!Object.prototype.hasOwnProperty.call(s,u))continue;const h=s[u];for(let f=0;f<h.edges.length;f++){const p=h.edges[f];ke(d).call(d,this._getConnectedId(p,h.id))>-1&&(a[p.id]=p)}}this._cluster(s,a,r,n)}_createClusterEdges(e,r,i,n){let o,s,a,l,c,d;const u=Ze(e),h=[];for(let g=0;g<u.length;g++){s=u[g],a=e[s];for(let $=0;$<a.edges.length;$++)o=a.edges[$],this.clusteredEdges[o.id]===void 0&&(o.toId==o.fromId?r[o.id]=o:o.toId==s?(l=i.id,c=o.fromId,d=c):(l=o.toId,c=i.id,d=l),e[d]===void 0&&h.push({edge:o,fromId:c,toId:l}))}const f=[],p=function(g){for(let $=0;$<f.length;$++){const y=f[$],b=g.fromId===y.fromId&&g.toId===y.toId,S=g.fromId===y.toId&&g.toId===y.fromId;if(b||S)return y}return null};for(let g=0;g<h.length;g++){const $=h[g],y=$.edge;let b=p($);b===null?(b=this._createClusteredEdge($.fromId,$.toId,y,n),f.push(b)):b.clusteringEdgeReplacingIds.push(y.id),this.body.edges[y.id].edgeReplacedById=b.id,this._backupEdgeOptions(y),y.setOptions({physics:!1})}}_checkOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e.clusterEdgeProperties===void 0&&(e.clusterEdgeProperties={}),e.clusterNodeProperties===void 0&&(e.clusterNodeProperties={}),e}_cluster(e,r,i){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;const o=[];for(const d in e)Object.prototype.hasOwnProperty.call(e,d)&&this.clusteredNodes[d]!==void 0&&o.push(d);for(let d=0;d<o.length;++d)delete e[o[d]];if(Ze(e).length==0||Ze(e).length==1&&i.clusterNodeProperties.allowSingleNodeCluster!=!0)return;let s=Le({},i.clusterNodeProperties);if(i.processProperties!==void 0){const d=[];for(const h in e)if(Object.prototype.hasOwnProperty.call(e,h)){const f=zt.cloneOptions(e[h]);d.push(f)}const u=[];for(const h in r)if(Object.prototype.hasOwnProperty.call(r,h)&&h.substr(0,12)!=="clusterEdge:"){const f=zt.cloneOptions(r[h],"edge");u.push(f)}if(s=i.processProperties(s,d,u),!s)throw new Error("The processProperties function does not return properties!")}s.id===void 0&&(s.id="cluster:"+Ta());const a=s.id;s.label===void 0&&(s.label="cluster");let l;s.x===void 0&&(l=this._getClusterPosition(e),s.x=l.x),s.y===void 0&&(l===void 0&&(l=this._getClusterPosition(e)),s.y=l.y),s.id=a;const c=this.body.functions.createNode(s,Lge);c.containedNodes=e,c.containedEdges=r,c.clusterEdgeProperties=i.clusterEdgeProperties,this.body.nodes[s.id]=c,this._clusterEdges(e,r,s,i.clusterEdgeProperties),s.id=void 0,n===!0&&this.body.emitter.emit("_dataChanged")}_backupEdgeOptions(e){this.clusteredEdges[e.id]===void 0&&(this.clusteredEdges[e.id]={physics:e.options.physics})}_restoreEdge(e){const r=this.clusteredEdges[e.id];r!==void 0&&(e.setOptions({physics:r.physics}),delete this.clusteredEdges[e.id])}isCluster(e){return this.body.nodes[e]!==void 0?this.body.nodes[e].isCluster===!0:(console.error("Node does not exist."),!1)}_getClusterPosition(e){const r=Ze(e);let i=e[r[0]].x,n=e[r[0]].x,o=e[r[0]].y,s=e[r[0]].y,a;for(let l=1;l<r.length;l++)a=e[r[l]],i=a.x<i?a.x:i,n=a.x>n?a.x:n,o=a.y<o?a.y:o,s=a.y>s?a.y:s;return{x:.5*(i+n),y:.5*(o+s)}}openCluster(e,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0)throw new Error("No clusterNodeId supplied to openCluster.");const n=this.body.nodes[e];if(n===void 0)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(n.isCluster!==!0||n.containedNodes===void 0||n.containedEdges===void 0)throw new Error("The node:"+e+" is not a valid cluster.");const o=this.findNode(e),s=ke(o).call(o,e)-1;if(s>=0){const d=o[s];this.body.nodes[d]._openChildCluster(e),delete this.body.nodes[e],i===!0&&this.body.emitter.emit("_dataChanged");return}const a=n.containedNodes,l=n.containedEdges;if(r!==void 0&&r.releaseFunction!==void 0&&typeof r.releaseFunction=="function"){const d={},u={x:n.x,y:n.y};for(const f in a)if(Object.prototype.hasOwnProperty.call(a,f)){const p=this.body.nodes[f];d[f]={x:p.x,y:p.y}}const h=r.releaseFunction(u,d);for(const f in a)if(Object.prototype.hasOwnProperty.call(a,f)){const p=this.body.nodes[f];h[f]!==void 0&&(p.x=h[f].x===void 0?n.x:h[f].x,p.y=h[f].y===void 0?n.y:h[f].y)}}else me(a,function(d){d.options.fixed.x===!1&&(d.x=n.x),d.options.fixed.y===!1&&(d.y=n.y)});for(const d in a)if(Object.prototype.hasOwnProperty.call(a,d)){const u=this.body.nodes[d];u.vx=n.vx,u.vy=n.vy,u.setOptions({physics:!0}),delete this.clusteredNodes[d]}const c=[];for(let d=0;d<n.edges.length;d++)c.push(n.edges[d]);for(let d=0;d<c.length;d++){const u=c[d],h=this._getConnectedId(u,e),f=this.clusteredNodes[h];for(let p=0;p<u.clusteringEdgeReplacingIds.length;p++){const g=u.clusteringEdgeReplacingIds[p],$=this.body.edges[g];if($!==void 0)if(f!==void 0){const y=this.body.nodes[f.clusterId];y.containedEdges[$.id]=$,delete l[$.id];let b=$.fromId,S=$.toId;$.toId==h?S=f.clusterId:b=f.clusterId,this._createClusteredEdge(b,S,$,y.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge($)}u.remove()}for(const d in l)Object.prototype.hasOwnProperty.call(l,d)&&this._restoreEdge(l[d]);delete this.body.nodes[e],i===!0&&this.body.emitter.emit("_dataChanged")}getNodesInCluster(e){const r=[];if(this.isCluster(e)===!0){const i=this.body.nodes[e].containedNodes;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&r.push(this.body.nodes[n].id)}return r}findNode(e){const r=[];let n=0,o;for(;this.clusteredNodes[e]!==void 0&&n<100;){if(o=this.body.nodes[e],o===void 0)return[];r.push(o.id),e=this.clusteredNodes[e].clusterId,n++}return o=this.body.nodes[e],o===void 0?[]:(r.push(o.id),Jn(r).call(r),r)}updateClusteredNode(e,r){if(e===void 0)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(r===void 0)throw new Error("No newOptions supplied to updateClusteredNode.");if(this.body.nodes[e]===void 0)throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[e].setOptions(r),this.body.emitter.emit("_dataChanged")}updateEdge(e,r){if(e===void 0)throw new Error("No startEdgeId supplied to updateEdge.");if(r===void 0)throw new Error("No newOptions supplied to updateEdge.");if(this.body.edges[e]===void 0)throw new Error("The startEdgeId supplied to updateEdge does not exist.");const i=this.getClusteredEdges(e);for(let n=0;n<i.length;n++)this.body.edges[i[n]].setOptions(r);this.body.emitter.emit("_dataChanged")}getClusteredEdges(e){const r=[];let n=0;for(;e!==void 0&&this.body.edges[e]!==void 0&&n<100;)r.push(this.body.edges[e].id),e=this.body.edges[e].edgeReplacedById,n++;return Jn(r).call(r),r}getBaseEdge(e){return this.getBaseEdges(e)[0]}getBaseEdges(e){const r=[e],i=[],n=[],o=100;let s=0;for(;r.length>0&&s<o;){const a=r.pop();if(a===void 0)continue;const l=this.body.edges[a];if(l===void 0)continue;s++;const c=l.clusteringEdgeReplacingIds;if(c===void 0)n.push(a);else for(let d=0;d<c.length;++d){const u=c[d];ke(r).call(r,c)!==-1||ke(i).call(i,c)!==-1||r.push(u)}i.push(a)}return n}_getConnectedId(e,r){return e.toId!=r?e.toId:(e.fromId!=r,e.fromId)}_getHubSize(){let e=0,r=0,i=0,n=0;for(let l=0;l<this.body.nodeIndices.length;l++){const c=this.body.nodes[this.body.nodeIndices[l]];c.edges.length>n&&(n=c.edges.length),e+=c.edges.length,r+=Math.pow(c.edges.length,2),i+=1}e=e/i,r=r/i;const o=r-Math.pow(e,2),s=Math.sqrt(o);let a=Math.floor(e+2*s);return a>n&&(a=n),a}_createClusteredEdge(e,r,i,n,o){const s=zt.cloneOptions(i,"edge");Le(s,n),s.from=e,s.to=r,s.id="clusterEdge:"+Ta(),o!==void 0&&Le(s,o);const a=this.body.functions.createEdge(s);return a.clusteringEdgeReplacingIds=[i.id],a.connect(),this.body.edges[a.id]=a,a}_clusterEdges(e,r,i,n){if(r instanceof un){const o=r,s={};s[o.id]=o,r=s}if(e instanceof Ye){const o=e,s={};s[o.id]=o,e=s}if(i==null)throw new Error("_clusterEdges: parameter clusterNode required");n===void 0&&(n=i.clusterEdgeProperties),this._createClusterEdges(e,r,i,n);for(const o in r)if(Object.prototype.hasOwnProperty.call(r,o)&&this.body.edges[o]!==void 0){const s=this.body.edges[o];this._backupEdgeOptions(s),s.setOptions({physics:!1})}for(const o in e)Object.prototype.hasOwnProperty.call(e,o)&&(this.clusteredNodes[o]={clusterId:i.id,node:this.body.nodes[o]},this.body.nodes[o].setOptions({physics:!1}))}_getClusterNodeForNode(e){if(e===void 0)return;const r=this.clusteredNodes[e];if(r===void 0)return;const i=r.clusterId;if(i!==void 0)return this.body.nodes[i]}_filter(e,r){const i=[];return me(e,n=>{r(n)&&i.push(n)}),i}_updateState(){let e;const r=[],i={},n=l=>{me(this.body.nodes,c=>{c.isCluster===!0&&l(c)})};for(e in this.clusteredNodes){if(!Object.prototype.hasOwnProperty.call(this.clusteredNodes,e))continue;this.body.nodes[e]===void 0&&r.push(e)}n(function(l){for(let c=0;c<r.length;c++)delete l.containedNodes[r[c]]});for(let l=0;l<r.length;l++)delete this.clusteredNodes[r[l]];me(this.clusteredEdges,l=>{const c=this.body.edges[l];(c===void 0||!c.endPointsValid())&&(i[l]=l)}),n(function(l){me(l.containedEdges,(c,d)=>{!c.endPointsValid()&&!i[d]&&(i[d]=d)})}),me(this.body.edges,(l,c)=>{let d=!0;const u=l.clusteringEdgeReplacingIds;if(u!==void 0){let h=0;me(u,f=>{const p=this.body.edges[f];p!==void 0&&p.endPointsValid()&&(h+=1)}),d=h>0}(!l.endPointsValid()||!d)&&(i[c]=c)}),n(l=>{me(i,c=>{delete l.containedEdges[c],me(l.edges,(d,u)=>{if(d.id===c){l.edges[u]=null;return}d.clusteringEdgeReplacingIds=this._filter(d.clusteringEdgeReplacingIds,function(h){return!i[h]})}),l.edges=this._filter(l.edges,function(d){return d!==null})})}),me(i,l=>{delete this.clusteredEdges[l]}),me(i,l=>{delete this.body.edges[l]});const o=Ze(this.body.edges);me(o,l=>{const c=this.body.edges[l],d=this._isClusteredNode(c.fromId)||this._isClusteredNode(c.toId);if(d!==this._isClusteredEdge(c.id))if(d){const u=this._getClusterNodeForNode(c.fromId);u!==void 0&&this._clusterEdges(this.body.nodes[c.fromId],c,u);const h=this._getClusterNodeForNode(c.toId);h!==void 0&&this._clusterEdges(this.body.nodes[c.toId],c,h)}else delete this._clusterEdges[l],this._restoreEdge(c)});let s=!1,a=!0;for(;a;){const l=[];n(function(c){const d=Ze(c.containedNodes).length,u=c.options.allowSingleNodeCluster===!0;(u&&d<1||!u&&d<2)&&l.push(c.id)});for(let c=0;c<l.length;++c)this.openCluster(l[c],{},!1);a=l.length>0,s=s||a}s&&this._updateState()}_isClusteredNode(e){return this.clusteredNodes[e]!==void 0}_isClusteredEdge(e){return this.clusteredEdges[e]!==void 0}}class zge{constructor(e,r){this.body=e,this.canvas=r,this.redrawRequested=!1,this.requestAnimationFrameRequestId=void 0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.zooming=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1},ht(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e;this.body.emitter.on("dragStart",()=>{this.dragging=!0}),this.body.emitter.on("dragEnd",()=>{this.dragging=!1}),this.body.emitter.on("zoom",()=>{this.zooming=!0,window.clearTimeout(this.zoomTimeoutId),this.zoomTimeoutId=Ei(()=>{var r;this.zooming=!1,M(r=this._requestRedraw).call(r,this)()},250)}),this.body.emitter.on("_resizeNodes",()=>{this._resizeNodes()}),this.body.emitter.on("_redraw",()=>{this.renderingActive===!1&&this._redraw()}),this.body.emitter.on("_blockRedraw",()=>{this.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",()=>{this.allowRedraw=!0,this.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",M(e=this._requestRedraw).call(e,this)),this.body.emitter.on("_startRendering",()=>{this.renderRequests+=1,this.renderingActive=!0,this._startRendering()}),this.body.emitter.on("_stopRendering",()=>{this.renderRequests-=1,this.renderingActive=this.renderRequests>0,this.requestAnimationFrameRequestId=void 0}),this.body.emitter.on("destroy",()=>{this.renderRequests=0,this.allowRedraw=!1,this.renderingActive=!1,window.cancelAnimationFrame(this.requestAnimationFrameRequestId),this.body.emitter.off()})}setOptions(e){e!==void 0&&Us(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag"],this.options,e)}_startRendering(){if(this.renderingActive===!0&&this.requestAnimationFrameRequestId===void 0){var e;this.requestAnimationFrameRequestId=window.requestAnimationFrame(M(e=this._renderStep).call(e,this),this.simulationInterval)}}_renderStep(){this.renderingActive===!0&&(this.requestAnimationFrameRequestId=void 0,this._startRendering(),this._redraw())}redraw(){this.body.emitter.emit("setSize"),this._redraw()}_requestRedraw(){this.redrawRequested!==!0&&this.renderingActive===!1&&this.allowRedraw===!0&&(this.redrawRequested=!0,window.requestAnimationFrame(()=>{this._redraw(!1)}))}_redraw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.allowRedraw===!0){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1;const r={drawExternalLabels:null};(this.canvas.frame.canvas.width===0||this.canvas.frame.canvas.height===0)&&this.canvas.setSize(),this.canvas.setTransform();const i=this.canvas.getContext(),n=this.canvas.frame.canvas.clientWidth,o=this.canvas.frame.canvas.clientHeight;if(i.clearRect(0,0,n,o),this.canvas.frame.clientWidth===0)return;if(i.save(),i.translate(this.body.view.translation.x,this.body.view.translation.y),i.scale(this.body.view.scale,this.body.view.scale),i.beginPath(),this.body.emitter.emit("beforeDrawing",i),i.closePath(),e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawEdges(i),this.dragging===!1||this.dragging===!0&&this.options.hideNodesOnDrag===!1){const{drawExternalLabels:s}=this._drawNodes(i,e);r.drawExternalLabels=s}e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawArrows(i),r.drawExternalLabels!=null&&r.drawExternalLabels(),e===!1&&this._drawSelectionBox(i),i.beginPath(),this.body.emitter.emit("afterDrawing",i),i.closePath(),i.restore(),e===!0&&i.clearRect(0,0,n,o)}}_resizeNodes(){this.canvas.setTransform();const e=this.canvas.getContext();e.save(),e.translate(this.body.view.translation.x,this.body.view.translation.y),e.scale(this.body.view.scale,this.body.view.scale);const r=this.body.nodes;let i;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i=r[n],i.resize(e),i.updateBoundingBox(e,i.selected));e.restore()}_drawNodes(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const i=this.body.nodes,n=this.body.nodeIndices;let o;const s=[],a=[],l=20,c=this.canvas.DOMtoCanvas({x:-l,y:-l}),d=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+l,y:this.canvas.frame.canvas.clientHeight+l}),u={top:c.y,left:c.x,bottom:d.y,right:d.x},h=[];for(let $=0;$<n.length;$++)if(o=i[n[$]],o.hover)a.push(n[$]);else if(o.isSelected())s.push(n[$]);else if(r===!0){const y=o.draw(e);y.drawExternalLabel!=null&&h.push(y.drawExternalLabel)}else if(o.isBoundingBoxOverlappingWith(u)===!0){const y=o.draw(e);y.drawExternalLabel!=null&&h.push(y.drawExternalLabel)}else o.updateBoundingBox(e,o.selected);let f;const p=s.length,g=a.length;for(f=0;f<p;f++){o=i[s[f]];const $=o.draw(e);$.drawExternalLabel!=null&&h.push($.drawExternalLabel)}for(f=0;f<g;f++){o=i[a[f]];const $=o.draw(e);$.drawExternalLabel!=null&&h.push($.drawExternalLabel)}return{drawExternalLabels:()=>{for(const $ of h)$()}}}_drawEdges(e){const r=this.body.edges,i=this.body.edgeIndices;for(let n=0;n<i.length;n++){const o=r[i[n]];o.connected===!0&&o.draw(e)}}_drawArrows(e){const r=this.body.edges,i=this.body.edgeIndices;for(let n=0;n<i.length;n++){const o=r[i[n]];o.connected===!0&&o.drawArrows(e)}}_drawSelectionBox(e){if(this.body.selectionBox.show){e.beginPath();const r=this.body.selectionBox.position.end.x-this.body.selectionBox.position.start.x,i=this.body.selectionBox.position.end.y-this.body.selectionBox.position.start.y;e.rect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,r,i),e.fillStyle="rgba(151, 194, 252, 0.2)",e.fillRect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,r,i),e.strokeStyle="rgba(151, 194, 252, 1)",e.stroke()}else e.closePath()}}var Hge=Ce,Wge=Hge.setInterval,Vge=Wge,Uge=fe(Vge);function Wd(t,e){e.inputHandler=function(r){r.isFirst&&e(r)},t.on("hammer.input",e.inputHandler)}function Ik(t,e){return e.inputHandler=function(r){r.isFinal&&e(r)},t.on("hammer.input",e.inputHandler)}class Yge{constructor(e){this.body=e,this.pixelRatio=1,this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this._cleanupCallbacks=[],this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},ht(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e;this.body.emitter.once("resize",r=>{r.width!==0&&(this.body.view.translation.x=r.width*.5),r.height!==0&&(this.body.view.translation.y=r.height*.5)}),this.body.emitter.on("setSize",M(e=this.setSize).call(e,this)),this.body.emitter.on("destroy",()=>{this.hammerFrame.destroy(),this.hammer.destroy(),this._cleanUp()})}setOptions(e){if(e!==void 0&&Us(["width","height","autoResize"],this.options,e),this._cleanUp(),this.options.autoResize===!0){var r;if(window.ResizeObserver){const n=new ResizeObserver(()=>{this.setSize()===!0&&this.body.emitter.emit("_requestRedraw")}),{frame:o}=this;n.observe(o),this._cleanupCallbacks.push(()=>{n.unobserve(o)})}else{const n=Uge(()=>{this.setSize()===!0&&this.body.emitter.emit("_requestRedraw")},1e3);this._cleanupCallbacks.push(()=>{clearInterval(n)})}const i=M(r=this._onResize).call(r,this);window.addEventListener("resize",i),this._cleanupCallbacks.push(()=>{window.removeEventListener("resize",i)})}}_cleanUp(){var e,r,i;Re(e=Jn(r=Si(i=this._cleanupCallbacks).call(i,0)).call(r)).call(e,n=>{try{n()}catch(o){console.error(o)}})}_onResize(){this.setSize(),this.body.emitter.emit("_redraw")}_getCameraState(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.pixelRatio;this.initialized===!0&&(this.cameraState.previousWidth=this.frame.canvas.width/e,this.cameraState.previousHeight=this.frame.canvas.height/e,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/e,y:.5*this.frame.canvas.height/e}))}_setCameraState(){if(this.cameraState.scale!==void 0&&this.frame.canvas.clientWidth!==0&&this.frame.canvas.clientHeight!==0&&this.pixelRatio!==0&&this.cameraState.previousWidth>0&&this.cameraState.previousHeight>0){const e=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,r=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight;let i=this.cameraState.scale;e!=1&&r!=1?i=this.cameraState.scale*.5*(e+r):e!=1?i=this.cameraState.scale*e:r!=1&&(i=this.cameraState.scale*r),this.body.view.scale=i;const n=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),o={x:n.x-this.cameraState.position.x,y:n.y-this.cameraState.position.y};this.body.view.translation.x+=o.x*this.body.view.scale,this.body.view.translation.y+=o.y*this.body.view.scale}}_prepareValue(e){if(typeof e=="number")return e+"px";if(typeof e=="string"){if(ke(e).call(e,"%")!==-1||ke(e).call(e,"px")!==-1)return e;if(ke(e).call(e,"%")===-1)return e+"px"}throw new Error("Could not use the value supplied for width or height:"+e)}_create(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=0,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{const e=document.createElement("DIV");e.style.color="red",e.style.fontWeight="bold",e.style.padding="10px",e.innerText="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(e)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}_bindHammer(){this.hammer!==void 0&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new ns(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:ns.DIRECTION_ALL}),Wd(this.hammer,e=>{this.body.eventListeners.onTouch(e)}),this.hammer.on("tap",e=>{this.body.eventListeners.onTap(e)}),this.hammer.on("doubletap",e=>{this.body.eventListeners.onDoubleTap(e)}),this.hammer.on("press",e=>{this.body.eventListeners.onHold(e)}),this.hammer.on("panstart",e=>{this.body.eventListeners.onDragStart(e)}),this.hammer.on("panmove",e=>{this.body.eventListeners.onDrag(e)}),this.hammer.on("panend",e=>{this.body.eventListeners.onDragEnd(e)}),this.hammer.on("pinch",e=>{this.body.eventListeners.onPinch(e)}),this.frame.canvas.addEventListener("wheel",e=>{this.body.eventListeners.onMouseWheel(e)}),this.frame.canvas.addEventListener("mousemove",e=>{this.body.eventListeners.onMouseMove(e)}),this.frame.canvas.addEventListener("contextmenu",e=>{this.body.eventListeners.onContext(e)}),this.hammerFrame=new ns(this.frame),Ik(this.hammerFrame,e=>{this.body.eventListeners.onRelease(e)})}setSize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.width,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.height;e=this._prepareValue(e),r=this._prepareValue(r);let i=!1;const n=this.frame.canvas.width,o=this.frame.canvas.height,s=this.pixelRatio;if(this._setPixelRatio(),e!=this.options.width||r!=this.options.height||this.frame.style.width!=e||this.frame.style.height!=r)this._getCameraState(s),this.frame.style.width=e,this.frame.style.height=r,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=e,this.options.height=r,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},i=!0;else{const a=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),l=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);(this.frame.canvas.width!==a||this.frame.canvas.height!==l)&&this._getCameraState(s),this.frame.canvas.width!==a&&(this.frame.canvas.width=a,i=!0),this.frame.canvas.height!==l&&(this.frame.canvas.height=l,i=!0)}return i===!0&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(n/this.pixelRatio),oldHeight:Math.round(o/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,i}getContext(){return this.frame.canvas.getContext("2d")}_determinePixelRatio(){const e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");let r=1;typeof window<"u"&&(r=window.devicePixelRatio||1);const i=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return r/i}_setPixelRatio(){this.pixelRatio=this._determinePixelRatio()}setTransform(){const e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}_XconvertDOMtoCanvas(e){return(e-this.body.view.translation.x)/this.body.view.scale}_XconvertCanvasToDOM(e){return e*this.body.view.scale+this.body.view.translation.x}_YconvertDOMtoCanvas(e){return(e-this.body.view.translation.y)/this.body.view.scale}_YconvertCanvasToDOM(e){return e*this.body.view.scale+this.body.view.translation.y}canvasToDOM(e){return{x:this._XconvertCanvasToDOM(e.x),y:this._YconvertCanvasToDOM(e.y)}}DOMtoCanvas(e){return{x:this._XconvertDOMtoCanvas(e.x),y:this._YconvertDOMtoCanvas(e.y)}}}function qge(t,e){const r=ht({nodes:e,minZoomLevel:Number.MIN_VALUE,maxZoomLevel:1},t??{});if(!Qe(r.nodes))throw new TypeError("Nodes has to be an array of ids.");if(r.nodes.length===0&&(r.nodes=e),!(typeof r.minZoomLevel=="number"&&r.minZoomLevel>0))throw new TypeError("Min zoom level has to be a number higher than zero.");if(!(typeof r.maxZoomLevel=="number"&&r.minZoomLevel<=r.maxZoomLevel))throw new TypeError("Max zoom level has to be a number higher than min zoom level.");return r}class Kge{constructor(e,r){var i,n;this.body=e,this.canvas=r,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",M(i=this.fit).call(i,this)),this.body.emitter.on("animationFinished",()=>{this.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",M(n=this.releaseNode).call(n,this))}setOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.options=e}fit(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;e=qge(e,this.body.nodeIndices);const i=this.canvas.frame.canvas.clientWidth,n=this.canvas.frame.canvas.clientHeight;let o,s;if(i===0||n===0)s=1,o=zt.getRange(this.body.nodes,e.nodes);else if(r===!0){let c=0;for(const h in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,h)&&this.body.nodes[h].predefinedPosition===!0&&(c+=1);if(c>.5*this.body.nodeIndices.length){this.fit(e,!1);return}o=zt.getRange(this.body.nodes,e.nodes),s=12.662/(this.body.nodeIndices.length+7.4147)+.0964822;const u=Math.min(i/600,n/600);s*=u}else{this.body.emitter.emit("_resizeNodes"),o=zt.getRange(this.body.nodes,e.nodes);const c=Math.abs(o.maxX-o.minX)*1.1,d=Math.abs(o.maxY-o.minY)*1.1,u=i/c,h=n/d;s=u<=h?u:h}s>e.maxZoomLevel?s=e.maxZoomLevel:s<e.minZoomLevel&&(s=e.minZoomLevel);const l={position:zt.findCenter(o),scale:s,animation:e.animation};this.moveTo(l)}focus(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.body.nodes[e]!==void 0){const i={x:this.body.nodes[e].x,y:this.body.nodes[e].y};r.position=i,r.lockedOnNode=e,this.moveTo(r)}else console.error("Node: "+e+" cannot be found.")}moveTo(e){if(e===void 0){e={};return}if(e.offset!=null){if(e.offset.x!=null){if(e.offset.x=+e.offset.x,!zn(e.offset.x))throw new TypeError('The option "offset.x" has to be a finite number.')}else e.offset.x=0;if(e.offset.y!=null){if(e.offset.y=+e.offset.y,!zn(e.offset.y))throw new TypeError('The option "offset.y" has to be a finite number.')}else e.offset.x=0}else e.offset={x:0,y:0};if(e.position!=null){if(e.position.x!=null){if(e.position.x=+e.position.x,!zn(e.position.x))throw new TypeError('The option "position.x" has to be a finite number.')}else e.position.x=0;if(e.position.y!=null){if(e.position.y=+e.position.y,!zn(e.position.y))throw new TypeError('The option "position.y" has to be a finite number.')}else e.position.x=0}else e.position=this.getViewPosition();if(e.scale!=null){if(e.scale=+e.scale,!(e.scale>0))throw new TypeError('The option "scale" has to be a number greater than zero.')}else e.scale=this.body.view.scale;e.animation===void 0&&(e.animation={duration:0}),e.animation===!1&&(e.animation={duration:0}),e.animation===!0&&(e.animation={}),e.animation.duration===void 0&&(e.animation.duration=1e3),e.animation.easingFunction===void 0&&(e.animation.easingFunction="easeInOutQuad"),this.animateView(e)}animateView(e){if(e===void 0)return;this.animationEasingFunction=e.animation.easingFunction,this.releaseNode(),e.locked===!0&&(this.lockedOnNodeId=e.lockedOnNode,this.lockedOnNodeOffset=e.offset),this.easingTime!=0&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=e.scale,this.body.view.scale=this.targetScale;const r=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),i={x:r.x-e.position.x,y:r.y-e.position.y};if(this.targetTranslation={x:this.sourceTranslation.x+i.x*this.targetScale+e.offset.x,y:this.sourceTranslation.y+i.y*this.targetScale+e.offset.y},e.animation.duration===0)if(this.lockedOnNodeId!=null){var n;this.viewFunction=M(n=this._lockedRedraw).call(n,this),this.body.emitter.on("initRedraw",this.viewFunction)}else this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw");else{var o;this.animationSpeed=1/(60*e.animation.duration*.001)||1/60,this.animationEasingFunction=e.animation.easingFunction,this.viewFunction=M(o=this._transitionRedraw).call(o,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}_lockedRedraw(){const e={x:this.body.nodes[this.lockedOnNodeId].x,y:this.body.nodes[this.lockedOnNodeId].y},r=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),i={x:r.x-e.x,y:r.y-e.y},n=this.body.view.translation,o={x:n.x+i.x*this.body.view.scale+this.lockedOnNodeOffset.x,y:n.y+i.y*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=o}releaseNode(){this.lockedOnNodeId!==void 0&&this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}_transitionRedraw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.easingTime+=this.animationSpeed,this.easingTime=e===!0?1:this.easingTime;const r=ide[this.animationEasingFunction](this.easingTime);if(this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*r,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*r,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*r},this.easingTime>=1){if(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,this.lockedOnNodeId!=null){var i;this.viewFunction=M(i=this._lockedRedraw).call(i,this),this.body.emitter.on("initRedraw",this.viewFunction)}this.body.emitter.emit("animationFinished")}}getScale(){return this.body.view.scale}getViewPosition(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}function v_(t){var e=t&&t.preventDefault||!1,r=t&&t.container||window,i={},n={keydown:{},keyup:{}},o={},s;for(s=97;s<=122;s++)o[String.fromCharCode(s)]={code:65+(s-97),shift:!1};for(s=65;s<=90;s++)o[String.fromCharCode(s)]={code:s,shift:!0};for(s=0;s<=9;s++)o[""+s]={code:48+s,shift:!1};for(s=1;s<=12;s++)o["F"+s]={code:111+s,shift:!1};for(s=0;s<=9;s++)o["num"+s]={code:96+s,shift:!1};o["num*"]={code:106,shift:!1},o["num+"]={code:107,shift:!1},o["num-"]={code:109,shift:!1},o["num/"]={code:111,shift:!1},o["num."]={code:110,shift:!1},o.left={code:37,shift:!1},o.up={code:38,shift:!1},o.right={code:39,shift:!1},o.down={code:40,shift:!1},o.space={code:32,shift:!1},o.enter={code:13,shift:!1},o.shift={code:16,shift:void 0},o.esc={code:27,shift:!1},o.backspace={code:8,shift:!1},o.tab={code:9,shift:!1},o.ctrl={code:17,shift:!1},o.alt={code:18,shift:!1},o.delete={code:46,shift:!1},o.pageup={code:33,shift:!1},o.pagedown={code:34,shift:!1},o["="]={code:187,shift:!1},o["-"]={code:189,shift:!1},o["]"]={code:221,shift:!1},o["["]={code:219,shift:!1};var a=function(d){c(d,"keydown")},l=function(d){c(d,"keyup")},c=function(d,u){if(n[u][d.keyCode]!==void 0){for(var h=n[u][d.keyCode],f=0;f<h.length;f++)(h[f].shift===void 0||h[f].shift==!0&&d.shiftKey==!0||h[f].shift==!1&&d.shiftKey==!1)&&h[f].fn(d);e==!0&&d.preventDefault()}};return i.bind=function(d,u,h){if(h===void 0&&(h="keydown"),o[d]===void 0)throw new Error("unsupported key: "+d);n[h][o[d].code]===void 0&&(n[h][o[d].code]=[]),n[h][o[d].code].push({fn:u,shift:o[d].shift})},i.bindAll=function(d,u){u===void 0&&(u="keydown");for(var h in o)o.hasOwnProperty(h)&&i.bind(h,d,u)},i.getKey=function(d){for(var u in o)if(o.hasOwnProperty(u)){if(d.shiftKey==!0&&o[u].shift==!0&&d.keyCode==o[u].code)return u;if(d.shiftKey==!1&&o[u].shift==!1&&d.keyCode==o[u].code)return u;if(d.keyCode==o[u].code&&u=="shift")return u}return"unknown key, currently not supported"},i.unbind=function(d,u,h){if(h===void 0&&(h="keydown"),o[d]===void 0)throw new Error("unsupported key: "+d);if(u!==void 0){var f=[],p=n[h][o[d].code];if(p!==void 0)for(var g=0;g<p.length;g++)p[g].fn==u&&p[g].shift==o[d].shift||f.push(n[h][o[d].code][g]);n[h][o[d].code]=f}else n[h][o[d].code]=[]},i.reset=function(){n={keydown:{},keyup:{}}},i.destroy=function(){n={keydown:{},keyup:{}},r.removeEventListener("keydown",a,!0),r.removeEventListener("keyup",l,!0)},r.addEventListener("keydown",a,!0),r.addEventListener("keyup",l,!0),i}class Gge{constructor(e,r){this.body=e,this.canvas=r,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",()=>{this.activated=!0,this.configureKeyboardBindings()}),this.body.emitter.on("deactivate",()=>{this.activated=!1,this.configureKeyboardBindings()}),this.body.emitter.on("destroy",()=>{this.keycharm!==void 0&&this.keycharm.destroy()}),this.options={}}setOptions(e){e!==void 0&&(this.options=e,this.create())}create(){this.options.navigationButtons===!0?this.iconsCreated===!1&&this.loadNavigationElements():this.iconsCreated===!0&&this.cleanNavigation(),this.configureKeyboardBindings()}cleanNavigation(){if(this.navigationHammers.length!=0){for(let e=0;e<this.navigationHammers.length;e++)this.navigationHammers[e].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}loadNavigationElements(){this.cleanNavigation(),this.navigationDOM={};const e=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],r=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(let s=0;s<e.length;s++){this.navigationDOM[e[s]]=document.createElement("div"),this.navigationDOM[e[s]].className="vis-button vis-"+e[s],this.navigationDOM.wrapper.appendChild(this.navigationDOM[e[s]]);const a=new ns(this.navigationDOM[e[s]]);if(r[s]==="_fit"){var i;Wd(a,M(i=this._fit).call(i,this))}else{var n;Wd(a,M(n=this.bindToRedraw).call(n,this,r[s]))}this.navigationHammers.push(a)}const o=new ns(this.canvas.frame);Ik(o,()=>{this._stopMovement()}),this.navigationHammers.push(o),this.iconsCreated=!0}bindToRedraw(e){if(this.boundFunctions[e]===void 0){var r;this.boundFunctions[e]=M(r=this[e]).call(r,this),this.body.emitter.on("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_startRendering")}}unbindFromRedraw(e){this.boundFunctions[e]!==void 0&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[e])}_fit(){new Date().valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=new Date().valueOf())}_stopMovement(){for(const e in this.boundFunctions)Object.prototype.hasOwnProperty.call(this.boundFunctions,e)&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}_moveUp(){this.body.view.translation.y+=this.options.keyboard.speed.y}_moveDown(){this.body.view.translation.y-=this.options.keyboard.speed.y}_moveLeft(){this.body.view.translation.x+=this.options.keyboard.speed.x}_moveRight(){this.body.view.translation.x-=this.options.keyboard.speed.x}_zoomIn(){const e=this.body.view.scale,r=this.body.view.scale*(1+this.options.keyboard.speed.zoom),i=this.body.view.translation,n=r/e,o=(1-n)*this.canvas.canvasViewCenter.x+i.x*n,s=(1-n)*this.canvas.canvasViewCenter.y+i.y*n;this.body.view.scale=r,this.body.view.translation={x:o,y:s},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}_zoomOut(){const e=this.body.view.scale,r=this.body.view.scale/(1+this.options.keyboard.speed.zoom),i=this.body.view.translation,n=r/e,o=(1-n)*this.canvas.canvasViewCenter.x+i.x*n,s=(1-n)*this.canvas.canvasViewCenter.y+i.y*n;this.body.view.scale=r,this.body.view.translation={x:o,y:s},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}configureKeyboardBindings(){if(this.keycharm!==void 0&&this.keycharm.destroy(),this.options.keyboard.enabled===!0&&(this.options.keyboard.bindToWindow===!0?this.keycharm=v_({container:window,preventDefault:!0}):this.keycharm=v_({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),this.activated===!0)){var e,r,i,n,o,s,a,l,c,d,u,h,f,p,g,$,y,b,S,_,T,W,q,z;M(e=this.keycharm).call(e,"up",()=>{this.bindToRedraw("_moveUp")},"keydown"),M(r=this.keycharm).call(r,"down",()=>{this.bindToRedraw("_moveDown")},"keydown"),M(i=this.keycharm).call(i,"left",()=>{this.bindToRedraw("_moveLeft")},"keydown"),M(n=this.keycharm).call(n,"right",()=>{this.bindToRedraw("_moveRight")},"keydown"),M(o=this.keycharm).call(o,"=",()=>{this.bindToRedraw("_zoomIn")},"keydown"),M(s=this.keycharm).call(s,"num+",()=>{this.bindToRedraw("_zoomIn")},"keydown"),M(a=this.keycharm).call(a,"num-",()=>{this.bindToRedraw("_zoomOut")},"keydown"),M(l=this.keycharm).call(l,"-",()=>{this.bindToRedraw("_zoomOut")},"keydown"),M(c=this.keycharm).call(c,"[",()=>{this.bindToRedraw("_zoomOut")},"keydown"),M(d=this.keycharm).call(d,"]",()=>{this.bindToRedraw("_zoomIn")},"keydown"),M(u=this.keycharm).call(u,"pageup",()=>{this.bindToRedraw("_zoomIn")},"keydown"),M(h=this.keycharm).call(h,"pagedown",()=>{this.bindToRedraw("_zoomOut")},"keydown"),M(f=this.keycharm).call(f,"up",()=>{this.unbindFromRedraw("_moveUp")},"keyup"),M(p=this.keycharm).call(p,"down",()=>{this.unbindFromRedraw("_moveDown")},"keyup"),M(g=this.keycharm).call(g,"left",()=>{this.unbindFromRedraw("_moveLeft")},"keyup"),M($=this.keycharm).call($,"right",()=>{this.unbindFromRedraw("_moveRight")},"keyup"),M(y=this.keycharm).call(y,"=",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),M(b=this.keycharm).call(b,"num+",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),M(S=this.keycharm).call(S,"num-",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),M(_=this.keycharm).call(_,"-",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),M(T=this.keycharm).call(T,"[",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),M(W=this.keycharm).call(W,"]",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),M(q=this.keycharm).call(q,"pageup",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),M(z=this.keycharm).call(z,"pagedown",()=>{this.unbindFromRedraw("_zoomOut")},"keyup")}}}class Xge{constructor(e,r,i){var n,o,s,a,l,c,d,u,h,f,p,g,$;this.body=e,this.canvas=r,this.selectionHandler=i,this.navigationHandler=new Gge(e,r),this.body.eventListeners.onTap=M(n=this.onTap).call(n,this),this.body.eventListeners.onTouch=M(o=this.onTouch).call(o,this),this.body.eventListeners.onDoubleTap=M(s=this.onDoubleTap).call(s,this),this.body.eventListeners.onHold=M(a=this.onHold).call(a,this),this.body.eventListeners.onDragStart=M(l=this.onDragStart).call(l,this),this.body.eventListeners.onDrag=M(c=this.onDrag).call(c,this),this.body.eventListeners.onDragEnd=M(d=this.onDragEnd).call(d,this),this.body.eventListeners.onMouseWheel=M(u=this.onMouseWheel).call(u,this),this.body.eventListeners.onPinch=M(h=this.onPinch).call(h,this),this.body.eventListeners.onMouseMove=M(f=this.onMouseMove).call(f,this),this.body.eventListeners.onRelease=M(p=this.onRelease).call(p,this),this.body.eventListeners.onContext=M(g=this.onContext).call(g,this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=M($=this.getPointer).call($,this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0,autoFocus:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0,zoomSpeed:1},ht(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("destroy",()=>{clearTimeout(this.popupTimer),delete this.body.functions.getPointer})}setOptions(e){e!==void 0&&(Bd(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"],this.options,e),$r(this.options,e,"keyboard"),e.tooltip&&(ht(this.options.tooltip,e.tooltip),e.tooltip.color&&(this.options.tooltip.color=Wv(e.tooltip.color)))),this.navigationHandler.setOptions(this.options)}getPointer(e){return{x:e.x-Qce(this.canvas.frame.canvas),y:e.y-ede(this.canvas.frame.canvas)}}onTouch(e){new Date().valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(e.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=new Date().valueOf())}onTap(e){const r=this.getPointer(e.center),i=this.selectionHandler.options.multiselect&&(e.changedPointers[0].ctrlKey||e.changedPointers[0].metaKey);this.checkSelectionChanges(r,i),this.selectionHandler.commitAndEmit(r,e),this.selectionHandler.generateClickEvent("click",e,r)}onDoubleTap(e){const r=this.getPointer(e.center);this.selectionHandler.generateClickEvent("doubleClick",e,r)}onHold(e){const r=this.getPointer(e.center),i=this.selectionHandler.options.multiselect;this.checkSelectionChanges(r,i),this.selectionHandler.commitAndEmit(r,e),this.selectionHandler.generateClickEvent("click",e,r),this.selectionHandler.generateClickEvent("hold",e,r)}onRelease(e){if(new Date().valueOf()-this.touchTime>10){const r=this.getPointer(e.center);this.selectionHandler.generateClickEvent("release",e,r),this.touchTime=new Date().valueOf()}}onContext(e){const r=this.getPointer({x:e.clientX,y:e.clientY});this.selectionHandler.generateClickEvent("oncontext",e,r)}checkSelectionChanges(e){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)===!0?this.selectionHandler.selectAdditionalOnPoint(e):this.selectionHandler.selectOnPoint(e)}_determineDifference(e,r){const i=function(n,o){const s=[];for(let a=0;a<n.length;a++){const l=n[a];ke(o).call(o,l)===-1&&s.push(l)}return s};return{nodes:i(e.nodes,r.nodes),edges:i(e.edges,r.edges)}}onDragStart(e){if(this.drag.dragging)return;this.drag.pointer===void 0&&this.onTouch(e);const r=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=ht({},this.body.view.translation),this.drag.nodeId=void 0,e.srcEvent.shiftKey){this.body.selectionBox.show=!0;const i=this.getPointer(e.center);this.body.selectionBox.position.start={x:this.canvas._XconvertDOMtoCanvas(i.x),y:this.canvas._YconvertDOMtoCanvas(i.y)},this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(i.x),y:this.canvas._YconvertDOMtoCanvas(i.y)}}else if(r!==void 0&&this.options.dragNodes===!0){this.drag.nodeId=r.id,r.isSelected()===!1&&this.selectionHandler.setSelection({nodes:[r.id]}),this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer);for(const i of this.selectionHandler.getSelectedNodes()){const n={id:i.id,node:i,x:i.x,y:i.y,xFixed:i.options.fixed.x,yFixed:i.options.fixed.y};i.options.fixed.x=!0,i.options.fixed.y=!0,this.drag.selection.push(n)}}else this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer,void 0,!0)}onDrag(e){if(this.drag.pinched===!0)return;this.body.emitter.emit("unlockNode");const r=this.getPointer(e.center),i=this.drag.selection;if(i&&i.length&&this.options.dragNodes===!0){this.selectionHandler.generateClickEvent("dragging",e,r);const n=r.x-this.drag.pointer.x,o=r.y-this.drag.pointer.y;Re(i).call(i,s=>{const a=s.node;s.xFixed===!1&&(a.x=this.canvas._XconvertDOMtoCanvas(this.canvas._XconvertCanvasToDOM(s.x)+n)),s.yFixed===!1&&(a.y=this.canvas._YconvertDOMtoCanvas(this.canvas._YconvertCanvasToDOM(s.y)+o))}),this.body.emitter.emit("startSimulation")}else{if(e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,r,void 0,!0),this.drag.pointer===void 0){this.onDragStart(e);return}this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(r.x),y:this.canvas._YconvertDOMtoCanvas(r.y)},this.body.emitter.emit("_requestRedraw")}if(this.options.dragView===!0&&!e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,r,void 0,!0),this.drag.pointer===void 0){this.onDragStart(e);return}const n=r.x-this.drag.pointer.x,o=r.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+n,y:this.drag.translation.y+o},this.body.emitter.emit("_requestRedraw")}}}onDragEnd(e){if(this.drag.dragging=!1,this.body.selectionBox.show){var r;this.body.selectionBox.show=!1;const i=this.body.selectionBox.position,n={minX:Math.min(i.start.x,i.end.x),minY:Math.min(i.start.y,i.end.y),maxX:Math.max(i.start.x,i.end.x),maxY:Math.max(i.start.y,i.end.y)},o=er(r=this.body.nodeIndices).call(r,a=>{const l=this.body.nodes[a];return l.x>=n.minX&&l.x<=n.maxX&&l.y>=n.minY&&l.y<=n.maxY});Re(o).call(o,a=>this.selectionHandler.selectObject(this.body.nodes[a]));const s=this.getPointer(e.center);this.selectionHandler.commitAndEmit(s,e),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw")}else{const i=this.drag.selection;i&&i.length?(Re(i).call(i,function(n){n.node.options.fixed.x=n.xFixed,n.node.options.fixed.y=n.yFixed}),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}}onPinch(e){const r=this.getPointer(e.center);this.drag.pinched=!0,this.pinch.scale===void 0&&(this.pinch.scale=1);const i=this.pinch.scale*e.scale;this.zoom(i,r)}zoom(e,r){if(this.options.zoomView===!0){const i=this.body.view.scale;e<1e-5&&(e=1e-5),e>10&&(e=10);let n;this.drag!==void 0&&this.drag.dragging===!0&&(n=this.canvas.DOMtoCanvas(this.drag.pointer));const o=this.body.view.translation,s=e/i,a=(1-s)*r.x+o.x*s,l=(1-s)*r.y+o.y*s;if(this.body.view.scale=e,this.body.view.translation={x:a,y:l},n!=null){const c=this.canvas.canvasToDOM(n);this.drag.pointer.x=c.x,this.drag.pointer.y=c.y}this.body.emitter.emit("_requestRedraw"),i<e?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:r}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:r})}}onMouseWheel(e){if(this.options.zoomView===!0){if(e.deltaY!==0){let r=this.body.view.scale;r*=1+(e.deltaY<0?1:-1)*(this.options.zoomSpeed*.1);const i=this.getPointer({x:e.clientX,y:e.clientY});this.zoom(r,i)}e.preventDefault()}}onMouseMove(e){const r=this.getPointer({x:e.clientX,y:e.clientY});let i=!1;this.popup!==void 0&&(this.popup.hidden===!1&&this._checkHidePopup(r),this.popup.hidden===!1&&(i=!0,this.popup.setPosition(r.x+3,r.y-5),this.popup.show())),this.options.keyboard.autoFocus&&this.options.keyboard.bindToWindow===!1&&this.options.keyboard.enabled===!0&&this.canvas.frame.focus(),i===!1&&(this.popupTimer!==void 0&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=Ei(()=>this._checkShowPopup(r),this.options.tooltipDelay))),this.options.hover===!0&&this.selectionHandler.hoverObject(e,r)}_checkShowPopup(e){const r=this.canvas._XconvertDOMtoCanvas(e.x),i=this.canvas._YconvertDOMtoCanvas(e.y),n={left:r,top:i,right:r,bottom:i},o=this.popupObj===void 0?void 0:this.popupObj.id;let s=!1,a="node";if(this.popupObj===void 0){const l=this.body.nodeIndices,c=this.body.nodes;let d;const u=[];for(let h=0;h<l.length;h++)d=c[l[h]],d.isOverlappingWith(n)===!0&&(s=!0,d.getTitle()!==void 0&&u.push(l[h]));u.length>0&&(this.popupObj=c[u[u.length-1]],s=!0)}if(this.popupObj===void 0&&s===!1){const l=this.body.edgeIndices,c=this.body.edges;let d;const u=[];for(let h=0;h<l.length;h++)d=c[l[h]],d.isOverlappingWith(n)===!0&&d.connected===!0&&d.getTitle()!==void 0&&u.push(l[h]);u.length>0&&(this.popupObj=c[u[u.length-1]],a="edge")}this.popupObj!==void 0?this.popupObj.id!==o&&(this.popup===void 0&&(this.popup=new ude(this.canvas.frame)),this.popup.popupTargetType=a,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(e.x+3,e.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):this.popup!==void 0&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}_checkHidePopup(e){const r=this.selectionHandler._pointerToPositionObject(e);let i=!1;if(this.popup.popupTargetType==="node"){if(this.body.nodes[this.popup.popupTargetId]!==void 0&&(i=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(r),i===!0)){const n=this.selectionHandler.getNodeAt(e);i=n===void 0?!1:n.id===this.popup.popupTargetId}}else this.selectionHandler.getNodeAt(e)===void 0&&this.body.edges[this.popup.popupTargetId]!==void 0&&(i=this.body.edges[this.popup.popupTargetId].isOverlappingWith(r));i===!1&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}var Jge=Lm,Zge=ik;Jge("Set",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},Zge);var Qge=Ce,eme=Qge.Set,tme=eme,rme=tme,ime=rme,Ji=fe(ime),nme=Ie,g_=jm,Fc=Zu.getWeakData,ome=Bm,sme=Li,ame=Ns,Sp=Nt,lme=Fm,Ok=In,m_=Ct,xk=_o,cme=xk.set,dme=xk.getterFor,ume=Ok.find,hme=Ok.findIndex,fme=nme([].splice),pme=0,Bc=function(t){return t.frozen||(t.frozen=new Pk)},Pk=function(){this.entries=[]},Ep=function(t,e){return ume(t.entries,function(r){return r[0]===e})};Pk.prototype={get:function(t){var e=Ep(this,t);if(e)return e[1]},has:function(t){return!!Ep(this,t)},set:function(t,e){var r=Ep(this,t);r?r[1]=e:this.entries.push([t,e])},delete:function(t){var e=hme(this.entries,function(r){return r[0]===t});return~e&&fme(this.entries,e,1),!!~e}};var vme={getConstructor:function(t,e,r,i){var n=t(function(l,c){ome(l,o),cme(l,{type:e,id:pme++,frozen:void 0}),ame(c)||lme(c,l[i],{that:l,AS_ENTRIES:r})}),o=n.prototype,s=dme(e),a=function(l,c,d){var u=s(l),h=Fc(sme(c),!0);return h===!0?Bc(u).set(c,d):h[u.id]=d,l};return g_(o,{delete:function(l){var c=s(this);if(!Sp(l))return!1;var d=Fc(l);return d===!0?Bc(c).delete(l):d&&m_(d,c.id)&&delete d[c.id]},has:function(c){var d=s(this);if(!Sp(c))return!1;var u=Fc(c);return u===!0?Bc(d).has(c):u&&m_(u,d.id)}}),g_(o,r?{get:function(c){var d=s(this);if(Sp(c)){var u=Fc(c);return u===!0?Bc(d).get(c):u?u[d.id]:void 0}},set:function(c,d){return a(this,c,d)}}:{add:function(c){return a(this,c,!0)}}),n}},gme=ZP,y_=it,od=Ie,b_=jm,mme=Zu,yme=Lm,kk=vme,Lc=Nt,jc=_o.enforce,bme=Te,$me=_x,Xl=Object,wme=Array.isArray,zc=Xl.isExtensible,Ck=Xl.isFrozen,_me=Xl.isSealed,Ak=Xl.freeze,Sme=Xl.seal,$_={},w_={},Eme=!y_.ActiveXObject&&"ActiveXObject"in y_,ra,Dk=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},Mk=yme("WeakMap",Dk,kk),jo=Mk.prototype,sd=od(jo.set),Tme=function(){return gme&&bme(function(){var t=Ak([]);return sd(new Mk,t,1),!Ck(t)})};if($me)if(Eme){ra=kk.getConstructor(Dk,"WeakMap",!0),mme.enable();var __=od(jo.delete),Hc=od(jo.has),S_=od(jo.get);b_(jo,{delete:function(t){if(Lc(t)&&!zc(t)){var e=jc(this);return e.frozen||(e.frozen=new ra),__(this,t)||e.frozen.delete(t)}return __(this,t)},has:function(e){if(Lc(e)&&!zc(e)){var r=jc(this);return r.frozen||(r.frozen=new ra),Hc(this,e)||r.frozen.has(e)}return Hc(this,e)},get:function(e){if(Lc(e)&&!zc(e)){var r=jc(this);return r.frozen||(r.frozen=new ra),Hc(this,e)?S_(this,e):r.frozen.get(e)}return S_(this,e)},set:function(e,r){if(Lc(e)&&!zc(e)){var i=jc(this);i.frozen||(i.frozen=new ra),Hc(this,e)?sd(this,e,r):i.frozen.set(e,r)}else sd(this,e,r);return this}})}else Tme()&&b_(jo,{set:function(e,r){var i;return wme(e)&&(Ck(e)?i=$_:_me(e)&&(i=w_)),sd(this,e,r),i===$_&&Ak(e),i===w_&&Sme(e),this}});var Ime=Ce,Ome=Ime.WeakMap,xme=Ome,Pme=xme,kme=Pme,Ia=fe(kme);function Be(t,e,r,i){if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?i:r==="a"?i.call(t):i?i.value:e.get(t)}function Gv(t,e,r,i,n){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,r),r}var Fn,br,Wi,Vi,ad;function E_(t,e){const r=new Ji;for(const i of e)t.has(i)||r.add(i);return r}class T_{constructor(){Fn.set(this,new Ji),br.set(this,new Ji)}get size(){return Be(this,br,"f").size}add(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];for(const n of r)Be(this,br,"f").add(n)}delete(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];for(const n of r)Be(this,br,"f").delete(n)}clear(){Be(this,br,"f").clear()}getSelection(){return[...Be(this,br,"f")]}getChanges(){return{added:[...E_(Be(this,Fn,"f"),Be(this,br,"f"))],deleted:[...E_(Be(this,br,"f"),Be(this,Fn,"f"))],previous:[...new Ji(Be(this,Fn,"f"))],current:[...new Ji(Be(this,br,"f"))]}}commit(){const e=this.getChanges();Gv(this,Fn,Be(this,br,"f")),Gv(this,br,new Ji(Be(this,Fn,"f")));for(const r of e.added)r.select();for(const r of e.deleted)r.unselect();return e}}Fn=new Ia,br=new Ia;class Cme{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:()=>{};Wi.set(this,new T_),Vi.set(this,new T_),ad.set(this,void 0),Gv(this,ad,e)}get sizeNodes(){return Be(this,Wi,"f").size}get sizeEdges(){return Be(this,Vi,"f").size}getNodes(){return Be(this,Wi,"f").getSelection()}getEdges(){return Be(this,Vi,"f").getSelection()}addNodes(){Be(this,Wi,"f").add(...arguments)}addEdges(){Be(this,Vi,"f").add(...arguments)}deleteNodes(e){Be(this,Wi,"f").delete(e)}deleteEdges(e){Be(this,Vi,"f").delete(e)}clear(){Be(this,Wi,"f").clear(),Be(this,Vi,"f").clear()}commit(){const e={nodes:Be(this,Wi,"f").commit(),edges:Be(this,Vi,"f").commit()};for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return Be(this,ad,"f").call(this,e,...i),e}}Wi=new Ia,Vi=new Ia,ad=new Ia;class Ame{constructor(e,r){this.body=e,this.canvas=r,this._selectionAccumulator=new Cme,this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},ht(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",()=>{this.updateSelection()})}setOptions(e){e!==void 0&&Us(["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"],this.options,e)}selectOnPoint(e){let r=!1;if(this.options.selectable===!0){const i=this.getNodeAt(e)||this.getEdgeAt(e);this.unselectAll(),i!==void 0&&(r=this.selectObject(i)),this.body.emitter.emit("_requestRedraw")}return r}selectAdditionalOnPoint(e){let r=!1;if(this.options.selectable===!0){const i=this.getNodeAt(e)||this.getEdgeAt(e);i!==void 0&&(r=!0,i.isSelected()===!0?this.deselectObject(i):this.selectObject(i),this.body.emitter.emit("_requestRedraw"))}return r}_initBaseEvent(e,r){const i={};return i.pointer={DOM:{x:r.x,y:r.y},canvas:this.canvas.DOMtoCanvas(r)},i.event=e,i}generateClickEvent(e,r,i,n){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;const s=this._initBaseEvent(r,i);if(o===!0)s.nodes=[],s.edges=[];else{const a=this.getSelection();s.nodes=a.nodes,s.edges=a.edges}n!==void 0&&(s.previousSelection=n),e=="click"&&(s.items=this.getClickedItems(i)),r.controlEdge!==void 0&&(s.controlEdge=r.controlEdge),this.body.emitter.emit(e,s)}selectObject(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.selectConnectedEdges;return e!==void 0?(e instanceof Ye?(r===!0&&this._selectionAccumulator.addEdges(...e.edges),this._selectionAccumulator.addNodes(e)):this._selectionAccumulator.addEdges(e),!0):!1}deselectObject(e){e.isSelected()===!0&&(e.selected=!1,this._removeFromSelection(e))}_getAllNodesOverlappingWith(e){const r=[],i=this.body.nodes;for(let n=0;n<this.body.nodeIndices.length;n++){const o=this.body.nodeIndices[n];i[o].isOverlappingWith(e)&&r.push(o)}return r}_pointerToPositionObject(e){const r=this.canvas.DOMtoCanvas(e);return{left:r.x-1,top:r.y+1,right:r.x+1,bottom:r.y-1}}getNodeAt(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const i=this._pointerToPositionObject(e),n=this._getAllNodesOverlappingWith(i);if(n.length>0)return r===!0?this.body.nodes[n[n.length-1]]:n[n.length-1]}_getEdgesOverlappingWith(e,r){const i=this.body.edges;for(let n=0;n<this.body.edgeIndices.length;n++){const o=this.body.edgeIndices[n];i[o].isOverlappingWith(e)&&r.push(o)}}_getAllEdgesOverlappingWith(e){const r=[];return this._getEdgesOverlappingWith(e,r),r}getEdgeAt(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const i=this.canvas.DOMtoCanvas(e);let n=10,o=null;const s=this.body.edges;for(let a=0;a<this.body.edgeIndices.length;a++){const l=this.body.edgeIndices[a],c=s[l];if(c.connected){const d=c.from.x,u=c.from.y,h=c.to.x,f=c.to.y,p=c.edgeType.getDistanceToEdge(d,u,h,f,i.x,i.y);p<n&&(o=l,n=p)}}if(o!==null)return r===!0?this.body.edges[o]:o}_addToHover(e){e instanceof Ye?this.hoverObj.nodes[e.id]=e:this.hoverObj.edges[e.id]=e}_removeFromSelection(e){e instanceof Ye?(this._selectionAccumulator.deleteNodes(e),this._selectionAccumulator.deleteEdges(...e.edges)):this._selectionAccumulator.deleteEdges(e)}unselectAll(){this._selectionAccumulator.clear()}getSelectedNodeCount(){return this._selectionAccumulator.sizeNodes}getSelectedEdgeCount(){return this._selectionAccumulator.sizeEdges}_hoverConnectedEdges(e){for(let r=0;r<e.edges.length;r++){const i=e.edges[r];i.hover=!0,this._addToHover(i)}}emitBlurEvent(e,r,i){const n=this._initBaseEvent(e,r);i.hover===!0&&(i.hover=!1,i instanceof Ye?(n.node=i.id,this.body.emitter.emit("blurNode",n)):(n.edge=i.id,this.body.emitter.emit("blurEdge",n)))}emitHoverEvent(e,r,i){const n=this._initBaseEvent(e,r);let o=!1;return i.hover===!1&&(i.hover=!0,this._addToHover(i),o=!0,i instanceof Ye?(n.node=i.id,this.body.emitter.emit("hoverNode",n)):(n.edge=i.id,this.body.emitter.emit("hoverEdge",n))),o}hoverObject(e,r){let i=this.getNodeAt(r);i===void 0&&(i=this.getEdgeAt(r));let n=!1;for(const o in this.hoverObj.nodes)Object.prototype.hasOwnProperty.call(this.hoverObj.nodes,o)&&(i===void 0||i instanceof Ye&&i.id!=o||i instanceof un)&&(this.emitBlurEvent(e,r,this.hoverObj.nodes[o]),delete this.hoverObj.nodes[o],n=!0);for(const o in this.hoverObj.edges)Object.prototype.hasOwnProperty.call(this.hoverObj.edges,o)&&(n===!0?(this.hoverObj.edges[o].hover=!1,delete this.hoverObj.edges[o]):(i===void 0||i instanceof un&&i.id!=o||i instanceof Ye&&!i.hover)&&(this.emitBlurEvent(e,r,this.hoverObj.edges[o]),delete this.hoverObj.edges[o],n=!0));if(i!==void 0){const o=Ze(this.hoverObj.edges).length,s=Ze(this.hoverObj.nodes).length,a=i instanceof un&&o===0&&s===0,l=i instanceof Ye&&o===0&&s===0;(n||a||l)&&(n=this.emitHoverEvent(e,r,i)),i instanceof Ye&&this.options.hoverConnectedEdges===!0&&this._hoverConnectedEdges(i)}n===!0&&this.body.emitter.emit("_requestRedraw")}commitWithoutEmitting(){this._selectionAccumulator.commit()}commitAndEmit(e,r){let i=!1;const n=this._selectionAccumulator.commit(),o={nodes:n.nodes.previous,edges:n.edges.previous};n.edges.deleted.length>0&&(this.generateClickEvent("deselectEdge",r,e,o),i=!0),n.nodes.deleted.length>0&&(this.generateClickEvent("deselectNode",r,e,o),i=!0),n.nodes.added.length>0&&(this.generateClickEvent("selectNode",r,e),i=!0),n.edges.added.length>0&&(this.generateClickEvent("selectEdge",r,e),i=!0),i===!0&&this.generateClickEvent("select",r,e)}getSelection(){return{nodes:this.getSelectedNodeIds(),edges:this.getSelectedEdgeIds()}}getSelectedNodes(){return this._selectionAccumulator.getNodes()}getSelectedEdges(){return this._selectionAccumulator.getEdges()}getSelectedNodeIds(){var e;return ms(e=this._selectionAccumulator.getNodes()).call(e,r=>r.id)}getSelectedEdgeIds(){var e;return ms(e=this._selectionAccumulator.getEdges()).call(e,r=>r.id)}setSelection(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!e||!e.nodes&&!e.edges)throw new TypeError("Selection must be an object with nodes and/or edges properties");if((r.unselectAll||r.unselectAll===void 0)&&this.unselectAll(),e.nodes)for(const i of e.nodes){const n=this.body.nodes[i];if(!n)throw new RangeError('Node with id "'+i+'" not found');this.selectObject(n,r.highlightEdges)}if(e.edges)for(const i of e.edges){const n=this.body.edges[i];if(!n)throw new RangeError('Edge with id "'+i+'" not found');this.selectObject(n)}this.body.emitter.emit("_requestRedraw"),this._selectionAccumulator.commit()}selectNodes(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({nodes:e},{highlightEdges:r})}selectEdges(e){if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({edges:e})}updateSelection(){for(const e in this._selectionAccumulator.getNodes())Object.prototype.hasOwnProperty.call(this.body.nodes,e.id)||this._selectionAccumulator.deleteNodes(e);for(const e in this._selectionAccumulator.getEdges())Object.prototype.hasOwnProperty.call(this.body.edges,e.id)||this._selectionAccumulator.deleteEdges(e)}getClickedItems(e){const r=this.canvas.DOMtoCanvas(e),i=[],n=this.body.nodeIndices,o=this.body.nodes;for(let l=n.length-1;l>=0;l--){const d=o[n[l]].getItemsOnPoint(r);i.push.apply(i,d)}const s=this.body.edgeIndices,a=this.body.edges;for(let l=s.length-1;l>=0;l--){const d=a[s[l]].getItemsOnPoint(r);i.push.apply(i,d)}return i}}var I_=yx,Dme=Math.floor,Xv=function(t,e){var r=t.length,i=Dme(r/2);return r<8?Mme(t,e):Rme(t,Xv(I_(t,0,i),e),Xv(I_(t,i),e),e)},Mme=function(t,e){for(var r=t.length,i=1,n,o;i<r;){for(o=i,n=t[i];o&&e(t[o-1],n)>0;)t[o]=t[--o];o!==i++&&(t[o]=n)}return t},Rme=function(t,e,r,i){for(var n=e.length,o=r.length,s=0,a=0;s<n||a<o;)t[s+a]=s<n&&a<o?i(e[s],r[a])<=0?e[s++]:r[a++]:s<n?e[s++]:r[a++];return t},Nme=Xv,Fme=Il,O_=Fme.match(/firefox\/(\d+)/i),Bme=!!O_&&+O_[1],Lme=Il,jme=/MSIE|Trident/.test(Lme),zme=Il,x_=zme.match(/AppleWebKit\/(\d+)\./),Hme=!!x_&&+x_[1],Wme=de,Rk=Ie,Vme=Bs,Ume=xr,P_=di,Yme=rP,k_=ui,qm=Te,qme=Nme,Kme=Ws,C_=Bme,Gme=jme,A_=Ol,D_=Hme,en=[],M_=Rk(en.sort),Xme=Rk(en.push),Jme=qm(function(){en.sort(void 0)}),Zme=qm(function(){en.sort(null)}),Qme=Kme("sort"),Nk=!qm(function(){if(A_)return A_<70;if(!(C_&&C_>3)){if(Gme)return!0;if(D_)return D_<603;var t="",e,r,i,n;for(e=65;e<76;e++){switch(r=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:i=3;break;case 68:case 71:i=4;break;default:i=2}for(n=0;n<47;n++)en.push({k:r+n,v:i})}for(en.sort(function(o,s){return s.v-o.v}),n=0;n<en.length;n++)r=en[n].k.charAt(0),t.charAt(t.length-1)!==r&&(t+=r);return t!=="DGBEFHACIJK"}}),eye=Jme||!Zme||!Qme||!Nk,tye=function(t){return function(e,r){return r===void 0?-1:e===void 0?1:t!==void 0?+t(e,r)||0:k_(e)>k_(r)?1:-1}};Wme({target:"Array",proto:!0,forced:eye},{sort:function(e){e!==void 0&&Vme(e);var r=Ume(this);if(Nk)return e===void 0?M_(r):M_(r,e);var i=[],n=P_(r),o,s;for(s=0;s<n;s++)s in r&&Xme(i,r[s]);for(qme(i,tye(e)),o=P_(i),s=0;s<o;)r[s]=i[s++];for(;s<n;)Yme(r,s++);return r}});var rye=At,iye=rye("Array").sort,nye=gt,oye=iye,Tp=Array.prototype,sye=function(t){var e=t.sort;return t===Tp||nye(Tp,t)&&e===Tp.sort?oye:e},aye=sye,lye=aye,cye=lye,ss=fe(cye),dye=Bs,uye=xr,hye=Du,fye=di,pye=TypeError,vye=function(t){return function(e,r,i,n){dye(r);var o=uye(e),s=hye(o),a=fye(o),l=t?a-1:0,c=t?-1:1;if(i<2)for(;;){if(l in s){n=s[l],l+=c;break}if(l+=c,t?l<0:a<=l)throw new pye("Reduce of empty array with no initial value")}for(;t?l>=0:a>l;l+=c)l in s&&(n=r(n,s[l],l,o));return n}},gye={left:vye(!1)},mye=it,yye=Bi,bye=yye(mye.process)==="process",$ye=de,wye=gye.left,_ye=Ws,R_=Ol,Sye=bye,Eye=!Sye&&R_>79&&R_<83,Tye=Eye||!_ye("reduce");$ye({target:"Array",proto:!0,forced:Tye},{reduce:function(e){var r=arguments.length;return wye(this,e,r,r>1?arguments[1]:void 0)}});var Iye=At,Oye=Iye("Array").reduce,xye=gt,Pye=Oye,Ip=Array.prototype,kye=function(t){var e=t.reduce;return t===Ip||xye(Ip,t)&&e===Ip.reduce?Pye:e},Cye=kye,Aye=Cye,Dye=Aye,Fk=fe(Dye);class Bk{abstract(){throw new Error("Can't instantiate abstract class!")}fake_use(){}curveType(){return this.abstract()}getPosition(e){return this.fake_use(e),this.abstract()}setPosition(e,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;this.fake_use(e,r,i),this.abstract()}getTreeSize(e){return this.fake_use(e),this.abstract()}sort(e){this.fake_use(e),this.abstract()}fix(e,r){this.fake_use(e,r),this.abstract()}shift(e,r){this.fake_use(e,r),this.abstract()}}class Mye extends Bk{constructor(e){super(),this.layout=e}curveType(){return"horizontal"}getPosition(e){return e.x}setPosition(e,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;i!==void 0&&this.layout.hierarchical.addToOrdering(e,i),e.x=r}getTreeSize(e){const r=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:r.min_x,max:r.max_x}}sort(e){ss(e).call(e,function(r,i){return r.x-i.x})}fix(e,r){e.y=this.layout.options.hierarchical.levelSeparation*r,e.options.fixed.y=!0}shift(e,r){this.layout.body.nodes[e].x+=r}}class Rye extends Bk{constructor(e){super(),this.layout=e}curveType(){return"vertical"}getPosition(e){return e.y}setPosition(e,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;i!==void 0&&this.layout.hierarchical.addToOrdering(e,i),e.y=r}getTreeSize(e){const r=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:r.min_y,max:r.max_y}}sort(e){ss(e).call(e,function(r,i){return r.y-i.y})}fix(e,r){e.x=this.layout.options.hierarchical.levelSeparation*r,e.options.fixed.x=!0}shift(e,r){this.layout.body.nodes[e].y+=r}}var Nye=de,Fye=In.every,Bye=Ws,Lye=Bye("every");Nye({target:"Array",proto:!0,forced:!Lye},{every:function(e){return Fye(this,e,arguments.length>1?arguments[1]:void 0)}});var jye=At,zye=jye("Array").every,Hye=gt,Wye=zye,Op=Array.prototype,Vye=function(t){var e=t.every;return t===Op||Hye(Op,t)&&e===Op.every?Wye:e},Uye=Vye,Yye=Uye,qye=Yye,Lk=fe(qye);function Kye(t,e){const r=new Ji;return Re(t).call(t,i=>{var n;Re(n=i.edges).call(n,o=>{o.connected&&r.add(o)})}),Re(r).call(r,i=>{const n=i.from.id,o=i.to.id;e[n]==null&&(e[n]=0),(e[o]==null||e[n]>=e[o])&&(e[o]=e[n]+1)}),e}function Gye(t){return jk(e=>{var r,i;return Lk(r=er(i=e.edges).call(i,n=>t.has(n.toId))).call(r,n=>n.to===e)},(e,r)=>r>e,"from",t)}function Xye(t){return jk(e=>{var r,i;return Lk(r=er(i=e.edges).call(i,n=>t.has(n.toId))).call(r,n=>n.from===e)},(e,r)=>r<e,"to",t)}function jk(t,e,r,i){var n;const o=Zn(null),s=Fk(n=[..._k(i).call(i)]).call(n,(u,h)=>u+1+h.edges.length,0),a=r+"Id",l=r==="to"?1:-1;for(const[u,h]of i){if(!i.has(u)||!t(h))continue;o[u]=0;const f=[h];let p=0,g;for(;g=f.pop();){var c,d;if(!i.has(u))continue;const $=o[g.id]+l;if(Re(c=er(d=g.edges).call(d,y=>y.connected&&y.to!==y.from&&y[r]!==g&&i.has(y.toId)&&i.has(y.fromId))).call(c,y=>{const b=y[a],S=o[b];(S==null||e($,S))&&(o[b]=$,f.push(y[r]))}),p>s)return Kye(i,o);++p}}return o}class Jye{constructor(){this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}addRelation(e,r){this.childrenReference[e]===void 0&&(this.childrenReference[e]=[]),this.childrenReference[e].push(r),this.parentReference[r]===void 0&&(this.parentReference[r]=[]),this.parentReference[r].push(e)}checkIfTree(){for(const e in this.parentReference)if(this.parentReference[e].length>1){this.isTree=!1;return}this.isTree=!0}numTrees(){return this.treeIndex+1}setTreeIndex(e,r){r!==void 0&&this.trees[e.id]===void 0&&(this.trees[e.id]=r,this.treeIndex=Math.max(r,this.treeIndex))}ensureLevel(e){this.levels[e]===void 0&&(this.levels[e]=0)}getMaxLevel(e){const r={},i=n=>{if(r[n]!==void 0)return r[n];let o=this.levels[n];if(this.childrenReference[n]){const s=this.childrenReference[n];if(s.length>0)for(let a=0;a<s.length;a++)o=Math.max(o,i(s[a]))}return r[n]=o,o};return i(e)}levelDownstream(e,r){this.levels[r.id]===void 0&&(this.levels[e.id]===void 0&&(this.levels[e.id]=0),this.levels[r.id]=this.levels[e.id]+1)}setMinLevelToZero(){var e;const r=new Hm;let i=0;const n=ss(e=[...new Ji(Dae(this.levels))]).call(e,(o,s)=>o-s);for(const o of n)r.set(o,i++);for(const o in this.levels)Object.prototype.hasOwnProperty.call(this.levels,o)&&(this.levels[o]=r.get(this.levels[o]))}getTreeSize(e,r){let i=1e9,n=-1e9,o=1e9,s=-1e9;for(const a in this.trees)if(Object.prototype.hasOwnProperty.call(this.trees,a)&&this.trees[a]===r){const l=e[a];i=Math.min(l.x,i),n=Math.max(l.x,n),o=Math.min(l.y,o),s=Math.max(l.y,s)}return{min_x:i,max_x:n,min_y:o,max_y:s}}hasSameParent(e,r){const i=this.parentReference[e.id],n=this.parentReference[r.id];if(i===void 0||n===void 0)return!1;for(let o=0;o<i.length;o++)for(let s=0;s<n.length;s++)if(i[o]==n[s])return!0;return!1}inSameSubNetwork(e,r){return this.trees[e.id]===this.trees[r.id]}getLevels(){return Ze(this.distributionOrdering)}addToOrdering(e,r){this.distributionOrdering[r]===void 0&&(this.distributionOrdering[r]=[]);let i=!1;const n=this.distributionOrdering[r];for(const o in n)if(n[o]===e){i=!0;break}i||(this.distributionOrdering[r].push(e),this.distributionIndex[e.id]=this.distributionOrdering[r].length-1)}}class Zye{constructor(e){this.body=e,this._resetRNG(Math.random()+":"+Md()),this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,clusterThreshold:150,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},ht(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("_dataChanged",()=>{this.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",()=>{this.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",()=>{this.setupHierarchicalLayout()}),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",()=>{if(this.options.hierarchical.enabled!==!0)return;const e=this.direction.curveType();this.body.emitter.emit("_forceDisableDynamicCurves",e,!1)})}setOptions(e,r){if(e!==void 0){const i=this.options.hierarchical,n=i.enabled;if(Us(["randomSeed","improvedLayout","clusterThreshold"],this.options,e),$r(this.options,e,"hierarchical"),e.randomSeed!==void 0&&this._resetRNG(e.randomSeed),i.enabled===!0)return n===!0&&this.body.emitter.emit("refresh",!0),i.direction==="RL"||i.direction==="DU"?i.levelSeparation>0&&(i.levelSeparation*=-1):i.levelSeparation<0&&(i.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(r);if(n===!0)return this.body.emitter.emit("refresh"),Le(r,this.optionsBackup)}return r}_resetRNG(e){this.initialRandomSeed=e,this._rng=Ju(this.initialRandomSeed)}adaptAllOptionsForHierarchicalLayout(e){if(this.options.hierarchical.enabled===!0){const r=this.optionsBackup.physics;e.physics===void 0||e.physics===!0?(e.physics={enabled:r.enabled===void 0?!0:r.enabled,solver:"hierarchicalRepulsion"},r.enabled=r.enabled===void 0?!0:r.enabled,r.solver=r.solver||"barnesHut"):typeof e.physics=="object"?(r.enabled=e.physics.enabled===void 0?!0:e.physics.enabled,r.solver=e.physics.solver||"barnesHut",e.physics.solver="hierarchicalRepulsion"):e.physics!==!1&&(r.solver="barnesHut",e.physics={solver:"hierarchicalRepulsion"});let i=this.direction.curveType();if(e.edges===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges={smooth:!1};else if(e.edges.smooth===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges.smooth=!1;else if(typeof e.edges.smooth=="boolean")this.optionsBackup.edges={smooth:e.edges.smooth},e.edges.smooth={enabled:e.edges.smooth,type:i};else{const n=e.edges.smooth;n.type!==void 0&&n.type!=="dynamic"&&(i=n.type),this.optionsBackup.edges={smooth:{enabled:n.enabled===void 0?!0:n.enabled,type:n.type===void 0?"dynamic":n.type,roundness:n.roundness===void 0?.5:n.roundness,forceDirection:n.forceDirection===void 0?!1:n.forceDirection}},e.edges.smooth={enabled:n.enabled===void 0?!0:n.enabled,type:i,roundness:n.roundness===void 0?.5:n.roundness,forceDirection:n.forceDirection===void 0?!1:n.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",i)}return e}positionInitially(e){if(this.options.hierarchical.enabled!==!0){this._resetRNG(this.initialRandomSeed);const r=e.length+50;for(let i=0;i<e.length;i++){const n=e[i],o=2*Math.PI*this._rng();n.x===void 0&&(n.x=r*Math.cos(o)),n.y===void 0&&(n.y=r*Math.sin(o))}}}layoutNetwork(){if(this.options.hierarchical.enabled!==!0&&this.options.improvedLayout===!0){const e=this.body.nodeIndices;let r=0;for(let i=0;i<e.length;i++)this.body.nodes[e[i]].predefinedPosition===!0&&(r+=1);if(r<.5*e.length){let n=0;const o=this.options.clusterThreshold,s={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(e.length>o){const l=e.length;for(;e.length>o&&n<=10;){n+=1;const c=e.length;n%3===0?this.body.modules.clustering.clusterBridges(s):this.body.modules.clustering.clusterOutliers(s);const d=e.length;if(c==d&&n%3!==0){this._declusterAll(),this.body.emitter.emit("_layoutFailed"),console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.");return}}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*l)})}n>10&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(e,this.body.edgeIndices,!0),this._shiftToCenter();const a=70;for(let l=0;l<e.length;l++){const c=this.body.nodes[e[l]];c.predefinedPosition===!1&&(c.x+=(.5-this._rng())*a,c.y+=(.5-this._rng())*a)}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}_shiftToCenter(){const e=zt.getRangeCore(this.body.nodes,this.body.nodeIndices),r=zt.findCenter(e);for(let i=0;i<this.body.nodeIndices.length;i++){const n=this.body.nodes[this.body.nodeIndices[i]];n.x-=r.x,n.y-=r.y}}_declusterAll(){let e=!0;for(;e===!0;){e=!1;for(let r=0;r<this.body.nodeIndices.length;r++)this.body.nodes[this.body.nodeIndices[r]].isCluster===!0&&(e=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[r],{},!1));e===!0&&this.body.emitter.emit("_dataChanged")}}getSeed(){return this.initialRandomSeed}setupHierarchicalLayout(){if(this.options.hierarchical.enabled===!0&&this.body.nodeIndices.length>0){let e,r,i=!1,n=!1;this.lastNodeOnLevel={},this.hierarchical=new Jye;for(r in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,r)&&(e=this.body.nodes[r],e.options.level!==void 0?(i=!0,this.hierarchical.levels[r]=e.options.level):n=!0);if(n===!0&&i===!0)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");{if(n===!0){const s=this.options.hierarchical.sortMethod;s==="hubsize"?this._determineLevelsByHubsize():s==="directed"?this._determineLevelsDirected():s==="custom"&&this._determineLevelsCustomCallback()}for(const s in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,s)&&this.hierarchical.ensureLevel(s);const o=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(o),this._condenseHierarchy(),this._shiftToCenter()}}}_condenseHierarchy(){var e=this;let r=!1;const i={},n=()=>{const y=s();let b=0;for(let S=0;S<y.length-1;S++){const _=y[S].max-y[S+1].min;b+=_+this.options.hierarchical.treeSpacing,o(S+1,b)}},o=(y,b)=>{const S=this.hierarchical.trees;for(const _ in S)Object.prototype.hasOwnProperty.call(S,_)&&S[_]===y&&this.direction.shift(_,b)},s=()=>{const y=[];for(let b=0;b<this.hierarchical.numTrees();b++)y.push(this.direction.getTreeSize(b));return y},a=(y,b)=>{if(!b[y.id]&&(b[y.id]=!0,this.hierarchical.childrenReference[y.id])){const S=this.hierarchical.childrenReference[y.id];if(S.length>0)for(let _=0;_<S.length;_++)a(this.body.nodes[S[_]],b)}},l=function(y){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e9,S=1e9,_=1e9,T=1e9,W=-1e9;for(const q in y)if(Object.prototype.hasOwnProperty.call(y,q)){const z=e.body.nodes[q],C=e.hierarchical.levels[z.id],X=e.direction.getPosition(z),[ue,j]=e._getSpaceAroundNode(z,y);S=Math.min(ue,S),_=Math.min(j,_),C<=b&&(T=Math.min(X,T),W=Math.max(X,W))}return[T,W,S,_]},c=(y,b)=>{const S=this.hierarchical.getMaxLevel(y.id),_=this.hierarchical.getMaxLevel(b.id);return Math.min(S,_)},d=(y,b,S)=>{const _=this.hierarchical;for(let T=0;T<b.length;T++){const W=b[T],q=_.distributionOrdering[W];if(q.length>1)for(let z=0;z<q.length-1;z++){const C=q[z],X=q[z+1];_.hasSameParent(C,X)&&_.inSameSubNetwork(C,X)&&y(C,X,S)}}},u=function(y,b){let S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const _=e.direction.getPosition(y),T=e.direction.getPosition(b),W=Math.abs(T-_),q=e.options.hierarchical.nodeSpacing;if(W>q){const z={},C={};a(y,z),a(b,C);const X=c(y,b),ue=l(z,X),j=l(C,X),he=ue[1],Se=j[0],ye=j[2];if(Math.abs(he-Se)>q){let K=he-Se+q;K<-ye+q&&(K=-ye+q),K<0&&(e._shiftBlock(b.id,K),r=!0,S===!0&&e._centerParent(b))}}},h=(y,b)=>{const S=b.id,_=b.edges,T=this.hierarchical.levels[b.id],W=this.options.hierarchical.levelSeparation*this.options.hierarchical.levelSeparation,q={},z=[];for(let ye=0;ye<_.length;ye++){const Q=_[ye];if(Q.toId!=Q.fromId){const K=Q.toId==S?Q.from:Q.to;q[_[ye].id]=K,this.hierarchical.levels[K.id]<T&&z.push(Q)}}const C=(ye,Q)=>{let K=0;for(let ce=0;ce<Q.length;ce++)if(q[Q[ce].id]!==void 0){const Ae=this.direction.getPosition(q[Q[ce].id])-ye;K+=Ae/Math.sqrt(Ae*Ae+W)}return K},X=(ye,Q)=>{let K=0;for(let ce=0;ce<Q.length;ce++)if(q[Q[ce].id]!==void 0){const Ae=this.direction.getPosition(q[Q[ce].id])-ye;K-=W*Math.pow(Ae*Ae+W,-1.5)}return K},ue=(ye,Q)=>{let K=this.direction.getPosition(b);const ce={};for(let Ae=0;Ae<ye;Ae++){const Ge=C(K,Q),Et=X(K,Q),ot=40,To=Math.max(-ot,Math.min(ot,Math.round(Ge/Et)));if(K=K-To,ce[K]!==void 0)break;ce[K]=Ae}return K},j=ye=>{const Q=this.direction.getPosition(b);if(i[b.id]===void 0){const ot={};a(b,ot),i[b.id]=ot}const K=l(i[b.id]),ce=K[2],Ae=K[3],Ge=ye-Q;let Et=0;Ge>0?Et=Math.min(Ge,Ae-this.options.hierarchical.nodeSpacing):Ge<0&&(Et=-Math.min(-Ge,ce-this.options.hierarchical.nodeSpacing)),Et!=0&&(this._shiftBlock(b.id,Et),r=!0)},he=ye=>{const Q=this.direction.getPosition(b),[K,ce]=this._getSpaceAroundNode(b),Ae=ye-Q;let Ge=Q;Ae>0?Ge=Math.min(Q+(ce-this.options.hierarchical.nodeSpacing),ye):Ae<0&&(Ge=Math.max(Q-(K-this.options.hierarchical.nodeSpacing),ye)),Ge!==Q&&(this.direction.setPosition(b,Ge),r=!0)};let Se=ue(y,z);j(Se),Se=ue(y,_),he(Se)},f=y=>{let b=this.hierarchical.getLevels();b=Jn(b).call(b);for(let S=0;S<y;S++){r=!1;for(let _=0;_<b.length;_++){const T=b[_],W=this.hierarchical.distributionOrdering[T];for(let q=0;q<W.length;q++)h(1e3,W[q])}if(r!==!0)break}},p=y=>{let b=this.hierarchical.getLevels();b=Jn(b).call(b);for(let S=0;S<y&&(r=!1,d(u,b,!0),r===!0);S++);},g=()=>{for(const y in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,y)&&this._centerParent(this.body.nodes[y])},$=()=>{let y=this.hierarchical.getLevels();y=Jn(y).call(y);for(let b=0;b<y.length;b++){const S=y[b],_=this.hierarchical.distributionOrdering[S];for(let T=0;T<_.length;T++)this._centerParent(_[T])}};this.options.hierarchical.blockShifting===!0&&(p(5),g()),this.options.hierarchical.edgeMinimization===!0&&f(20),this.options.hierarchical.parentCentralization===!0&&$(),n()}_getSpaceAroundNode(e,r){let i=!0;r===void 0&&(i=!1);const n=this.hierarchical.levels[e.id];if(n!==void 0){const o=this.hierarchical.distributionIndex[e.id],s=this.direction.getPosition(e),a=this.hierarchical.distributionOrdering[n];let l=1e9,c=1e9;if(o!==0){const d=a[o-1];if(i===!0&&r[d.id]===void 0||i===!1){const u=this.direction.getPosition(d);l=s-u}}if(o!=a.length-1){const d=a[o+1];if(i===!0&&r[d.id]===void 0||i===!1){const u=this.direction.getPosition(d);c=Math.min(c,u-s)}}return[l,c]}else return[0,0]}_centerParent(e){if(this.hierarchical.parentReference[e.id]){const r=this.hierarchical.parentReference[e.id];for(let i=0;i<r.length;i++){const n=r[i],o=this.body.nodes[n],s=this.hierarchical.childrenReference[n];if(s!==void 0){const a=this._getCenterPosition(s),l=this.direction.getPosition(o),[c,d]=this._getSpaceAroundNode(o),u=l-a;(u<0&&Math.abs(u)<d-this.options.hierarchical.nodeSpacing||u>0&&Math.abs(u)<c-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(o,a)}}}}_placeNodesByHierarchy(e){this.positionedNodes={};for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var r;let n=Ze(e[i]);n=this._indexArrayToNodes(n),ss(r=this.direction).call(r,n);let o=0;for(let s=0;s<n.length;s++){const a=n[s];if(this.positionedNodes[a.id]===void 0){const l=this.options.hierarchical.nodeSpacing;let c=l*o;o>0&&(c=this.direction.getPosition(n[s-1])+l),this.direction.setPosition(a,c,i),this._validatePositionAndContinue(a,i,c),o++}}}}_placeBranchNodes(e,r){var i;const n=this.hierarchical.childrenReference[e];if(n===void 0)return;const o=[];for(let a=0;a<n.length;a++)o.push(this.body.nodes[n[a]]);ss(i=this.direction).call(i,o);for(let a=0;a<o.length;a++){const l=o[a],c=this.hierarchical.levels[l.id];if(c>r&&this.positionedNodes[l.id]===void 0){const d=this.options.hierarchical.nodeSpacing;let u;a===0?u=this.direction.getPosition(this.body.nodes[e]):u=this.direction.getPosition(o[a-1])+d,this.direction.setPosition(l,u,c),this._validatePositionAndContinue(l,c,u)}else return}const s=this._getCenterPosition(o);this.direction.setPosition(this.body.nodes[e],s,r)}_validatePositionAndContinue(e,r,i){if(this.hierarchical.isTree){if(this.lastNodeOnLevel[r]!==void 0){const n=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[r]]);if(i-n<this.options.hierarchical.nodeSpacing){const o=n+this.options.hierarchical.nodeSpacing-i,s=this._findCommonParent(this.lastNodeOnLevel[r],e.id);this._shiftBlock(s.withChild,o)}}this.lastNodeOnLevel[r]=e.id,this.positionedNodes[e.id]=!0,this._placeBranchNodes(e.id,r)}}_indexArrayToNodes(e){const r=[];for(let i=0;i<e.length;i++)r.push(this.body.nodes[e[i]]);return r}_getDistribution(){const e={};let r,i;for(r in this.body.nodes)if(Object.prototype.hasOwnProperty.call(this.body.nodes,r)){i=this.body.nodes[r];const n=this.hierarchical.levels[r]===void 0?0:this.hierarchical.levels[r];this.direction.fix(i,n),e[n]===void 0&&(e[n]={}),e[n][r]=i}return e}_getActiveEdges(e){const r=[];return me(e.edges,i=>{var n;ke(n=this.body.edgeIndices).call(n,i.id)!==-1&&r.push(i)}),r}_getHubSizes(){const e={},r=this.body.nodeIndices;me(r,n=>{const o=this.body.nodes[n],s=this._getActiveEdges(o).length;e[s]=!0});const i=[];return me(e,n=>{i.push(Number(n))}),ss(i).call(i,function(n,o){return o-n}),i}_determineLevelsByHubsize(){const e=(i,n)=>{this.hierarchical.levelDownstream(i,n)},r=this._getHubSizes();for(let i=0;i<r.length;++i){const n=r[i];if(n===0)break;me(this.body.nodeIndices,o=>{const s=this.body.nodes[o];n===this._getActiveEdges(s).length&&this._crawlNetwork(e,o)})}}_determineLevelsCustomCallback(){const r=function(n,o,s){},i=(n,o,s)=>{let a=this.hierarchical.levels[n.id];a===void 0&&(a=this.hierarchical.levels[n.id]=1e5);const l=r(zt.cloneOptions(n,"node"),zt.cloneOptions(o,"node"),zt.cloneOptions(s,"edge"));this.hierarchical.levels[o.id]=a+l};this._crawlNetwork(i),this.hierarchical.setMinLevelToZero()}_determineLevelsDirected(){var e;const r=Fk(e=this.body.nodeIndices).call(e,(i,n)=>(i.set(n,this.body.nodes[n]),i),new Hm);this.options.hierarchical.shakeTowards==="roots"?this.hierarchical.levels=Xye(r):this.hierarchical.levels=Gye(r),this.hierarchical.setMinLevelToZero()}_generateMap(){const e=(r,i)=>{this.hierarchical.levels[i.id]>this.hierarchical.levels[r.id]&&this.hierarchical.addRelation(r.id,i.id)};this._crawlNetwork(e),this.hierarchical.checkIfTree()}_crawlNetwork(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){},r=arguments.length>1?arguments[1]:void 0;const i={},n=(o,s)=>{if(i[o.id]===void 0){this.hierarchical.setTreeIndex(o,s),i[o.id]=!0;let a;const l=this._getActiveEdges(o);for(let c=0;c<l.length;c++){const d=l[c];d.connected===!0&&(d.toId==o.id?a=d.from:a=d.to,o.id!=a.id&&(e(o,a,d),n(a,s)))}}};if(r===void 0){let o=0;for(let s=0;s<this.body.nodeIndices.length;s++){const a=this.body.nodeIndices[s];if(i[a]===void 0){const l=this.body.nodes[a];n(l,o),o+=1}}}else{const o=this.body.nodes[r];if(o===void 0){console.error("Node not found:",r);return}n(o)}}_shiftBlock(e,r){const i={},n=o=>{if(i[o])return;i[o]=!0,this.direction.shift(o,r);const s=this.hierarchical.childrenReference[o];if(s!==void 0)for(let a=0;a<s.length;a++)n(s[a])};n(e)}_findCommonParent(e,r){const i={},n=(s,a)=>{const l=this.hierarchical.parentReference[a];if(l!==void 0)for(let c=0;c<l.length;c++){const d=l[c];s[d]=!0,n(s,d)}},o=(s,a)=>{const l=this.hierarchical.parentReference[a];if(l!==void 0)for(let c=0;c<l.length;c++){const d=l[c];if(s[d]!==void 0)return{foundParent:d,withChild:a};const u=o(s,d);if(u.foundParent!==null)return u}return{foundParent:null,withChild:a}};return n(i,e),o(i,r)}setDirectionStrategy(){this.options.hierarchical.direction==="UD"||this.options.hierarchical.direction==="DU"?this.direction=new Mye(this):this.direction=new Rye(this)}_getCenterPosition(e){let r=1e9,i=-1e9;for(let n=0;n<e.length;n++){let o;if(e[n].id!==void 0)o=e[n];else{const a=e[n];o=this.body.nodes[a]}const s=this.direction.getPosition(o);r=Math.min(r,s),i=Math.max(i,s)}return .5*(r+i)}}class Qye{constructor(e,r,i,n){var o,s;this.body=e,this.canvas=r,this.selectionHandler=i,this.interactionHandler=n,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this._domEventListenerCleanupQueue=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},ht(this.options,this.defaultOptions),this.body.emitter.on("destroy",()=>{this._clean()}),this.body.emitter.on("_dataChanged",M(o=this._restore).call(o,this)),this.body.emitter.on("_resetData",M(s=this._restore).call(s,this))}_restore(){this.inMode!==!1&&(this.options.initiallyActive===!0?this.enableEditMode():this.disableEditMode())}setOptions(e,r,i){r!==void 0&&(r.locale!==void 0?this.options.locale=r.locale:this.options.locale=i.locale,r.locales!==void 0?this.options.locales=r.locales:this.options.locales=i.locales),e!==void 0&&(typeof e=="boolean"?this.options.enabled=e:(this.options.enabled=!0,Le(this.options,e)),this.options.initiallyActive===!0&&(this.editMode=!0),this._setup())}toggleEditMode(){this.editMode===!0?this.disableEditMode():this.enableEditMode()}enableEditMode(){this.editMode=!0,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}disableEditMode(){this.editMode=!1,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}showManipulatorToolbar(){if(this._clean(),this.manipulationDOM={},this.guiEnabled===!0){var e,r;this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";const i=this.selectionHandler.getSelectedNodeCount(),n=this.selectionHandler.getSelectedEdgeCount(),o=i+n,s=this.options.locales[this.options.locale];let a=!1;this.options.addNode!==!1&&(this._createAddNodeButton(s),a=!0),this.options.addEdge!==!1&&(a===!0?this._createSeperator(1):a=!0,this._createAddEdgeButton(s)),i===1&&typeof this.options.editNode=="function"?(a===!0?this._createSeperator(2):a=!0,this._createEditNodeButton(s)):n===1&&i===0&&this.options.editEdge!==!1&&(a===!0?this._createSeperator(3):a=!0,this._createEditEdgeButton(s)),o!==0&&(i>0&&this.options.deleteNode!==!1?(a===!0&&this._createSeperator(4),this._createDeleteButton(s)):i===0&&this.options.deleteEdge!==!1&&(a===!0&&this._createSeperator(4),this._createDeleteButton(s))),this._bindElementEvents(this.closeDiv,M(e=this.toggleEditMode).call(e,this)),this._temporaryBindEvent("select",M(r=this.showManipulatorToolbar).call(r,this))}this.body.emitter.emit("_redraw")}addNodeMode(){var e;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addNode",this.guiEnabled===!0){var r;const i=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(i),this._createSeperator(),this._createDescription(i.addDescription||this.options.locales.en.addDescription),this._bindElementEvents(this.closeDiv,M(r=this.toggleEditMode).call(r,this))}this._temporaryBindEvent("click",M(e=this._performAddNode).call(e,this))}editNode(){this.editMode!==!0&&this.enableEditMode(),this._clean();const e=this.selectionHandler.getSelectedNodes()[0];if(e!==void 0)if(this.inMode="editNode",typeof this.options.editNode=="function")if(e.isCluster!==!0){const r=Le({},e.options,!1);if(r.x=e.x,r.y=e.y,this.options.editNode.length===2)this.options.editNode(r,i=>{i!=null&&this.inMode==="editNode"&&this.body.data.nodes.getDataSet().update(i),this.showManipulatorToolbar()});else throw new Error("The function for edit does not support two arguments (data, callback)")}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError);else throw new Error("No function has been configured to handle the editing of nodes.");else this.showManipulatorToolbar()}addEdgeMode(){var e,r,i,n,o;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addEdge",this.guiEnabled===!0){var s;const a=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(a),this._createSeperator(),this._createDescription(a.edgeDescription||this.options.locales.en.edgeDescription),this._bindElementEvents(this.closeDiv,M(s=this.toggleEditMode).call(s,this))}this._temporaryBindUI("onTouch",M(e=this._handleConnect).call(e,this)),this._temporaryBindUI("onDragEnd",M(r=this._finishConnect).call(r,this)),this._temporaryBindUI("onDrag",M(i=this._dragControlNode).call(i,this)),this._temporaryBindUI("onRelease",M(n=this._finishConnect).call(n,this)),this._temporaryBindUI("onDragStart",M(o=this._dragStartEdge).call(o,this)),this._temporaryBindUI("onHold",()=>{})}editEdgeMode(){if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="editEdge",typeof this.options.editEdge=="object"&&typeof this.options.editEdge.editWithoutDrag=="function"&&(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0)){const s=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(s.from.id,s.to.id);return}if(this.guiEnabled===!0){var e;const s=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(s),this._createSeperator(),this._createDescription(s.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindElementEvents(this.closeDiv,M(e=this.toggleEditMode).call(e,this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0){var r,i,n,o;const s=this.body.edges[this.edgeBeingEditedId],a=this._getNewTargetNode(s.from.x,s.from.y),l=this._getNewTargetNode(s.to.x,s.to.y);this.temporaryIds.nodes.push(a.id),this.temporaryIds.nodes.push(l.id),this.body.nodes[a.id]=a,this.body.nodeIndices.push(a.id),this.body.nodes[l.id]=l,this.body.nodeIndices.push(l.id),this._temporaryBindUI("onTouch",M(r=this._controlNodeTouch).call(r,this)),this._temporaryBindUI("onTap",()=>{}),this._temporaryBindUI("onHold",()=>{}),this._temporaryBindUI("onDragStart",M(i=this._controlNodeDragStart).call(i,this)),this._temporaryBindUI("onDrag",M(n=this._controlNodeDrag).call(n,this)),this._temporaryBindUI("onDragEnd",M(o=this._controlNodeDragEnd).call(o,this)),this._temporaryBindUI("onMouseMove",()=>{}),this._temporaryBindEvent("beforeDrawing",c=>{const d=s.edgeType.findBorderPositions(c);a.selected===!1&&(a.x=d.from.x,a.y=d.from.y),l.selected===!1&&(l.x=d.to.x,l.y=d.to.y)}),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}deleteSelected(){this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="delete";const e=this.selectionHandler.getSelectedNodeIds(),r=this.selectionHandler.getSelectedEdgeIds();let i;if(e.length>0){for(let n=0;n<e.length;n++)if(this.body.nodes[e[n]].isCluster===!0){alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);return}typeof this.options.deleteNode=="function"&&(i=this.options.deleteNode)}else r.length>0&&typeof this.options.deleteEdge=="function"&&(i=this.options.deleteEdge);if(typeof i=="function"){const n={nodes:e,edges:r};if(i.length===2)i(n,o=>{o!=null&&this.inMode==="delete"?(this.body.data.edges.getDataSet().remove(o.edges),this.body.data.nodes.getDataSet().remove(o.nodes),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()):(this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar())});else throw new Error("The function for delete does not support two arguments (data, callback)")}else this.body.data.edges.getDataSet().remove(r),this.body.data.nodes.getDataSet().remove(e),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}_setup(){this.options.enabled===!0?(this.guiEnabled=!0,this._createWrappers(),this.editMode===!1?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}_createWrappers(){if(this.manipulationDiv===void 0&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",this.editMode===!0?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.canvas.frame.appendChild(this.manipulationDiv)),this.editModeDiv===void 0&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",this.editMode===!0?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.canvas.frame.appendChild(this.editModeDiv)),this.closeDiv===void 0){var e,r;this.closeDiv=document.createElement("button"),this.closeDiv.className="vis-close",this.closeDiv.setAttribute("aria-label",(e=(r=this.options.locales[this.options.locale])===null||r===void 0?void 0:r.close)!==null&&e!==void 0?e:this.options.locales.en.close),this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv)}}_getNewTargetNode(e,r){const i=Le({},this.options.controlNodeStyle);i.id="targetNode"+Ta(),i.hidden=!1,i.physics=!1,i.x=e,i.y=r;const n=this.body.functions.createNode(i);return n.shape.boundingBox={left:e,right:e,top:r,bottom:r},n}_createEditButton(){var e;this._clean(),this.manipulationDOM={},Ki(this.editModeDiv);const r=this.options.locales[this.options.locale],i=this._createButton("editMode","vis-edit vis-edit-mode",r.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(i),this._bindElementEvents(i,M(e=this.toggleEditMode).call(e,this))}_clean(){this.inMode=!1,this.guiEnabled===!0&&(Ki(this.editModeDiv),Ki(this.manipulationDiv),this._cleanupDOMEventListeners()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}_cleanupDOMEventListeners(){for(const r of Si(e=this._domEventListenerCleanupQueue).call(e,0)){var e;r()}}_removeManipulationDOM(){this._clean(),Ki(this.manipulationDiv),Ki(this.editModeDiv),Ki(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}_createSeperator(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+e]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+e].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+e])}_createAddNodeButton(e){var r;const i=this._createButton("addNode","vis-add",e.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,M(r=this.addNodeMode).call(r,this))}_createAddEdgeButton(e){var r;const i=this._createButton("addEdge","vis-connect",e.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,M(r=this.addEdgeMode).call(r,this))}_createEditNodeButton(e){var r;const i=this._createButton("editNode","vis-edit",e.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,M(r=this.editNode).call(r,this))}_createEditEdgeButton(e){var r;const i=this._createButton("editEdge","vis-edit",e.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,M(r=this.editEdgeMode).call(r,this))}_createDeleteButton(e){var r;let i;this.options.rtl?i="vis-delete-rtl":i="vis-delete";const n=this._createButton("delete",i,e.del||this.options.locales.en.del);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,M(r=this.deleteSelected).call(r,this))}_createBackButton(e){var r;const i=this._createButton("back","vis-back",e.back||this.options.locales.en.back);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,M(r=this.showManipulatorToolbar).call(r,this))}_createButton(e,r,i){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"vis-label";return this.manipulationDOM[e+"Div"]=document.createElement("button"),this.manipulationDOM[e+"Div"].className="vis-button "+r,this.manipulationDOM[e+"Label"]=document.createElement("div"),this.manipulationDOM[e+"Label"].className=n,this.manipulationDOM[e+"Label"].innerText=i,this.manipulationDOM[e+"Div"].appendChild(this.manipulationDOM[e+"Label"]),this.manipulationDOM[e+"Div"]}_createDescription(e){this.manipulationDOM.descriptionLabel=document.createElement("div"),this.manipulationDOM.descriptionLabel.className="vis-none",this.manipulationDOM.descriptionLabel.innerText=e,this.manipulationDiv.appendChild(this.manipulationDOM.descriptionLabel)}_temporaryBindEvent(e,r){this.temporaryEventFunctions.push({event:e,boundFunction:r}),this.body.emitter.on(e,r)}_temporaryBindUI(e,r){if(this.body.eventListeners[e]!==void 0)this.temporaryUIFunctions[e]=this.body.eventListeners[e],this.body.eventListeners[e]=r;else throw new Error("This UI function does not exist. Typo? You tried: "+e+" possible are: "+Wl(Ze(this.body.eventListeners)))}_unbindTemporaryUIs(){for(const e in this.temporaryUIFunctions)Object.prototype.hasOwnProperty.call(this.temporaryUIFunctions,e)&&(this.body.eventListeners[e]=this.temporaryUIFunctions[e],delete this.temporaryUIFunctions[e]);this.temporaryUIFunctions={}}_unbindTemporaryEvents(){for(let e=0;e<this.temporaryEventFunctions.length;e++){const r=this.temporaryEventFunctions[e].event,i=this.temporaryEventFunctions[e].boundFunction;this.body.emitter.off(r,i)}this.temporaryEventFunctions=[]}_bindElementEvents(e,r){const i=new ns(e,{});Wd(i,r),this._domEventListenerCleanupQueue.push(()=>{i.destroy()});const n=o=>{let{keyCode:s,key:a}=o;(a==="Enter"||a===" "||s===13||s===32)&&r()};e.addEventListener("keyup",n,!1),this._domEventListenerCleanupQueue.push(()=>{e.removeEventListener("keyup",n,!1)})}_cleanupTemporaryNodesAndEdges(){for(let o=0;o<this.temporaryIds.edges.length;o++){var e;this.body.edges[this.temporaryIds.edges[o]].disconnect(),delete this.body.edges[this.temporaryIds.edges[o]];const s=ke(e=this.body.edgeIndices).call(e,this.temporaryIds.edges[o]);if(s!==-1){var r;Si(r=this.body.edgeIndices).call(r,s,1)}}for(let o=0;o<this.temporaryIds.nodes.length;o++){var i;delete this.body.nodes[this.temporaryIds.nodes[o]];const s=ke(i=this.body.nodeIndices).call(i,this.temporaryIds.nodes[o]);if(s!==-1){var n;Si(n=this.body.nodeIndices).call(n,s,1)}}this.temporaryIds={nodes:[],edges:[]}}_controlNodeTouch(e){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=ht({},this.body.view.translation)}_controlNodeDragStart(){const e=this.lastTouch,r=this.selectionHandler._pointerToPositionObject(e),i=this.body.nodes[this.temporaryIds.nodes[0]],n=this.body.nodes[this.temporaryIds.nodes[1]],o=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;const s=i.isOverlappingWith(r),a=n.isOverlappingWith(r);s===!0?(this.selectedControlNode=i,o.edgeType.from=i):a===!0&&(this.selectedControlNode=n,o.edgeType.to=n),this.selectedControlNode!==void 0&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}_controlNodeDrag(e){this.body.emitter.emit("disablePhysics");const r=this.body.functions.getPointer(e.center),i=this.canvas.DOMtoCanvas(r);this.selectedControlNode!==void 0?(this.selectedControlNode.x=i.x,this.selectedControlNode.y=i.y):this.interactionHandler.onDrag(e),this.body.emitter.emit("_redraw")}_controlNodeDragEnd(e){const r=this.body.functions.getPointer(e.center),i=this.selectionHandler._pointerToPositionObject(r),n=this.body.edges[this.edgeBeingEditedId];if(this.selectedControlNode===void 0)return;this.selectionHandler.unselectAll();const o=this.selectionHandler._getAllNodesOverlappingWith(i);let s;for(let a=o.length-1;a>=0;a--)if(o[a]!==this.selectedControlNode.id){s=this.body.nodes[o[a]];break}if(s!==void 0&&this.selectedControlNode!==void 0)if(s.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{const a=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===a.id?this._performEditEdge(s.id,n.to.id):this._performEditEdge(n.from.id,s.id)}else n.updateEdgeType(),this.body.emitter.emit("restorePhysics");this.body.emitter.emit("_redraw")}_handleConnect(e){if(new Date().valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=ht({},this.body.view.translation),this.interactionHandler.drag.pointer=this.lastTouch,this.interactionHandler.drag.translation=this.lastTouch.translation;const r=this.lastTouch,i=this.selectionHandler.getNodeAt(r);if(i!==void 0)if(i.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{const n=this._getNewTargetNode(i.x,i.y);this.body.nodes[n.id]=n,this.body.nodeIndices.push(n.id);const o=this.body.functions.createEdge({id:"connectionEdge"+Ta(),from:i.id,to:n.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[o.id]=o,this.body.edgeIndices.push(o.id),this.temporaryIds.nodes.push(n.id),this.temporaryIds.edges.push(o.id)}this.touchTime=new Date().valueOf()}}_dragControlNode(e){const r=this.body.functions.getPointer(e.center),i=this.selectionHandler._pointerToPositionObject(r);let n;this.temporaryIds.edges[0]!==void 0&&(n=this.body.edges[this.temporaryIds.edges[0]].fromId);const o=this.selectionHandler._getAllNodesOverlappingWith(i);let s;for(let l=o.length-1;l>=0;l--){var a;if(ke(a=this.temporaryIds.nodes).call(a,o[l])===-1){s=this.body.nodes[o[l]];break}}if(e.controlEdge={from:n,to:s?s.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragging",e,r),this.temporaryIds.nodes[0]!==void 0){const l=this.body.nodes[this.temporaryIds.nodes[0]];l.x=this.canvas._XconvertDOMtoCanvas(r.x),l.y=this.canvas._YconvertDOMtoCanvas(r.y),this.body.emitter.emit("_redraw")}else this.interactionHandler.onDrag(e)}_finishConnect(e){const r=this.body.functions.getPointer(e.center),i=this.selectionHandler._pointerToPositionObject(r);let n;this.temporaryIds.edges[0]!==void 0&&(n=this.body.edges[this.temporaryIds.edges[0]].fromId);const o=this.selectionHandler._getAllNodesOverlappingWith(i);let s;for(let l=o.length-1;l>=0;l--){var a;if(ke(a=this.temporaryIds.nodes).call(a,o[l])===-1){s=this.body.nodes[o[l]];break}}this._cleanupTemporaryNodesAndEdges(),s!==void 0&&(s.isCluster===!0?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):this.body.nodes[n]!==void 0&&this.body.nodes[s.id]!==void 0&&this._performAddEdge(n,s.id)),e.controlEdge={from:n,to:s?s.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragEnd",e,r),this.body.emitter.emit("_redraw")}_dragStartEdge(e){const r=this.lastTouch;this.selectionHandler.generateClickEvent("dragStart",e,r,void 0,!0)}_performAddNode(e){const r={id:Ta(),x:e.pointer.canvas.x,y:e.pointer.canvas.y,label:"new"};if(typeof this.options.addNode=="function")if(this.options.addNode.length===2)this.options.addNode(r,i=>{i!=null&&this.inMode==="addNode"&&this.body.data.nodes.getDataSet().add(i),this.showManipulatorToolbar()});else throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");else this.body.data.nodes.getDataSet().add(r),this.showManipulatorToolbar()}_performAddEdge(e,r){const i={from:e,to:r};if(typeof this.options.addEdge=="function")if(this.options.addEdge.length===2)this.options.addEdge(i,n=>{n!=null&&this.inMode==="addEdge"&&(this.body.data.edges.getDataSet().add(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar())});else throw new Error("The function for connect does not support two arguments (data,callback)");else this.body.data.edges.getDataSet().add(i),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}_performEditEdge(e,r){const i={id:this.edgeBeingEditedId,from:e,to:r,label:this.body.data.edges.get(this.edgeBeingEditedId).label};let n=this.options.editEdge;if(typeof n=="object"&&(n=n.editWithoutDrag),typeof n=="function")if(n.length===2)n(i,o=>{o==null||this.inMode!=="editEdge"?(this.body.edges[i.id].updateEdgeType(),this.body.emitter.emit("_redraw"),this.showManipulatorToolbar()):(this.body.data.edges.getDataSet().update(o),this.selectionHandler.unselectAll(),this.showManipulatorToolbar())});else throw new Error("The function for edit does not support two arguments (data, callback)");else this.body.data.edges.getDataSet().update(i),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}const L="string",D="boolean",E="number",aa="array",ee="object",zk="dom",ebe="any",xp=["arrow","bar","box","circle","crow","curve","diamond","image","inv_curve","inv_triangle","triangle","vee"],Pp={borderWidth:{number:E},borderWidthSelected:{number:E,undefined:"undefined"},brokenImage:{string:L,undefined:"undefined"},chosen:{label:{boolean:D,function:"function"},node:{boolean:D,function:"function"},__type__:{object:ee,boolean:D}},color:{border:{string:L},background:{string:L},highlight:{border:{string:L},background:{string:L},__type__:{object:ee,string:L}},hover:{border:{string:L},background:{string:L},__type__:{object:ee,string:L}},__type__:{object:ee,string:L}},opacity:{number:E,undefined:"undefined"},fixed:{x:{boolean:D},y:{boolean:D},__type__:{object:ee,boolean:D}},font:{align:{string:L},color:{string:L},size:{number:E},face:{string:L},background:{string:L},strokeWidth:{number:E},strokeColor:{string:L},vadjust:{number:E},multi:{boolean:D,string:L},bold:{color:{string:L},size:{number:E},face:{string:L},mod:{string:L},vadjust:{number:E},__type__:{object:ee,string:L}},boldital:{color:{string:L},size:{number:E},face:{string:L},mod:{string:L},vadjust:{number:E},__type__:{object:ee,string:L}},ital:{color:{string:L},size:{number:E},face:{string:L},mod:{string:L},vadjust:{number:E},__type__:{object:ee,string:L}},mono:{color:{string:L},size:{number:E},face:{string:L},mod:{string:L},vadjust:{number:E},__type__:{object:ee,string:L}},__type__:{object:ee,string:L}},group:{string:L,number:E,undefined:"undefined"},heightConstraint:{minimum:{number:E},valign:{string:L},__type__:{object:ee,boolean:D,number:E}},hidden:{boolean:D},icon:{face:{string:L},code:{string:L},size:{number:E},color:{string:L},weight:{string:L,number:E},__type__:{object:ee}},id:{string:L,number:E},image:{selected:{string:L,undefined:"undefined"},unselected:{string:L,undefined:"undefined"},__type__:{object:ee,string:L}},imagePadding:{top:{number:E},right:{number:E},bottom:{number:E},left:{number:E},__type__:{object:ee,number:E}},label:{string:L,undefined:"undefined"},labelHighlightBold:{boolean:D},level:{number:E,undefined:"undefined"},margin:{top:{number:E},right:{number:E},bottom:{number:E},left:{number:E},__type__:{object:ee,number:E}},mass:{number:E},physics:{boolean:D},scaling:{min:{number:E},max:{number:E},label:{enabled:{boolean:D},min:{number:E},max:{number:E},maxVisible:{number:E},drawThreshold:{number:E},__type__:{object:ee,boolean:D}},customScalingFunction:{function:"function"},__type__:{object:ee}},shadow:{enabled:{boolean:D},color:{string:L},size:{number:E},x:{number:E},y:{number:E},__type__:{object:ee,boolean:D}},shape:{string:["custom","ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},ctxRenderer:{function:"function"},shapeProperties:{borderDashes:{boolean:D,array:aa},borderRadius:{number:E},interpolation:{boolean:D},useImageSize:{boolean:D},useBorderWithImage:{boolean:D},coordinateOrigin:{string:["center","top-left"]},__type__:{object:ee}},size:{number:E},title:{string:L,dom:zk,undefined:"undefined"},value:{number:E,undefined:"undefined"},widthConstraint:{minimum:{number:E},maximum:{number:E},__type__:{object:ee,boolean:D,number:E}},x:{number:E},y:{number:E},__type__:{object:ee}},tbe={configure:{enabled:{boolean:D},filter:{boolean:D,string:L,array:aa,function:"function"},container:{dom:zk},showButton:{boolean:D},__type__:{object:ee,boolean:D,string:L,array:aa,function:"function"}},edges:{arrows:{to:{enabled:{boolean:D},scaleFactor:{number:E},type:{string:xp},imageHeight:{number:E},imageWidth:{number:E},src:{string:L},__type__:{object:ee,boolean:D}},middle:{enabled:{boolean:D},scaleFactor:{number:E},type:{string:xp},imageWidth:{number:E},imageHeight:{number:E},src:{string:L},__type__:{object:ee,boolean:D}},from:{enabled:{boolean:D},scaleFactor:{number:E},type:{string:xp},imageWidth:{number:E},imageHeight:{number:E},src:{string:L},__type__:{object:ee,boolean:D}},__type__:{string:["from","to","middle"],object:ee}},endPointOffset:{from:{number:E},to:{number:E},__type__:{object:ee,number:E}},arrowStrikethrough:{boolean:D},background:{enabled:{boolean:D},color:{string:L},size:{number:E},dashes:{boolean:D,array:aa},__type__:{object:ee,boolean:D}},chosen:{label:{boolean:D,function:"function"},edge:{boolean:D,function:"function"},__type__:{object:ee,boolean:D}},color:{color:{string:L},highlight:{string:L},hover:{string:L},inherit:{string:["from","to","both"],boolean:D},opacity:{number:E},__type__:{object:ee,string:L}},dashes:{boolean:D,array:aa},font:{color:{string:L},size:{number:E},face:{string:L},background:{string:L},strokeWidth:{number:E},strokeColor:{string:L},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:E},multi:{boolean:D,string:L},bold:{color:{string:L},size:{number:E},face:{string:L},mod:{string:L},vadjust:{number:E},__type__:{object:ee,string:L}},boldital:{color:{string:L},size:{number:E},face:{string:L},mod:{string:L},vadjust:{number:E},__type__:{object:ee,string:L}},ital:{color:{string:L},size:{number:E},face:{string:L},mod:{string:L},vadjust:{number:E},__type__:{object:ee,string:L}},mono:{color:{string:L},size:{number:E},face:{string:L},mod:{string:L},vadjust:{number:E},__type__:{object:ee,string:L}},__type__:{object:ee,string:L}},hidden:{boolean:D},hoverWidth:{function:"function",number:E},label:{string:L,undefined:"undefined"},labelHighlightBold:{boolean:D},length:{number:E,undefined:"undefined"},physics:{boolean:D},scaling:{min:{number:E},max:{number:E},label:{enabled:{boolean:D},min:{number:E},max:{number:E},maxVisible:{number:E},drawThreshold:{number:E},__type__:{object:ee,boolean:D}},customScalingFunction:{function:"function"},__type__:{object:ee}},selectionWidth:{function:"function",number:E},selfReferenceSize:{number:E},selfReference:{size:{number:E},angle:{number:E},renderBehindTheNode:{boolean:D},__type__:{object:ee}},shadow:{enabled:{boolean:D},color:{string:L},size:{number:E},x:{number:E},y:{number:E},__type__:{object:ee,boolean:D}},smooth:{enabled:{boolean:D},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:E},forceDirection:{string:["horizontal","vertical","none"],boolean:D},__type__:{object:ee,boolean:D}},title:{string:L,undefined:"undefined"},width:{number:E},widthConstraint:{maximum:{number:E},__type__:{object:ee,boolean:D,number:E}},value:{number:E,undefined:"undefined"},__type__:{object:ee}},groups:{useDefaultGroups:{boolean:D},__any__:Pp,__type__:{object:ee}},interaction:{dragNodes:{boolean:D},dragView:{boolean:D},hideEdgesOnDrag:{boolean:D},hideEdgesOnZoom:{boolean:D},hideNodesOnDrag:{boolean:D},hover:{boolean:D},keyboard:{enabled:{boolean:D},speed:{x:{number:E},y:{number:E},zoom:{number:E},__type__:{object:ee}},bindToWindow:{boolean:D},autoFocus:{boolean:D},__type__:{object:ee,boolean:D}},multiselect:{boolean:D},navigationButtons:{boolean:D},selectable:{boolean:D},selectConnectedEdges:{boolean:D},hoverConnectedEdges:{boolean:D},tooltipDelay:{number:E},zoomView:{boolean:D},zoomSpeed:{number:E},__type__:{object:ee}},layout:{randomSeed:{undefined:"undefined",number:E,string:L},improvedLayout:{boolean:D},clusterThreshold:{number:E},hierarchical:{enabled:{boolean:D},levelSeparation:{number:E},nodeSpacing:{number:E},treeSpacing:{number:E},blockShifting:{boolean:D},edgeMinimization:{boolean:D},parentCentralization:{boolean:D},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},shakeTowards:{string:["leaves","roots"]},__type__:{object:ee,boolean:D}},__type__:{object:ee}},manipulation:{enabled:{boolean:D},initiallyActive:{boolean:D},addNode:{boolean:D,function:"function"},addEdge:{boolean:D,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:ee,boolean:D,function:"function"}},deleteNode:{boolean:D,function:"function"},deleteEdge:{boolean:D,function:"function"},controlNodeStyle:Pp,__type__:{object:ee,boolean:D}},nodes:Pp,physics:{enabled:{boolean:D},barnesHut:{theta:{number:E},gravitationalConstant:{number:E},centralGravity:{number:E},springLength:{number:E},springConstant:{number:E},damping:{number:E},avoidOverlap:{number:E},__type__:{object:ee}},forceAtlas2Based:{theta:{number:E},gravitationalConstant:{number:E},centralGravity:{number:E},springLength:{number:E},springConstant:{number:E},damping:{number:E},avoidOverlap:{number:E},__type__:{object:ee}},repulsion:{centralGravity:{number:E},springLength:{number:E},springConstant:{number:E},nodeDistance:{number:E},damping:{number:E},__type__:{object:ee}},hierarchicalRepulsion:{centralGravity:{number:E},springLength:{number:E},springConstant:{number:E},nodeDistance:{number:E},damping:{number:E},avoidOverlap:{number:E},__type__:{object:ee}},maxVelocity:{number:E},minVelocity:{number:E},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:D},iterations:{number:E},updateInterval:{number:E},onlyDynamicEdges:{boolean:D},fit:{boolean:D},__type__:{object:ee,boolean:D}},timestep:{number:E},adaptiveTimestep:{boolean:D},wind:{x:{number:E},y:{number:E},__type__:{object:ee}},__type__:{object:ee,boolean:D}},autoResize:{boolean:D},clickToUse:{boolean:D},locale:{string:L},locales:{__any__:{any:ebe},__type__:{object:ee}},height:{string:L},width:{string:L},__type__:{object:ee}},Hk={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},opacity:[0,0,1,.1],fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},endPointOffset:{from:[0,-10,10,1],to:[0,-10,10,1]},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],selfReference:{size:[20,0,200,1],angle:[Math.PI/2,-6*Math.PI,6*Math.PI,Math.PI/8],renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"],shakeTowards:["leaves","roots"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0,autoFocus:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0,zoomSpeed:[1,.1,2,.1]},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{theta:[.5,.1,1,.05],gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{theta:[.5,.1,1,.05],gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01],wind:{x:[0,-10,10,.1],y:[0,-10,10,.1]}}},rbe=(t,e,r)=>{var i;return!!(ln(t).call(t,"physics")&&ln(i=Hk.physics.solver).call(i,e)&&r.physics.solver!==e&&e!=="wind")};class ibe{constructor(){}getDistances(e,r,i){const n={},o=e.edges;for(let a=0;a<r.length;a++){const l=r[a],c={};n[l]=c;for(let d=0;d<r.length;d++)c[r[d]]=a==d?0:1e9}for(let a=0;a<i.length;a++){const l=o[i[a]];l.connected===!0&&n[l.fromId]!==void 0&&n[l.toId]!==void 0&&(n[l.fromId][l.toId]=1,n[l.toId][l.fromId]=1)}const s=r.length;for(let a=0;a<s;a++){const l=r[a],c=n[l];for(let d=0;d<s-1;d++){const u=r[d],h=n[u];for(let f=d+1;f<s;f++){const p=r[f],g=n[p],$=Math.min(h[p],h[l]+c[p]);h[p]=$,g[u]=$}}}return n}}class nbe{constructor(e,r,i){this.body=e,this.springLength=r,this.springConstant=i,this.distanceSolver=new ibe}setOptions(e){e&&(e.springLength&&(this.springLength=e.springLength),e.springConstant&&(this.springConstant=e.springConstant))}solve(e,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const n=this.distanceSolver.getDistances(this.body,e,r);this._createL_matrix(n),this._createK_matrix(n),this._createE_matrix();const o=.01,s=1;let a=0;const l=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),c=5;let d=1e9,u=0,h=0,f=0,p=0,g=0;for(;d>o&&a<l;)for(a+=1,[u,d,h,f]=this._getHighestEnergyNode(i),p=d,g=0;p>s&&g<c;)g+=1,this._moveNode(u,h,f),[p,h,f]=this._getEnergy(u)}_getHighestEnergyNode(e){const r=this.body.nodeIndices,i=this.body.nodes;let n=0,o=r[0],s=0,a=0;for(let l=0;l<r.length;l++){const c=r[l];if(i[c].predefinedPosition!==!0||i[c].isCluster===!0&&e===!0||i[c].options.fixed.x!==!0||i[c].options.fixed.y!==!0){const[d,u,h]=this._getEnergy(c);n<d&&(n=d,o=c,s=u,a=h)}}return[o,n,s,a]}_getEnergy(e){const[r,i]=this.E_sums[e];return[Math.sqrt(r**2+i**2),r,i]}_moveNode(e,r,i){const n=this.body.nodeIndices,o=this.body.nodes;let s=0,a=0,l=0;const c=o[e].x,d=o[e].y,u=this.K_matrix[e],h=this.L_matrix[e];for(let _=0;_<n.length;_++){const T=n[_];if(T!==e){const W=o[T].x,q=o[T].y,z=u[T],C=h[T],X=1/((c-W)**2+(d-q)**2)**1.5;s+=z*(1-C*(d-q)**2*X),a+=z*(C*(c-W)*(d-q)*X),l+=z*(1-C*(c-W)**2*X)}}const f=s,p=a,g=r,$=l,y=i,b=(g/f+y/p)/(p/f-$/p),S=-(p*b+g)/f;o[e].x+=S,o[e].y+=b,this._updateE_matrix(e)}_createL_matrix(e){const r=this.body.nodeIndices,i=this.springLength;this.L_matrix=[];for(let n=0;n<r.length;n++){this.L_matrix[r[n]]={};for(let o=0;o<r.length;o++)this.L_matrix[r[n]][r[o]]=i*e[r[n]][r[o]]}}_createK_matrix(e){const r=this.body.nodeIndices,i=this.springConstant;this.K_matrix=[];for(let n=0;n<r.length;n++){this.K_matrix[r[n]]={};for(let o=0;o<r.length;o++)this.K_matrix[r[n]][r[o]]=i*e[r[n]][r[o]]**-2}}_createE_matrix(){const e=this.body.nodeIndices,r=this.body.nodes;this.E_matrix={},this.E_sums={};for(let i=0;i<e.length;i++)this.E_matrix[e[i]]=[];for(let i=0;i<e.length;i++){const n=e[i],o=r[n].x,s=r[n].y;let a=0,l=0;for(let c=i;c<e.length;c++){const d=e[c];if(d!==n){const u=r[d].x,h=r[d].y,f=1/Math.sqrt((o-u)**2+(s-h)**2);this.E_matrix[n][c]=[this.K_matrix[n][d]*(o-u-this.L_matrix[n][d]*(o-u)*f),this.K_matrix[n][d]*(s-h-this.L_matrix[n][d]*(s-h)*f)],this.E_matrix[d][i]=this.E_matrix[n][c],a+=this.E_matrix[n][c][0],l+=this.E_matrix[n][c][1]}}this.E_sums[n]=[a,l]}}_updateE_matrix(e){const r=this.body.nodeIndices,i=this.body.nodes,n=this.E_matrix[e],o=this.K_matrix[e],s=this.L_matrix[e],a=i[e].x,l=i[e].y;let c=0,d=0;for(let u=0;u<r.length;u++){const h=r[u];if(h!==e){const f=n[u],p=f[0],g=f[1],$=i[h].x,y=i[h].y,b=1/Math.sqrt((a-$)**2+(l-y)**2),S=o[h]*(a-$-s[h]*(a-$)*b),_=o[h]*(l-y-s[h]*(l-y)*b);n[u]=[S,_],c+=S,d+=_;const T=this.E_sums[h];T[0]+=S-p,T[1]+=_-g}}this.E_sums[e]=[c,d]}}function Z(t,e,r){var i,n,o,s;if(!(this instanceof Z))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:Rde,clickToUse:!1},ht(this.options,this.defaultOptions),this.body={container:t,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:M(i=this.on).call(i,this),off:M(n=this.off).call(n,this),emit:M(o=this.emit).call(o,this),once:M(s=this.once).call(s,this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}},selectionBox:{show:!1,position:{start:{x:0,y:0},end:{x:0,y:0}}}},this.bindEventListeners(),this.images=new Bde(()=>this.body.emitter.emit("_requestRedraw")),this.groups=new Dhe,this.canvas=new Yge(this.body),this.selectionHandler=new Ame(this.body,this.canvas),this.interactionHandler=new Xge(this.body,this.canvas,this.selectionHandler),this.view=new Kge(this.body,this.canvas),this.renderer=new zge(this.body,this.canvas),this.physics=new Mge(this.body),this.layoutEngine=new Zye(this.body),this.clustering=new jge(this.body),this.manipulation=new Qye(this.body,this.canvas,this.selectionHandler,this.interactionHandler),this.nodesHandler=new nge(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new xge(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new nbe(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(r),this.setData(e)}ax(Z.prototype);Z.prototype.setOptions=function(t){if(t===null&&(t=void 0),t!==void 0){if(hde.validate(t,tbe)===!0&&console.error("%cErrors have been found in the supplied options object.",WP),Us(["locale","locales","clickToUse"],this.options,t),t.locale!==void 0&&(t.locale=Nde(t.locales||this.options.locales,t.locale)),t=this.layoutEngine.setOptions(t.layout,t),this.canvas.setOptions(t),this.groups.setOptions(t.groups),this.nodesHandler.setOptions(t.nodes),this.edgesHandler.setOptions(t.edges),this.physics.setOptions(t.physics),this.manipulation.setOptions(t.manipulation,t,this.options),this.interactionHandler.setOptions(t.interaction),this.renderer.setOptions(t.interaction),this.selectionHandler.setOptions(t.interaction),t.groups!==void 0&&this.body.emitter.emit("refreshNodes"),"configure"in t&&(this.configurator||(this.configurator=new dde(this,this.body.container,Hk,this.canvas.pixelRatio,rbe)),this.configurator.setOptions(t.configure)),this.configurator&&this.configurator.options.enabled===!0){const i={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};Le(i.nodes,this.nodesHandler.options),Le(i.edges,this.edgesHandler.options),Le(i.layout,this.layoutEngine.options),Le(i.interaction,this.selectionHandler.options),Le(i.interaction,this.renderer.options),Le(i.interaction,this.interactionHandler.options),Le(i.manipulation,this.manipulation.options),Le(i.physics,this.physics.options),Le(i.global,this.canvas.options),Le(i.global,this.options),this.configurator.setModuleOptions(i)}t.clickToUse!==void 0?t.clickToUse===!0?this.activator===void 0&&(this.activator=new cde(this.canvas.frame),this.activator.on("change",()=>{this.body.emitter.emit("activate")})):(this.activator!==void 0&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}};Z.prototype._updateVisibleIndices=function(){const t=this.body.nodes,e=this.body.edges;this.body.nodeIndices=[],this.body.edgeIndices=[];for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&!this.clustering._isClusteredNode(r)&&t[r].options.hidden===!1&&this.body.nodeIndices.push(t[r].id);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const i=e[r],n=t[i.fromId],o=t[i.toId],s=n!==void 0&&o!==void 0;!this.clustering._isClusteredEdge(r)&&i.options.hidden===!1&&s&&n.options.hidden===!1&&o.options.hidden===!1&&this.body.edgeIndices.push(i.id)}};Z.prototype.bindEventListeners=function(){this.body.emitter.on("_dataChanged",()=>{this.edgesHandler._updateState(),this.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",()=>{this.clustering._updateState(),this._updateVisibleIndices(),this._updateValueRange(this.body.nodes),this._updateValueRange(this.body.edges),this.body.emitter.emit("startSimulation"),this.body.emitter.emit("_requestRedraw")})};Z.prototype.setData=function(t){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),t&&t.dot&&(t.nodes||t.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(t&&t.options),t&&t.dot){console.warn("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");const e=_de(t.dot);this.setData(e);return}else if(t&&t.gephi){console.warn("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");const e=Sde(t.gephi);this.setData(e);return}else this.nodesHandler.setData(t&&t.nodes,!0),this.edgesHandler.setData(t&&t.edges,!0);this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")};Z.prototype.destroy=function(){this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images;for(const t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&delete this.body.nodes[t];for(const t in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,t)&&delete this.body.edges[t];Ki(this.body.container)};Z.prototype._updateValueRange=function(t){let e,r,i,n=0;for(e in t)if(Object.prototype.hasOwnProperty.call(t,e)){const o=t[e].getValue();o!==void 0&&(r=r===void 0?o:Math.min(o,r),i=i===void 0?o:Math.max(o,i),n+=o)}if(r!==void 0&&i!==void 0)for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&t[e].setValueRange(r,i,n)};Z.prototype.isActive=function(){return!this.activator||this.activator.active};Z.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)};Z.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)};Z.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)};Z.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)};Z.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)};Z.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)};Z.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)};Z.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)};Z.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)};Z.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)};Z.prototype.updateClusteredNode=function(){return this.clustering.updateClusteredNode.apply(this.clustering,arguments)};Z.prototype.getClusteredEdges=function(){return this.clustering.getClusteredEdges.apply(this.clustering,arguments)};Z.prototype.getBaseEdge=function(){return this.clustering.getBaseEdge.apply(this.clustering,arguments)};Z.prototype.getBaseEdges=function(){return this.clustering.getBaseEdges.apply(this.clustering,arguments)};Z.prototype.updateEdge=function(){return this.clustering.updateEdge.apply(this.clustering,arguments)};Z.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)};Z.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)};Z.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)};Z.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)};Z.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)};Z.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)};Z.prototype.editNodeMode=function(){return console.warn("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)};Z.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)};Z.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)};Z.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)};Z.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)};Z.prototype.getPosition=function(){return this.nodesHandler.getPosition.apply(this.nodesHandler,arguments)};Z.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)};Z.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)};Z.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)};Z.prototype.getConnectedNodes=function(t){return this.body.nodes[t]!==void 0?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)};Z.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)};Z.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)};Z.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)};Z.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)};Z.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)};Z.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)};Z.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodeIds.apply(this.selectionHandler,arguments)};Z.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdgeIds.apply(this.selectionHandler,arguments)};Z.prototype.getNodeAt=function(){const t=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return t!==void 0&&t.id!==void 0?t.id:t};Z.prototype.getEdgeAt=function(){const t=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return t!==void 0&&t.id!==void 0?t.id:t};Z.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)};Z.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)};Z.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.selectionHandler.commitWithoutEmitting.apply(this.selectionHandler),this.redraw()};Z.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)};Z.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)};Z.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)};Z.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)};Z.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)};Z.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)};Z.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)};Z.prototype.getOptionsFromConfigurator=function(){let t={};return this.configurator&&(t=this.configurator.getOptions.apply(this.configurator)),t};function obe(){var e,r;const t=[];for(const[i,n]of Object.entries(md)){const o=n();if(o.choices){for(const s of o.choices())if(s.next&&t.push({from:i,to:s.next,label:s.text}),s.onChoose){const c=[...s.onChoose.toString().matchAll(/goToScene\s*\(\s*['"`]([^'"`]+)['"`]/g)].map(d=>d[1]);for(const d of c)t.push({from:i,to:d,label:"choice-action"})}}if(o.buttonActions)for(const s of o.buttonActions){const c=[...(((r=(e=s==null?void 0:s.action)==null?void 0:e.toString)==null?void 0:r.call(e))??"").matchAll(/goToScene\s*\(\s*['"`]([^'"`]+)['"`]/g)].map(d=>d[1]);for(const d of c)t.push({from:i,to:d,label:"button-action"})}if(o.dialogSequence){const l=[...o.dialogSequence.toString().matchAll(/goToScene\s*\(\s*['"`]([^'"`]+)['"`]/g)].map(c=>c[1]);for(const c of l)t.push({from:i,to:c,label:"dialog-action"})}}return t}const sbe=He({__name:"SceneGraph",setup(t){const e=J();return Qa(()=>{const r=document.getElementById("scene-graph"),i=obe(),n=Array.from(new Set(i.flatMap(s=>[s.from,s.to]))).map(s=>({id:s,label:s})),o=i.map(s=>({from:s.from,to:s.to,label:s.label,arrows:"to"}));new Z(r,{nodes:n,edges:o},{edges:{arrows:{to:{enabled:!0,scaleFactor:1.5}},length:400},physics:{enabled:!0}})}),(r,i)=>(N(),G("div",null,[te("button",{onClick:i[0]||(i[0]=(...n)=>P(e).toggleShowSceneGraph&&P(e).toggleShowSceneGraph(...n))},"<"),i[1]||(i[1]=te("div",{class:"wrapper",id:"scene-graph"},null,-1))]))}}),abe=et(sbe,[["__scopeId","data-v-a98aadc2"]]),lbe="/void-leeba/assets/drunk1-DrVlYBK_.png",cbe="/void-leeba/assets/drunk1-C-V1FUCq.mp3",dbe="/void-leeba/assets/drunk2-kqoVALxo.png",ube="/void-leeba/assets/drunk2-DO1rXdft.mp3",hbe="/void-leeba/assets/moon-dog-DzAfiCNY.png",fbe="/void-leeba/assets/yeth-hound-DWlWnwdJ.png",N_="/void-leeba/assets/redblack-dog-D_meVqWk.mp3",pbe="/void-leeba/assets/faerie1-ldHxd3Jw.png",vbe="/void-leeba/assets/faerie1-D0gYEj12.mp3",gbe="/void-leeba/assets/faerie2-CQAOLkmB.png",mbe="/void-leeba/assets/faerie2-CfXRWMt3.mp3",ybe="/void-leeba/assets/faerie3-BUlWbP2m.png",bbe="/void-leeba/assets/faerie3-1HZvtF_3.mp3",$be="/void-leeba/assets/squirrel-aEJzPEzE.png",wbe="/void-leeba/assets/squirrel-DxNRHW5x.mp3",F_={drunk1:{id:"drunk1",name:"Drunk #1",avatar:lbe,sound:cbe},drunk2:{id:"drunk2",name:"Drunk #2",avatar:dbe,sound:ube},"black-dog":{id:"black-dog",name:"Redblack Dog",avatar:hbe,sound:N_},"black-dog-scary":{id:"black-dog-scary",name:"Redblack Dog",avatar:fbe,sound:N_},faerie1:{id:"faerie1",name:"Hongatar #1",avatar:pbe,sound:vbe},faerie2:{id:"faerie2",name:"Hongatar #2",avatar:gbe,sound:mbe},faerie3:{id:"faerie3",name:"Hongatar #3",avatar:ybe,sound:bbe},squirrel:{id:"squirrel",name:"Squirrel",avatar:$be,sound:wbe}},Jv="/void-leeba/assets/player-pWeKlCUb.png",_be={key:0,class:"avatar-wrapper"},Sbe=["src"],Ebe={class:"stack"},Tbe=["src"],Ibe=["src"],Obe={key:0,class:"avatar-wrapper-right"},xbe=["src"],Pbe=He({__name:"Avatar",props:{showUserAvatar:{type:Boolean},currentCharacter:{},hasDialog:{type:Boolean},dialogClicked:{type:Boolean},onAvatarClicked:{type:Function}},setup(t){return(e,r)=>(N(),G(_e,null,[We(to,{name:"slide-up"},{default:pn(()=>[e.showUserAvatar?(N(),G("div",_be,[te("img",{src:P(Jv),alt:"User avatar",class:"avatar"},null,8,Sbe)])):e.hasDialog&&e.currentCharacter?(N(),G("div",{class:"avatar-wrapper",key:e.currentCharacter.id,onClick:r[0]||(r[0]=Ee((...i)=>e.onAvatarClicked&&e.onAvatarClicked(...i),["stop"]))},[te("div",Ebe,[te("img",{src:e.currentCharacter.avatar,alt:"",class:"avatar base"},null,8,Tbe),te("img",{src:e.currentCharacter.avatar,alt:"",class:"avatar wobble"},null,8,Ibe)])])):De("",!0)]),_:1}),We(to,{name:"slide-up"},{default:pn(()=>[e.dialogClicked?(N(),G("div",Obe,[te("img",{src:P(Jv),alt:"User avatar",class:"avatar-right"},null,8,xbe)])):De("",!0)]),_:1})],64))}}),kbe=et(Pbe,[["__scopeId","data-v-5feeeffc"]]),Cbe={class:"dialog-header"},Abe=["innerHTML"],Dbe=He({__name:"Dialog",props:{hasDialog:{type:Boolean},dialogClicked:{type:Boolean},dialog:{},dialogIndex:{},name:{},rotationDeg:{}},emits:["update-dialog-clicked","update-dialog-index"],setup(t,{emit:e}){const r=J(),i=t,n=e;function o(){i.hasDialog?n("update-dialog-index",i.dialogIndex+1):r.updateShowChoices(!0)}function s(){var a,l,c,d;(a=i.dialog)!=null&&a.onClick&&((l=i.dialog)==null||l.onClick()),(c=i.dialog)!=null&&c.popUp||o(),(d=i.dialog)!=null&&d.popUp&&(n("update-dialog-clicked",!0),r.updateShowChoices(!0))}return(a,l)=>(N(),st(to,{name:"slide-in-left"},{default:pn(()=>[a.hasDialog||a.dialogClicked?(N(),G("div",{key:0,class:Mi(["dialog-wrapper",{"dialog-slide-up":a.dialogClicked}]),onClick:Ee(s,["stop"])},[te("div",Cbe,Me(a.name.toUpperCase()),1),te("div",{class:"dialog-foreground",innerHTML:a.dialog.text},null,8,Abe)],2)):De("",!0)]),_:1}))}}),Mbe=et(Dbe,[["__scopeId","data-v-74e4dc5e"]]),Rbe={key:0,class:"choices-wrapper"},Nbe=["innerHTML","onClick"],Fbe=He({__name:"Choices",setup(t){const e=J(),r=yg(),i=pr(),n=Wt(0),o=Wt(!1),s=we(()=>{const b=e.currentScene(e.currentScenePayload).dialogSequence;if(typeof b=="function"){const S=b().length??0;return!!S&&n.value<S&&e.animationSkipped}}),a=we(()=>{const b=e.currentScene(e.currentScenePayload).dialogSequence;if(typeof b=="function")return b()[n.value]}),l=we(()=>a.value?F_[a.value.characterId]:null),c=we(()=>(!s.value||o.value||n.value>=e.currentScene(e.currentScenePayload).dialogSequence().length)&&e.showChoices),d=we(()=>{const b=e.currentScene(e.currentScenePayload);return b.choices?b.choices():[]}),u=we(()=>e.currentSceneId!=="intro"&&e.currentSceneId!=="intro1"&&e.currentSceneId!=="start");function h(b){const S=F_[b];S!=null&&S.sound&&r.playCharacterSound(S.sound,S.id)}function f(b){o.value=b}function p(b){n.value=b}function g(){var b,S,_,T;(b=a.value)!=null&&b.onClick?(S=a.value)==null||S.onClick():(_=a.value)!=null&&_.popUp||(s.value?p(n.value+1):e.updateShowChoices(!0)),(T=a.value)!=null&&T.popUp&&(f(!0),e.updateShowChoices(!0))}function $(b){i.toggleDrawer(),i.setDrawerView(b)}const y=Wt("0");return fr(()=>({currentDialog:a,hasDialog:s}),()=>{var b;y.value=(Math.random()*2-1).toFixed(2),(b=a.value)!=null&&b.characterId&&s.value&&(o.value=!1,h(a.value.characterId))},{deep:!0}),fr(()=>e.currentSceneId,()=>{n.value=0,o.value=!1}),(b,S)=>{var _;return N(),G(_e,null,[We(kbe,{showUserAvatar:u.value&&c.value&&d.value.length>0&&!o.value,currentCharacter:l.value,hasDialog:s.value??!1,dialogClicked:o.value??!1,onAvatarClicked:g},null,8,["showUserAvatar","currentCharacter","hasDialog","dialogClicked"]),We(to,{name:"slide-in-left"},{default:pn(()=>[c.value&&d.value.length?(N(),G("div",Rbe,[(N(!0),G(_e,null,jr(d.value,(T,W)=>(N(),G("div",{key:W},[te("div",{innerHTML:` ${T.text}`,class:"choice",onClick:Ee(q=>T.drawerView?$(T.drawerView):P(e).chooseOption(T),["stop"])},null,8,Nbe)]))),128))])):De("",!0)]),_:1}),We(Mbe,{hasDialog:s.value??!1,dialogClicked:o.value,dialog:a.value,dialogIndex:n.value,name:((_=l.value)==null?void 0:_.name)??"",rotationDeg:y.value,onUpdateDialogClicked:f,onUpdateDialogIndex:p},null,8,["hasDialog","dialogClicked","dialog","dialogIndex","name","rotationDeg"])],64)}}}),Bbe=et(Fbe,[["__scopeId","data-v-fb982a91"]]),Lbe=He({__name:"FadeInOverlay",setup(t){const e=J(),r=we(()=>e.showOverlay),i=Wt(2e3);return(n,o)=>(N(),G("div",{class:Mi(["black-overlay",{"fade-out":!r.value}]),style:Sr({transition:`opacity ${i.value/1e3}s ease`}),key:P(e).currentSceneId},null,6))}}),jbe=et(Lbe,[["__scopeId","data-v-6e202666"]]),zbe={class:"menu-list"},Hbe={style:{bottom:"100px",position:"absolute"}},Wbe=He({__name:"DrawerMenu",setup(t){const e=J(),r=pr();function i(){window.location.reload()}return(n,o)=>(N(),G(_e,null,[te("ul",zbe,[te("li",{onClick:o[0]||(o[0]=Ee((...s)=>P(r).closeDrawer&&P(r).closeDrawer(...s),["stop"]))},"<"),te("li",{onClick:o[1]||(o[1]=Ee(s=>P(r).setDrawerView("bag"),["stop"]))},"Bag"),te("li",{onClick:o[2]||(o[2]=Ee(s=>P(r).setDrawerView("phone"),["stop"]))},[o[7]||(o[7]=Vn(" Phone ")),P(r).notificationCount>0||P(r).phoneIsCrazy?(N(),G("span",{key:0,class:Mi(["notification-bubble",{"phone-crazy":P(r).phoneIsCrazy}])},Me(P(r).phoneIsCrazy?"":P(r).notificationCount),3)):De("",!0)]),te("li",{onClick:o[3]||(o[3]=Ee(s=>P(r).setDrawerView("dictionary"),["stop"]))},"Dictionary"),te("li",{onClick:o[4]||(o[4]=Ee(s=>P(r).setDrawerView("stats"),["stop"]))},"Stats"),te("li",{onClick:o[5]||(o[5]=Ee(s=>P(r).setDrawerView("scenes"),["stop"]))},"Scenes"),te("li",{onClick:o[6]||(o[6]=Ee((...s)=>P(e).toggleShowSceneGraph&&P(e).toggleShowSceneGraph(...s),["stop"]))},"Scene Graph"),te("li",{onClick:Ee(i,["stop"])},"Restart")]),te("span",Hbe,"Current scene: "+Me(P(e).currentSceneId),1)],64))}}),Vbe=et(Wbe,[["__scopeId","data-v-e6517d8f"]]),Ube={class:"item-desc"},Ybe={class:"button-wrapper"},qbe=He({__name:"DrawerSelectedItem",setup(t){const e=as(),r=le(),i=pr();async function n(){const o=i.selectedItem;i.closeDrawer(),await e.show(o.actionText??"Nothing happened."),r.useItem(o.id)}return(o,s)=>(N(),G(_e,null,[te("div",{class:"sub-menu-header",onClick:s[0]||(s[0]=Ee((...a)=>P(i).clearItem&&P(i).clearItem(...a),["stop"]))}," < "+Me(P(i).selectedItem.label),1),te("p",Ube,Me(P(i).selectedItem.description),1),te("div",Ybe,[te("button",{onClick:Ee(n,["stop"])},"Use"),P(i).selectedItem.permanent?De("",!0):(N(),G("button",{key:0,onClick:s[1]||(s[1]=Ee(a=>{P(r).removeFromInventory(P(i).selectedItem.id),P(e).show(`-1 ${P(i).selectedItem.label}`),P(i).clearItem()},["stop"]))}," Drop "))])],64))}}),Kbe=et(qbe,[["__scopeId","data-v-ca0814c6"]]),Gbe={class:"item-desc"},Xbe=["onClick"],Jbe=["innerHTML"],Zbe=He({__name:"DrawerSelectedDictionaryEntry",setup(t){const e=pr(),r=$g(),i=we(()=>e.selectedDictionaryEntry.description),n=we(()=>{const o=/{([^}]+)}/g,s=[];let a=0,l;for(;(l=o.exec(i.value))!==null;){l.index>a&&s.push({text:i.value.slice(a,l.index)});const c=l[1],d=bg[c];s.push({text:d.name,entry:d}),a=o.lastIndex}return a<i.value.length&&s.push({text:i.value.slice(a)}),s});return(o,s)=>(N(),G(_e,null,[te("div",{class:"sub-menu-header",onClick:s[0]||(s[0]=Ee((...a)=>P(e).clearDictionaryEntry&&P(e).clearDictionaryEntry(...a),["stop"]))}," < "+Me(P(e).selectedDictionaryEntry.name),1),te("p",Gbe,[(N(!0),G(_e,null,jr(n.value,(a,l)=>(N(),G(_e,{key:l},[a.entry?(N(),G("span",{key:0,class:"clickable-term",onClick:c=>{P(e).updateSelectedDictionaryEntry(a.entry),P(r).addEntry(a.entry.id)}},Me(a.text),9,Xbe)):(N(),G("span",{key:1,innerHTML:a.text},null,8,Jbe))],64))),128))])],64))}}),Qbe=et(Zbe,[["__scopeId","data-v-417d72cf"]]),e$e={class:"menu-list"},t$e=["onClick"],r$e={key:0},i$e=He({__name:"Bag",setup(t){const e=pr(),r=le(),i=we(()=>{const n=new Map;for(const o of r.inventory){const s=n.get(o.id);s?s.count++:n.set(o.id,{item:o,count:1})}return Array.from(n.values())});return(n,o)=>(N(),G("ul",e$e,[te("div",{class:"sub-menu-header",onClick:o[0]||(o[0]=Ee((...s)=>P(e).resetDrawerView&&P(e).resetDrawerView(...s),["stop"]))}," < Bag "),(N(!0),G(_e,null,jr(i.value,({item:s,count:a},l)=>(N(),G("li",{class:"sub",key:s.id,onClick:Ee(c=>P(e).updateSelectedItem(s),["stop"])},[te("div",null,[Vn("  "+Me(s.label)+" ",1),a>1?(N(),G("span",r$e,"x"+Me(a),1)):De("",!0)])],8,t$e))),128))]))}}),n$e=et(i$e,[["__scopeId","data-v-8c463585"]]),o$e={class:"menu-list"},s$e=["onClick"],a$e=He({__name:"Dictionary",setup(t){const e=pr(),r=$g();return(i,n)=>(N(),G("ul",o$e,[te("div",{class:"sub-menu-header",onClick:n[0]||(n[0]=Ee((...o)=>P(e).resetDrawerView&&P(e).resetDrawerView(...o),["stop"]))}," < Dictionary "),(N(!0),G(_e,null,jr(P(r).entries,(o,s)=>(N(),G("li",{class:"sub",key:o.id,onClick:Ee(a=>P(e).updateSelectedDictionaryEntry(o),["stop"])},[te("div",null," "+Me(o.name),1)],8,s$e))),128))]))}}),l$e=et(a$e,[["__scopeId","data-v-c99fa5d2"]]),c$e={class:"list"},d$e=He({__name:"Phone",setup(t){const e=J(),r=pr(),i=we(()=>e.scenes),n=we(()=>{const s=Array.from(new Set(i.value));return Math.floor(s.length/4)}),o=we(()=>ts.length<=n.value?ts:ts.slice(0,n.value));return(s,a)=>(N(),G("ul",c$e,[te("div",{class:"sub-menu-header",onClick:a[0]||(a[0]=Ee((...l)=>P(r).resetDrawerView&&P(r).resetDrawerView(...l),["stop"]))}," < Phone "),(N(!0),G(_e,null,jr(o.value,(l,c)=>(N(),G("li",{key:c,class:Mi({highlight:!l.isRead})},Me(l.title),3))),128))]))}}),u$e=et(d$e,[["__scopeId","data-v-7950d47a"]]),h$e={key:0,class:"stat-header"},f$e={class:"stat"},p$e={key:1,class:"stat-header"},v$e={class:"stat"},g$e={key:2,class:"stat-header"},m$e={class:"stat"},y$e=He({__name:"Stats",setup(t){const e=pr(),r=le(),i=Rr(),n=we(()=>i.aspects);return(o,s)=>(N(),G(_e,null,[te("div",{class:"sub-menu-header",onClick:s[0]||(s[0]=Ee((...a)=>P(e).resetDrawerView&&P(e).resetDrawerView(...a),["stop"]))}," < Stats "),n.value.length>0?(N(),G("div",h$e,[s[1]||(s[1]=Vn(" Aspects ")),(N(!0),G(_e,null,jr(n.value,(a,l)=>(N(),G("p",f$e,Me(a.name)+" Duration: "+Me(a.durationScenes)+" Scenes remaining: "+Me(a.scenesRemaining),1))),256))])):De("",!0),Object.keys(P(r).flags).length>0?(N(),G("div",p$e,[s[2]||(s[2]=Vn(" Flags ")),(N(!0),G(_e,null,jr(P(r).flags,(a,l)=>(N(),G("p",v$e,Me(l)+": "+Me(a),1))),256))])):De("",!0),P(r).manners?(N(),G("div",g$e,[s[3]||(s[3]=Vn(" Manners ")),te("p",m$e,Me(P(r).manners),1)])):De("",!0)],64))}}),b$e=et(y$e,[["__scopeId","data-v-6d42b196"]]),$$e={class:"menu-list"},w$e=["onClick"],_$e=He({__name:"Scenes",setup(t){const e=J(),r=pr();function i(n){e.goToScene(n),r.resetDrawerView(),r.closeDrawer()}return(n,o)=>(N(),G("ul",$$e,[te("div",{class:"sub-menu-header",onClick:o[0]||(o[0]=Ee((...s)=>P(r).resetDrawerView&&P(r).resetDrawerView(...s),["stop"]))}," < Scenes "),(N(!0),G(_e,null,jr(P(md),(s,a)=>(N(),G("li",{key:a,onClick:Ee(l=>i(a),["stop"])},Me(a),9,w$e))),128))]))}}),S$e=He({__name:"Drawer",setup(t){const e=pr();return fr(()=>e.isDrawerOpen,()=>{e.isDrawerOpen||(e.clearItem(),e.setDrawerView("main"))}),(r,i)=>(N(),st(to,{name:"slide"},{default:pn(()=>[P(e).isDrawerOpen?(N(),G("div",{key:0,class:"drawer",onClick:i[0]||(i[0]=Ee((...n)=>P(e).toggleDrawer&&P(e).toggleDrawer(...n),["self"]))},[P(e).drawerView==="main"?(N(),st(Vbe,{key:0})):P(e).selectedItem?(N(),st(Kbe,{key:1})):P(e).selectedDictionaryEntry?(N(),st(Qbe,{key:2})):P(e).drawerView==="bag"?(N(),st(n$e,{key:3})):P(e).drawerView==="phone"?(N(),st(u$e,{key:4})):P(e).drawerView==="dictionary"?(N(),st(l$e,{key:5})):P(e).drawerView==="stats"?(N(),st(b$e,{key:6})):P(e).drawerView==="scenes"?(N(),st(_$e,{key:7})):De("",!0)])):De("",!0)]),_:1}))}}),E$e=et(S$e,[["__scopeId","data-v-abf926b8"]]),T$e={class:"sidebar"},I$e=He({__name:"Sidebar",setup(t){const e=J(),r=Hp(),i=pr(),n=we(()=>e.scenes),o=we(()=>n.value.indexOf(e.currentSceneId)),s=we(()=>o.value<n.value.length-1),a=we(()=>{const u=Array.from(new Set(n.value));return Math.floor(u.length/4)}),l=Wt(i.notificationCount);let c=!1;function d(u,h=100){let f=u;const p=()=>{if(c||f>=h)return;f+=1,l.value=f;const $=100-(f-u)/(h-u)*45;setTimeout(p,$)};p()}return fr(()=>i.phoneIsCrazy,u=>{c=!1,u?d(l.value):(c=!0,l.value=i.notificationCount)},{immediate:!0}),fr(()=>({phone:r.$state,scene:e.currentSceneId,isDrawerOpen:i.isDrawerOpen}),()=>{const u=a.value-r.$state.filter(h=>h.isRead).length;i.updateNotificationCount(u)},{deep:!0}),(u,h)=>(N(),G(_e,null,[te("div",T$e,[n.value.length>1&&o.value>0?(N(),G("button",{key:0,onClick:h[0]||(h[0]=Ee(f=>P(e).goBack(),["stop"]))}," < ")):De("",!0),s.value?(N(),G("button",{key:1,onClick:h[1]||(h[1]=Ee(f=>P(e).goForward(),["stop"]))},">")):De("",!0),te("button",{onClick:h[2]||(h[2]=Ee((...f)=>P(i).toggleDrawer&&P(i).toggleDrawer(...f),["stop"]))},[h[4]||(h[4]=Vn("  ")),l.value>0?(N(),G("span",{key:0,class:Mi(["notification-bubble",{"phone-crazy":P(i).phoneIsCrazy}]),style:Sr({position:"absolute",top:n.value.length>1&&o.value>0&&s.value?"6.8vw":"3.2vw"})},Me(l.value==100?"":l.value),7)):De("",!0)])]),We(to,{name:"fade"},{default:pn(()=>[P(i).isDrawerOpen?(N(),G("div",{key:0,class:"drawer-overlay",onClick:h[3]||(h[3]=Ee((...f)=>P(i).toggleDrawer&&P(i).toggleDrawer(...f),["self"]))})):De("",!0)]),_:1}),We(E$e)],64))}}),O$e=et(I$e,[["__scopeId","data-v-4517e4c4"]]),x$e="/void-leeba/assets/plant-matter-lock-of-hair-DuljO2I8.png",P$e=["src"],k$e=He({__name:"DisappearingItem",setup(t){const e=J(),r=Wt(!1);fr(()=>e.showDisappearingItem,()=>{e.showDisappearingItem&&(r.value=!0,setTimeout(()=>{r.value=!1},4e3))});function i(){e.updateShowDisappearingItem(!1)}return(n,o)=>(N(),st(to,{name:"fade-out",onAfterLeave:i},{default:pn(()=>[r.value?(N(),G("img",{key:0,class:"fade-message",src:P(x$e)},null,8,P$e)):De("",!0)]),_:1}))}}),C$e=et(k$e,[["__scopeId","data-v-153d528c"]]),A$e="/void-leeba/assets/pine-needles-_-PYWavi.jpg",D$e={class:"hit-counter"},M$e={class:"hit-counter"},R$e=["src"],N$e=["src"],F$e=He({__name:"MiniGameTreeChase",setup(t){const e=Wt(null),r=Wt(null),i=Wt(0),n=Wt(0);let o=0;const s=le(),a=J(),c=40-s.inventory.reduce((p,g)=>p+g.weight,0)*5;function d(){var q;const p=document.createElement("div");p.textContent="",p.classList.add("tree");const g=document.getElementById("game"),$=((g==null?void 0:g.offsetWidth)??0)/20,b=Math.floor(Math.random()*20)*$;p.style.left=`${b}px`,(q=e.value)==null||q.appendChild(p);const S=document.getElementById("player"),_=Math.random()*30+15;let T=0;const W=setInterval(()=>{var z,C;T+=_,p.style.top=`${T}px`,u(p,S)?(f(),clearInterval(W),(z=e.value)==null||z.removeChild(p),i.value=i.value+1,i.value>3&&(clearInterval(o),Rr().addAspect(oM),a.goToScene("dream-tree-chase-game-lose"))):T>window.innerHeight&&(clearInterval(W),(C=e.value)==null||C.removeChild(p))},50)}function u(p,g){const $=p==null?void 0:p.getBoundingClientRect(),y=g==null?void 0:g.getBoundingClientRect();return!$||!y?!1:$.right>=y.left+c&&$.left<=y.right-c&&$.bottom>=y.top&&$.top<=y.bottom}function h(){const p=Math.random()*300;setTimeout(()=>{d(),h()},p)}function f(){const p=document.getElementById("flash"),g=document.getElementById("player");p&&(p.style.opacity="0.6",setTimeout(()=>{p.style.opacity="0"},200),g&&(g.style.filter="sepia(1) saturate(10) hue-rotate(-50deg)",setTimeout(()=>{g.style.filter=""},200)))}return Qa(()=>{const p=document.getElementById("game"),g=document.getElementById("player");p==null||p.addEventListener("mousemove",$=>{const y=p.getBoundingClientRect();let b=$.clientX-y.left;if(b=Math.min(Math.max(0,b),y.width),g){const S=g.offsetWidth;g.style.left=`${b-S/2}px`}}),h(),o=setInterval(()=>{n.value++,n.value==30&&(clearInterval(o),Rr().addAspect(sM),a.goToScene("dream-tree-chase-game-win"))},1e3)}),(p,g)=>(N(),G(_e,null,[te("div",{id:"game",ref_key:"gameRef",ref:e},[te("div",D$e,"Hits: "+Me(i.value),1),te("div",M$e,"Time: "+Me(n.value),1),g[0]||(g[0]=te("div",{id:"flash",class:"flash"},null,-1)),te("img",{id:"player",src:P(Jv),ref_key:"playerRef",ref:r,alt:"Player"},null,8,R$e)],512),te("img",{class:"pine-needles",style:Sr({height:`${i.value*1.5}vw`}),src:P(A$e)},null,12,N$e)],64))}}),B$e=He({__name:"MiniGame",props:{miniGameId:{}},setup(t){return(e,r)=>e.miniGameId=="tree-chase"?(N(),st(F$e,{key:0})):De("",!0)}}),L$e=He({__name:"Scene",setup(t){const e=sE(),r=J(),i=yg(),{finishAnimation:n,triggerFade:o,onSceneChanged:s}=yM(),a=we(()=>r.currentScene().background),l=we(()=>a.value?{backgroundImage:`url(${a.value})`}:""),c=we(()=>r.currentScene(r.currentScenePayload).text),d=we(()=>c.value.split("")),u=we(()=>r.currentScene(r.currentScenePayload).animationRate??30),h=we(()=>900+(d.value.length-1)*u.value),f=we(()=>r.animationSkipped),p=we(()=>!nE.includes(r.currentSceneId)),g=we(()=>r.currentScene(r.currentScenePayload).miniGameId),$=we(()=>p.value?"":{alignItems:"center",justifyContent:"center"}),y=we(()=>r.currentScene(r.currentScenePayload).backgroundFilter?{filter:r.currentScene(r.currentScenePayload).backgroundFilter}:"");return Qa(()=>{o(),e.set(r.currentSceneId,()=>{r.updateShowChoices(!0)},h.value)}),fr(()=>r.currentSceneId,async()=>{await s(h.value)}),fr(()=>r.currentScene(r.currentScenePayload),b=>{i.playBackgroundAudio(b.audio),b.onPageLoad&&b.onPageLoad()}),(b,S)=>g.value?(N(),st(B$e,{key:0,miniGameId:g.value},null,8,["miniGameId"])):P(r).showSceneGraph?(N(),st(abe,{key:1})):(N(),G("div",{key:2,class:Mi(["scene-wrapper",{psychedelic:P(r).isPsychedelic}]),style:Sr([l.value,$.value,y.value]),onClick:S[0]||(S[0]=(..._)=>P(n)&&P(n)(..._))},[We(jbe),p.value?(N(),st(O$e,{key:0})):De("",!0),P(r).currentSceneId==="start"?(N(),st(TM,{key:P(r).currentSceneId,letters:d.value,animationSkipped:f.value},null,8,["letters","animationSkipped"])):De("",!0),P(r).currentSceneId==="credits"?(N(),st(OM,{key:2})):De("",!0),P(r).currentSceneId=="intro"||P(r).currentSceneId=="intro1"?(N(),st(MM,{key:P(r).currentSceneId,letters:d.value,animationSkipped:f.value,eyeIsOpened:P(r).currentSceneId=="intro1"},null,8,["letters","animationSkipped","eyeIsOpened"])):De("",!0),p.value&&d.value.length>0?(N(),st(jM,{key:P(r).currentSceneId,animationSkipped:f.value,letters:d.value},null,8,["animationSkipped","letters"])):De("",!0),We(C$e),We(Bbe)],6))}}),j$e=et(L$e,[["__scopeId","data-v-97bb0c48"]]),z$e=He({__name:"Snackbar",setup(t){const e=as();return(r,i)=>P(e).visible?(N(),G("div",{key:0,class:"snackbar",onClick:i[0]||(i[0]=Ee(n=>P(e).dismiss(),["stop"]))},Me(P(e).message),1)):De("",!0)}}),H$e=et(z$e,[["__scopeId","data-v-deb7d6a4"]]),W$e=He({__name:"App",setup(t){const e=J();return(r,i)=>(N(),G(_e,null,[We(mM),P(e).started?(N(),st(j$e,{key:0})):De("",!0),We(H$e)],64))}}),Wk=wD();Wk.use(ND);yD(W$e).use(Wk).mount("#app");
